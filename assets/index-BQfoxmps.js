var xX=Object.defineProperty;var WL=e=>{throw TypeError(e)};var wX=(e,t,r)=>t in e?xX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var or=(e,t,r)=>wX(e,typeof t!="symbol"?t+"":t,r),jC=(e,t,r)=>t.has(e)||WL("Cannot "+r);var at=(e,t,r)=>(jC(e,t,"read from private field"),r?r.call(e):t.get(e)),cn=(e,t,r)=>t.has(e)?WL("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Fr=(e,t,r,n)=>(jC(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),jn=(e,t,r)=>(jC(e,t,"access private method"),r);var Iw=(e,t,r,n)=>({set _(a){Fr(e,t,a,r)},get _(){return at(e,t,n)}});function SX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $C={exports:{}},B0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KL;function EX(){if(KL)return B0;KL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var o in a)o!=="key"&&(l[o]=a[o])}else l=a;return a=l.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:l}}return B0.Fragment=t,B0.jsx=r,B0.jsxs=r,B0}var XL;function CX(){return XL||(XL=1,$C.exports=EX()),$C.exports}var Oe=CX(),UC={exports:{}},zn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YL;function TX(){if(YL)return zn;YL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function R(ge){return ge===null||typeof ge!="object"?null:(ge=E&&ge[E]||ge["@@iterator"],typeof ge=="function"?ge:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,B={};function $(ge,je,et){this.props=ge,this.context=je,this.refs=B,this.updater=et||O}$.prototype.isReactComponent={},$.prototype.setState=function(ge,je){if(typeof ge!="object"&&typeof ge!="function"&&ge!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ge,je,"setState")},$.prototype.forceUpdate=function(ge){this.updater.enqueueForceUpdate(this,ge,"forceUpdate")};function q(){}q.prototype=$.prototype;function j(ge,je,et){this.props=ge,this.context=je,this.refs=B,this.updater=et||O}var F=j.prototype=new q;F.constructor=j,I(F,$.prototype),F.isPureReactComponent=!0;var N=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function ee(ge,je,et,rt,vt,ht){return et=ht.ref,{$$typeof:e,type:ge,key:je,ref:et!==void 0?et:null,props:ht}}function ne(ge,je){return ee(ge.type,je,void 0,void 0,void 0,ge.props)}function ae(ge){return typeof ge=="object"&&ge!==null&&ge.$$typeof===e}function X(ge){var je={"=":"=0",":":"=2"};return"$"+ge.replace(/[=:]/g,function(et){return je[et]})}var te=/\/+/g;function le(ge,je){return typeof ge=="object"&&ge!==null&&ge.key!=null?X(""+ge.key):je.toString(36)}function we(){}function ve(ge){switch(ge.status){case"fulfilled":return ge.value;case"rejected":throw ge.reason;default:switch(typeof ge.status=="string"?ge.then(we,we):(ge.status="pending",ge.then(function(je){ge.status==="pending"&&(ge.status="fulfilled",ge.value=je)},function(je){ge.status==="pending"&&(ge.status="rejected",ge.reason=je)})),ge.status){case"fulfilled":return ge.value;case"rejected":throw ge.reason}}throw ge}function xe(ge,je,et,rt,vt){var ht=typeof ge;(ht==="undefined"||ht==="boolean")&&(ge=null);var ut=!1;if(ge===null)ut=!0;else switch(ht){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(ge.$$typeof){case e:case t:ut=!0;break;case _:return ut=ge._init,xe(ut(ge._payload),je,et,rt,vt)}}if(ut)return vt=vt(ge),ut=rt===""?"."+le(ge,0):rt,N(vt)?(et="",ut!=null&&(et=ut.replace(te,"$&/")+"/"),xe(vt,je,et,"",function(lr){return lr})):vt!=null&&(ae(vt)&&(vt=ne(vt,et+(vt.key==null||ge&&ge.key===vt.key?"":(""+vt.key).replace(te,"$&/")+"/")+ut)),je.push(vt)),1;ut=0;var Vt=rt===""?".":rt+":";if(N(ge))for(var Nt=0;Nt<ge.length;Nt++)rt=ge[Nt],ht=Vt+le(rt,Nt),ut+=xe(rt,je,et,ht,vt);else if(Nt=R(ge),typeof Nt=="function")for(ge=Nt.call(ge),Nt=0;!(rt=ge.next()).done;)rt=rt.value,ht=Vt+le(rt,Nt++),ut+=xe(rt,je,et,ht,vt);else if(ht==="object"){if(typeof ge.then=="function")return xe(ve(ge),je,et,rt,vt);throw je=String(ge),Error("Objects are not valid as a React child (found: "+(je==="[object Object]"?"object with keys {"+Object.keys(ge).join(", ")+"}":je)+"). If you meant to render a collection of children, use an array instead.")}return ut}function ce(ge,je,et){if(ge==null)return ge;var rt=[],vt=0;return xe(ge,rt,"","",function(ht){return je.call(et,ht,vt++)}),rt}function Ce(ge){if(ge._status===-1){var je=ge._result;je=je(),je.then(function(et){(ge._status===0||ge._status===-1)&&(ge._status=1,ge._result=et)},function(et){(ge._status===0||ge._status===-1)&&(ge._status=2,ge._result=et)}),ge._status===-1&&(ge._status=0,ge._result=je)}if(ge._status===1)return ge._result.default;throw ge._result}var Se=typeof reportError=="function"?reportError:function(ge){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var je=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ge=="object"&&ge!==null&&typeof ge.message=="string"?String(ge.message):String(ge),error:ge});if(!window.dispatchEvent(je))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ge);return}console.error(ge)};function ze(){}return zn.Children={map:ce,forEach:function(ge,je,et){ce(ge,function(){je.apply(this,arguments)},et)},count:function(ge){var je=0;return ce(ge,function(){je++}),je},toArray:function(ge){return ce(ge,function(je){return je})||[]},only:function(ge){if(!ae(ge))throw Error("React.Children.only expected to receive a single React element child.");return ge}},zn.Component=$,zn.Fragment=r,zn.Profiler=a,zn.PureComponent=j,zn.StrictMode=n,zn.Suspense=g,zn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,zn.__COMPILER_RUNTIME={__proto__:null,c:function(ge){return G.H.useMemoCache(ge)}},zn.cache=function(ge){return function(){return ge.apply(null,arguments)}},zn.cloneElement=function(ge,je,et){if(ge==null)throw Error("The argument must be a React element, but you passed "+ge+".");var rt=I({},ge.props),vt=ge.key,ht=void 0;if(je!=null)for(ut in je.ref!==void 0&&(ht=void 0),je.key!==void 0&&(vt=""+je.key),je)!V.call(je,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&je.ref===void 0||(rt[ut]=je[ut]);var ut=arguments.length-2;if(ut===1)rt.children=et;else if(1<ut){for(var Vt=Array(ut),Nt=0;Nt<ut;Nt++)Vt[Nt]=arguments[Nt+2];rt.children=Vt}return ee(ge.type,vt,void 0,void 0,ht,rt)},zn.createContext=function(ge){return ge={$$typeof:c,_currentValue:ge,_currentValue2:ge,_threadCount:0,Provider:null,Consumer:null},ge.Provider=ge,ge.Consumer={$$typeof:l,_context:ge},ge},zn.createElement=function(ge,je,et){var rt,vt={},ht=null;if(je!=null)for(rt in je.key!==void 0&&(ht=""+je.key),je)V.call(je,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=je[rt]);var ut=arguments.length-2;if(ut===1)vt.children=et;else if(1<ut){for(var Vt=Array(ut),Nt=0;Nt<ut;Nt++)Vt[Nt]=arguments[Nt+2];vt.children=Vt}if(ge&&ge.defaultProps)for(rt in ut=ge.defaultProps,ut)vt[rt]===void 0&&(vt[rt]=ut[rt]);return ee(ge,ht,void 0,void 0,null,vt)},zn.createRef=function(){return{current:null}},zn.forwardRef=function(ge){return{$$typeof:o,render:ge}},zn.isValidElement=ae,zn.lazy=function(ge){return{$$typeof:_,_payload:{_status:-1,_result:ge},_init:Ce}},zn.memo=function(ge,je){return{$$typeof:m,type:ge,compare:je===void 0?null:je}},zn.startTransition=function(ge){var je=G.T,et={};G.T=et;try{var rt=ge(),vt=G.S;vt!==null&&vt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ze,Se)}catch(ht){Se(ht)}finally{G.T=je}},zn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},zn.use=function(ge){return G.H.use(ge)},zn.useActionState=function(ge,je,et){return G.H.useActionState(ge,je,et)},zn.useCallback=function(ge,je){return G.H.useCallback(ge,je)},zn.useContext=function(ge){return G.H.useContext(ge)},zn.useDebugValue=function(){},zn.useDeferredValue=function(ge,je){return G.H.useDeferredValue(ge,je)},zn.useEffect=function(ge,je,et){var rt=G.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(ge,je)},zn.useId=function(){return G.H.useId()},zn.useImperativeHandle=function(ge,je,et){return G.H.useImperativeHandle(ge,je,et)},zn.useInsertionEffect=function(ge,je){return G.H.useInsertionEffect(ge,je)},zn.useLayoutEffect=function(ge,je){return G.H.useLayoutEffect(ge,je)},zn.useMemo=function(ge,je){return G.H.useMemo(ge,je)},zn.useOptimistic=function(ge,je){return G.H.useOptimistic(ge,je)},zn.useReducer=function(ge,je,et){return G.H.useReducer(ge,je,et)},zn.useRef=function(ge){return G.H.useRef(ge)},zn.useState=function(ge){return G.H.useState(ge)},zn.useSyncExternalStore=function(ge,je,et){return G.H.useSyncExternalStore(ge,je,et)},zn.useTransition=function(){return G.H.useTransition()},zn.version="19.1.0",zn}var QL;function LD(){return QL||(QL=1,UC.exports=TX()),UC.exports}var S=LD();const Cr=zo(S),$S=SX({__proto__:null,default:Cr},[S]);var qC={exports:{}},F0={},VC={exports:{}},HC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JL;function AX(){return JL||(JL=1,function(e){function t(ce,Ce){var Se=ce.length;ce.push(Ce);e:for(;0<Se;){var ze=Se-1>>>1,ge=ce[ze];if(0<a(ge,Ce))ce[ze]=Ce,ce[Se]=ge,Se=ze;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var Ce=ce[0],Se=ce.pop();if(Se!==Ce){ce[0]=Se;e:for(var ze=0,ge=ce.length,je=ge>>>1;ze<je;){var et=2*(ze+1)-1,rt=ce[et],vt=et+1,ht=ce[vt];if(0>a(rt,Se))vt<ge&&0>a(ht,rt)?(ce[ze]=ht,ce[vt]=Se,ze=vt):(ce[ze]=rt,ce[et]=Se,ze=et);else if(vt<ge&&0>a(ht,Se))ce[ze]=ht,ce[vt]=Se,ze=vt;else break e}}return Ce}function a(ce,Ce){var Se=ce.sortIndex-Ce.sortIndex;return Se!==0?Se:ce.id-Ce.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,o=c.now();e.unstable_now=function(){return c.now()-o}}var g=[],m=[],_=1,E=null,R=3,O=!1,I=!1,B=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function N(ce){for(var Ce=r(m);Ce!==null;){if(Ce.callback===null)n(m);else if(Ce.startTime<=ce)n(m),Ce.sortIndex=Ce.expirationTime,t(g,Ce);else break;Ce=r(m)}}function G(ce){if(B=!1,N(ce),!I)if(r(g)!==null)I=!0,V||(V=!0,le());else{var Ce=r(m);Ce!==null&&xe(G,Ce.startTime-ce)}}var V=!1,ee=-1,ne=5,ae=-1;function X(){return $?!0:!(e.unstable_now()-ae<ne)}function te(){if($=!1,V){var ce=e.unstable_now();ae=ce;var Ce=!0;try{e:{I=!1,B&&(B=!1,j(ee),ee=-1),O=!0;var Se=R;try{t:{for(N(ce),E=r(g);E!==null&&!(E.expirationTime>ce&&X());){var ze=E.callback;if(typeof ze=="function"){E.callback=null,R=E.priorityLevel;var ge=ze(E.expirationTime<=ce);if(ce=e.unstable_now(),typeof ge=="function"){E.callback=ge,N(ce),Ce=!0;break t}E===r(g)&&n(g),N(ce)}else n(g);E=r(g)}if(E!==null)Ce=!0;else{var je=r(m);je!==null&&xe(G,je.startTime-ce),Ce=!1}}break e}finally{E=null,R=Se,O=!1}Ce=void 0}}finally{Ce?le():V=!1}}}var le;if(typeof F=="function")le=function(){F(te)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ve=we.port2;we.port1.onmessage=te,le=function(){ve.postMessage(null)}}else le=function(){q(te,0)};function xe(ce,Ce){ee=q(function(){ce(e.unstable_now())},Ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_next=function(ce){switch(R){case 1:case 2:case 3:var Ce=3;break;default:Ce=R}var Se=R;R=Ce;try{return ce()}finally{R=Se}},e.unstable_requestPaint=function(){$=!0},e.unstable_runWithPriority=function(ce,Ce){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Se=R;R=ce;try{return Ce()}finally{R=Se}},e.unstable_scheduleCallback=function(ce,Ce,Se){var ze=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?ze+Se:ze):Se=ze,ce){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Se+ge,ce={id:_++,callback:Ce,priorityLevel:ce,startTime:Se,expirationTime:ge,sortIndex:-1},Se>ze?(ce.sortIndex=Se,t(m,ce),r(g)===null&&ce===r(m)&&(B?(j(ee),ee=-1):B=!0,xe(G,Se-ze))):(ce.sortIndex=ge,t(g,ce),I||O||(I=!0,V||(V=!0,le()))),ce},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(ce){var Ce=R;return function(){var Se=R;R=Ce;try{return ce.apply(this,arguments)}finally{R=Se}}}}(HC)),HC}var eB;function PX(){return eB||(eB=1,VC.exports=AX()),VC.exports}var GC={exports:{}},Ks={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tB;function RX(){if(tB)return Ks;tB=1;var e=LD();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,m,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:g,containerInfo:m,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ks.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(g,m,null,_)},Ks.flushSync=function(g){var m=c.T,_=n.p;try{if(c.T=null,n.p=2,g)return g()}finally{c.T=m,n.p=_,n.d.f()}},Ks.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(g,m))},Ks.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},Ks.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,E=o(_,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?n.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:R,fetchPriority:O}):_==="script"&&n.d.X(g,{crossOrigin:E,integrity:R,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ks.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=o(m.as,m.crossOrigin);n.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(g)},Ks.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,E=o(_,m.crossOrigin);n.d.L(g,_,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ks.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=o(m.as,m.crossOrigin);n.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(g)},Ks.requestFormReset=function(g){n.d.r(g)},Ks.unstable_batchedUpdates=function(g,m){return g(m)},Ks.useFormState=function(g,m,_){return c.H.useFormState(g,m,_)},Ks.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ks.version="19.1.0",Ks}var rB;function t9(){if(rB)return GC.exports;rB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),GC.exports=RX(),GC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nB;function MX(){if(nB)return F0;nB=1;var e=PX(),t=LD(),r=t9();function n(u){var p="https://react.dev/errors/"+u;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function l(u){var p=u,b=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(b=p.return),u=p.return;while(u)}return p.tag===3?b:null}function c(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function o(u){if(l(u)!==u)throw Error(n(188))}function g(u){var p=u.alternate;if(!p){if(p=l(u),p===null)throw Error(n(188));return p!==u?null:u}for(var b=u,T=p;;){var z=b.return;if(z===null)break;var W=z.alternate;if(W===null){if(T=z.return,T!==null){b=T;continue}break}if(z.child===W.child){for(W=z.child;W;){if(W===b)return o(z),u;if(W===T)return o(z),p;W=W.sibling}throw Error(n(188))}if(b.return!==T.return)b=z,T=W;else{for(var fe=!1,Ee=z.child;Ee;){if(Ee===b){fe=!0,b=z,T=W;break}if(Ee===T){fe=!0,T=z,b=W;break}Ee=Ee.sibling}if(!fe){for(Ee=W.child;Ee;){if(Ee===b){fe=!0,b=W,T=z;break}if(Ee===T){fe=!0,T=W,b=z;break}Ee=Ee.sibling}if(!fe)throw Error(n(189))}}if(b.alternate!==T)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?u:p}function m(u){var p=u.tag;if(p===5||p===26||p===27||p===6)return u;for(u=u.child;u!==null;){if(p=m(u),p!==null)return p;u=u.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),F=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function le(u){return u===null||typeof u!="object"?null:(u=te&&u[te]||u["@@iterator"],typeof u=="function"?u:null)}var we=Symbol.for("react.client.reference");function ve(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===we?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case I:return"Fragment";case $:return"Profiler";case B:return"StrictMode";case G:return"Suspense";case V:return"SuspenseList";case ae:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case O:return"Portal";case F:return(u.displayName||"Context")+".Provider";case j:return(u._context.displayName||"Context")+".Consumer";case N:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case ee:return p=u.displayName||null,p!==null?p:ve(u.type)||"Memo";case ne:p=u._payload,u=u._init;try{return ve(u(p))}catch{}}return null}var xe=Array.isArray,ce=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},ze=[],ge=-1;function je(u){return{current:u}}function et(u){0>ge||(u.current=ze[ge],ze[ge]=null,ge--)}function rt(u,p){ge++,ze[ge]=u.current,u.current=p}var vt=je(null),ht=je(null),ut=je(null),Vt=je(null);function Nt(u,p){switch(rt(ut,p),rt(ht,u),rt(vt,null),p.nodeType){case 9:case 11:u=(u=p.documentElement)&&(u=u.namespaceURI)?O0(u):0;break;default:if(u=p.tagName,p=p.namespaceURI)p=O0(p),u=k0(p,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}et(vt),rt(vt,u)}function lr(){et(vt),et(ht),et(ut)}function Dt(u){u.memoizedState!==null&&rt(Vt,u);var p=vt.current,b=k0(p,u.type);p!==b&&(rt(ht,u),rt(vt,b))}function $t(u){ht.current===u&&(et(vt),et(ht)),Vt.current===u&&(et(Vt),$e._currentValue=Se)}var tr=Object.prototype.hasOwnProperty,ur=e.unstable_scheduleCallback,Xt=e.unstable_cancelCallback,mr=e.unstable_shouldYield,Vr=e.unstable_requestPaint,br=e.unstable_now,nn=e.unstable_getCurrentPriorityLevel,Rr=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,Ye=e.unstable_NormalPriority,We=e.unstable_LowPriority,Ut=e.unstable_IdlePriority,qt=e.log,Ht=e.unstable_setDisableYieldValue,gr=null,Tr=null;function Mr(u){if(typeof qt=="function"&&Ht(u),Tr&&typeof Tr.setStrictMode=="function")try{Tr.setStrictMode(gr,u)}catch{}}var Qr=Math.clz32?Math.clz32:wn,gn=Math.log,wr=Math.LN2;function wn(u){return u>>>=0,u===0?32:31-(gn(u)/wr|0)|0}var Kr=256,en=4194304;function Ge(u){var p=u&42;if(p!==0)return p;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function me(u,p,b){var T=u.pendingLanes;if(T===0)return 0;var z=0,W=u.suspendedLanes,fe=u.pingedLanes;u=u.warmLanes;var Ee=T&134217727;return Ee!==0?(T=Ee&~W,T!==0?z=Ge(T):(fe&=Ee,fe!==0?z=Ge(fe):b||(b=Ee&~u,b!==0&&(z=Ge(b))))):(Ee=T&~W,Ee!==0?z=Ge(Ee):fe!==0?z=Ge(fe):b||(b=T&~u,b!==0&&(z=Ge(b)))),z===0?0:p!==0&&p!==z&&(p&W)===0&&(W=z&-z,b=p&-p,W>=b||W===32&&(b&4194048)!==0)?p:z}function ye(u,p){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&p)===0}function Ae(u,p){switch(u){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ne(){var u=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),u}function Je(){var u=en;return en<<=1,(en&62914560)===0&&(en=4194304),u}function Re(u){for(var p=[],b=0;31>b;b++)p.push(u);return p}function gt(u,p){u.pendingLanes|=p,p!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function ot(u,p,b,T,z,W){var fe=u.pendingLanes;u.pendingLanes=b,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=b,u.entangledLanes&=b,u.errorRecoveryDisabledLanes&=b,u.shellSuspendCounter=0;var Ee=u.entanglements,Ke=u.expirationTimes,Et=u.hiddenUpdates;for(b=fe&~b;0<b;){var Gt=31-Qr(b),Qt=1<<Gt;Ee[Gt]=0,Ke[Gt]=-1;var Rt=Et[Gt];if(Rt!==null)for(Et[Gt]=null,Gt=0;Gt<Rt.length;Gt++){var Ot=Rt[Gt];Ot!==null&&(Ot.lane&=-536870913)}b&=~Qt}T!==0&&ft(u,T,0),W!==0&&z===0&&u.tag!==0&&(u.suspendedLanes|=W&~(fe&~p))}function ft(u,p,b){u.pendingLanes|=p,u.suspendedLanes&=~p;var T=31-Qr(p);u.entangledLanes|=p,u.entanglements[T]=u.entanglements[T]|1073741824|b&4194090}function xt(u,p){var b=u.entangledLanes|=p;for(u=u.entanglements;b;){var T=31-Qr(b),z=1<<T;z&p|u[T]&p&&(u[T]|=p),b&=~z}}function dt(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function wt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Me(){var u=Ce.p;return u!==0?u:(u=window.event,u===void 0?32:kr(u.type))}function qe(u,p){var b=Ce.p;try{return Ce.p=u,p()}finally{Ce.p=b}}var it=Math.random().toString(36).slice(2),At="__reactFiber$"+it,Lt="__reactProps$"+it,lt="__reactContainer$"+it,Sr="__reactEvents$"+it,dr="__reactListeners$"+it,_r="__reactHandles$"+it,sr="__reactResources$"+it,yt="__reactMarker$"+it;function ar(u){delete u[At],delete u[Lt],delete u[Sr],delete u[dr],delete u[_r]}function vr(u){var p=u[At];if(p)return p;for(var b=u.parentNode;b;){if(p=b[lt]||b[At]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(u=Ld(u);u!==null;){if(b=u[At])return b;u=Ld(u)}return p}u=b,b=u.parentNode}return null}function tn(u){if(u=u[At]||u[lt]){var p=u.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return u}return null}function fn(u){var p=u.tag;if(p===5||p===26||p===27||p===6)return u.stateNode;throw Error(n(33))}function Ln(u){var p=u[sr];return p||(p=u[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Pr(u){u[yt]=!0}var Cn=new Set,Bs={};function ci(u,p){fo(u,p),fo(u+"Capture",p)}function fo(u,p){for(Bs[u]=p,u=0;u<p.length;u++)Cn.add(p[u])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),es={},oa={};function Gi(u){return tr.call(oa,u)?!0:tr.call(es,u)?!1:Ya.test(u)?oa[u]=!0:(es[u]=!0,!1)}function Bn(u,p,b){if(Gi(p))if(b===null)u.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":u.removeAttribute(p);return;case"boolean":var T=p.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){u.removeAttribute(p);return}}u.setAttribute(p,""+b)}}function ys(u,p,b){if(b===null)u.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(p);return}u.setAttribute(p,""+b)}}function _n(u,p,b,T){if(T===null)u.removeAttribute(b);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(b);return}u.setAttributeNS(p,b,""+T)}}var Oi,Zi;function xi(u){if(Oi===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);Oi=p&&p[1]||"",Zi=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+u+Zi}var ou=!1;function ba(u,p){if(!u||ou)return"";ou=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(p){var Qt=function(){throw Error()};if(Object.defineProperty(Qt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qt,[])}catch(Ot){var Rt=Ot}Reflect.construct(u,[],Qt)}else{try{Qt.call()}catch(Ot){Rt=Ot}u.call(Qt.prototype)}}else{try{throw Error()}catch(Ot){Rt=Ot}(Qt=u())&&typeof Qt.catch=="function"&&Qt.catch(function(){})}}catch(Ot){if(Ot&&Rt&&typeof Ot.stack=="string")return[Ot.stack,Rt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=T.DetermineComponentFrameRoot(),fe=W[0],Ee=W[1];if(fe&&Ee){var Ke=fe.split(`
`),Et=Ee.split(`
`);for(z=T=0;T<Ke.length&&!Ke[T].includes("DetermineComponentFrameRoot");)T++;for(;z<Et.length&&!Et[z].includes("DetermineComponentFrameRoot");)z++;if(T===Ke.length||z===Et.length)for(T=Ke.length-1,z=Et.length-1;1<=T&&0<=z&&Ke[T]!==Et[z];)z--;for(;1<=T&&0<=z;T--,z--)if(Ke[T]!==Et[z]){if(T!==1||z!==1)do if(T--,z--,0>z||Ke[T]!==Et[z]){var Gt=`
`+Ke[T].replace(" at new "," at ");return u.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",u.displayName)),Gt}while(1<=T&&0<=z);break}}}finally{ou=!1,Error.prepareStackTrace=b}return(b=u?u.displayName||u.name:"")?xi(b):""}function gc(u){switch(u.tag){case 26:case 27:case 5:return xi(u.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return ba(u.type,!1);case 11:return ba(u.type.render,!1);case 1:return ba(u.type,!0);case 31:return xi("Activity");default:return""}}function Il(u){try{var p="";do p+=gc(u),u=u.return;while(u);return p}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function Lo(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function iv(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function U_(u){var p=iv(u)?"checked":"value",b=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),T=""+u[p];if(!u.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var z=b.get,W=b.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return z.call(this)},set:function(fe){T=""+fe,W.call(this,fe)}}),Object.defineProperty(u,p,{enumerable:b.enumerable}),{getValue:function(){return T},setValue:function(fe){T=""+fe},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function Pp(u){u._valueTracker||(u._valueTracker=U_(u))}function wg(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var b=p.getValue(),T="";return u&&(T=iv(u)?u.checked?"true":"false":u.value),u=T,u!==b?(p.setValue(u),!0):!1}function af(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Xu=/[\n"\\]/g;function ts(u){return u.replace(Xu,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function Rp(u,p,b,T,z,W,fe,Ee){u.name="",fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?u.type=fe:u.removeAttribute("type"),p!=null?fe==="number"?(p===0&&u.value===""||u.value!=p)&&(u.value=""+Lo(p)):u.value!==""+Lo(p)&&(u.value=""+Lo(p)):fe!=="submit"&&fe!=="reset"||u.removeAttribute("value"),p!=null?Eh(u,fe,Lo(p)):b!=null?Eh(u,fe,Lo(b)):T!=null&&u.removeAttribute("value"),z==null&&W!=null&&(u.defaultChecked=!!W),z!=null&&(u.checked=z&&typeof z!="function"&&typeof z!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?u.name=""+Lo(Ee):u.removeAttribute("name")}function su(u,p,b,T,z,W,fe,Ee){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(u.type=W),p!=null||b!=null){if(!(W!=="submit"&&W!=="reset"||p!=null))return;b=b!=null?""+Lo(b):"",p=p!=null?""+Lo(p):b,Ee||p===u.value||(u.value=p),u.defaultValue=p}T=T??z,T=typeof T!="function"&&typeof T!="symbol"&&!!T,u.checked=Ee?u.checked:!!T,u.defaultChecked=!!T,fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"&&(u.name=fe)}function Eh(u,p,b){p==="number"&&af(u.ownerDocument)===u||u.defaultValue===""+b||(u.defaultValue=""+b)}function of(u,p,b,T){if(u=u.options,p){p={};for(var z=0;z<b.length;z++)p["$"+b[z]]=!0;for(b=0;b<u.length;b++)z=p.hasOwnProperty("$"+u[b].value),u[b].selected!==z&&(u[b].selected=z),z&&T&&(u[b].defaultSelected=!0)}else{for(b=""+Lo(b),p=null,z=0;z<u.length;z++){if(u[z].value===b){u[z].selected=!0,T&&(u[z].defaultSelected=!0);return}p!==null||u[z].disabled||(p=u[z])}p!==null&&(p.selected=!0)}}function sf(u,p,b){if(p!=null&&(p=""+Lo(p),p!==u.value&&(u.value=p),b==null)){u.defaultValue!==p&&(u.defaultValue=p);return}u.defaultValue=b!=null?""+Lo(b):""}function lf(u,p,b,T){if(p==null){if(T!=null){if(b!=null)throw Error(n(92));if(xe(T)){if(1<T.length)throw Error(n(93));T=T[0]}b=T}b==null&&(b=""),p=b}b=Lo(p),u.defaultValue=b,T=u.textContent,T===b&&T!==""&&T!==null&&(u.value=T)}function lu(u,p){if(p){var b=u.firstChild;if(b&&b===u.lastChild&&b.nodeType===3){b.nodeValue=p;return}}u.textContent=p}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dn(u,p,b){var T=p.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?T?u.setProperty(p,""):p==="float"?u.cssFloat="":u[p]="":T?u.setProperty(p,b):typeof b!="number"||b===0||Bo.has(p)?p==="float"?u.cssFloat=b:u[p]=(""+b).trim():u[p]=b+"px"}function Yu(u,p,b){if(p!=null&&typeof p!="object")throw Error(n(62));if(u=u.style,b!=null){for(var T in b)!b.hasOwnProperty(T)||p!=null&&p.hasOwnProperty(T)||(T.indexOf("--")===0?u.setProperty(T,""):T==="float"?u.cssFloat="":u[T]="");for(var z in p)T=p[z],p.hasOwnProperty(z)&&b[z]!==T&&Dn(u,z,T)}else for(var W in p)p.hasOwnProperty(W)&&Dn(u,W,p[W])}function Wi(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cu(u){return kn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Ju=null;function uu(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var wi=null,Qa=null;function Ja(u){var p=tn(u);if(p&&(u=p.stateNode)){var b=u[Lt]||null;e:switch(u=p.stateNode,p.type){case"input":if(Rp(u,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),p=b.name,b.type==="radio"&&p!=null){for(b=u;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+ts(""+p)+'"][type="radio"]'),p=0;p<b.length;p++){var T=b[p];if(T!==u&&T.form===u.form){var z=T[Lt]||null;if(!z)throw Error(n(90));Rp(T,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(p=0;p<b.length;p++)T=b[p],T.form===u.form&&wg(T)}break e;case"textarea":sf(u,b.value,b.defaultValue);break e;case"select":p=b.value,p!=null&&of(u,!!b.multiple,p,!1)}}}var Si=!1;function da(u,p,b){if(Si)return u(p,b);Si=!0;try{var T=u(p);return T}finally{if(Si=!1,(wi!==null||Qa!==null)&&(So(),wi&&(p=wi,u=Qa,Qa=wi=null,Ja(p),u)))for(p=0;p<u.length;p++)Ja(u[p])}}function Dl(u,p){var b=u.stateNode;if(b===null)return null;var T=b[Lt]||null;if(T===null)return null;b=T[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(b&&typeof b!="function")throw Error(n(231,p,typeof b));return b}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(Fa)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Fo=!1}var Fs=null,Kn=null,_a=null;function Pn(){if(_a)return _a;var u,p=Kn,b=p.length,T,z="value"in Fs?Fs.value:Fs.textContent,W=z.length;for(u=0;u<b&&p[u]===z[u];u++);var fe=b-u;for(T=1;T<=fe&&p[b-T]===z[W-T];T++);return _a=z.slice(u,1<T?1-T:void 0)}function an(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function yc(){return!0}function yn(){return!1}function Ki(u){function p(b,T,z,W,fe){this._reactName=b,this._targetInst=z,this.type=T,this.nativeEvent=W,this.target=fe,this.currentTarget=null;for(var Ee in u)u.hasOwnProperty(Ee)&&(b=u[Ee],this[Ee]=b?b(W):W[Ee]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?yc:yn,this.isPropagationStopped=yn,this}return _(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),p}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=Ki(ei),ed=_({},ei,{view:0,detail:0}),Ch=Ki(ed),du,td,rd,nd=_({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==rd&&(rd&&u.type==="mousemove"?(du=u.screenX-rd.screenX,td=u.screenY-rd.screenY):td=du=0,rd=u),du)},movementY:function(u){return"movementY"in u?u.movementY:td}}),uf=Ki(nd),ad=_({},nd,{dataTransfer:0}),Ii=Ki(ad),id=_({},ed,{relatedTarget:0}),od=Ki(id),fu=_({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Di=Ki(fu),Mp=_({},ei,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Op=Ki(Mp),ov=_({},ei,{data:0}),sv=Ki(ov),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sd(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=zl[u])?!!p[u]:!1}function ld(){return sd}var Ns=_({},ed,{key:function(u){if(u.key){var p=ho[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=an(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Th[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(u){return u.type==="keypress"?an(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?an(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),cd=Ki(Ns),kp=_({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lv=Ki(kp),Sg=_({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),q_=Ki(Sg),V_=_({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),H_=Ki(V_),Ip=_({},nd,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),df=Ki(Ip),Dp=_({},ei,{newState:0,oldState:0}),zp=Ki(Dp),Lp=[9,13,27,32],js=Fa&&"CompositionEvent"in window,ff=null;Fa&&"documentMode"in document&&(ff=document.documentMode);var Eg=Fa&&"TextEvent"in window&&!ff,hf=Fa&&(!js||ff&&8<ff&&11>=ff),pf=" ",cv=!1;function Ah(u,p){switch(u){case"keyup":return Lp.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var $s=!1;function uv(u,p){switch(u){case"compositionend":return Cg(p);case"keypress":return p.which!==32?null:(cv=!0,pf);case"textInput":return u=p.data,u===pf&&cv?null:u;default:return null}}function dv(u,p){if($s)return u==="compositionend"||!js&&Ah(u,p)?(u=Pn(),_a=Kn=Fs=null,$s=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return hf&&p.locale!=="ko"?null:p.data;default:return null}}var G_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!G_[u.type]:p==="textarea"}function mf(u,p,b,T){wi?Qa?Qa.push(T):Qa=[T]:wi=T,p=qf(p,"onChange"),0<p.length&&(b=new cf("onChange","change",null,b,T),u.push({event:b,listeners:p}))}var gf=null,yf=null;function fv(u){Dd(u,0)}function vf(u){var p=fn(u);if(wg(p))return u}function vc(u,p){if(u==="change")return p}var Ag=!1;if(Fa){var Bp;if(Fa){var hu="oninput"in document;if(!hu){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),hu=typeof Pg.oninput=="function"}Bp=hu}else Bp=!1;Ag=Bp&&(!document.documentMode||9<document.documentMode)}function Ph(){gf&&(gf.detachEvent("onpropertychange",hv),yf=gf=null)}function hv(u){if(u.propertyName==="value"&&vf(yf)){var p=[];mf(p,yf,u,uu(u)),da(fv,p)}}function Z_(u,p,b){u==="focusin"?(Ph(),gf=p,yf=b,gf.attachEvent("onpropertychange",hv)):u==="focusout"&&Ph()}function Rg(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return vf(yf)}function pv(u,p){if(u==="click")return vf(p)}function mv(u,p){if(u==="input"||u==="change")return vf(p)}function Mg(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var rs=typeof Object.is=="function"?Object.is:Mg;function Rn(u,p){if(rs(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var b=Object.keys(u),T=Object.keys(p);if(b.length!==T.length)return!1;for(T=0;T<b.length;T++){var z=b[T];if(!tr.call(p,z)||!rs(u[z],p[z]))return!1}return!0}function Ll(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Fp(u,p){var b=Ll(u);u=0;for(var T;b;){if(b.nodeType===3){if(T=u+b.textContent.length,u<=p&&T>=p)return{node:b,offset:p-u};u=T}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Ll(b)}}function Np(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?Np(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function jp(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var p=af(u.document);p instanceof u.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)u=p.contentWindow;else break;p=af(u.document)}return p}function $p(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}var Og=Fa&&"documentMode"in document&&11>=document.documentMode,Us=null,Rh=null,Mh=null,kg=!1;function gv(u,p,b){var T=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;kg||Us==null||Us!==af(T)||(T=Us,"selectionStart"in T&&$p(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Mh&&Rn(Mh,T)||(Mh=T,T=qf(Rh,"onSelect"),0<T.length&&(p=new cf("onSelect","select",null,p,b),u.push({event:p,listeners:T}),p.target=Us)))}function ud(u,p){var b={};return b[u.toLowerCase()]=p.toLowerCase(),b["Webkit"+u]="webkit"+p,b["Moz"+u]="moz"+p,b}var dd={animationend:ud("Animation","AnimationEnd"),animationiteration:ud("Animation","AnimationIteration"),animationstart:ud("Animation","AnimationStart"),transitionrun:ud("Transition","TransitionRun"),transitionstart:ud("Transition","TransitionStart"),transitioncancel:ud("Transition","TransitionCancel"),transitionend:ud("Transition","TransitionEnd")},Ig={},Dg={};Fa&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function Bl(u){if(Ig[u])return Ig[u];if(!dd[u])return u;var p=dd[u],b;for(b in p)if(p.hasOwnProperty(b)&&b in Dg)return Ig[u]=p[b];return u}var Oh=Bl("animationend"),kh=Bl("animationiteration"),Up=Bl("animationstart"),fd=Bl("transitionrun"),qp=Bl("transitionstart"),bf=Bl("transitioncancel"),vs=Bl("transitionend"),zg=new Map,Vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vp.push("scrollEnd");function bs(u,p){zg.set(u,p),ci(p,[u])}var pu=new WeakMap;function No(u,p){if(typeof u=="object"&&u!==null){var b=pu.get(u);return b!==void 0?b:(p={value:u,source:p,stack:Il(p)},pu.set(u,p),p)}return{value:u,source:p,stack:Il(p)}}var jo=[],Fl=0,_f=0;function hd(){for(var u=Fl,p=_f=Fl=0;p<u;){var b=jo[p];jo[p++]=null;var T=jo[p];jo[p++]=null;var z=jo[p];jo[p++]=null;var W=jo[p];if(jo[p++]=null,T!==null&&z!==null){var fe=T.pending;fe===null?z.next=z:(z.next=fe.next,fe.next=z),T.pending=z}W!==0&&Ih(b,z,W)}}function bc(u,p,b,T){jo[Fl++]=u,jo[Fl++]=p,jo[Fl++]=b,jo[Fl++]=T,_f|=T,u.lanes|=T,u=u.alternate,u!==null&&(u.lanes|=T)}function mu(u,p,b,T){return bc(u,p,b,T),xn(u)}function pd(u,p){return bc(u,null,null,p),xn(u)}function Ih(u,p,b){u.lanes|=b;var T=u.alternate;T!==null&&(T.lanes|=b);for(var z=!1,W=u.return;W!==null;)W.childLanes|=b,T=W.alternate,T!==null&&(T.childLanes|=b),W.tag===22&&(u=W.stateNode,u===null||u._visibility&1||(z=!0)),u=W,W=W.return;return u.tag===3?(W=u.stateNode,z&&p!==null&&(z=31-Qr(b),u=W.hiddenUpdates,T=u[z],T===null?u[z]=[p]:T.push(p),p.lane=b|536870912),W):null}function xn(u){if(50<Qg)throw Qg=0,$v=null,Error(n(185));for(var p=u.return;p!==null;)u=p,p=u.return;return u.tag===3?u.stateNode:null}var _c={};function Hp(u,p,b,T){this.tag=u,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(u,p,b,T){return new Hp(u,p,b,T)}function md(u){return u=u.prototype,!(!u||!u.isReactComponent)}function xc(u,p){var b=u.alternate;return b===null?(b=$o(u.tag,p,u.key,u.mode),b.elementType=u.elementType,b.type=u.type,b.stateNode=u.stateNode,b.alternate=u,u.alternate=b):(b.pendingProps=p,b.type=u.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=u.flags&65011712,b.childLanes=u.childLanes,b.lanes=u.lanes,b.child=u.child,b.memoizedProps=u.memoizedProps,b.memoizedState=u.memoizedState,b.updateQueue=u.updateQueue,p=u.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=u.sibling,b.index=u.index,b.ref=u.ref,b.refCleanup=u.refCleanup,b}function yv(u,p){u.flags&=65011714;var b=u.alternate;return b===null?(u.childLanes=0,u.lanes=p,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=b.childLanes,u.lanes=b.lanes,u.child=b.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=b.memoizedProps,u.memoizedState=b.memoizedState,u.updateQueue=b.updateQueue,u.type=b.type,p=b.dependencies,u.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),u}function Dh(u,p,b,T,z,W){var fe=0;if(T=u,typeof u=="function")md(u)&&(fe=1);else if(typeof u=="string")fe=K(u,b,vt.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case ae:return u=$o(31,b,p,z),u.elementType=ae,u.lanes=W,u;case I:return gd(b.children,z,W,p);case B:fe=8,z|=24;break;case $:return u=$o(12,b,p,z|2),u.elementType=$,u.lanes=W,u;case G:return u=$o(13,b,p,z),u.elementType=G,u.lanes=W,u;case V:return u=$o(19,b,p,z),u.elementType=V,u.lanes=W,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case q:case F:fe=10;break e;case j:fe=9;break e;case N:fe=11;break e;case ee:fe=14;break e;case ne:fe=16,T=null;break e}fe=29,b=Error(n(130,u===null?"null":typeof u,"")),T=null}return p=$o(fe,b,p,z),p.elementType=u,p.type=T,p.lanes=W,p}function gd(u,p,b,T){return u=$o(7,u,T,p),u.lanes=b,u}function xf(u,p,b){return u=$o(6,u,null,p),u.lanes=b,u}function yd(u,p,b){return p=$o(4,u.children!==null?u.children:[],u.key,p),p.lanes=b,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}var wc=[],gu=0,vd=null,wf=0,po=[],mo=0,sl=null,ll=1,_s="";function Nl(u,p){wc[gu++]=wf,wc[gu++]=vd,vd=u,wf=p}function Lg(u,p,b){po[mo++]=ll,po[mo++]=_s,po[mo++]=sl,sl=u;var T=ll;u=_s;var z=32-Qr(T)-1;T&=~(1<<z),b+=1;var W=32-Qr(p)+z;if(30<W){var fe=z-z%5;W=(T&(1<<fe)-1).toString(32),T>>=fe,z-=fe,ll=1<<32-Qr(p)+z|b<<z|T,_s=W+u}else ll=1<<W|b<<z|T,_s=u}function Sf(u){u.return!==null&&(Nl(u,1),Lg(u,1,0))}function zh(u){for(;u===vd;)vd=wc[--gu],wc[gu]=null,wf=wc[--gu],wc[gu]=null;for(;u===sl;)sl=po[--mo],po[mo]=null,_s=po[--mo],po[mo]=null,ll=po[--mo],po[mo]=null}var go=null,Na=null,Un=!1,jl=null,cl=!1,bd=Error(n(519));function sa(u){var p=Error(n(418,""));throw as(No(p,u)),bd}function Sc(u){var p=u.stateNode,b=u.type,T=u.memoizedProps;switch(p[At]=u,p[Lt]=T,b){case"dialog":Nn("cancel",p),Nn("close",p);break;case"iframe":case"object":case"embed":Nn("load",p);break;case"video":case"audio":for(b=0;b<ny.length;b++)Nn(ny[b],p);break;case"source":Nn("error",p);break;case"img":case"image":case"link":Nn("error",p),Nn("load",p);break;case"details":Nn("toggle",p);break;case"input":Nn("invalid",p),su(p,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0),Pp(p);break;case"select":Nn("invalid",p);break;case"textarea":Nn("invalid",p),lf(p,T.value,T.defaultValue,T.children),Pp(p)}b=T.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||p.textContent===""+b||T.suppressHydrationWarning===!0||R0(p.textContent,b)?(T.popover!=null&&(Nn("beforetoggle",p),Nn("toggle",p)),T.onScroll!=null&&Nn("scroll",p),T.onScrollEnd!=null&&Nn("scrollend",p),T.onClick!=null&&(p.onclick=oy),p=!0):p=!1,p||sa(u)}function ns(u){for(go=u.return;go;)switch(go.tag){case 5:case 13:cl=!1;return;case 27:case 3:cl=!0;return;default:go=go.return}}function _d(u){if(u!==go)return!1;if(!Un)return ns(u),Un=!0,!1;var p=u.tag,b;if((b=p!==3&&p!==27)&&((b=p===5)&&(b=u.type,b=!(b!=="form"&&b!=="button")||rb(u.type,u.memoizedProps)),b=!b),b&&Na&&sa(u),ns(u),p===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8)if(b=u.data,b==="/$"){if(p===0){Na=os(u.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++;u=u.nextSibling}Na=null}}else p===27?(p=Na,zd(u.type)?(u=Fi,Fi=null,Na=u):Na=p):Na=go?os(u.stateNode.nextSibling):null;return!0}function Ec(){Na=go=null,Un=!1}function Gp(){var u=jl;return u!==null&&(Ps===null?Ps=u:Ps.push.apply(Ps,u),jl=null),u}function as(u){jl===null?jl=[u]:jl.push(u)}var Lh=je(null),ul=null,dl=null;function Cc(u,p,b){rt(Lh,p._currentValue),p._currentValue=b}function $l(u){u._currentValue=Lh.current,et(Lh)}function Zp(u,p,b){for(;u!==null;){var T=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),u===b)break;u=u.return}}function yu(u,p,b,T){var z=u.child;for(z!==null&&(z.return=u);z!==null;){var W=z.dependencies;if(W!==null){var fe=z.child;W=W.firstContext;e:for(;W!==null;){var Ee=W;W=z;for(var Ke=0;Ke<p.length;Ke++)if(Ee.context===p[Ke]){W.lanes|=b,Ee=W.alternate,Ee!==null&&(Ee.lanes|=b),Zp(W.return,b,u),T||(fe=null);break e}W=Ee.next}}else if(z.tag===18){if(fe=z.return,fe===null)throw Error(n(341));fe.lanes|=b,W=fe.alternate,W!==null&&(W.lanes|=b),Zp(fe,b,u),fe=null}else fe=z.child;if(fe!==null)fe.return=z;else for(fe=z;fe!==null;){if(fe===u){fe=null;break}if(z=fe.sibling,z!==null){z.return=fe.return,fe=z;break}fe=fe.return}z=fe}}function Ul(u,p,b,T){u=null;for(var z=p,W=!1;z!==null;){if(!W){if((z.flags&524288)!==0)W=!0;else if((z.flags&262144)!==0)break}if(z.tag===10){var fe=z.alternate;if(fe===null)throw Error(n(387));if(fe=fe.memoizedProps,fe!==null){var Ee=z.type;rs(z.pendingProps.value,fe.value)||(u!==null?u.push(Ee):u=[Ee])}}else if(z===Vt.current){if(fe=z.alternate,fe===null)throw Error(n(387));fe.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(u!==null?u.push($e):u=[$e])}z=z.return}u!==null&&yu(p,u,b,T),p.flags|=262144}function ti(u){for(u=u.firstContext;u!==null;){if(!rs(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function qs(u){ul=u,dl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function zi(u){return Bg(ul,u)}function Bh(u,p){return ul===null&&qs(u),Bg(u,p)}function Bg(u,p){var b=p._currentValue;if(p={context:p,memoizedValue:b,next:null},dl===null){if(u===null)throw Error(n(308));dl=p,u.dependencies={lanes:0,firstContext:p},u.flags|=524288}else dl=dl.next=p;return b}var Ef=typeof AbortController<"u"?AbortController:function(){var u=[],p=this.signal={aborted:!1,addEventListener:function(b,T){u.push(T)}};this.abort=function(){p.aborted=!0,u.forEach(function(b){return b()})}},Fg=e.unstable_scheduleCallback,Wp=e.unstable_NormalPriority,yi={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new Ef,data:new Map,refCount:0}}function Cf(u){u.refCount--,u.refCount===0&&Fg(Wp,function(){u.controller.abort()})}var vi=null,xs=0,fl=0,yo=null;function Tf(u,p){if(vi===null){var b=vi=[];xs=0,fl=Xv(),yo={status:"pending",value:void 0,then:function(T){b.push(T)}}}return xs++,p.then(Fh,Fh),p}function Fh(){if(--xs===0&&vi!==null){yo!==null&&(yo.status="fulfilled");var u=vi;vi=null,fl=0,yo=null;for(var p=0;p<u.length;p++)(0,u[p])()}}function W_(u,p){var b=[],T={status:"pending",value:null,reason:null,then:function(z){b.push(z)}};return u.then(function(){T.status="fulfilled",T.value=p;for(var z=0;z<b.length;z++)(0,b[z])(p)},function(z){for(T.status="rejected",T.reason=z,z=0;z<b.length;z++)(0,b[z])(void 0)}),T}var Kp=ce.S;ce.S=function(u,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&Tf(u,p),Kp!==null&&Kp(u,p)};var ql=je(null);function Nh(){var u=ql.current;return u!==null?u:ca.pooledCache}function Tc(u,p){p===null?rt(ql,ql.current):rt(ql,p.pool)}function hl(){var u=Nh();return u===null?null:{parent:yi._currentValue,pool:u}}var Er=Error(n(460)),jh=Error(n(474)),xd=Error(n(542)),Xp={then:function(){}};function wd(u){return u=u.status,u==="fulfilled"||u==="rejected"}function bu(){}function Yp(u,p,b){switch(b=u[b],b===void 0?u.push(p):b!==p&&(p.then(bu,bu),p=b),p.status){case"fulfilled":return p.value;case"rejected":throw u=p.reason,vv(u),u;default:if(typeof p.status=="string")p.then(bu,bu);else{if(u=ca,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=p,u.status="pending",u.then(function(T){if(p.status==="pending"){var z=p;z.status="fulfilled",z.value=T}},function(T){if(p.status==="pending"){var z=p;z.status="rejected",z.reason=T}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw u=p.reason,vv(u),u}throw bn=p,Er}}var bn=null;function $h(){if(bn===null)throw Error(n(459));var u=bn;return bn=null,u}function vv(u){if(u===Er||u===xd)throw Error(n(483))}var Vl=!1;function Qp(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jp(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Hl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function pl(u,p,b){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(ha&2)!==0){var z=T.pending;return z===null?p.next=p:(p.next=z.next,z.next=p),T.pending=p,p=xn(u),Ih(u,null,b),p}return bc(u,T,p,b),xn(u)}function Ac(u,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194048)!==0)){var T=p.lanes;T&=u.pendingLanes,b|=T,p.lanes=b,xt(u,b)}}function Ng(u,p){var b=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,b===T)){var z=null,W=null;if(b=b.firstBaseUpdate,b!==null){do{var fe={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};W===null?z=W=fe:W=W.next=fe,b=b.next}while(b!==null);W===null?z=W=p:W=W.next=p}else z=W=p;b={baseState:T.baseState,firstBaseUpdate:z,lastBaseUpdate:W,shared:T.shared,callbacks:T.callbacks},u.updateQueue=b;return}u=b.lastBaseUpdate,u===null?b.firstBaseUpdate=p:u.next=p,b.lastBaseUpdate=p}var Af=!1;function Uh(){if(Af){var u=yo;if(u!==null)throw u}}function qh(u,p,b,T){Af=!1;var z=u.updateQueue;Vl=!1;var W=z.firstBaseUpdate,fe=z.lastBaseUpdate,Ee=z.shared.pending;if(Ee!==null){z.shared.pending=null;var Ke=Ee,Et=Ke.next;Ke.next=null,fe===null?W=Et:fe.next=Et,fe=Ke;var Gt=u.alternate;Gt!==null&&(Gt=Gt.updateQueue,Ee=Gt.lastBaseUpdate,Ee!==fe&&(Ee===null?Gt.firstBaseUpdate=Et:Ee.next=Et,Gt.lastBaseUpdate=Ke))}if(W!==null){var Qt=z.baseState;fe=0,Gt=Et=Ke=null,Ee=W;do{var Rt=Ee.lane&-536870913,Ot=Rt!==Ee.lane;if(Ot?(Zn&Rt)===Rt:(T&Rt)===Rt){Rt!==0&&Rt===fl&&(Af=!0),Gt!==null&&(Gt=Gt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var pn=u,sn=Ee;Rt=p;var Sa=b;switch(sn.tag){case 1:if(pn=sn.payload,typeof pn=="function"){Qt=pn.call(Sa,Qt,Rt);break e}Qt=pn;break e;case 3:pn.flags=pn.flags&-65537|128;case 0:if(pn=sn.payload,Rt=typeof pn=="function"?pn.call(Sa,Qt,Rt):pn,Rt==null)break e;Qt=_({},Qt,Rt);break e;case 2:Vl=!0}}Rt=Ee.callback,Rt!==null&&(u.flags|=64,Ot&&(u.flags|=8192),Ot=z.callbacks,Ot===null?z.callbacks=[Rt]:Ot.push(Rt))}else Ot={lane:Rt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Gt===null?(Et=Gt=Ot,Ke=Qt):Gt=Gt.next=Ot,fe|=Rt;if(Ee=Ee.next,Ee===null){if(Ee=z.shared.pending,Ee===null)break;Ot=Ee,Ee=Ot.next,Ot.next=null,z.lastBaseUpdate=Ot,z.shared.pending=null}}while(!0);Gt===null&&(Ke=Qt),z.baseState=Ke,z.firstBaseUpdate=Et,z.lastBaseUpdate=Gt,W===null&&(z.shared.lanes=0),Md|=fe,u.lanes=fe,u.memoizedState=Qt}}function Gl(u,p){if(typeof u!="function")throw Error(n(191,u));u.call(p)}function fa(u,p){var b=u.callbacks;if(b!==null)for(u.callbacks=null,u=0;u<b.length;u++)Gl(b[u],p)}var Zl=je(null),Pf=je(0);function jg(u,p){u=Pu,rt(Pf,u),rt(Zl,p),Pu=u|p.baseLanes}function em(){rt(Pf,Pu),rt(Zl,Zl.current)}function tm(){Pu=Pf.current,et(Zl),et(Pf)}var _u=0,rn=null,Xn=null,xr=null,qr=!1,Wl=!1,Pc=!1,Rf=0,ka=0,xu=null,Vs=0;function ri(){throw Error(n(321))}function Rc(u,p){if(p===null)return!1;for(var b=0;b<p.length&&b<u.length;b++)if(!rs(u[b],p[b]))return!1;return!0}function Ta(u,p,b,T,z,W){return _u=W,rn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,ce.H=u===null||u.memoizedState===null?Zh:$g,Pc=!1,W=b(T,z),Pc=!1,Wl&&(W=Sd(p,b,T,z)),Aa(u),W}function Aa(u){ce.H=aa;var p=Xn!==null&&Xn.next!==null;if(_u=0,xr=Xn=rn=null,qr=!1,ka=0,xu=null,p)throw Error(n(300));u===null||Xi||(u=u.dependencies,u!==null&&ti(u)&&(Xi=!0))}function Sd(u,p,b,T){rn=u;var z=0;do{if(Wl&&(xu=null),ka=0,Wl=!1,25<=z)throw Error(n(301));if(z+=1,xr=Xn=null,u.updateQueue!=null){var W=u.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}ce.H=bv,W=p(b,T)}while(Wl);return W}function Vh(){var u=ce.H,p=u.useState()[0];return p=typeof p.then=="function"?C(p):p,u=u.useState()[0],(Xn!==null?Xn.memoizedState:null)!==u&&(rn.flags|=1024),p}function Ed(){var u=Rf!==0;return Rf=0,u}function Mc(u,p,b){p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~b}function Hh(u){if(qr){for(u=u.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}qr=!1}_u=0,xr=Xn=rn=null,Wl=!1,ka=Rf=0,xu=null}function vo(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?rn.memoizedState=xr=u:xr=xr.next=u,xr}function Pa(){if(Xn===null){var u=rn.alternate;u=u!==null?u.memoizedState:null}else u=Xn.next;var p=xr===null?rn.memoizedState:xr.next;if(p!==null)xr=p,Xn=u;else{if(u===null)throw rn.alternate===null?Error(n(467)):Error(n(310));Xn=u,u={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},xr===null?rn.memoizedState=xr=u:xr=xr.next=u}return xr}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function C(u){var p=ka;return ka+=1,xu===null&&(xu=[]),u=Yp(xu,u,p),p=rn,(xr===null?p.memoizedState:xr.next)===null&&(p=p.alternate,ce.H=p===null||p.memoizedState===null?Zh:$g),u}function i(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return C(u);if(u.$$typeof===F)return zi(u)}throw Error(n(438,String(u)))}function d(u){var p=null,b=rn.updateQueue;if(b!==null&&(p=b.memoCache),p==null){var T=rn.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(p={data:T.data.map(function(z){return z.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),b===null&&(b=Gh(),rn.updateQueue=b),b.memoCache=p,b=p.data[p.index],b===void 0)for(b=p.data[p.index]=Array(u),T=0;T<u;T++)b[T]=X;return p.index++,b}function v(u,p){return typeof p=="function"?p(u):p}function x(u){var p=Pa();return A(p,Xn,u)}function A(u,p,b){var T=u.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=b;var z=u.baseQueue,W=T.pending;if(W!==null){if(z!==null){var fe=z.next;z.next=W.next,W.next=fe}p.baseQueue=z=W,T.pending=null}if(W=u.baseState,z===null)u.memoizedState=W;else{p=z.next;var Ee=fe=null,Ke=null,Et=p,Gt=!1;do{var Qt=Et.lane&-536870913;if(Qt!==Et.lane?(Zn&Qt)===Qt:(_u&Qt)===Qt){var Rt=Et.revertLane;if(Rt===0)Ke!==null&&(Ke=Ke.next={lane:0,revertLane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),Qt===fl&&(Gt=!0);else if((_u&Rt)===Rt){Et=Et.next,Rt===fl&&(Gt=!0);continue}else Qt={lane:0,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},Ke===null?(Ee=Ke=Qt,fe=W):Ke=Ke.next=Qt,rn.lanes|=Rt,Md|=Rt;Qt=Et.action,Pc&&b(W,Qt),W=Et.hasEagerState?Et.eagerState:b(W,Qt)}else Rt={lane:Qt,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},Ke===null?(Ee=Ke=Rt,fe=W):Ke=Ke.next=Rt,rn.lanes|=Qt,Md|=Qt;Et=Et.next}while(Et!==null&&Et!==p);if(Ke===null?fe=W:Ke.next=Ee,!rs(W,u.memoizedState)&&(Xi=!0,Gt&&(b=yo,b!==null)))throw b;u.memoizedState=W,u.baseState=fe,u.baseQueue=Ke,T.lastRenderedState=W}return z===null&&(T.lanes=0),[u.memoizedState,T.dispatch]}function k(u){var p=Pa(),b=p.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=u;var T=b.dispatch,z=b.pending,W=p.memoizedState;if(z!==null){b.pending=null;var fe=z=z.next;do W=u(W,fe.action),fe=fe.next;while(fe!==z);rs(W,p.memoizedState)||(Xi=!0),p.memoizedState=W,p.baseQueue===null&&(p.baseState=W),b.lastRenderedState=W}return[W,T]}function U(u,p,b){var T=rn,z=Pa(),W=Un;if(W){if(b===void 0)throw Error(n(407));b=b()}else b=p();var fe=!rs((Xn||z).memoizedState,b);fe&&(z.memoizedState=b,Xi=!0),z=z.queue;var Ee=J.bind(null,T,z,u);if(Wt(2048,8,Ee,[u]),z.getSnapshot!==p||fe||xr!==null&&xr.memoizedState.tag&1){if(T.flags|=2048,Tt(9,Mt(),Y.bind(null,T,z,b,p),null),ca===null)throw Error(n(349));W||(_u&124)!==0||Z(T,p,b)}return b}function Z(u,p,b){u.flags|=16384,u={getSnapshot:p,value:b},p=rn.updateQueue,p===null?(p=Gh(),rn.updateQueue=p,p.stores=[u]):(b=p.stores,b===null?p.stores=[u]:b.push(u))}function Y(u,p,b,T){p.value=b,p.getSnapshot=T,oe(p)&&ie(u)}function J(u,p,b){return b(function(){oe(p)&&ie(u)})}function oe(u){var p=u.getSnapshot;u=u.value;try{var b=p();return!rs(u,b)}catch{return!0}}function ie(u){var p=pd(u,2);p!==null&&bl(p,u,2)}function pe(u){var p=vo();if(typeof u=="function"){var b=u;if(u=b(),Pc){Mr(!0);try{b()}finally{Mr(!1)}}}return p.memoizedState=p.baseState=u,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:u},p}function be(u,p,b,T){return u.baseState=b,A(u,Xn,typeof T=="function"?T:v)}function Ie(u,p,b,T,z){if(ja(u))throw Error(n(485));if(u=p.action,u!==null){var W={payload:z,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){W.listeners.push(fe)}};ce.T!==null?b(!0):W.isTransition=!1,T(W),b=p.pending,b===null?(W.next=p.pending=W,ke(p,W)):(W.next=b.next,p.pending=b.next=W)}}function ke(u,p){var b=p.action,T=p.payload,z=u.state;if(p.isTransition){var W=ce.T,fe={};ce.T=fe;try{var Ee=b(z,T),Ke=ce.S;Ke!==null&&Ke(fe,Ee),De(u,p,Ee)}catch(Et){Ze(u,p,Et)}finally{ce.T=W}}else try{W=b(z,T),De(u,p,W)}catch(Et){Ze(u,p,Et)}}function De(u,p,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(T){Ue(u,p,T)},function(T){return Ze(u,p,T)}):Ue(u,p,b)}function Ue(u,p,b){p.status="fulfilled",p.value=b,He(p),u.state=b,p=u.pending,p!==null&&(b=p.next,b===p?u.pending=null:(b=b.next,p.next=b,ke(u,b)))}function Ze(u,p,b){var T=u.pending;if(u.pending=null,T!==null){T=T.next;do p.status="rejected",p.reason=b,He(p),p=p.next;while(p!==T)}u.action=null}function He(u){u=u.listeners;for(var p=0;p<u.length;p++)(0,u[p])()}function Xe(u,p){return p}function nt(u,p){if(Un){var b=ca.formState;if(b!==null){e:{var T=rn;if(Un){if(Na){t:{for(var z=Na,W=cl;z.nodeType!==8;){if(!W){z=null;break t}if(z=os(z.nextSibling),z===null){z=null;break t}}W=z.data,z=W==="F!"||W==="F"?z:null}if(z){Na=os(z.nextSibling),T=z.data==="F!";break e}}sa(T)}T=!1}T&&(p=b[0])}}return b=vo(),b.memoizedState=b.baseState=p,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:p},b.queue=T,b=Dc.bind(null,rn,T),T.dispatch=b,T=pe(!1),W=Xl.bind(null,rn,!1,T.queue),T=vo(),z={state:p,dispatch:null,action:u,pending:null},T.queue=z,b=Ie.bind(null,rn,z,W,b),z.dispatch=b,T.memoizedState=u,[p,b,!1]}function Qe(u){var p=Pa();return bt(p,Xn,u)}function bt(u,p,b){if(p=A(u,p,Xe)[0],u=x(v)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var T=C(p)}catch(fe){throw fe===Er?xd:fe}else T=p;p=Pa();var z=p.queue,W=z.dispatch;return b!==p.memoizedState&&(rn.flags|=2048,Tt(9,Mt(),Bt.bind(null,z,b),null)),[T,W,u]}function Bt(u,p){u.action=p}function Pt(u){var p=Pa(),b=Xn;if(b!==null)return bt(p,b,u);Pa(),p=p.memoizedState,b=Pa();var T=b.queue.dispatch;return b.memoizedState=u,[p,T,!1]}function Tt(u,p,b,T){return u={tag:u,create:b,deps:T,inst:p,next:null},p=rn.updateQueue,p===null&&(p=Gh(),rn.updateQueue=p),b=p.lastEffect,b===null?p.lastEffect=u.next=u:(T=b.next,b.next=u,u.next=T,p.lastEffect=u),u}function Mt(){return{destroy:void 0,resource:void 0}}function yr(){return Pa().memoizedState}function hr(u,p,b,T){var z=vo();T=T===void 0?null:T,rn.flags|=u,z.memoizedState=Tt(1|p,Mt(),b,T)}function Wt(u,p,b,T){var z=Pa();T=T===void 0?null:T;var W=z.memoizedState.inst;Xn!==null&&T!==null&&Rc(T,Xn.memoizedState.deps)?z.memoizedState=Tt(p,W,b,T):(rn.flags|=u,z.memoizedState=Tt(1|p,W,b,T))}function Or(u,p){hr(8390656,8,u,p)}function vn(u,p){Wt(2048,8,u,p)}function Mn(u,p){return Wt(4,2,u,p)}function Ra(u,p){return Wt(4,4,u,p)}function na(u,p){if(typeof p=="function"){u=u();var b=p(u);return function(){typeof b=="function"?b():p(null)}}if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function Ma(u,p,b){b=b!=null?b.concat([u]):null,Wt(4,4,na.bind(null,p,u),b)}function xa(){}function la(u,p){var b=Pa();p=p===void 0?null:p;var T=b.memoizedState;return p!==null&&Rc(p,T[1])?T[0]:(b.memoizedState=[u,p],u)}function qn(u,p){var b=Pa();p=p===void 0?null:p;var T=b.memoizedState;if(p!==null&&Rc(p,T[1]))return T[0];if(T=u(),Pc){Mr(!0);try{u()}finally{Mr(!1)}}return b.memoizedState=[T,p],T}function ui(u,p,b){return b===void 0||(_u&1073741824)!==0?u.memoizedState=p:(u.memoizedState=b,u=Uv(),rn.lanes|=u,Md|=u,b)}function Ei(u,p,b,T){return rs(b,p)?b:Zl.current!==null?(u=ui(u,b,T),rs(u,p)||(Xi=!0),u):(_u&42)===0?(Xi=!0,u.memoizedState=b):(u=Uv(),rn.lanes|=u,Md|=u,p)}function Li(u,p,b,T,z){var W=Ce.p;Ce.p=W!==0&&8>W?W:8;var fe=ce.T,Ee={};ce.T=Ee,Xl(u,!1,p,b);try{var Ke=z(),Et=ce.S;if(Et!==null&&Et(Ee,Ke),Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var Gt=W_(Ke,T);Ss(u,p,Gt,Rs(u))}else Ss(u,p,T,Rs(u))}catch(Qt){Ss(u,p,{then:function(){},status:"rejected",reason:Qt},Rs())}finally{Ce.p=W,ce.T=fe}}function Vn(){}function Kl(u,p,b,T){if(u.tag!==5)throw Error(n(476));var z=ml(u).queue;Li(u,z,p,Se,b===null?Vn:function(){return Oc(u),b(T)})}function ml(u){var p=u.memoizedState;if(p!==null)return p;p={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:Se},next:null};var b={};return p.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:b},next:null},u.memoizedState=p,u=u.alternate,u!==null&&(u.memoizedState=p),p}function Oc(u){var p=ml(u).next.queue;Ss(u,p,{},Rs())}function kc(){return zi($e)}function Mf(){return Pa().memoizedState}function Ic(){return Pa().memoizedState}function Cd(u){for(var p=u.return;p!==null;){switch(p.tag){case 24:case 3:var b=Rs();u=Hl(b);var T=pl(p,u,b);T!==null&&(bl(T,p,b),Ac(T,p,b)),p={cache:vu()},u.payload=p;return}p=p.return}}function ws(u,p,b){var T=Rs();b={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},ja(u)?di(p,b):(b=mu(u,p,b,T),b!==null&&(bl(b,u,T),bo(b,p,T)))}function Dc(u,p,b){var T=Rs();Ss(u,p,b,T)}function Ss(u,p,b,T){var z={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(ja(u))di(p,z);else{var W=u.alternate;if(u.lanes===0&&(W===null||W.lanes===0)&&(W=p.lastRenderedReducer,W!==null))try{var fe=p.lastRenderedState,Ee=W(fe,b);if(z.hasEagerState=!0,z.eagerState=Ee,rs(Ee,fe))return bc(u,p,z,0),ca===null&&hd(),!1}catch{}finally{}if(b=mu(u,p,z,T),b!==null)return bl(b,u,T),bo(b,p,T),!0}return!1}function Xl(u,p,b,T){if(T={lane:2,revertLane:Xv(),action:T,hasEagerState:!1,eagerState:null,next:null},ja(u)){if(p)throw Error(n(479))}else p=mu(u,b,T,2),p!==null&&bl(p,u,2)}function ja(u){var p=u.alternate;return u===rn||p!==null&&p===rn}function di(u,p){Wl=qr=!0;var b=u.pending;b===null?p.next=p:(p.next=b.next,b.next=p),u.pending=p}function bo(u,p,b){if((b&4194048)!==0){var T=p.lanes;T&=u.pendingLanes,b|=T,p.lanes=b,xt(u,b)}}var aa={readContext:zi,use:i,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri},Zh={readContext:zi,use:i,useCallback:function(u,p){return vo().memoizedState=[u,p===void 0?null:p],u},useContext:zi,useEffect:Or,useImperativeHandle:function(u,p,b){b=b!=null?b.concat([u]):null,hr(4194308,4,na.bind(null,p,u),b)},useLayoutEffect:function(u,p){return hr(4194308,4,u,p)},useInsertionEffect:function(u,p){hr(4,2,u,p)},useMemo:function(u,p){var b=vo();p=p===void 0?null:p;var T=u();if(Pc){Mr(!0);try{u()}finally{Mr(!1)}}return b.memoizedState=[T,p],T},useReducer:function(u,p,b){var T=vo();if(b!==void 0){var z=b(p);if(Pc){Mr(!0);try{b(p)}finally{Mr(!1)}}}else z=p;return T.memoizedState=T.baseState=z,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:z},T.queue=u,u=u.dispatch=ws.bind(null,rn,u),[T.memoizedState,u]},useRef:function(u){var p=vo();return u={current:u},p.memoizedState=u},useState:function(u){u=pe(u);var p=u.queue,b=Dc.bind(null,rn,p);return p.dispatch=b,[u.memoizedState,b]},useDebugValue:xa,useDeferredValue:function(u,p){var b=vo();return ui(b,u,p)},useTransition:function(){var u=pe(!1);return u=Li.bind(null,rn,u.queue,!0,!1),vo().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,p,b){var T=rn,z=vo();if(Un){if(b===void 0)throw Error(n(407));b=b()}else{if(b=p(),ca===null)throw Error(n(349));(Zn&124)!==0||Z(T,p,b)}z.memoizedState=b;var W={value:b,getSnapshot:p};return z.queue=W,Or(J.bind(null,T,W,u),[u]),T.flags|=2048,Tt(9,Mt(),Y.bind(null,T,W,b,p),null),b},useId:function(){var u=vo(),p=ca.identifierPrefix;if(Un){var b=_s,T=ll;b=(T&~(1<<32-Qr(T)-1)).toString(32)+b,p=""+p+"R"+b,b=Rf++,0<b&&(p+="H"+b.toString(32)),p+=""}else b=Vs++,p=""+p+"r"+b.toString(32)+"";return u.memoizedState=p},useHostTransitionStatus:kc,useFormState:nt,useActionState:nt,useOptimistic:function(u){var p=vo();p.memoizedState=p.baseState=u;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=b,p=Xl.bind(null,rn,!0,b),b.dispatch=p,[u,p]},useMemoCache:d,useCacheRefresh:function(){return vo().memoizedState=Cd.bind(null,rn)}},$g={readContext:zi,use:i,useCallback:la,useContext:zi,useEffect:vn,useImperativeHandle:Ma,useInsertionEffect:Mn,useLayoutEffect:Ra,useMemo:qn,useReducer:x,useRef:yr,useState:function(){return x(v)},useDebugValue:xa,useDeferredValue:function(u,p){var b=Pa();return Ei(b,Xn.memoizedState,u,p)},useTransition:function(){var u=x(v)[0],p=Pa().memoizedState;return[typeof u=="boolean"?u:C(u),p]},useSyncExternalStore:U,useId:Mf,useHostTransitionStatus:kc,useFormState:Qe,useActionState:Qe,useOptimistic:function(u,p){var b=Pa();return be(b,Xn,u,p)},useMemoCache:d,useCacheRefresh:Ic},bv={readContext:zi,use:i,useCallback:la,useContext:zi,useEffect:vn,useImperativeHandle:Ma,useInsertionEffect:Mn,useLayoutEffect:Ra,useMemo:qn,useReducer:k,useRef:yr,useState:function(){return k(v)},useDebugValue:xa,useDeferredValue:function(u,p){var b=Pa();return Xn===null?ui(b,u,p):Ei(b,Xn.memoizedState,u,p)},useTransition:function(){var u=k(v)[0],p=Pa().memoizedState;return[typeof u=="boolean"?u:C(u),p]},useSyncExternalStore:U,useId:Mf,useHostTransitionStatus:kc,useFormState:Pt,useActionState:Pt,useOptimistic:function(u,p){var b=Pa();return Xn!==null?be(b,Xn,u,p):(b.baseState=u,[u,b.queue.dispatch])},useMemoCache:d,useCacheRefresh:Ic},Of=null,Td=0;function wu(u){var p=Td;return Td+=1,Of===null&&(Of=[]),Yp(Of,u,p)}function _o(u,p){p=p.props.ref,u.ref=p!==void 0?p:null}function Es(u,p){throw p.$$typeof===E?Error(n(525)):(u=Object.prototype.toString.call(p),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u)))}function Cs(u){var p=u._init;return p(u._payload)}function Yl(u){function p(pt,ct){if(u){var St=pt.deletions;St===null?(pt.deletions=[ct],pt.flags|=16):St.push(ct)}}function b(pt,ct){if(!u)return null;for(;ct!==null;)p(pt,ct),ct=ct.sibling;return null}function T(pt){for(var ct=new Map;pt!==null;)pt.key!==null?ct.set(pt.key,pt):ct.set(pt.index,pt),pt=pt.sibling;return ct}function z(pt,ct){return pt=xc(pt,ct),pt.index=0,pt.sibling=null,pt}function W(pt,ct,St){return pt.index=St,u?(St=pt.alternate,St!==null?(St=St.index,St<ct?(pt.flags|=67108866,ct):St):(pt.flags|=67108866,ct)):(pt.flags|=1048576,ct)}function fe(pt){return u&&pt.alternate===null&&(pt.flags|=67108866),pt}function Ee(pt,ct,St,nr){return ct===null||ct.tag!==6?(ct=xf(St,pt.mode,nr),ct.return=pt,ct):(ct=z(ct,St),ct.return=pt,ct)}function Ke(pt,ct,St,nr){var $r=St.type;return $r===I?Gt(pt,ct,St.props.children,nr,St.key):ct!==null&&(ct.elementType===$r||typeof $r=="object"&&$r!==null&&$r.$$typeof===ne&&Cs($r)===ct.type)?(ct=z(ct,St.props),_o(ct,St),ct.return=pt,ct):(ct=Dh(St.type,St.key,St.props,null,pt.mode,nr),_o(ct,St),ct.return=pt,ct)}function Et(pt,ct,St,nr){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==St.containerInfo||ct.stateNode.implementation!==St.implementation?(ct=yd(St,pt.mode,nr),ct.return=pt,ct):(ct=z(ct,St.children||[]),ct.return=pt,ct)}function Gt(pt,ct,St,nr,$r){return ct===null||ct.tag!==7?(ct=gd(St,pt.mode,nr,$r),ct.return=pt,ct):(ct=z(ct,St),ct.return=pt,ct)}function Qt(pt,ct,St){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=xf(""+ct,pt.mode,St),ct.return=pt,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case R:return St=Dh(ct.type,ct.key,ct.props,null,pt.mode,St),_o(St,ct),St.return=pt,St;case O:return ct=yd(ct,pt.mode,St),ct.return=pt,ct;case ne:var nr=ct._init;return ct=nr(ct._payload),Qt(pt,ct,St)}if(xe(ct)||le(ct))return ct=gd(ct,pt.mode,St,null),ct.return=pt,ct;if(typeof ct.then=="function")return Qt(pt,wu(ct),St);if(ct.$$typeof===F)return Qt(pt,Bh(pt,ct),St);Es(pt,ct)}return null}function Rt(pt,ct,St,nr){var $r=ct!==null?ct.key:null;if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return $r!==null?null:Ee(pt,ct,""+St,nr);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case R:return St.key===$r?Ke(pt,ct,St,nr):null;case O:return St.key===$r?Et(pt,ct,St,nr):null;case ne:return $r=St._init,St=$r(St._payload),Rt(pt,ct,St,nr)}if(xe(St)||le(St))return $r!==null?null:Gt(pt,ct,St,nr,null);if(typeof St.then=="function")return Rt(pt,ct,wu(St),nr);if(St.$$typeof===F)return Rt(pt,ct,Bh(pt,St),nr);Es(pt,St)}return null}function Ot(pt,ct,St,nr,$r){if(typeof nr=="string"&&nr!==""||typeof nr=="number"||typeof nr=="bigint")return pt=pt.get(St)||null,Ee(ct,pt,""+nr,$r);if(typeof nr=="object"&&nr!==null){switch(nr.$$typeof){case R:return pt=pt.get(nr.key===null?St:nr.key)||null,Ke(ct,pt,nr,$r);case O:return pt=pt.get(nr.key===null?St:nr.key)||null,Et(ct,pt,nr,$r);case ne:var mn=nr._init;return nr=mn(nr._payload),Ot(pt,ct,St,nr,$r)}if(xe(nr)||le(nr))return pt=pt.get(St)||null,Gt(ct,pt,nr,$r,null);if(typeof nr.then=="function")return Ot(pt,ct,St,wu(nr),$r);if(nr.$$typeof===F)return Ot(pt,ct,St,Bh(ct,nr),$r);Es(ct,nr)}return null}function pn(pt,ct,St,nr){for(var $r=null,mn=null,Xr=ct,ln=ct=0,Co=null;Xr!==null&&ln<St.length;ln++){Xr.index>ln?(Co=Xr,Xr=null):Co=Xr.sibling;var ta=Rt(pt,Xr,St[ln],nr);if(ta===null){Xr===null&&(Xr=Co);break}u&&Xr&&ta.alternate===null&&p(pt,Xr),ct=W(ta,ct,ln),mn===null?$r=ta:mn.sibling=ta,mn=ta,Xr=Co}if(ln===St.length)return b(pt,Xr),Un&&Nl(pt,ln),$r;if(Xr===null){for(;ln<St.length;ln++)Xr=Qt(pt,St[ln],nr),Xr!==null&&(ct=W(Xr,ct,ln),mn===null?$r=Xr:mn.sibling=Xr,mn=Xr);return Un&&Nl(pt,ln),$r}for(Xr=T(Xr);ln<St.length;ln++)Co=Ot(Xr,pt,ln,St[ln],nr),Co!==null&&(u&&Co.alternate!==null&&Xr.delete(Co.key===null?ln:Co.key),ct=W(Co,ct,ln),mn===null?$r=Co:mn.sibling=Co,mn=Co);return u&&Xr.forEach(function(Hf){return p(pt,Hf)}),Un&&Nl(pt,ln),$r}function sn(pt,ct,St,nr){if(St==null)throw Error(n(151));for(var $r=null,mn=null,Xr=ct,ln=ct=0,Co=null,ta=St.next();Xr!==null&&!ta.done;ln++,ta=St.next()){Xr.index>ln?(Co=Xr,Xr=null):Co=Xr.sibling;var Hf=Rt(pt,Xr,ta.value,nr);if(Hf===null){Xr===null&&(Xr=Co);break}u&&Xr&&Hf.alternate===null&&p(pt,Xr),ct=W(Hf,ct,ln),mn===null?$r=Hf:mn.sibling=Hf,mn=Hf,Xr=Co}if(ta.done)return b(pt,Xr),Un&&Nl(pt,ln),$r;if(Xr===null){for(;!ta.done;ln++,ta=St.next())ta=Qt(pt,ta.value,nr),ta!==null&&(ct=W(ta,ct,ln),mn===null?$r=ta:mn.sibling=ta,mn=ta);return Un&&Nl(pt,ln),$r}for(Xr=T(Xr);!ta.done;ln++,ta=St.next())ta=Ot(Xr,pt,ln,ta.value,nr),ta!==null&&(u&&ta.alternate!==null&&Xr.delete(ta.key===null?ln:ta.key),ct=W(ta,ct,ln),mn===null?$r=ta:mn.sibling=ta,mn=ta);return u&&Xr.forEach(function(Go){return p(pt,Go)}),Un&&Nl(pt,ln),$r}function Sa(pt,ct,St,nr){if(typeof St=="object"&&St!==null&&St.type===I&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case R:e:{for(var $r=St.key;ct!==null;){if(ct.key===$r){if($r=St.type,$r===I){if(ct.tag===7){b(pt,ct.sibling),nr=z(ct,St.props.children),nr.return=pt,pt=nr;break e}}else if(ct.elementType===$r||typeof $r=="object"&&$r!==null&&$r.$$typeof===ne&&Cs($r)===ct.type){b(pt,ct.sibling),nr=z(ct,St.props),_o(nr,St),nr.return=pt,pt=nr;break e}b(pt,ct);break}else p(pt,ct);ct=ct.sibling}St.type===I?(nr=gd(St.props.children,pt.mode,nr,St.key),nr.return=pt,pt=nr):(nr=Dh(St.type,St.key,St.props,null,pt.mode,nr),_o(nr,St),nr.return=pt,pt=nr)}return fe(pt);case O:e:{for($r=St.key;ct!==null;){if(ct.key===$r)if(ct.tag===4&&ct.stateNode.containerInfo===St.containerInfo&&ct.stateNode.implementation===St.implementation){b(pt,ct.sibling),nr=z(ct,St.children||[]),nr.return=pt,pt=nr;break e}else{b(pt,ct);break}else p(pt,ct);ct=ct.sibling}nr=yd(St,pt.mode,nr),nr.return=pt,pt=nr}return fe(pt);case ne:return $r=St._init,St=$r(St._payload),Sa(pt,ct,St,nr)}if(xe(St))return pn(pt,ct,St,nr);if(le(St)){if($r=le(St),typeof $r!="function")throw Error(n(150));return St=$r.call(St),sn(pt,ct,St,nr)}if(typeof St.then=="function")return Sa(pt,ct,wu(St),nr);if(St.$$typeof===F)return Sa(pt,ct,Bh(pt,St),nr);Es(pt,St)}return typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint"?(St=""+St,ct!==null&&ct.tag===6?(b(pt,ct.sibling),nr=z(ct,St),nr.return=pt,pt=nr):(b(pt,ct),nr=xf(St,pt.mode,nr),nr.return=pt,pt=nr),fe(pt)):b(pt,ct)}return function(pt,ct,St,nr){try{Td=0;var $r=Sa(pt,ct,St,nr);return Of=null,$r}catch(Xr){if(Xr===Er||Xr===xd)throw Xr;var mn=$o(29,Xr,null,pt.mode);return mn.lanes=nr,mn.return=pt,mn}finally{}}}var zc=Yl(!0),Lc=Yl(!1),is=je(null),Bc=null;function Su(u){var p=u.alternate;rt(Bi,Bi.current&1),rt(is,u),Bc===null&&(p===null||Zl.current!==null||p.memoizedState!==null)&&(Bc=u)}function K_(u){if(u.tag===22){if(rt(Bi,Bi.current),rt(is,u),Bc===null){var p=u.alternate;p!==null&&p.memoizedState!==null&&(Bc=u)}}else Hs()}function Hs(){rt(Bi,Bi.current),rt(is,is.current)}function Ts(u){et(is),Bc===u&&(Bc=null),et(Bi)}var Bi=je(0);function _v(u){for(var p=u;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||I0(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function Ug(u,p,b,T){p=u.memoizedState,b=b(T,p),b=b==null?p:_({},p,b),u.memoizedState=b,u.lanes===0&&(u.updateQueue.baseState=b)}var xv={enqueueSetState:function(u,p,b){u=u._reactInternals;var T=Rs(),z=Hl(T);z.payload=p,b!=null&&(z.callback=b),p=pl(u,z,T),p!==null&&(bl(p,u,T),Ac(p,u,T))},enqueueReplaceState:function(u,p,b){u=u._reactInternals;var T=Rs(),z=Hl(T);z.tag=1,z.payload=p,b!=null&&(z.callback=b),p=pl(u,z,T),p!==null&&(bl(p,u,T),Ac(p,u,T))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var b=Rs(),T=Hl(b);T.tag=2,p!=null&&(T.callback=p),p=pl(u,T,b),p!==null&&(bl(p,u,b),Ac(p,u,b))}};function ew(u,p,b,T,z,W,fe){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,W,fe):p.prototype&&p.prototype.isPureReactComponent?!Rn(b,T)||!Rn(z,W):!0}function X_(u,p,b,T){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,T),p.state!==u&&xv.enqueueReplaceState(p,p.state,null)}function Wh(u,p){var b=p;if("ref"in p){b={};for(var T in p)T!=="ref"&&(b[T]=p[T])}if(u=u.defaultProps){b===p&&(b=_({},b));for(var z in u)b[z]===void 0&&(b[z]=u[z])}return b}var rm=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function tw(u){rm(u)}function wv(u){console.error(u)}function Y_(u){rm(u)}function qg(u,p){try{var b=u.onUncaughtError;b(p.value,{componentStack:p.stack})}catch(T){setTimeout(function(){throw T})}}function kf(u,p,b){try{var T=u.onCaughtError;T(b.value,{componentStack:b.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function Q_(u,p,b){return b=Hl(b),b.tag=3,b.payload={element:null},b.callback=function(){qg(u,p)},b}function nm(u){return u=Hl(u),u.tag=3,u}function Vg(u,p,b,T){var z=b.type.getDerivedStateFromError;if(typeof z=="function"){var W=T.value;u.payload=function(){return z(W)},u.callback=function(){kf(p,b,T)}}var fe=b.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(u.callback=function(){kf(p,b,T),typeof z!="function"&&(Nf===null?Nf=new Set([this]):Nf.add(this));var Ee=T.stack;this.componentDidCatch(T.value,{componentStack:Ee!==null?Ee:""})})}function Sv(u,p,b,T,z){if(b.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(p=b.alternate,p!==null&&Ul(p,b,z,!0),b=is.current,b!==null){switch(b.tag){case 13:return Bc===null?$f():b.alternate===null&&ii===0&&(ii=3),b.flags&=-257,b.flags|=65536,b.lanes=z,T===Xp?b.flags|=16384:(p=b.updateQueue,p===null?b.updateQueue=new Set([T]):p.add(T),Zv(u,T,z)),!1;case 22:return b.flags|=65536,T===Xp?b.flags|=16384:(p=b.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([T])},b.updateQueue=p):(b=p.retryQueue,b===null?p.retryQueue=new Set([T]):b.add(T)),Zv(u,T,z)),!1}throw Error(n(435,b.tag))}return Zv(u,T,z),$f(),!1}if(Un)return p=is.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=z,T!==bd&&(u=Error(n(422),{cause:T}),as(No(u,b)))):(T!==bd&&(p=Error(n(423),{cause:T}),as(No(p,b))),u=u.current.alternate,u.flags|=65536,z&=-z,u.lanes|=z,T=No(T,b),z=Q_(u.stateNode,T,z),Ng(u,z),ii!==4&&(ii=2)),!1;var W=Error(n(520),{cause:T});if(W=No(W,b),Xg===null?Xg=[W]:Xg.push(W),ii!==4&&(ii=2),p===null)return!0;T=No(T,b),b=p;do{switch(b.tag){case 3:return b.flags|=65536,u=z&-z,b.lanes|=u,u=Q_(b.stateNode,T,u),Ng(b,u),!1;case 1:if(p=b.type,W=b.stateNode,(b.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Nf===null||!Nf.has(W))))return b.flags|=65536,z&=-z,b.lanes|=z,z=nm(z),Vg(z,u,b,T),Ng(b,z),!1}b=b.return}while(b!==null);return!1}var J_=Error(n(461)),Xi=!1;function Uo(u,p,b,T){p.child=u===null?Lc(p,null,b,T):zc(p,u.child,b,T)}function rw(u,p,b,T,z){b=b.render;var W=p.ref;if("ref"in T){var fe={};for(var Ee in T)Ee!=="ref"&&(fe[Ee]=T[Ee])}else fe=T;return qs(p),T=Ta(u,p,b,fe,W,z),Ee=Ed(),u!==null&&!Xi?(Mc(u,p,z),Eu(u,p,z)):(Un&&Ee&&Sf(p),p.flags|=1,Uo(u,p,T,z),p.child)}function e0(u,p,b,T,z){if(u===null){var W=b.type;return typeof W=="function"&&!md(W)&&W.defaultProps===void 0&&b.compare===null?(p.tag=15,p.type=W,t0(u,p,W,T,z)):(u=Dh(b.type,null,T,p,p.mode,z),u.ref=p.ref,u.return=p,p.child=u)}if(W=u.child,!Ad(u,z)){var fe=W.memoizedProps;if(b=b.compare,b=b!==null?b:Rn,b(fe,T)&&u.ref===p.ref)return Eu(u,p,z)}return p.flags|=1,u=xc(W,T),u.ref=p.ref,u.return=p,p.child=u}function t0(u,p,b,T,z){if(u!==null){var W=u.memoizedProps;if(Rn(W,T)&&u.ref===p.ref)if(Xi=!1,p.pendingProps=T=W,Ad(u,z))(u.flags&131072)!==0&&(Xi=!0);else return p.lanes=u.lanes,Eu(u,p,z)}return Ev(u,p,b,T,z)}function r0(u,p,b){var T=p.pendingProps,z=T.children,W=u!==null?u.memoizedState:null;if(T.mode==="hidden"){if((p.flags&128)!==0){if(T=W!==null?W.baseLanes|b:b,u!==null){for(z=p.child=u.child,W=0;z!==null;)W=W|z.lanes|z.childLanes,z=z.sibling;p.childLanes=W&~T}else p.childLanes=0,p.child=null;return nw(u,p,T,b)}if((b&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},u!==null&&Tc(p,W!==null?W.cachePool:null),W!==null?jg(p,W):em(),K_(p);else return p.lanes=p.childLanes=536870912,nw(u,p,W!==null?W.baseLanes|b:b,b)}else W!==null?(Tc(p,W.cachePool),jg(p,W),Hs(),p.memoizedState=null):(u!==null&&Tc(p,null),em(),Hs());return Uo(u,p,z,b),p.child}function nw(u,p,b,T){var z=Nh();return z=z===null?null:{parent:yi._currentValue,pool:z},p.memoizedState={baseLanes:b,cachePool:z},u!==null&&Tc(p,null),em(),K_(p),u!==null&&Ul(u,p,T,!0),null}function am(u,p){var b=p.ref;if(b===null)u!==null&&u.ref!==null&&(p.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(n(284));(u===null||u.ref!==b)&&(p.flags|=4194816)}}function Ev(u,p,b,T,z){return qs(p),b=Ta(u,p,b,T,void 0,z),T=Ed(),u!==null&&!Xi?(Mc(u,p,z),Eu(u,p,z)):(Un&&T&&Sf(p),p.flags|=1,Uo(u,p,b,z),p.child)}function Cv(u,p,b,T,z,W){return qs(p),p.updateQueue=null,b=Sd(p,T,b,z),Aa(u),T=Ed(),u!==null&&!Xi?(Mc(u,p,W),Eu(u,p,W)):(Un&&T&&Sf(p),p.flags|=1,Uo(u,p,b,W),p.child)}function im(u,p,b,T,z){if(qs(p),p.stateNode===null){var W=_c,fe=b.contextType;typeof fe=="object"&&fe!==null&&(W=zi(fe)),W=new b(T,W),p.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=xv,p.stateNode=W,W._reactInternals=p,W=p.stateNode,W.props=T,W.state=p.memoizedState,W.refs={},Qp(p),fe=b.contextType,W.context=typeof fe=="object"&&fe!==null?zi(fe):_c,W.state=p.memoizedState,fe=b.getDerivedStateFromProps,typeof fe=="function"&&(Ug(p,b,fe,T),W.state=p.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(fe=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),fe!==W.state&&xv.enqueueReplaceState(W,W.state,null),qh(p,T,W,z),Uh(),W.state=p.memoizedState),typeof W.componentDidMount=="function"&&(p.flags|=4194308),T=!0}else if(u===null){W=p.stateNode;var Ee=p.memoizedProps,Ke=Wh(b,Ee);W.props=Ke;var Et=W.context,Gt=b.contextType;fe=_c,typeof Gt=="object"&&Gt!==null&&(fe=zi(Gt));var Qt=b.getDerivedStateFromProps;Gt=typeof Qt=="function"||typeof W.getSnapshotBeforeUpdate=="function",Ee=p.pendingProps!==Ee,Gt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Ee||Et!==fe)&&X_(p,W,T,fe),Vl=!1;var Rt=p.memoizedState;W.state=Rt,qh(p,T,W,z),Uh(),Et=p.memoizedState,Ee||Rt!==Et||Vl?(typeof Qt=="function"&&(Ug(p,b,Qt,T),Et=p.memoizedState),(Ke=Vl||ew(p,b,Ke,T,Rt,Et,fe))?(Gt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(p.flags|=4194308)):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=Et),W.props=T,W.state=Et,W.context=fe,T=Ke):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{W=p.stateNode,Jp(u,p),fe=p.memoizedProps,Gt=Wh(b,fe),W.props=Gt,Qt=p.pendingProps,Rt=W.context,Et=b.contextType,Ke=_c,typeof Et=="object"&&Et!==null&&(Ke=zi(Et)),Ee=b.getDerivedStateFromProps,(Et=typeof Ee=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(fe!==Qt||Rt!==Ke)&&X_(p,W,T,Ke),Vl=!1,Rt=p.memoizedState,W.state=Rt,qh(p,T,W,z),Uh();var Ot=p.memoizedState;fe!==Qt||Rt!==Ot||Vl||u!==null&&u.dependencies!==null&&ti(u.dependencies)?(typeof Ee=="function"&&(Ug(p,b,Ee,T),Ot=p.memoizedState),(Gt=Vl||ew(p,b,Gt,T,Rt,Ot,Ke)||u!==null&&u.dependencies!==null&&ti(u.dependencies))?(Et||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(T,Ot,Ke),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(T,Ot,Ke)),typeof W.componentDidUpdate=="function"&&(p.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof W.componentDidUpdate!="function"||fe===u.memoizedProps&&Rt===u.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&Rt===u.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=Ot),W.props=T,W.state=Ot,W.context=Ke,T=Gt):(typeof W.componentDidUpdate!="function"||fe===u.memoizedProps&&Rt===u.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&Rt===u.memoizedState||(p.flags|=1024),T=!1)}return W=T,am(u,p),T=(p.flags&128)!==0,W||T?(W=p.stateNode,b=T&&typeof b.getDerivedStateFromError!="function"?null:W.render(),p.flags|=1,u!==null&&T?(p.child=zc(p,u.child,null,z),p.child=zc(p,null,b,z)):Uo(u,p,b,z),p.memoizedState=W.state,u=p.child):u=Eu(u,p,z),u}function Gs(u,p,b,T){return Ec(),p.flags|=256,Uo(u,p,b,T),p.child}var Tv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hg(u){return{baseLanes:u,cachePool:hl()}}function n0(u,p,b){return u=u!==null?u.childLanes&~b:0,p&&(u|=Jl),u}function a0(u,p,b){var T=p.pendingProps,z=!1,W=(p.flags&128)!==0,fe;if((fe=W)||(fe=u!==null&&u.memoizedState===null?!1:(Bi.current&2)!==0),fe&&(z=!0,p.flags&=-129),fe=(p.flags&32)!==0,p.flags&=-33,u===null){if(Un){if(z?Su(p):Hs(),Un){var Ee=Na,Ke;if(Ke=Ee){e:{for(Ke=Ee,Ee=cl;Ke.nodeType!==8;){if(!Ee){Ee=null;break e}if(Ke=os(Ke.nextSibling),Ke===null){Ee=null;break e}}Ee=Ke}Ee!==null?(p.memoizedState={dehydrated:Ee,treeContext:sl!==null?{id:ll,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},Ke=$o(18,null,null,0),Ke.stateNode=Ee,Ke.return=p,p.child=Ke,go=p,Na=null,Ke=!0):Ke=!1}Ke||sa(p)}if(Ee=p.memoizedState,Ee!==null&&(Ee=Ee.dehydrated,Ee!==null))return I0(Ee)?p.lanes=32:p.lanes=536870912,null;Ts(p)}return Ee=T.children,T=T.fallback,z?(Hs(),z=p.mode,Ee=Av({mode:"hidden",children:Ee},z),T=gd(T,z,b,null),Ee.return=p,T.return=p,Ee.sibling=T,p.child=Ee,z=p.child,z.memoizedState=Hg(b),z.childLanes=n0(u,fe,b),p.memoizedState=Tv,T):(Su(p),i0(p,Ee))}if(Ke=u.memoizedState,Ke!==null&&(Ee=Ke.dehydrated,Ee!==null)){if(W)p.flags&256?(Su(p),p.flags&=-257,p=o0(u,p,b)):p.memoizedState!==null?(Hs(),p.child=u.child,p.flags|=128,p=null):(Hs(),z=T.fallback,Ee=p.mode,T=Av({mode:"visible",children:T.children},Ee),z=gd(z,Ee,b,null),z.flags|=2,T.return=p,z.return=p,T.sibling=z,p.child=T,zc(p,u.child,null,b),T=p.child,T.memoizedState=Hg(b),T.childLanes=n0(u,fe,b),p.memoizedState=Tv,p=z);else if(Su(p),I0(Ee)){if(fe=Ee.nextSibling&&Ee.nextSibling.dataset,fe)var Et=fe.dgst;fe=Et,T=Error(n(419)),T.stack="",T.digest=fe,as({value:T,source:null,stack:null}),p=o0(u,p,b)}else if(Xi||Ul(u,p,b,!1),fe=(b&u.childLanes)!==0,Xi||fe){if(fe=ca,fe!==null&&(T=b&-b,T=(T&42)!==0?1:dt(T),T=(T&(fe.suspendedLanes|b))!==0?0:T,T!==0&&T!==Ke.retryLane))throw Ke.retryLane=T,pd(u,T),bl(fe,u,T),J_;Ee.data==="$?"||$f(),p=o0(u,p,b)}else Ee.data==="$?"?(p.flags|=192,p.child=u.child,p=null):(u=Ke.treeContext,Na=os(Ee.nextSibling),go=p,Un=!0,jl=null,cl=!1,u!==null&&(po[mo++]=ll,po[mo++]=_s,po[mo++]=sl,ll=u.id,_s=u.overflow,sl=p),p=i0(p,T.children),p.flags|=4096);return p}return z?(Hs(),z=T.fallback,Ee=p.mode,Ke=u.child,Et=Ke.sibling,T=xc(Ke,{mode:"hidden",children:T.children}),T.subtreeFlags=Ke.subtreeFlags&65011712,Et!==null?z=xc(Et,z):(z=gd(z,Ee,b,null),z.flags|=2),z.return=p,T.return=p,T.sibling=z,p.child=T,T=z,z=p.child,Ee=u.child.memoizedState,Ee===null?Ee=Hg(b):(Ke=Ee.cachePool,Ke!==null?(Et=yi._currentValue,Ke=Ke.parent!==Et?{parent:Et,pool:Et}:Ke):Ke=hl(),Ee={baseLanes:Ee.baseLanes|b,cachePool:Ke}),z.memoizedState=Ee,z.childLanes=n0(u,fe,b),p.memoizedState=Tv,T):(Su(p),b=u.child,u=b.sibling,b=xc(b,{mode:"visible",children:T.children}),b.return=p,b.sibling=null,u!==null&&(fe=p.deletions,fe===null?(p.deletions=[u],p.flags|=16):fe.push(u)),p.child=b,p.memoizedState=null,b)}function i0(u,p){return p=Av({mode:"visible",children:p},u.mode),p.return=u,u.child=p}function Av(u,p){return u=$o(22,u,null,p),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function o0(u,p,b){return zc(p,u.child,null,b),u=i0(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function aw(u,p,b){u.lanes|=p;var T=u.alternate;T!==null&&(T.lanes|=p),Zp(u.return,p,b)}function Gg(u,p,b,T,z){var W=u.memoizedState;W===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:b,tailMode:z}:(W.isBackwards=p,W.rendering=null,W.renderingStartTime=0,W.last=T,W.tail=b,W.tailMode=z)}function Pv(u,p,b){var T=p.pendingProps,z=T.revealOrder,W=T.tail;if(Uo(u,p,T.children,b),T=Bi.current,(T&2)!==0)T=T&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&aw(u,b,p);else if(u.tag===19)aw(u,b,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}switch(rt(Bi,T),z){case"forwards":for(b=p.child,z=null;b!==null;)u=b.alternate,u!==null&&_v(u)===null&&(z=b),b=b.sibling;b=z,b===null?(z=p.child,p.child=null):(z=b.sibling,b.sibling=null),Gg(p,!1,z,b,W);break;case"backwards":for(b=null,z=p.child,p.child=null;z!==null;){if(u=z.alternate,u!==null&&_v(u)===null){p.child=z;break}u=z.sibling,z.sibling=b,b=z,z=u}Gg(p,!0,b,null,W);break;case"together":Gg(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Eu(u,p,b){if(u!==null&&(p.dependencies=u.dependencies),Md|=p.lanes,(b&p.childLanes)===0)if(u!==null){if(Ul(u,p,b,!1),(b&p.childLanes)===0)return null}else return null;if(u!==null&&p.child!==u.child)throw Error(n(153));if(p.child!==null){for(u=p.child,b=xc(u,u.pendingProps),p.child=b,b.return=p;u.sibling!==null;)u=u.sibling,b=b.sibling=xc(u,u.pendingProps),b.return=p;b.sibling=null}return p.child}function Ad(u,p){return(u.lanes&p)!==0?!0:(u=u.dependencies,!!(u!==null&&ti(u)))}function Zg(u,p,b){switch(p.tag){case 3:Nt(p,p.stateNode.containerInfo),Cc(p,yi,u.memoizedState.cache),Ec();break;case 27:case 5:Dt(p);break;case 4:Nt(p,p.stateNode.containerInfo);break;case 10:Cc(p,p.type,p.memoizedProps.value);break;case 13:var T=p.memoizedState;if(T!==null)return T.dehydrated!==null?(Su(p),p.flags|=128,null):(b&p.child.childLanes)!==0?a0(u,p,b):(Su(p),u=Eu(u,p,b),u!==null?u.sibling:null);Su(p);break;case 19:var z=(u.flags&128)!==0;if(T=(b&p.childLanes)!==0,T||(Ul(u,p,b,!1),T=(b&p.childLanes)!==0),z){if(T)return Pv(u,p,b);p.flags|=128}if(z=p.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),rt(Bi,Bi.current),T)break;return null;case 22:case 23:return p.lanes=0,r0(u,p,b);case 24:Cc(p,yi,u.memoizedState.cache)}return Eu(u,p,b)}function iw(u,p,b){if(u!==null)if(u.memoizedProps!==p.pendingProps)Xi=!0;else{if(!Ad(u,b)&&(p.flags&128)===0)return Xi=!1,Zg(u,p,b);Xi=(u.flags&131072)!==0}else Xi=!1,Un&&(p.flags&1048576)!==0&&Lg(p,wf,p.index);switch(p.lanes=0,p.tag){case 16:e:{u=p.pendingProps;var T=p.elementType,z=T._init;if(T=z(T._payload),p.type=T,typeof T=="function")md(T)?(u=Wh(T,u),p.tag=1,p=im(null,p,T,u,b)):(p.tag=0,p=Ev(null,p,T,u,b));else{if(T!=null){if(z=T.$$typeof,z===N){p.tag=11,p=rw(null,p,T,u,b);break e}else if(z===ee){p.tag=14,p=e0(null,p,T,u,b);break e}}throw p=ve(T)||T,Error(n(306,p,""))}}return p;case 0:return Ev(u,p,p.type,p.pendingProps,b);case 1:return T=p.type,z=Wh(T,p.pendingProps),im(u,p,T,z,b);case 3:e:{if(Nt(p,p.stateNode.containerInfo),u===null)throw Error(n(387));T=p.pendingProps;var W=p.memoizedState;z=W.element,Jp(u,p),qh(p,T,null,b);var fe=p.memoizedState;if(T=fe.cache,Cc(p,yi,T),T!==W.cache&&yu(p,[yi],b,!0),Uh(),T=fe.element,W.isDehydrated)if(W={element:T,isDehydrated:!1,cache:fe.cache},p.updateQueue.baseState=W,p.memoizedState=W,p.flags&256){p=Gs(u,p,T,b);break e}else if(T!==z){z=No(Error(n(424)),p),as(z),p=Gs(u,p,T,b);break e}else{switch(u=p.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Na=os(u.firstChild),go=p,Un=!0,jl=null,cl=!0,b=Lc(p,null,T,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(Ec(),T===z){p=Eu(u,p,b);break e}Uo(u,p,T,b)}p=p.child}return p;case 26:return am(u,p),u===null?(b=Cm(p.type,null,p.pendingProps,null))?p.memoizedState=b:Un||(b=p.type,u=p.pendingProps,T=$c(ut.current).createElement(b),T[At]=p,T[Lt]=u,Eo(T,b,u),Pr(T),p.stateNode=T):p.memoizedState=Cm(p.type,u.memoizedProps,p.pendingProps,u.memoizedState),null;case 27:return Dt(p),u===null&&Un&&(T=p.stateNode=ob(p.type,p.pendingProps,ut.current),go=p,cl=!0,z=Na,zd(p.type)?(Fi=z,Na=os(T.firstChild)):Na=z),Uo(u,p,p.pendingProps.children,b),am(u,p),u===null&&(p.flags|=4194304),p.child;case 5:return u===null&&Un&&((z=T=Na)&&(T=ib(T,p.type,p.pendingProps,cl),T!==null?(p.stateNode=T,go=p,Na=os(T.firstChild),cl=!1,z=!0):z=!1),z||sa(p)),Dt(p),z=p.type,W=p.pendingProps,fe=u!==null?u.memoizedProps:null,T=W.children,rb(z,W)?T=null:fe!==null&&rb(z,fe)&&(p.flags|=32),p.memoizedState!==null&&(z=Ta(u,p,Vh,null,null,b),$e._currentValue=z),am(u,p),Uo(u,p,T,b),p.child;case 6:return u===null&&Un&&((u=b=Na)&&(b=LC(b,p.pendingProps,cl),b!==null?(p.stateNode=b,go=p,Na=null,u=!0):u=!1),u||sa(p)),null;case 13:return a0(u,p,b);case 4:return Nt(p,p.stateNode.containerInfo),T=p.pendingProps,u===null?p.child=zc(p,null,T,b):Uo(u,p,T,b),p.child;case 11:return rw(u,p,p.type,p.pendingProps,b);case 7:return Uo(u,p,p.pendingProps,b),p.child;case 8:return Uo(u,p,p.pendingProps.children,b),p.child;case 12:return Uo(u,p,p.pendingProps.children,b),p.child;case 10:return T=p.pendingProps,Cc(p,p.type,T.value),Uo(u,p,T.children,b),p.child;case 9:return z=p.type._context,T=p.pendingProps.children,qs(p),z=zi(z),T=T(z),p.flags|=1,Uo(u,p,T,b),p.child;case 14:return e0(u,p,p.type,p.pendingProps,b);case 15:return t0(u,p,p.type,p.pendingProps,b);case 19:return Pv(u,p,b);case 31:return T=p.pendingProps,b=p.mode,T={mode:T.mode,children:T.children},u===null?(b=Av(T,b),b.ref=p.ref,p.child=b,b.return=p,p=b):(b=xc(u.child,T),b.ref=p.ref,p.child=b,b.return=p,p=b),p;case 22:return r0(u,p,b);case 24:return qs(p),T=zi(yi),u===null?(z=Nh(),z===null&&(z=ca,W=vu(),z.pooledCache=W,W.refCount++,W!==null&&(z.pooledCacheLanes|=b),z=W),p.memoizedState={parent:T,cache:z},Qp(p),Cc(p,yi,z)):((u.lanes&b)!==0&&(Jp(u,p),qh(p,null,null,b),Uh()),z=u.memoizedState,W=p.memoizedState,z.parent!==T?(z={parent:T,cache:T},p.memoizedState=z,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=z),Cc(p,yi,T)):(T=W.cache,Cc(p,yi,T),T!==z.cache&&yu(p,[yi],b,!0))),Uo(u,p,p.pendingProps.children,b),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function Pd(u){u.flags|=4}function ow(u,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!Q(p)){if(p=is.current,p!==null&&((Zn&4194048)===Zn?Bc!==null:(Zn&62914560)!==Zn&&(Zn&536870912)===0||p!==Bc))throw bn=Xp,jh;u.flags|=8192}}function Rv(u,p){p!==null&&(u.flags|=4),u.flags&16384&&(p=u.tag!==22?Je():536870912,u.lanes|=p,Od|=p)}function Wg(u,p){if(!Un)switch(u.tailMode){case"hidden":p=u.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u.tail=null:b.sibling=null;break;case"collapsed":b=u.tail;for(var T=null;b!==null;)b.alternate!==null&&(T=b),b=b.sibling;T===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function fi(u){var p=u.alternate!==null&&u.alternate.child===u.child,b=0,T=0;if(p)for(var z=u.child;z!==null;)b|=z.lanes|z.childLanes,T|=z.subtreeFlags&65011712,T|=z.flags&65011712,z.return=u,z=z.sibling;else for(z=u.child;z!==null;)b|=z.lanes|z.childLanes,T|=z.subtreeFlags,T|=z.flags,z.return=u,z=z.sibling;return u.subtreeFlags|=T,u.childLanes=b,p}function AC(u,p,b){var T=p.pendingProps;switch(zh(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(p),null;case 1:return fi(p),null;case 3:return b=p.stateNode,T=null,u!==null&&(T=u.memoizedState.cache),p.memoizedState.cache!==T&&(p.flags|=2048),$l(yi),lr(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(u===null||u.child===null)&&(_d(p)?Pd(p):u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Gp())),fi(p),null;case 26:return b=p.memoizedState,u===null?(Pd(p),b!==null?(fi(p),ow(p,b)):(fi(p),p.flags&=-16777217)):b?b!==u.memoizedState?(Pd(p),fi(p),ow(p,b)):(fi(p),p.flags&=-16777217):(u.memoizedProps!==T&&Pd(p),fi(p),p.flags&=-16777217),null;case 27:$t(p),b=ut.current;var z=p.type;if(u!==null&&p.stateNode!=null)u.memoizedProps!==T&&Pd(p);else{if(!T){if(p.stateNode===null)throw Error(n(166));return fi(p),null}u=vt.current,_d(p)?Sc(p):(u=ob(z,T,b),p.stateNode=u,Pd(p))}return fi(p),null;case 5:if($t(p),b=p.type,u!==null&&p.stateNode!=null)u.memoizedProps!==T&&Pd(p);else{if(!T){if(p.stateNode===null)throw Error(n(166));return fi(p),null}if(u=vt.current,_d(p))Sc(p);else{switch(z=$c(ut.current),u){case 1:u=z.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:u=z.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":u=z.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":u=z.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":u=z.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof T.is=="string"?z.createElement("select",{is:T.is}):z.createElement("select"),T.multiple?u.multiple=!0:T.size&&(u.size=T.size);break;default:u=typeof T.is=="string"?z.createElement(b,{is:T.is}):z.createElement(b)}}u[At]=p,u[Lt]=T;e:for(z=p.child;z!==null;){if(z.tag===5||z.tag===6)u.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===p)break e;for(;z.sibling===null;){if(z.return===null||z.return===p)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}p.stateNode=u;e:switch(Eo(u,b,T),b){case"button":case"input":case"select":case"textarea":u=!!T.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Pd(p)}}return fi(p),p.flags&=-16777217,null;case 6:if(u&&p.stateNode!=null)u.memoizedProps!==T&&Pd(p);else{if(typeof T!="string"&&p.stateNode===null)throw Error(n(166));if(u=ut.current,_d(p)){if(u=p.stateNode,b=p.memoizedProps,T=null,z=go,z!==null)switch(z.tag){case 27:case 5:T=z.memoizedProps}u[At]=p,u=!!(u.nodeValue===b||T!==null&&T.suppressHydrationWarning===!0||R0(u.nodeValue,b)),u||sa(p)}else u=$c(u).createTextNode(T),u[At]=p,p.stateNode=u}return fi(p),null;case 13:if(T=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(z=_d(p),T!==null&&T.dehydrated!==null){if(u===null){if(!z)throw Error(n(318));if(z=p.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(n(317));z[At]=p}else Ec(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;fi(p),z=!1}else z=Gp(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=z),z=!0;if(!z)return p.flags&256?(Ts(p),p):(Ts(p),null)}if(Ts(p),(p.flags&128)!==0)return p.lanes=b,p;if(b=T!==null,u=u!==null&&u.memoizedState!==null,b){T=p.child,z=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(z=T.alternate.memoizedState.cachePool.pool);var W=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(W=T.memoizedState.cachePool.pool),W!==z&&(T.flags|=2048)}return b!==u&&b&&(p.child.flags|=8192),Rv(p,p.updateQueue),fi(p),null;case 4:return lr(),u===null&&Qv(p.stateNode.containerInfo),fi(p),null;case 10:return $l(p.type),fi(p),null;case 19:if(et(Bi),z=p.memoizedState,z===null)return fi(p),null;if(T=(p.flags&128)!==0,W=z.rendering,W===null)if(T)Wg(z,!1);else{if(ii!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(W=_v(u),W!==null){for(p.flags|=128,Wg(z,!1),u=W.updateQueue,p.updateQueue=u,Rv(p,u),p.subtreeFlags=0,u=b,b=p.child;b!==null;)yv(b,u),b=b.sibling;return rt(Bi,Bi.current&1|2),p.child}u=u.sibling}z.tail!==null&&br()>Fv&&(p.flags|=128,T=!0,Wg(z,!1),p.lanes=4194304)}else{if(!T)if(u=_v(W),u!==null){if(p.flags|=128,T=!0,u=u.updateQueue,p.updateQueue=u,Rv(p,u),Wg(z,!0),z.tail===null&&z.tailMode==="hidden"&&!W.alternate&&!Un)return fi(p),null}else 2*br()-z.renderingStartTime>Fv&&b!==536870912&&(p.flags|=128,T=!0,Wg(z,!1),p.lanes=4194304);z.isBackwards?(W.sibling=p.child,p.child=W):(u=z.last,u!==null?u.sibling=W:p.child=W,z.last=W)}return z.tail!==null?(p=z.tail,z.rendering=p,z.tail=p.sibling,z.renderingStartTime=br(),p.sibling=null,u=Bi.current,rt(Bi,T?u&1|2:u&1),p):(fi(p),null);case 22:case 23:return Ts(p),tm(),T=p.memoizedState!==null,u!==null?u.memoizedState!==null!==T&&(p.flags|=8192):T&&(p.flags|=8192),T?(b&536870912)!==0&&(p.flags&128)===0&&(fi(p),p.subtreeFlags&6&&(p.flags|=8192)):fi(p),b=p.updateQueue,b!==null&&Rv(p,b.retryQueue),b=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==b&&(p.flags|=2048),u!==null&&et(ql),null;case 24:return b=null,u!==null&&(b=u.memoizedState.cache),p.memoizedState.cache!==b&&(p.flags|=2048),$l(yi),fi(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function s0(u,p){switch(zh(p),p.tag){case 1:return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return $l(yi),lr(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 26:case 27:case 5:return $t(p),null;case 13:if(Ts(p),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Ec()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return et(Bi),null;case 4:return lr(),null;case 10:return $l(p.type),null;case 22:case 23:return Ts(p),tm(),u!==null&&et(ql),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 24:return $l(yi),null;case 25:return null;default:return null}}function sw(u,p){switch(zh(p),p.tag){case 3:$l(yi),lr();break;case 26:case 27:case 5:$t(p);break;case 4:lr();break;case 13:Ts(p);break;case 19:et(Bi);break;case 10:$l(p.type);break;case 22:case 23:Ts(p),tm(),u!==null&&et(ql);break;case 24:$l(yi)}}function om(u,p){try{var b=p.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var z=T.next;b=z;do{if((b.tag&u)===u){T=void 0;var W=b.create,fe=b.inst;T=W(),fe.destroy=T}b=b.next}while(b!==z)}}catch(Ee){Oa(p,p.return,Ee)}}function Ql(u,p,b){try{var T=p.updateQueue,z=T!==null?T.lastEffect:null;if(z!==null){var W=z.next;T=W;do{if((T.tag&u)===u){var fe=T.inst,Ee=fe.destroy;if(Ee!==void 0){fe.destroy=void 0,z=p;var Ke=b,Et=Ee;try{Et()}catch(Gt){Oa(z,Ke,Gt)}}}T=T.next}while(T!==W)}}catch(Gt){Oa(p,p.return,Gt)}}function lw(u){var p=u.updateQueue;if(p!==null){var b=u.stateNode;try{fa(p,b)}catch(T){Oa(u,u.return,T)}}}function ni(u,p,b){b.props=Wh(u.type,u.memoizedProps),b.state=u.memoizedState;try{b.componentWillUnmount()}catch(T){Oa(u,p,T)}}function Cu(u,p){try{var b=u.ref;if(b!==null){switch(u.tag){case 26:case 27:case 5:var T=u.stateNode;break;case 30:T=u.stateNode;break;default:T=u.stateNode}typeof b=="function"?u.refCleanup=b(T):b.current=T}}catch(z){Oa(u,p,z)}}function Fc(u,p){var b=u.ref,T=u.refCleanup;if(b!==null)if(typeof T=="function")try{T()}catch(z){Oa(u,p,z)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(z){Oa(u,p,z)}else b.current=null}function Kg(u){var p=u.type,b=u.memoizedProps,T=u.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":b.autoFocus&&T.focus();break e;case"img":b.src?T.src=b.src:b.srcSet&&(T.srcset=b.srcSet)}}catch(z){Oa(u,u.return,z)}}function sm(u,p,b){try{var T=u.stateNode;Tw(T,u.type,b,p),T[Lt]=p}catch(z){Oa(u,u.return,z)}}function lm(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&zd(u.type)||u.tag===4}function Mv(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||lm(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&zd(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Ov(u,p,b){var T=u.tag;if(T===5||T===6)u=u.stateNode,p?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(u,p):(p=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,p.appendChild(u),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=oy));else if(T!==4&&(T===27&&zd(u.type)&&(b=u.stateNode,p=null),u=u.child,u!==null))for(Ov(u,p,b),u=u.sibling;u!==null;)Ov(u,p,b),u=u.sibling}function If(u,p,b){var T=u.tag;if(T===5||T===6)u=u.stateNode,p?b.insertBefore(u,p):b.appendChild(u);else if(T!==4&&(T===27&&zd(u.type)&&(b=u.stateNode),u=u.child,u!==null))for(If(u,p,b),u=u.sibling;u!==null;)If(u,p,b),u=u.sibling}function kv(u){var p=u.stateNode,b=u.memoizedProps;try{for(var T=u.type,z=p.attributes;z.length;)p.removeAttributeNode(z[0]);Eo(p,T,b),p[At]=u,p[Lt]=b}catch(W){Oa(u,u.return,W)}}var Zs=!1,ai=!1,Df=!1,cm=typeof WeakSet=="function"?WeakSet:Set,xo=null;function cw(u,p){if(u=u.containerInfo,M0=ir,u=jp(u),$p(u)){if("selectionStart"in u)var b={start:u.selectionStart,end:u.selectionEnd};else e:{b=(b=u.ownerDocument)&&b.defaultView||window;var T=b.getSelection&&b.getSelection();if(T&&T.rangeCount!==0){b=T.anchorNode;var z=T.anchorOffset,W=T.focusNode;T=T.focusOffset;try{b.nodeType,W.nodeType}catch{b=null;break e}var fe=0,Ee=-1,Ke=-1,Et=0,Gt=0,Qt=u,Rt=null;t:for(;;){for(var Ot;Qt!==b||z!==0&&Qt.nodeType!==3||(Ee=fe+z),Qt!==W||T!==0&&Qt.nodeType!==3||(Ke=fe+T),Qt.nodeType===3&&(fe+=Qt.nodeValue.length),(Ot=Qt.firstChild)!==null;)Rt=Qt,Qt=Ot;for(;;){if(Qt===u)break t;if(Rt===b&&++Et===z&&(Ee=fe),Rt===W&&++Gt===T&&(Ke=fe),(Ot=Qt.nextSibling)!==null)break;Qt=Rt,Rt=Qt.parentNode}Qt=Ot}b=Ee===-1||Ke===-1?null:{start:Ee,end:Ke}}else b=null}b=b||{start:0,end:0}}else b=null;for(tb={focusedElem:u,selectionRange:b},ir=!1,xo=p;xo!==null;)if(p=xo,u=p.child,(p.subtreeFlags&1024)!==0&&u!==null)u.return=p,xo=u;else for(;xo!==null;){switch(p=xo,W=p.alternate,u=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&W!==null){u=void 0,b=p,z=W.memoizedProps,W=W.memoizedState,T=b.stateNode;try{var pn=Wh(b.type,z,b.elementType===b.type);u=T.getSnapshotBeforeUpdate(pn,W),T.__reactInternalSnapshotBeforeUpdate=u}catch(sn){Oa(b,b.return,sn)}}break;case 3:if((u&1024)!==0){if(u=p.stateNode.containerInfo,b=u.nodeType,b===9)Sm(u);else if(b===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Sm(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=p.sibling,u!==null){u.return=p.return,xo=u;break}xo=p.return}}function zf(u,p,b){var T=b.flags;switch(b.tag){case 0:case 11:case 15:Tu(u,b),T&4&&om(5,b);break;case 1:if(Tu(u,b),T&4)if(u=b.stateNode,p===null)try{u.componentDidMount()}catch(fe){Oa(b,b.return,fe)}else{var z=Wh(b.type,p.memoizedProps);p=p.memoizedState;try{u.componentDidUpdate(z,p,u.__reactInternalSnapshotBeforeUpdate)}catch(fe){Oa(b,b.return,fe)}}T&64&&lw(b),T&512&&Cu(b,b.return);break;case 3:if(Tu(u,b),T&64&&(u=b.updateQueue,u!==null)){if(p=null,b.child!==null)switch(b.child.tag){case 27:case 5:p=b.child.stateNode;break;case 1:p=b.child.stateNode}try{fa(u,p)}catch(fe){Oa(b,b.return,fe)}}break;case 27:p===null&&T&4&&kv(b);case 26:case 5:Tu(u,b),p===null&&T&4&&Kg(b),T&512&&Cu(b,b.return);break;case 12:Tu(u,b);break;case 13:Tu(u,b),T&4&&c0(u,b),T&64&&(u=b.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(b=Ru.bind(null,b),BC(u,b))));break;case 22:if(T=b.memoizedState!==null||Zs,!T){p=p!==null&&p.memoizedState!==null||ai,z=Zs;var W=ai;Zs=T,(ai=p)&&!W?Au(u,b,(b.subtreeFlags&8772)!==0):Tu(u,b),Zs=z,ai=W}break;case 30:break;default:Tu(u,b)}}function uw(u){var p=u.alternate;p!==null&&(u.alternate=null,uw(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&ar(p)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var $a=null,wo=!1;function Nc(u,p,b){for(b=b.child;b!==null;)l0(u,p,b),b=b.sibling}function l0(u,p,b){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(gr,b)}catch{}switch(b.tag){case 26:ai||Fc(b,p),Nc(u,p,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:ai||Fc(b,p);var T=$a,z=wo;zd(b.type)&&($a=b.stateNode,wo=!1),Nc(u,p,b),Em(b.stateNode),$a=T,wo=z;break;case 5:ai||Fc(b,p);case 6:if(T=$a,z=wo,$a=null,Nc(u,p,b),$a=T,wo=z,$a!==null)if(wo)try{($a.nodeType===9?$a.body:$a.nodeName==="HTML"?$a.ownerDocument.body:$a).removeChild(b.stateNode)}catch(W){Oa(b,p,W)}else try{$a.removeChild(b.stateNode)}catch(W){Oa(b,p,W)}break;case 18:$a!==null&&(wo?(u=$a,sy(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,b.stateNode),za(u)):sy($a,b.stateNode));break;case 4:T=$a,z=wo,$a=b.stateNode.containerInfo,wo=!0,Nc(u,p,b),$a=T,wo=z;break;case 0:case 11:case 14:case 15:ai||Ql(2,b,p),ai||Ql(4,b,p),Nc(u,p,b);break;case 1:ai||(Fc(b,p),T=b.stateNode,typeof T.componentWillUnmount=="function"&&ni(b,p,T)),Nc(u,p,b);break;case 21:Nc(u,p,b);break;case 22:ai=(T=ai)||b.memoizedState!==null,Nc(u,p,b),ai=T;break;default:Nc(u,p,b)}}function c0(u,p){if(p.memoizedState===null&&(u=p.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{za(u)}catch(b){Oa(p,p.return,b)}}function PC(u){switch(u.tag){case 13:case 19:var p=u.stateNode;return p===null&&(p=u.stateNode=new cm),p;case 22:return u=u.stateNode,p=u._retryCache,p===null&&(p=u._retryCache=new cm),p;default:throw Error(n(435,u.tag))}}function u0(u,p){var b=PC(u);p.forEach(function(T){var z=Uf.bind(null,u,T);b.has(T)||(b.add(T),T.then(z,z))})}function gl(u,p){var b=p.deletions;if(b!==null)for(var T=0;T<b.length;T++){var z=b[T],W=u,fe=p,Ee=fe;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(zd(Ee.type)){$a=Ee.stateNode,wo=!1;break e}break;case 5:$a=Ee.stateNode,wo=!1;break e;case 3:case 4:$a=Ee.stateNode.containerInfo,wo=!0;break e}Ee=Ee.return}if($a===null)throw Error(n(160));l0(W,fe,z),$a=null,wo=!1,W=z.alternate,W!==null&&(W.return=null),z.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)dw(p,u),p=p.sibling}var jc=null;function dw(u,p){var b=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:gl(p,u),As(u),T&4&&(Ql(3,u,u.return),om(3,u),Ql(5,u,u.return));break;case 1:gl(p,u),As(u),T&512&&(ai||b===null||Fc(b,b.return)),T&64&&Zs&&(u=u.updateQueue,u!==null&&(T=u.callbacks,T!==null&&(b=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=b===null?T:b.concat(T))));break;case 26:var z=jc;if(gl(p,u),As(u),T&512&&(ai||b===null||Fc(b,b.return)),T&4){var W=b!==null?b.memoizedState:null;if(T=u.memoizedState,b===null)if(T===null)if(u.stateNode===null){e:{T=u.type,b=u.memoizedProps,z=z.ownerDocument||z;t:switch(T){case"title":W=z.getElementsByTagName("title")[0],(!W||W[yt]||W[At]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=z.createElement(T),z.head.insertBefore(W,z.querySelector("head > title"))),Eo(W,T,b),W[At]=u,Pr(W),T=W;break e;case"link":var fe=D("link","href",z).get(T+(b.href||""));if(fe){for(var Ee=0;Ee<fe.length;Ee++)if(W=fe[Ee],W.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&W.getAttribute("rel")===(b.rel==null?null:b.rel)&&W.getAttribute("title")===(b.title==null?null:b.title)&&W.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){fe.splice(Ee,1);break t}}W=z.createElement(T),Eo(W,T,b),z.head.appendChild(W);break;case"meta":if(fe=D("meta","content",z).get(T+(b.content||""))){for(Ee=0;Ee<fe.length;Ee++)if(W=fe[Ee],W.getAttribute("content")===(b.content==null?null:""+b.content)&&W.getAttribute("name")===(b.name==null?null:b.name)&&W.getAttribute("property")===(b.property==null?null:b.property)&&W.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&W.getAttribute("charset")===(b.charSet==null?null:b.charSet)){fe.splice(Ee,1);break t}}W=z.createElement(T),Eo(W,T,b),z.head.appendChild(W);break;default:throw Error(n(468,T))}W[At]=u,Pr(W),T=W}u.stateNode=T}else H(z,u.type,u.stateNode);else u.stateNode=f(z,T,u.memoizedProps);else W!==T?(W===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):W.count--,T===null?H(z,u.type,u.stateNode):f(z,T,u.memoizedProps)):T===null&&u.stateNode!==null&&sm(u,u.memoizedProps,b.memoizedProps)}break;case 27:gl(p,u),As(u),T&512&&(ai||b===null||Fc(b,b.return)),b!==null&&T&4&&sm(u,u.memoizedProps,b.memoizedProps);break;case 5:if(gl(p,u),As(u),T&512&&(ai||b===null||Fc(b,b.return)),u.flags&32){z=u.stateNode;try{lu(z,"")}catch(Ot){Oa(u,u.return,Ot)}}T&4&&u.stateNode!=null&&(z=u.memoizedProps,sm(u,z,b!==null?b.memoizedProps:z)),T&1024&&(Df=!0);break;case 6:if(gl(p,u),As(u),T&4){if(u.stateNode===null)throw Error(n(162));T=u.memoizedProps,b=u.stateNode;try{b.nodeValue=T}catch(Ot){Oa(u,u.return,Ot)}}break;case 3:if(M=null,z=jc,jc=lb(p.containerInfo),gl(p,u),jc=z,As(u),T&4&&b!==null&&b.memoizedState.isDehydrated)try{za(p.containerInfo)}catch(Ot){Oa(u,u.return,Ot)}Df&&(Df=!1,d0(u));break;case 4:T=jc,jc=lb(u.stateNode.containerInfo),gl(p,u),As(u),jc=T;break;case 12:gl(p,u),As(u);break;case 13:gl(p,u),As(u),u.child.flags&8192&&u.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(g0=br()),T&4&&(T=u.updateQueue,T!==null&&(u.updateQueue=null,u0(u,T)));break;case 22:z=u.memoizedState!==null;var Ke=b!==null&&b.memoizedState!==null,Et=Zs,Gt=ai;if(Zs=Et||z,ai=Gt||Ke,gl(p,u),ai=Gt,Zs=Et,As(u),T&8192)e:for(p=u.stateNode,p._visibility=z?p._visibility&-2:p._visibility|1,z&&(b===null||Ke||Zs||ai||Lf(u)),b=null,p=u;;){if(p.tag===5||p.tag===26){if(b===null){Ke=b=p;try{if(W=Ke.stateNode,z)fe=W.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none";else{Ee=Ke.stateNode;var Qt=Ke.memoizedProps.style,Rt=Qt!=null&&Qt.hasOwnProperty("display")?Qt.display:null;Ee.style.display=Rt==null||typeof Rt=="boolean"?"":(""+Rt).trim()}}catch(Ot){Oa(Ke,Ke.return,Ot)}}}else if(p.tag===6){if(b===null){Ke=p;try{Ke.stateNode.nodeValue=z?"":Ke.memoizedProps}catch(Ot){Oa(Ke,Ke.return,Ot)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===u)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break e;for(;p.sibling===null;){if(p.return===null||p.return===u)break e;b===p&&(b=null),p=p.return}b===p&&(b=null),p.sibling.return=p.return,p=p.sibling}T&4&&(T=u.updateQueue,T!==null&&(b=T.retryQueue,b!==null&&(T.retryQueue=null,u0(u,b))));break;case 19:gl(p,u),As(u),T&4&&(T=u.updateQueue,T!==null&&(u.updateQueue=null,u0(u,T)));break;case 30:break;case 21:break;default:gl(p,u),As(u)}}function As(u){var p=u.flags;if(p&2){try{for(var b,T=u.return;T!==null;){if(lm(T)){b=T;break}T=T.return}if(b==null)throw Error(n(160));switch(b.tag){case 27:var z=b.stateNode,W=Mv(u);If(u,W,z);break;case 5:var fe=b.stateNode;b.flags&32&&(lu(fe,""),b.flags&=-33);var Ee=Mv(u);If(u,Ee,fe);break;case 3:case 4:var Ke=b.stateNode.containerInfo,Et=Mv(u);Ov(u,Et,Ke);break;default:throw Error(n(161))}}catch(Gt){Oa(u,u.return,Gt)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function d0(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var p=u;d0(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),u=u.sibling}}function Tu(u,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)zf(u,p.alternate,p),p=p.sibling}function Lf(u){for(u=u.child;u!==null;){var p=u;switch(p.tag){case 0:case 11:case 14:case 15:Ql(4,p,p.return),Lf(p);break;case 1:Fc(p,p.return);var b=p.stateNode;typeof b.componentWillUnmount=="function"&&ni(p,p.return,b),Lf(p);break;case 27:Em(p.stateNode);case 26:case 5:Fc(p,p.return),Lf(p);break;case 22:p.memoizedState===null&&Lf(p);break;case 30:Lf(p);break;default:Lf(p)}u=u.sibling}}function Au(u,p,b){for(b=b&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var T=p.alternate,z=u,W=p,fe=W.flags;switch(W.tag){case 0:case 11:case 15:Au(z,W,b),om(4,W);break;case 1:if(Au(z,W,b),T=W,z=T.stateNode,typeof z.componentDidMount=="function")try{z.componentDidMount()}catch(Et){Oa(T,T.return,Et)}if(T=W,z=T.updateQueue,z!==null){var Ee=T.stateNode;try{var Ke=z.shared.hiddenCallbacks;if(Ke!==null)for(z.shared.hiddenCallbacks=null,z=0;z<Ke.length;z++)Gl(Ke[z],Ee)}catch(Et){Oa(T,T.return,Et)}}b&&fe&64&&lw(W),Cu(W,W.return);break;case 27:kv(W);case 26:case 5:Au(z,W,b),b&&T===null&&fe&4&&Kg(W),Cu(W,W.return);break;case 12:Au(z,W,b);break;case 13:Au(z,W,b),b&&fe&4&&c0(z,W);break;case 22:W.memoizedState===null&&Au(z,W,b),Cu(W,W.return);break;case 30:break;default:Au(z,W,b)}p=p.sibling}}function Iv(u,p){var b=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),u=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(u=p.memoizedState.cachePool.pool),u!==b&&(u!=null&&u.refCount++,b!=null&&Cf(b))}function Dv(u,p){u=null,p.alternate!==null&&(u=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==u&&(p.refCount++,u!=null&&Cf(u))}function yl(u,p,b,T){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)f0(u,p,b,T),p=p.sibling}function f0(u,p,b,T){var z=p.flags;switch(p.tag){case 0:case 11:case 15:yl(u,p,b,T),z&2048&&om(9,p);break;case 1:yl(u,p,b,T);break;case 3:yl(u,p,b,T),z&2048&&(u=null,p.alternate!==null&&(u=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==u&&(p.refCount++,u!=null&&Cf(u)));break;case 12:if(z&2048){yl(u,p,b,T),u=p.stateNode;try{var W=p.memoizedProps,fe=W.id,Ee=W.onPostCommit;typeof Ee=="function"&&Ee(fe,p.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ke){Oa(p,p.return,Ke)}}else yl(u,p,b,T);break;case 13:yl(u,p,b,T);break;case 23:break;case 22:W=p.stateNode,fe=p.alternate,p.memoizedState!==null?W._visibility&2?yl(u,p,b,T):um(u,p):W._visibility&2?yl(u,p,b,T):(W._visibility|=2,Kh(u,p,b,T,(p.subtreeFlags&10256)!==0)),z&2048&&Iv(fe,p);break;case 24:yl(u,p,b,T),z&2048&&Dv(p.alternate,p);break;default:yl(u,p,b,T)}}function Kh(u,p,b,T,z){for(z=z&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var W=u,fe=p,Ee=b,Ke=T,Et=fe.flags;switch(fe.tag){case 0:case 11:case 15:Kh(W,fe,Ee,Ke,z),om(8,fe);break;case 23:break;case 22:var Gt=fe.stateNode;fe.memoizedState!==null?Gt._visibility&2?Kh(W,fe,Ee,Ke,z):um(W,fe):(Gt._visibility|=2,Kh(W,fe,Ee,Ke,z)),z&&Et&2048&&Iv(fe.alternate,fe);break;case 24:Kh(W,fe,Ee,Ke,z),z&&Et&2048&&Dv(fe.alternate,fe);break;default:Kh(W,fe,Ee,Ke,z)}p=p.sibling}}function um(u,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var b=u,T=p,z=T.flags;switch(T.tag){case 22:um(b,T),z&2048&&Iv(T.alternate,T);break;case 24:um(b,T),z&2048&&Dv(T.alternate,T);break;default:um(b,T)}p=p.sibling}}var Rd=8192;function dm(u){if(u.subtreeFlags&Rd)for(u=u.child;u!==null;)zv(u),u=u.sibling}function zv(u){switch(u.tag){case 26:dm(u),u.flags&Rd&&u.memoizedState!==null&&de(jc,u.memoizedState,u.memoizedProps);break;case 5:dm(u);break;case 3:case 4:var p=jc;jc=lb(u.stateNode.containerInfo),dm(u),jc=p;break;case 22:u.memoizedState===null&&(p=u.alternate,p!==null&&p.memoizedState!==null?(p=Rd,Rd=16777216,dm(u),Rd=p):dm(u));break;default:dm(u)}}function fm(u){var p=u.alternate;if(p!==null&&(u=p.child,u!==null)){p.child=null;do p=u.sibling,u.sibling=null,u=p;while(u!==null)}}function Xh(u){var p=u.deletions;if((u.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var T=p[b];xo=T,h0(T,u)}fm(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)fw(u),u=u.sibling}function fw(u){switch(u.tag){case 0:case 11:case 15:Xh(u),u.flags&2048&&Ql(9,u,u.return);break;case 3:Xh(u);break;case 12:Xh(u);break;case 22:var p=u.stateNode;u.memoizedState!==null&&p._visibility&2&&(u.return===null||u.return.tag!==13)?(p._visibility&=-3,Lv(u)):Xh(u);break;default:Xh(u)}}function Lv(u){var p=u.deletions;if((u.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var T=p[b];xo=T,h0(T,u)}fm(u)}for(u=u.child;u!==null;){switch(p=u,p.tag){case 0:case 11:case 15:Ql(8,p,p.return),Lv(p);break;case 22:b=p.stateNode,b._visibility&2&&(b._visibility&=-3,Lv(p));break;default:Lv(p)}u=u.sibling}}function h0(u,p){for(;xo!==null;){var b=xo;switch(b.tag){case 0:case 11:case 15:Ql(8,b,p);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var T=b.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Cf(b.memoizedState.cache)}if(T=b.child,T!==null)T.return=b,xo=T;else e:for(b=u;xo!==null;){T=xo;var z=T.sibling,W=T.return;if(uw(T),T===b){xo=null;break e}if(z!==null){z.return=W,xo=z;break e}xo=W}}}var hw={getCacheForType:function(u){var p=zi(yi),b=p.data.get(u);return b===void 0&&(b=u(),p.data.set(u,b)),b}},RC=typeof WeakMap=="function"?WeakMap:Map,ha=0,ca=null,Fn=null,Zn=0,pa=0,vl=null,Bf=!1,hm=!1,p0=!1,Pu=0,ii=0,Md=0,Ff=0,Bv=0,Jl=0,Od=0,Xg=null,Ps=null,m0=!1,g0=0,Fv=1/0,Yg=null,Nf=null,qo=0,ec=null,Yh=null,jf=0,Nv=0,hi=null,jv=null,Qg=0,$v=null;function Rs(){if((ha&2)!==0&&Zn!==0)return Zn&-Zn;if(ce.T!==null){var u=fl;return u!==0?u:Xv()}return Me()}function Uv(){Jl===0&&(Jl=(Zn&536870912)===0||Un?Ne():536870912);var u=is.current;return u!==null&&(u.flags|=32),Jl}function bl(u,p,b){(u===ca&&(pa===2||pa===9)||u.cancelPendingCommit!==null)&&(Qh(u,0),kd(u,Zn,Jl,!1)),gt(u,b),((ha&2)===0||u!==ca)&&(u===ca&&((ha&2)===0&&(Ff|=b),ii===4&&kd(u,Zn,Jl,!1)),tc(u))}function pw(u,p,b){if((ha&6)!==0)throw Error(n(327));var T=!b&&(p&124)===0&&(p&u.expiredLanes)===0||ye(u,p),z=T?OC(u,p):mm(u,p,!0),W=T;do{if(z===0){hm&&!T&&kd(u,p,0,!1);break}else{if(b=u.current.alternate,W&&!MC(b)){z=mm(u,p,!1),W=!1;continue}if(z===2){if(W=p,u.errorRecoveryDisabledLanes&W)var fe=0;else fe=u.pendingLanes&-536870913,fe=fe!==0?fe:fe&536870912?536870912:0;if(fe!==0){p=fe;e:{var Ee=u;z=Xg;var Ke=Ee.current.memoizedState.isDehydrated;if(Ke&&(Qh(Ee,fe).flags|=256),fe=mm(Ee,fe,!1),fe!==2){if(p0&&!Ke){Ee.errorRecoveryDisabledLanes|=W,Ff|=W,z=4;break e}W=Ps,Ps=z,W!==null&&(Ps===null?Ps=W:Ps.push.apply(Ps,W))}z=fe}if(W=!1,z!==2)continue}}if(z===1){Qh(u,0),kd(u,p,0,!0);break}e:{switch(T=u,W=z,W){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:kd(T,p,Jl,!Bf);break e;case 2:Ps=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(z=g0+300-br(),10<z)){if(kd(T,p,Jl,!Bf),me(T,0,!0)!==0)break e;T.timeoutHandle=Aw(mw.bind(null,T,b,Ps,Yg,m0,p,Jl,Ff,Od,Bf,W,2,-0,0),z);break e}mw(T,b,Ps,Yg,m0,p,Jl,Ff,Od,Bf,W,0,-0,0)}}break}while(!0);tc(u)}function mw(u,p,b,T,z,W,fe,Ee,Ke,Et,Gt,Qt,Rt,Ot){if(u.timeoutHandle=-1,Qt=p.subtreeFlags,(Qt&8192||(Qt&16785408)===16785408)&&(re={stylesheets:null,count:0,unsuspend:se},zv(p),Qt=he(),Qt!==null)){u.cancelPendingCommit=Qt(Vv.bind(null,u,p,W,b,T,z,fe,Ee,Ke,Gt,1,Rt,Ot)),kd(u,W,fe,!Et);return}Vv(u,p,W,b,T,z,fe,Ee,Ke)}function MC(u){for(var p=u;;){var b=p.tag;if((b===0||b===11||b===15)&&p.flags&16384&&(b=p.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var T=0;T<b.length;T++){var z=b[T],W=z.getSnapshot;z=z.value;try{if(!rs(W(),z))return!1}catch{return!1}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function kd(u,p,b,T){p&=~Bv,p&=~Ff,u.suspendedLanes|=p,u.pingedLanes&=~p,T&&(u.warmLanes|=p),T=u.expirationTimes;for(var z=p;0<z;){var W=31-Qr(z),fe=1<<W;T[W]=-1,z&=~fe}b!==0&&ft(u,b,p)}function So(){return(ha&6)===0?(tp(0),!1):!0}function Jg(){if(Fn!==null){if(pa===0)var u=Fn.return;else u=Fn,dl=ul=null,Hh(u),Of=null,Td=0,u=Fn;for(;u!==null;)sw(u.alternate,u),u=u.return;Fn=null}}function Qh(u,p){var b=u.timeoutHandle;b!==-1&&(u.timeoutHandle=-1,Pw(b)),b=u.cancelPendingCommit,b!==null&&(u.cancelPendingCommit=null,b()),Jg(),ca=u,Fn=b=xc(u.current,null),Zn=p,pa=0,vl=null,Bf=!1,hm=ye(u,p),p0=!1,Od=Jl=Bv=Ff=Md=ii=0,Ps=Xg=null,m0=!1,(p&8)!==0&&(p|=p&32);var T=u.entangledLanes;if(T!==0)for(u=u.entanglements,T&=p;0<T;){var z=31-Qr(T),W=1<<z;p|=u[z],T&=~W}return Pu=p,hd(),b}function Id(u,p){rn=null,ce.H=aa,p===Er||p===xd?(p=$h(),pa=3):p===jh?(p=$h(),pa=4):pa=p===J_?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,vl=p,Fn===null&&(ii=1,qg(u,No(p,u.current)))}function ey(){var u=ce.H;return ce.H=aa,u===null?aa:u}function pm(){var u=ce.A;return ce.A=hw,u}function $f(){ii=4,Bf||(Zn&4194048)!==Zn&&is.current!==null||(hm=!0),(Md&134217727)===0&&(Ff&134217727)===0||ca===null||kd(ca,Zn,Jl,!1)}function mm(u,p,b){var T=ha;ha|=2;var z=ey(),W=pm();(ca!==u||Zn!==p)&&(Yg=null,Qh(u,p)),p=!1;var fe=ii;e:do try{if(pa!==0&&Fn!==null){var Ee=Fn,Ke=vl;switch(pa){case 8:Jg(),fe=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(p=!0);var Et=pa;if(pa=0,vl=null,gm(u,Ee,Ke,Et),b&&hm){fe=0;break e}break;default:Et=pa,pa=0,vl=null,gm(u,Ee,Ke,Et)}}qv(),fe=ii;break}catch(Gt){Id(u,Gt)}while(!0);return p&&u.shellSuspendCounter++,dl=ul=null,ha=T,ce.H=z,ce.A=W,Fn===null&&(ca=null,Zn=0,hd()),fe}function qv(){for(;Fn!==null;)y0(Fn)}function OC(u,p){var b=ha;ha|=2;var T=ey(),z=pm();ca!==u||Zn!==p?(Yg=null,Fv=br()+500,Qh(u,p)):hm=ye(u,p);e:do try{if(pa!==0&&Fn!==null){p=Fn;var W=vl;t:switch(pa){case 1:pa=0,vl=null,gm(u,p,W,1);break;case 2:case 9:if(wd(W)){pa=0,vl=null,v0(p);break}p=function(){pa!==2&&pa!==9||ca!==u||(pa=7),tc(u)},W.then(p,p);break e;case 3:pa=7;break e;case 4:pa=5;break e;case 7:wd(W)?(pa=0,vl=null,v0(p)):(pa=0,vl=null,gm(u,p,W,7));break;case 5:var fe=null;switch(Fn.tag){case 26:fe=Fn.memoizedState;case 5:case 27:var Ee=Fn;if(!fe||Q(fe)){pa=0,vl=null;var Ke=Ee.sibling;if(Ke!==null)Fn=Ke;else{var Et=Ee.return;Et!==null?(Fn=Et,ty(Et)):Fn=null}break t}}pa=0,vl=null,gm(u,p,W,5);break;case 6:pa=0,vl=null,gm(u,p,W,6);break;case 8:Jg(),ii=6;break e;default:throw Error(n(462))}}kC();break}catch(Gt){Id(u,Gt)}while(!0);return dl=ul=null,ce.H=T,ce.A=z,ha=b,Fn!==null?0:(ca=null,Zn=0,hd(),ii)}function kC(){for(;Fn!==null&&!mr();)y0(Fn)}function y0(u){var p=iw(u.alternate,u,Pu);u.memoizedProps=u.pendingProps,p===null?ty(u):Fn=p}function v0(u){var p=u,b=p.alternate;switch(p.tag){case 15:case 0:p=Cv(b,p,p.pendingProps,p.type,void 0,Zn);break;case 11:p=Cv(b,p,p.pendingProps,p.type.render,p.ref,Zn);break;case 5:Hh(p);default:sw(b,p),p=Fn=yv(p,Pu),p=iw(b,p,Pu)}u.memoizedProps=u.pendingProps,p===null?ty(u):Fn=p}function gm(u,p,b,T){dl=ul=null,Hh(p),Of=null,Td=0;var z=p.return;try{if(Sv(u,z,p,b,Zn)){ii=1,qg(u,No(b,u.current)),Fn=null;return}}catch(W){if(z!==null)throw Fn=z,W;ii=1,qg(u,No(b,u.current)),Fn=null;return}p.flags&32768?(Un||T===1?u=!0:hm||(Zn&536870912)!==0?u=!1:(Bf=u=!0,(T===2||T===9||T===3||T===6)&&(T=is.current,T!==null&&T.tag===13&&(T.flags|=16384))),b0(p,u)):ty(p)}function ty(u){var p=u;do{if((p.flags&32768)!==0){b0(p,Bf);return}u=p.return;var b=AC(p.alternate,p,Pu);if(b!==null){Fn=b;return}if(p=p.sibling,p!==null){Fn=p;return}Fn=p=u}while(p!==null);ii===0&&(ii=5)}function b0(u,p){do{var b=s0(u.alternate,u);if(b!==null){b.flags&=32767,Fn=b;return}if(b=u.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!p&&(u=u.sibling,u!==null)){Fn=u;return}Fn=u=b}while(u!==null);ii=6,Fn=null}function Vv(u,p,b,T,z,W,fe,Ee,Ke){u.cancelPendingCommit=null;do Gv();while(qo!==0);if((ha&6)!==0)throw Error(n(327));if(p!==null){if(p===u.current)throw Error(n(177));if(W=p.lanes|p.childLanes,W|=_f,ot(u,b,W,fe,Ee,Ke),u===ca&&(Fn=ca=null,Zn=0),Yh=p,ec=u,jf=b,Nv=W,hi=z,jv=T,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,xw(Ye,function(){return vw(),null})):(u.callbackNode=null,u.callbackPriority=0),T=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||T){T=ce.T,ce.T=null,z=Ce.p,Ce.p=2,fe=ha,ha|=4;try{cw(u,p,b)}finally{ha=fe,Ce.p=z,ce.T=T}}qo=1,Hv(),gw(),_0()}}function Hv(){if(qo===1){qo=0;var u=ec,p=Yh,b=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||b){b=ce.T,ce.T=null;var T=Ce.p;Ce.p=2;var z=ha;ha|=4;try{dw(p,u);var W=tb,fe=jp(u.containerInfo),Ee=W.focusedElem,Ke=W.selectionRange;if(fe!==Ee&&Ee&&Ee.ownerDocument&&Np(Ee.ownerDocument.documentElement,Ee)){if(Ke!==null&&$p(Ee)){var Et=Ke.start,Gt=Ke.end;if(Gt===void 0&&(Gt=Et),"selectionStart"in Ee)Ee.selectionStart=Et,Ee.selectionEnd=Math.min(Gt,Ee.value.length);else{var Qt=Ee.ownerDocument||document,Rt=Qt&&Qt.defaultView||window;if(Rt.getSelection){var Ot=Rt.getSelection(),pn=Ee.textContent.length,sn=Math.min(Ke.start,pn),Sa=Ke.end===void 0?sn:Math.min(Ke.end,pn);!Ot.extend&&sn>Sa&&(fe=Sa,Sa=sn,sn=fe);var pt=Fp(Ee,sn),ct=Fp(Ee,Sa);if(pt&&ct&&(Ot.rangeCount!==1||Ot.anchorNode!==pt.node||Ot.anchorOffset!==pt.offset||Ot.focusNode!==ct.node||Ot.focusOffset!==ct.offset)){var St=Qt.createRange();St.setStart(pt.node,pt.offset),Ot.removeAllRanges(),sn>Sa?(Ot.addRange(St),Ot.extend(ct.node,ct.offset)):(St.setEnd(ct.node,ct.offset),Ot.addRange(St))}}}}for(Qt=[],Ot=Ee;Ot=Ot.parentNode;)Ot.nodeType===1&&Qt.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<Qt.length;Ee++){var nr=Qt[Ee];nr.element.scrollLeft=nr.left,nr.element.scrollTop=nr.top}}ir=!!M0,tb=M0=null}finally{ha=z,Ce.p=T,ce.T=b}}u.current=p,qo=2}}function gw(){if(qo===2){qo=0;var u=ec,p=Yh,b=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||b){b=ce.T,ce.T=null;var T=Ce.p;Ce.p=2;var z=ha;ha|=4;try{zf(u,p.alternate,p)}finally{ha=z,Ce.p=T,ce.T=b}}qo=3}}function _0(){if(qo===4||qo===3){qo=0,Vr();var u=ec,p=Yh,b=jf,T=jv;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?qo=5:(qo=0,Yh=ec=null,yw(u,u.pendingLanes));var z=u.pendingLanes;if(z===0&&(Nf=null),wt(b),p=p.stateNode,Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(gr,p,void 0,(p.current.flags&128)===128)}catch{}if(T!==null){p=ce.T,z=Ce.p,Ce.p=2,ce.T=null;try{for(var W=u.onRecoverableError,fe=0;fe<T.length;fe++){var Ee=T[fe];W(Ee.value,{componentStack:Ee.stack})}}finally{ce.T=p,Ce.p=z}}(jf&3)!==0&&Gv(),tc(u),z=u.pendingLanes,(b&4194090)!==0&&(z&42)!==0?u===$v?Qg++:(Qg=0,$v=u):Qg=0,tp(0)}}function yw(u,p){(u.pooledCacheLanes&=p)===0&&(p=u.pooledCache,p!=null&&(u.pooledCache=null,Cf(p)))}function Gv(u){return Hv(),gw(),_0(),vw()}function vw(){if(qo!==5)return!1;var u=ec,p=Nv;Nv=0;var b=wt(jf),T=ce.T,z=Ce.p;try{Ce.p=32>b?32:b,ce.T=null,b=hi,hi=null;var W=ec,fe=jf;if(qo=0,Yh=ec=null,jf=0,(ha&6)!==0)throw Error(n(331));var Ee=ha;if(ha|=4,fw(W.current),f0(W,W.current,fe,b),ha=Ee,tp(0,!1),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(gr,W)}catch{}return!0}finally{Ce.p=z,ce.T=T,yw(u,p)}}function bw(u,p,b){p=No(b,p),p=Q_(u.stateNode,p,2),u=pl(u,p,2),u!==null&&(gt(u,2),tc(u))}function Oa(u,p,b){if(u.tag===3)bw(u,u,b);else for(;p!==null;){if(p.tag===3){bw(p,u,b);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Nf===null||!Nf.has(T))){u=No(b,u),b=nm(2),T=pl(p,b,2),T!==null&&(Vg(b,T,p,u),gt(T,2),tc(T));break}}p=p.return}}function Zv(u,p,b){var T=u.pingCache;if(T===null){T=u.pingCache=new RC;var z=new Set;T.set(p,z)}else z=T.get(p),z===void 0&&(z=new Set,T.set(p,z));z.has(b)||(p0=!0,z.add(b),u=_w.bind(null,u,p,b),p.then(u,u))}function _w(u,p,b){var T=u.pingCache;T!==null&&T.delete(p),u.pingedLanes|=u.suspendedLanes&b,u.warmLanes&=~b,ca===u&&(Zn&b)===b&&(ii===4||ii===3&&(Zn&62914560)===Zn&&300>br()-g0?(ha&2)===0&&Qh(u,0):Bv|=b,Od===Zn&&(Od=0)),tc(u)}function ym(u,p){p===0&&(p=Je()),u=pd(u,p),u!==null&&(gt(u,p),tc(u))}function Ru(u){var p=u.memoizedState,b=0;p!==null&&(b=p.retryLane),ym(u,b)}function Uf(u,p){var b=0;switch(u.tag){case 13:var T=u.stateNode,z=u.memoizedState;z!==null&&(b=z.retryLane);break;case 19:T=u.stateNode;break;case 22:T=u.stateNode._retryCache;break;default:throw Error(n(314))}T!==null&&T.delete(p),ym(u,b)}function xw(u,p){return ur(u,p)}var vm=null,bm=null,x0=!1,Jh=!1,ry=!1,ep=0;function tc(u){u!==bm&&u.next===null&&(bm===null?vm=bm=u:bm=bm.next=u),Jh=!0,x0||(x0=!0,Kv())}function tp(u,p){if(!ry&&Jh){ry=!0;do for(var b=!1,T=vm;T!==null;){if(u!==0){var z=T.pendingLanes;if(z===0)var W=0;else{var fe=T.suspendedLanes,Ee=T.pingedLanes;W=(1<<31-Qr(42|u)+1)-1,W&=z&~(fe&~Ee),W=W&201326741?W&201326741|1:W?W|2:0}W!==0&&(b=!0,E0(T,W))}else W=Zn,W=me(T,T===ca?W:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),(W&3)===0||ye(T,W)||(b=!0,E0(T,W));T=T.next}while(b);ry=!1}}function _m(){w0()}function w0(){Jh=x0=!1;var u=0;ep!==0&&(zC()&&(u=ep),ep=0);for(var p=br(),b=null,T=vm;T!==null;){var z=T.next,W=S0(T,p);W===0?(T.next=null,b===null?vm=z:b.next=z,z===null&&(bm=b)):(b=T,(u!==0||(W&3)!==0)&&(Jh=!0)),T=z}tp(u)}function S0(u,p){for(var b=u.suspendedLanes,T=u.pingedLanes,z=u.expirationTimes,W=u.pendingLanes&-62914561;0<W;){var fe=31-Qr(W),Ee=1<<fe,Ke=z[fe];Ke===-1?((Ee&b)===0||(Ee&T)!==0)&&(z[fe]=Ae(Ee,p)):Ke<=p&&(u.expiredLanes|=Ee),W&=~Ee}if(p=ca,b=Zn,b=me(u,u===p?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),T=u.callbackNode,b===0||u===p&&(pa===2||pa===9)||u.cancelPendingCommit!==null)return T!==null&&T!==null&&Xt(T),u.callbackNode=null,u.callbackPriority=0;if((b&3)===0||ye(u,b)){if(p=b&-b,p===u.callbackPriority)return p;switch(T!==null&&Xt(T),wt(b)){case 2:case 8:b=Be;break;case 32:b=Ye;break;case 268435456:b=Ut;break;default:b=Ye}return T=Wv.bind(null,u),b=ur(b,T),u.callbackPriority=p,u.callbackNode=b,p}return T!==null&&T!==null&&Xt(T),u.callbackPriority=2,u.callbackNode=null,2}function Wv(u,p){if(qo!==0&&qo!==5)return u.callbackNode=null,u.callbackPriority=0,null;var b=u.callbackNode;if(Gv()&&u.callbackNode!==b)return null;var T=Zn;return T=me(u,u===ca?T:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),T===0?null:(pw(u,T,p),S0(u,br()),u.callbackNode!=null&&u.callbackNode===b?Wv.bind(null,u):null)}function E0(u,p){if(Gv())return null;pw(u,p,!0)}function Kv(){Rw(function(){(ha&6)!==0?ur(Rr,_m):w0()})}function Xv(){return ep===0&&(ep=Ne()),ep}function ww(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:cu(""+u)}function Sw(u,p){var b=p.ownerDocument.createElement("input");return b.name=p.name,b.value=p.value,u.id&&b.setAttribute("form",u.id),p.parentNode.insertBefore(b,p),u=new FormData(u),b.parentNode.removeChild(b),u}function Ew(u,p,b,T,z){if(p==="submit"&&b&&b.stateNode===z){var W=ww((z[Lt]||null).action),fe=T.submitter;fe&&(p=(p=fe[Lt]||null)?ww(p.formAction):fe.getAttribute("formAction"),p!==null&&(W=p,fe=null));var Ee=new cf("action","action",null,T,z);u.push({event:Ee,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(ep!==0){var Ke=fe?Sw(z,fe):new FormData(z);Kl(b,{pending:!0,data:Ke,method:z.method,action:W},null,Ke)}}else typeof W=="function"&&(Ee.preventDefault(),Ke=fe?Sw(z,fe):new FormData(z),Kl(b,{pending:!0,data:Ke,method:z.method,action:W},W,Ke))},currentTarget:z}]})}}for(var C0=0;C0<Vp.length;C0++){var T0=Vp[C0],IC=T0.toLowerCase(),DC=T0[0].toUpperCase()+T0.slice(1);bs(IC,"on"+DC)}bs(Oh,"onAnimationEnd"),bs(kh,"onAnimationIteration"),bs(Up,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(fd,"onTransitionRun"),bs(qp,"onTransitionStart"),bs(bf,"onTransitionCancel"),bs(vs,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ny="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ny));function Dd(u,p){p=(p&4)!==0;for(var b=0;b<u.length;b++){var T=u[b],z=T.event;T=T.listeners;e:{var W=void 0;if(p)for(var fe=T.length-1;0<=fe;fe--){var Ee=T[fe],Ke=Ee.instance,Et=Ee.currentTarget;if(Ee=Ee.listener,Ke!==W&&z.isPropagationStopped())break e;W=Ee,z.currentTarget=Et;try{W(z)}catch(Gt){rm(Gt)}z.currentTarget=null,W=Ke}else for(fe=0;fe<T.length;fe++){if(Ee=T[fe],Ke=Ee.instance,Et=Ee.currentTarget,Ee=Ee.listener,Ke!==W&&z.isPropagationStopped())break e;W=Ee,z.currentTarget=Et;try{W(z)}catch(Gt){rm(Gt)}z.currentTarget=null,W=Ke}}}}function Nn(u,p){var b=p[Sr];b===void 0&&(b=p[Sr]=new Set);var T=u+"__bubble";b.has(T)||(P0(p,u,2,!1),b.add(T))}function Yv(u,p,b){var T=0;p&&(T|=4),P0(b,u,T,p)}var ay="_reactListening"+Math.random().toString(36).slice(2);function Qv(u){if(!u[ay]){u[ay]=!0,Cn.forEach(function(b){b!=="selectionchange"&&(A0.has(b)||Yv(b,!1,u),Yv(b,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[ay]||(p[ay]=!0,Yv("selectionchange",!1,p))}}function P0(u,p,b,T){switch(kr(p)){case 2:var z=rr;break;case 8:z=fr;break;default:z=Ft}b=z.bind(null,p,b,u),z=void 0,!Fo||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(z=!0),T?z!==void 0?u.addEventListener(p,b,{capture:!0,passive:z}):u.addEventListener(p,b,!0):z!==void 0?u.addEventListener(p,b,{passive:z}):u.addEventListener(p,b,!1)}function iy(u,p,b,T,z){var W=T;if((p&1)===0&&(p&2)===0&&T!==null)e:for(;;){if(T===null)return;var fe=T.tag;if(fe===3||fe===4){var Ee=T.stateNode.containerInfo;if(Ee===z)break;if(fe===4)for(fe=T.return;fe!==null;){var Ke=fe.tag;if((Ke===3||Ke===4)&&fe.stateNode.containerInfo===z)return;fe=fe.return}for(;Ee!==null;){if(fe=vr(Ee),fe===null)return;if(Ke=fe.tag,Ke===5||Ke===6||Ke===26||Ke===27){T=W=fe;continue e}Ee=Ee.parentNode}}T=T.return}da(function(){var Et=W,Gt=uu(b),Qt=[];e:{var Rt=zg.get(u);if(Rt!==void 0){var Ot=cf,pn=u;switch(u){case"keypress":if(an(b)===0)break e;case"keydown":case"keyup":Ot=cd;break;case"focusin":pn="focus",Ot=od;break;case"focusout":pn="blur",Ot=od;break;case"beforeblur":case"afterblur":Ot=od;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Ii;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=q_;break;case Oh:case kh:case Up:Ot=Di;break;case vs:Ot=H_;break;case"scroll":case"scrollend":Ot=Ch;break;case"wheel":Ot=df;break;case"copy":case"cut":case"paste":Ot=Op;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=lv;break;case"toggle":case"beforetoggle":Ot=zp}var sn=(p&4)!==0,Sa=!sn&&(u==="scroll"||u==="scrollend"),pt=sn?Rt!==null?Rt+"Capture":null:Rt;sn=[];for(var ct=Et,St;ct!==null;){var nr=ct;if(St=nr.stateNode,nr=nr.tag,nr!==5&&nr!==26&&nr!==27||St===null||pt===null||(nr=Dl(ct,pt),nr!=null&&sn.push(xm(ct,nr,St))),Sa)break;ct=ct.return}0<sn.length&&(Rt=new Ot(Rt,pn,null,b,Gt),Qt.push({event:Rt,listeners:sn}))}}if((p&7)===0){e:{if(Rt=u==="mouseover"||u==="pointerover",Ot=u==="mouseout"||u==="pointerout",Rt&&b!==Ju&&(pn=b.relatedTarget||b.fromElement)&&(vr(pn)||pn[lt]))break e;if((Ot||Rt)&&(Rt=Gt.window===Gt?Gt:(Rt=Gt.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Ot?(pn=b.relatedTarget||b.toElement,Ot=Et,pn=pn?vr(pn):null,pn!==null&&(Sa=l(pn),sn=pn.tag,pn!==Sa||sn!==5&&sn!==27&&sn!==6)&&(pn=null)):(Ot=null,pn=Et),Ot!==pn)){if(sn=uf,nr="onMouseLeave",pt="onMouseEnter",ct="mouse",(u==="pointerout"||u==="pointerover")&&(sn=lv,nr="onPointerLeave",pt="onPointerEnter",ct="pointer"),Sa=Ot==null?Rt:fn(Ot),St=pn==null?Rt:fn(pn),Rt=new sn(nr,ct+"leave",Ot,b,Gt),Rt.target=Sa,Rt.relatedTarget=St,nr=null,vr(Gt)===Et&&(sn=new sn(pt,ct+"enter",pn,b,Gt),sn.target=St,sn.relatedTarget=Sa,nr=sn),Sa=nr,Ot&&pn)t:{for(sn=Ot,pt=pn,ct=0,St=sn;St;St=rp(St))ct++;for(St=0,nr=pt;nr;nr=rp(nr))St++;for(;0<ct-St;)sn=rp(sn),ct--;for(;0<St-ct;)pt=rp(pt),St--;for(;ct--;){if(sn===pt||pt!==null&&sn===pt.alternate)break t;sn=rp(sn),pt=rp(pt)}sn=null}else sn=null;Ot!==null&&Jv(Qt,Rt,Ot,sn,!1),pn!==null&&Sa!==null&&Jv(Qt,Sa,pn,sn,!0)}}e:{if(Rt=Et?fn(Et):window,Ot=Rt.nodeName&&Rt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Rt.type==="file")var $r=vc;else if(Tg(Rt))if(Ag)$r=mv;else{$r=Rg;var mn=Z_}else Ot=Rt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Rt.type!=="checkbox"&&Rt.type!=="radio"?Et&&Wi(Et.elementType)&&($r=vc):$r=pv;if($r&&($r=$r(u,Et))){mf(Qt,$r,b,Gt);break e}mn&&mn(u,Rt,Et),u==="focusout"&&Et&&Rt.type==="number"&&Et.memoizedProps.value!=null&&Eh(Rt,"number",Rt.value)}switch(mn=Et?fn(Et):window,u){case"focusin":(Tg(mn)||mn.contentEditable==="true")&&(Us=mn,Rh=Et,Mh=null);break;case"focusout":Mh=Rh=Us=null;break;case"mousedown":kg=!0;break;case"contextmenu":case"mouseup":case"dragend":kg=!1,gv(Qt,b,Gt);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":gv(Qt,b,Gt)}var Xr;if(js)e:{switch(u){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else $s?Ah(u,b)&&(ln="onCompositionEnd"):u==="keydown"&&b.keyCode===229&&(ln="onCompositionStart");ln&&(hf&&b.locale!=="ko"&&($s||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&$s&&(Xr=Pn()):(Fs=Gt,Kn="value"in Fs?Fs.value:Fs.textContent,$s=!0)),mn=qf(Et,ln),0<mn.length&&(ln=new sv(ln,u,null,b,Gt),Qt.push({event:ln,listeners:mn}),Xr?ln.data=Xr:(Xr=Cg(b),Xr!==null&&(ln.data=Xr)))),(Xr=Eg?uv(u,b):dv(u,b))&&(ln=qf(Et,"onBeforeInput"),0<ln.length&&(mn=new sv("onBeforeInput","beforeinput",null,b,Gt),Qt.push({event:mn,listeners:ln}),mn.data=Xr)),Ew(Qt,u,Et,b,Gt)}Dd(Qt,p)})}function xm(u,p,b){return{instance:u,listener:p,currentTarget:b}}function qf(u,p){for(var b=p+"Capture",T=[];u!==null;){var z=u,W=z.stateNode;if(z=z.tag,z!==5&&z!==26&&z!==27||W===null||(z=Dl(u,b),z!=null&&T.unshift(xm(u,z,W)),z=Dl(u,p),z!=null&&T.push(xm(u,z,W))),u.tag===3)return T;u=u.return}return[]}function rp(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function Jv(u,p,b,T,z){for(var W=p._reactName,fe=[];b!==null&&b!==T;){var Ee=b,Ke=Ee.alternate,Et=Ee.stateNode;if(Ee=Ee.tag,Ke!==null&&Ke===T)break;Ee!==5&&Ee!==26&&Ee!==27||Et===null||(Ke=Et,z?(Et=Dl(b,W),Et!=null&&fe.unshift(xm(b,Et,Ke))):z||(Et=Dl(b,W),Et!=null&&fe.push(xm(b,Et,Ke)))),b=b.return}fe.length!==0&&u.push({event:p,listeners:fe})}var Cw=/\r\n?/g,_l=/\u0000|\uFFFD/g;function np(u){return(typeof u=="string"?u:""+u).replace(Cw,`
`).replace(_l,"")}function R0(u,p){return p=np(p),np(u)===p}function oy(){}function ma(u,p,b,T,z,W){switch(b){case"children":typeof T=="string"?p==="body"||p==="textarea"&&T===""||lu(u,T):(typeof T=="number"||typeof T=="bigint")&&p!=="body"&&lu(u,""+T);break;case"className":ys(u,"class",T);break;case"tabIndex":ys(u,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(u,b,T);break;case"style":Yu(u,T,W);break;case"data":if(p!=="object"){ys(u,"data",T);break}case"src":case"href":if(T===""&&(p!=="a"||b!=="href")){u.removeAttribute(b);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){u.removeAttribute(b);break}T=cu(""+T),u.setAttribute(b,T);break;case"action":case"formAction":if(typeof T=="function"){u.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(b==="formAction"?(p!=="input"&&ma(u,p,"name",z.name,z,null),ma(u,p,"formEncType",z.formEncType,z,null),ma(u,p,"formMethod",z.formMethod,z,null),ma(u,p,"formTarget",z.formTarget,z,null)):(ma(u,p,"encType",z.encType,z,null),ma(u,p,"method",z.method,z,null),ma(u,p,"target",z.target,z,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){u.removeAttribute(b);break}T=cu(""+T),u.setAttribute(b,T);break;case"onClick":T!=null&&(u.onclick=oy);break;case"onScroll":T!=null&&Nn("scroll",u);break;case"onScrollEnd":T!=null&&Nn("scrollend",u);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(n(61));if(b=T.__html,b!=null){if(z.children!=null)throw Error(n(60));u.innerHTML=b}}break;case"multiple":u.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":u.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){u.removeAttribute("xlink:href");break}b=cu(""+T),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?u.setAttribute(b,""+T):u.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?u.setAttribute(b,""):u.removeAttribute(b);break;case"capture":case"download":T===!0?u.setAttribute(b,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?u.setAttribute(b,T):u.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?u.setAttribute(b,T):u.removeAttribute(b);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?u.removeAttribute(b):u.setAttribute(b,T);break;case"popover":Nn("beforetoggle",u),Nn("toggle",u),Bn(u,"popover",T);break;case"xlinkActuate":_n(u,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":_n(u,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":_n(u,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":_n(u,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":_n(u,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":_n(u,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":_n(u,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":_n(u,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":_n(u,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":Bn(u,"is",T);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=Qu.get(b)||b,Bn(u,b,T))}}function eb(u,p,b,T,z,W){switch(b){case"style":Yu(u,T,W);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(n(61));if(b=T.__html,b!=null){if(z.children!=null)throw Error(n(60));u.innerHTML=b}}break;case"children":typeof T=="string"?lu(u,T):(typeof T=="number"||typeof T=="bigint")&&lu(u,""+T);break;case"onScroll":T!=null&&Nn("scroll",u);break;case"onScrollEnd":T!=null&&Nn("scrollend",u);break;case"onClick":T!=null&&(u.onclick=oy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(z=b.endsWith("Capture"),p=b.slice(2,z?b.length-7:void 0),W=u[Lt]||null,W=W!=null?W[b]:null,typeof W=="function"&&u.removeEventListener(p,W,z),typeof T=="function")){typeof W!="function"&&W!==null&&(b in u?u[b]=null:u.hasAttribute(b)&&u.removeAttribute(b)),u.addEventListener(p,T,z);break e}b in u?u[b]=T:T===!0?u.setAttribute(b,""):Bn(u,b,T)}}}function Eo(u,p,b){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nn("error",u),Nn("load",u);var T=!1,z=!1,W;for(W in b)if(b.hasOwnProperty(W)){var fe=b[W];if(fe!=null)switch(W){case"src":T=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:ma(u,p,W,fe,b,null)}}z&&ma(u,p,"srcSet",b.srcSet,b,null),T&&ma(u,p,"src",b.src,b,null);return;case"input":Nn("invalid",u);var Ee=W=fe=z=null,Ke=null,Et=null;for(T in b)if(b.hasOwnProperty(T)){var Gt=b[T];if(Gt!=null)switch(T){case"name":z=Gt;break;case"type":fe=Gt;break;case"checked":Ke=Gt;break;case"defaultChecked":Et=Gt;break;case"value":W=Gt;break;case"defaultValue":Ee=Gt;break;case"children":case"dangerouslySetInnerHTML":if(Gt!=null)throw Error(n(137,p));break;default:ma(u,p,T,Gt,b,null)}}su(u,W,Ee,Ke,Et,fe,z,!1),Pp(u);return;case"select":Nn("invalid",u),T=fe=W=null;for(z in b)if(b.hasOwnProperty(z)&&(Ee=b[z],Ee!=null))switch(z){case"value":W=Ee;break;case"defaultValue":fe=Ee;break;case"multiple":T=Ee;default:ma(u,p,z,Ee,b,null)}p=W,b=fe,u.multiple=!!T,p!=null?of(u,!!T,p,!1):b!=null&&of(u,!!T,b,!0);return;case"textarea":Nn("invalid",u),W=z=T=null;for(fe in b)if(b.hasOwnProperty(fe)&&(Ee=b[fe],Ee!=null))switch(fe){case"value":T=Ee;break;case"defaultValue":z=Ee;break;case"children":W=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(91));break;default:ma(u,p,fe,Ee,b,null)}lf(u,T,z,W),Pp(u);return;case"option":for(Ke in b)if(b.hasOwnProperty(Ke)&&(T=b[Ke],T!=null))switch(Ke){case"selected":u.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:ma(u,p,Ke,T,b,null)}return;case"dialog":Nn("beforetoggle",u),Nn("toggle",u),Nn("cancel",u),Nn("close",u);break;case"iframe":case"object":Nn("load",u);break;case"video":case"audio":for(T=0;T<ny.length;T++)Nn(ny[T],u);break;case"image":Nn("error",u),Nn("load",u);break;case"details":Nn("toggle",u);break;case"embed":case"source":case"link":Nn("error",u),Nn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Et in b)if(b.hasOwnProperty(Et)&&(T=b[Et],T!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:ma(u,p,Et,T,b,null)}return;default:if(Wi(p)){for(Gt in b)b.hasOwnProperty(Gt)&&(T=b[Gt],T!==void 0&&eb(u,p,Gt,T,b,void 0));return}}for(Ee in b)b.hasOwnProperty(Ee)&&(T=b[Ee],T!=null&&ma(u,p,Ee,T,b,null))}function Tw(u,p,b,T){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,W=null,fe=null,Ee=null,Ke=null,Et=null,Gt=null;for(Ot in b){var Qt=b[Ot];if(b.hasOwnProperty(Ot)&&Qt!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":Ke=Qt;default:T.hasOwnProperty(Ot)||ma(u,p,Ot,null,T,Qt)}}for(var Rt in T){var Ot=T[Rt];if(Qt=b[Rt],T.hasOwnProperty(Rt)&&(Ot!=null||Qt!=null))switch(Rt){case"type":W=Ot;break;case"name":z=Ot;break;case"checked":Et=Ot;break;case"defaultChecked":Gt=Ot;break;case"value":fe=Ot;break;case"defaultValue":Ee=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(n(137,p));break;default:Ot!==Qt&&ma(u,p,Rt,Ot,T,Qt)}}Rp(u,fe,Ee,Ke,Et,Gt,W,z);return;case"select":Ot=fe=Ee=Rt=null;for(W in b)if(Ke=b[W],b.hasOwnProperty(W)&&Ke!=null)switch(W){case"value":break;case"multiple":Ot=Ke;default:T.hasOwnProperty(W)||ma(u,p,W,null,T,Ke)}for(z in T)if(W=T[z],Ke=b[z],T.hasOwnProperty(z)&&(W!=null||Ke!=null))switch(z){case"value":Rt=W;break;case"defaultValue":Ee=W;break;case"multiple":fe=W;default:W!==Ke&&ma(u,p,z,W,T,Ke)}p=Ee,b=fe,T=Ot,Rt!=null?of(u,!!b,Rt,!1):!!T!=!!b&&(p!=null?of(u,!!b,p,!0):of(u,!!b,b?[]:"",!1));return;case"textarea":Ot=Rt=null;for(Ee in b)if(z=b[Ee],b.hasOwnProperty(Ee)&&z!=null&&!T.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:ma(u,p,Ee,null,T,z)}for(fe in T)if(z=T[fe],W=b[fe],T.hasOwnProperty(fe)&&(z!=null||W!=null))switch(fe){case"value":Rt=z;break;case"defaultValue":Ot=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:z!==W&&ma(u,p,fe,z,T,W)}sf(u,Rt,Ot);return;case"option":for(var pn in b)if(Rt=b[pn],b.hasOwnProperty(pn)&&Rt!=null&&!T.hasOwnProperty(pn))switch(pn){case"selected":u.selected=!1;break;default:ma(u,p,pn,null,T,Rt)}for(Ke in T)if(Rt=T[Ke],Ot=b[Ke],T.hasOwnProperty(Ke)&&Rt!==Ot&&(Rt!=null||Ot!=null))switch(Ke){case"selected":u.selected=Rt&&typeof Rt!="function"&&typeof Rt!="symbol";break;default:ma(u,p,Ke,Rt,T,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var sn in b)Rt=b[sn],b.hasOwnProperty(sn)&&Rt!=null&&!T.hasOwnProperty(sn)&&ma(u,p,sn,null,T,Rt);for(Et in T)if(Rt=T[Et],Ot=b[Et],T.hasOwnProperty(Et)&&Rt!==Ot&&(Rt!=null||Ot!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(n(137,p));break;default:ma(u,p,Et,Rt,T,Ot)}return;default:if(Wi(p)){for(var Sa in b)Rt=b[Sa],b.hasOwnProperty(Sa)&&Rt!==void 0&&!T.hasOwnProperty(Sa)&&eb(u,p,Sa,void 0,T,Rt);for(Gt in T)Rt=T[Gt],Ot=b[Gt],!T.hasOwnProperty(Gt)||Rt===Ot||Rt===void 0&&Ot===void 0||eb(u,p,Gt,Rt,T,Ot);return}}for(var pt in b)Rt=b[pt],b.hasOwnProperty(pt)&&Rt!=null&&!T.hasOwnProperty(pt)&&ma(u,p,pt,null,T,Rt);for(Qt in T)Rt=T[Qt],Ot=b[Qt],!T.hasOwnProperty(Qt)||Rt===Ot||Rt==null&&Ot==null||ma(u,p,Qt,Rt,T,Ot)}var M0=null,tb=null;function $c(u){return u.nodeType===9?u:u.ownerDocument}function O0(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(u,p){if(u===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&p==="foreignObject"?0:u}function rb(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var nb=null;function zC(){var u=window.event;return u&&u.type==="popstate"?u===nb?!1:(nb=u,!0):(nb=null,!1)}var Aw=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Rw=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(u){return wm.resolve(null).then(u).catch(ab)}:Aw;function ab(u){setTimeout(function(){throw u})}function zd(u){return u==="head"}function sy(u,p){var b=p,T=0,z=0;do{var W=b.nextSibling;if(u.removeChild(b),W&&W.nodeType===8)if(b=W.data,b==="/$"){if(0<T&&8>T){b=T;var fe=u.ownerDocument;if(b&1&&Em(fe.documentElement),b&2&&Em(fe.body),b&4)for(b=fe.head,Em(b),fe=b.firstChild;fe;){var Ee=fe.nextSibling,Ke=fe.nodeName;fe[yt]||Ke==="SCRIPT"||Ke==="STYLE"||Ke==="LINK"&&fe.rel.toLowerCase()==="stylesheet"||b.removeChild(fe),fe=Ee}}if(z===0){u.removeChild(W),za(p);return}z--}else b==="$"||b==="$?"||b==="$!"?z++:T=b.charCodeAt(0)-48;else T=0;b=W}while(b);za(p)}function Sm(u){var p=u.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var b=p;switch(p=p.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":Sm(b),ar(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}u.removeChild(b)}}function ib(u,p,b,T){for(;u.nodeType===1;){var z=b;if(u.nodeName.toLowerCase()!==p.toLowerCase()){if(!T&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(T){if(!u[yt])switch(p){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(W=u.getAttribute("rel"),W==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(W!==z.rel||u.getAttribute("href")!==(z.href==null||z.href===""?null:z.href)||u.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||u.getAttribute("title")!==(z.title==null?null:z.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(W=u.getAttribute("src"),(W!==(z.src==null?null:z.src)||u.getAttribute("type")!==(z.type==null?null:z.type)||u.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&W&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(p==="input"&&u.type==="hidden"){var W=z.name==null?null:""+z.name;if(z.type==="hidden"&&u.getAttribute("name")===W)return u}else return u;if(u=os(u.nextSibling),u===null)break}return null}function LC(u,p,b){if(p==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!b||(u=os(u.nextSibling),u===null))return null;return u}function I0(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function BC(u,p){var b=u.ownerDocument;if(u.data!=="$?"||b.readyState==="complete")p();else{var T=function(){p(),b.removeEventListener("DOMContentLoaded",T)};b.addEventListener("DOMContentLoaded",T),u._reactRetry=T}}function os(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return u}var Fi=null;function Ld(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var b=u.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return u;p--}else b==="/$"&&p++}u=u.previousSibling}return null}function ob(u,p,b){switch(p=$c(b),u){case"html":if(u=p.documentElement,!u)throw Error(n(452));return u;case"head":if(u=p.head,!u)throw Error(n(453));return u;case"body":if(u=p.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function Em(u){for(var p=u.attributes;p.length;)u.removeAttributeNode(p[0]);ar(u)}var xl=new Map,sb=new Set;function lb(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Mu=Ce.d;Ce.d={f:Mw,r:FC,D:D0,C:Ow,L:ly,m:z0,X:L0,S:kw,M:ub};function Mw(){var u=Mu.f(),p=So();return u||p}function FC(u){var p=tn(u);p!==null&&p.tag===5&&p.type==="form"?Oc(p):Mu.r(u)}var ap=typeof document>"u"?null:document;function cb(u,p,b){var T=ap;if(T&&typeof p=="string"&&p){var z=ts(p);z='link[rel="'+u+'"][href="'+z+'"]',typeof b=="string"&&(z+='[crossorigin="'+b+'"]'),sb.has(z)||(sb.add(z),u={rel:u,crossOrigin:b,href:p},T.querySelector(z)===null&&(p=T.createElement("link"),Eo(p,"link",u),Pr(p),T.head.appendChild(p)))}}function D0(u){Mu.D(u),cb("dns-prefetch",u,null)}function Ow(u,p){Mu.C(u,p),cb("preconnect",u,p)}function ly(u,p,b){Mu.L(u,p,b);var T=ap;if(T&&u&&p){var z='link[rel="preload"][as="'+ts(p)+'"]';p==="image"&&b&&b.imageSrcSet?(z+='[imagesrcset="'+ts(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(z+='[imagesizes="'+ts(b.imageSizes)+'"]')):z+='[href="'+ts(u)+'"]';var W=z;switch(p){case"style":W=Vf(u);break;case"script":W=h(u)}xl.has(W)||(u=_({rel:"preload",href:p==="image"&&b&&b.imageSrcSet?void 0:u,as:p},b),xl.set(W,u),T.querySelector(z)!==null||p==="style"&&T.querySelector(ip(W))||p==="script"&&T.querySelector(s(W))||(p=T.createElement("link"),Eo(p,"link",u),Pr(p),T.head.appendChild(p)))}}function z0(u,p){Mu.m(u,p);var b=ap;if(b&&u){var T=p&&typeof p.as=="string"?p.as:"script",z='link[rel="modulepreload"][as="'+ts(T)+'"][href="'+ts(u)+'"]',W=z;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=h(u)}if(!xl.has(W)&&(u=_({rel:"modulepreload",href:u},p),xl.set(W,u),b.querySelector(z)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(s(W)))return}T=b.createElement("link"),Eo(T,"link",u),Pr(T),b.head.appendChild(T)}}}function kw(u,p,b){Mu.S(u,p,b);var T=ap;if(T&&u){var z=Ln(T).hoistableStyles,W=Vf(u);p=p||"default";var fe=z.get(W);if(!fe){var Ee={loading:0,preload:null};if(fe=T.querySelector(ip(W)))Ee.loading=5;else{u=_({rel:"stylesheet",href:u,"data-precedence":p},b),(b=xl.get(W))&&w(u,b);var Ke=fe=T.createElement("link");Pr(Ke),Eo(Ke,"link",u),Ke._p=new Promise(function(Et,Gt){Ke.onload=Et,Ke.onerror=Gt}),Ke.addEventListener("load",function(){Ee.loading|=1}),Ke.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,y(fe,p,T)}fe={type:"stylesheet",instance:fe,count:1,state:Ee},z.set(W,fe)}}}function L0(u,p){Mu.X(u,p);var b=ap;if(b&&u){var T=Ln(b).hoistableScripts,z=h(u),W=T.get(z);W||(W=b.querySelector(s(z)),W||(u=_({src:u,async:!0},p),(p=xl.get(z))&&P(u,p),W=b.createElement("script"),Pr(W),Eo(W,"link",u),b.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},T.set(z,W))}}function ub(u,p){Mu.M(u,p);var b=ap;if(b&&u){var T=Ln(b).hoistableScripts,z=h(u),W=T.get(z);W||(W=b.querySelector(s(z)),W||(u=_({src:u,async:!0,type:"module"},p),(p=xl.get(z))&&P(u,p),W=b.createElement("script"),Pr(W),Eo(W,"link",u),b.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},T.set(z,W))}}function Cm(u,p,b,T){var z=(z=ut.current)?lb(z):null;if(!z)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(p=Vf(b.href),b=Ln(z).hoistableStyles,T=b.get(p),T||(T={type:"style",instance:null,count:0,state:null},b.set(p,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){u=Vf(b.href);var W=Ln(z).hoistableStyles,fe=W.get(u);if(fe||(z=z.ownerDocument||z,fe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(u,fe),(W=z.querySelector(ip(u)))&&!W._p&&(fe.instance=W,fe.state.loading=5),xl.has(u)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},xl.set(u,b),W||NC(z,u,b,fe.state))),p&&T===null)throw Error(n(528,""));return fe}if(p&&T!==null)throw Error(n(529,""));return null;case"script":return p=b.async,b=b.src,typeof b=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=h(b),b=Ln(z).hoistableScripts,T=b.get(p),T||(T={type:"script",instance:null,count:0,state:null},b.set(p,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function Vf(u){return'href="'+ts(u)+'"'}function ip(u){return'link[rel="stylesheet"]['+u+"]"}function db(u){return _({},u,{"data-precedence":u.precedence,precedence:null})}function NC(u,p,b,T){u.querySelector('link[rel="preload"][as="style"]['+p+"]")?T.loading=1:(p=u.createElement("link"),T.preload=p,p.addEventListener("load",function(){return T.loading|=1}),p.addEventListener("error",function(){return T.loading|=2}),Eo(p,"link",b),Pr(p),u.head.appendChild(p))}function h(u){return'[src="'+ts(u)+'"]'}function s(u){return"script[async]"+u}function f(u,p,b){if(p.count++,p.instance===null)switch(p.type){case"style":var T=u.querySelector('style[data-href~="'+ts(b.href)+'"]');if(T)return p.instance=T,Pr(T),T;var z=_({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return T=(u.ownerDocument||u).createElement("style"),Pr(T),Eo(T,"style",z),y(T,b.precedence,u),p.instance=T;case"stylesheet":z=Vf(b.href);var W=u.querySelector(ip(z));if(W)return p.state.loading|=4,p.instance=W,Pr(W),W;T=db(b),(z=xl.get(z))&&w(T,z),W=(u.ownerDocument||u).createElement("link"),Pr(W);var fe=W;return fe._p=new Promise(function(Ee,Ke){fe.onload=Ee,fe.onerror=Ke}),Eo(W,"link",T),p.state.loading|=4,y(W,b.precedence,u),p.instance=W;case"script":return W=h(b.src),(z=u.querySelector(s(W)))?(p.instance=z,Pr(z),z):(T=b,(z=xl.get(W))&&(T=_({},b),P(T,z)),u=u.ownerDocument||u,z=u.createElement("script"),Pr(z),Eo(z,"link",T),u.head.appendChild(z),p.instance=z);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(T=p.instance,p.state.loading|=4,y(T,b.precedence,u));return p.instance}function y(u,p,b){for(var T=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=T.length?T[T.length-1]:null,W=z,fe=0;fe<T.length;fe++){var Ee=T[fe];if(Ee.dataset.precedence===p)W=Ee;else if(W!==z)break}W?W.parentNode.insertBefore(u,W.nextSibling):(p=b.nodeType===9?b.head:b,p.insertBefore(u,p.firstChild))}function w(u,p){u.crossOrigin==null&&(u.crossOrigin=p.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=p.referrerPolicy),u.title==null&&(u.title=p.title)}function P(u,p){u.crossOrigin==null&&(u.crossOrigin=p.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=p.referrerPolicy),u.integrity==null&&(u.integrity=p.integrity)}var M=null;function D(u,p,b){if(M===null){var T=new Map,z=M=new Map;z.set(b,T)}else z=M,T=z.get(b),T||(T=new Map,z.set(b,T));if(T.has(u))return T;for(T.set(u,null),b=b.getElementsByTagName(u),z=0;z<b.length;z++){var W=b[z];if(!(W[yt]||W[At]||u==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var fe=W.getAttribute(p)||"";fe=u+fe;var Ee=T.get(fe);Ee?Ee.push(W):T.set(fe,[W])}}return T}function H(u,p,b){u=u.ownerDocument||u,u.head.insertBefore(b,p==="title"?u.querySelector("head > title"):null)}function K(u,p,b){if(b===1||p.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return u=p.disabled,typeof p.precedence=="string"&&u==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function Q(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var re=null;function se(){}function de(u,p,b){if(re===null)throw Error(n(475));var T=re;if(p.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var z=Vf(b.href),W=u.querySelector(ip(z));if(W){u=W._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(T.count++,T=_e.bind(T),u.then(T,T)),p.state.loading|=4,p.instance=W,Pr(W);return}W=u.ownerDocument||u,b=db(b),(z=xl.get(z))&&w(b,z),W=W.createElement("link"),Pr(W);var fe=W;fe._p=new Promise(function(Ee,Ke){fe.onload=Ee,fe.onerror=Ke}),Eo(W,"link",b),p.instance=W}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(T.count++,p=_e.bind(T),u.addEventListener("load",p),u.addEventListener("error",p))}}function he(){if(re===null)throw Error(n(475));var u=re;return u.stylesheets&&u.count===0&&Le(u,u.stylesheets),0<u.count?function(p){var b=setTimeout(function(){if(u.stylesheets&&Le(u,u.stylesheets),u.unsuspend){var T=u.unsuspend;u.unsuspend=null,T()}},6e4);return u.unsuspend=p,function(){u.unsuspend=null,clearTimeout(b)}}:null}function _e(){if(this.count--,this.count===0){if(this.stylesheets)Le(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Pe=null;function Le(u,p){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Pe=new Map,p.forEach(tt,u),Pe=null,_e.call(u))}function tt(u,p){if(!(p.state.loading&4)){var b=Pe.get(u);if(b)var T=b.get(null);else{b=new Map,Pe.set(u,b);for(var z=u.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<z.length;W++){var fe=z[W];(fe.nodeName==="LINK"||fe.getAttribute("media")!=="not all")&&(b.set(fe.dataset.precedence,fe),T=fe)}T&&b.set(null,T)}z=p.instance,fe=z.getAttribute("data-precedence"),W=b.get(fe)||T,W===T&&b.set(null,z),b.set(fe,z),this.count++,T=_e.bind(this),z.addEventListener("load",T),z.addEventListener("error",T),W?W.parentNode.insertBefore(z,W.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(z,u.firstChild)),p.state.loading|=4}}var $e={$$typeof:F,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function ue(u,p,b,T,z,W,fe,Ee){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=T,this.onUncaughtError=z,this.onCaughtError=W,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function Te(u,p,b,T,z,W,fe,Ee,Ke,Et,Gt,Qt){return u=new ue(u,p,b,fe,Ee,Ke,Et,Qt),p=1,W===!0&&(p|=24),W=$o(3,null,null,p),u.current=W,W.stateNode=u,p=vu(),p.refCount++,u.pooledCache=p,p.refCount++,W.memoizedState={element:T,isDehydrated:b,cache:p},Qp(W),u}function Ve(u){return u?(u=_c,u):_c}function _t(u,p,b,T,z,W){z=Ve(z),T.context===null?T.context=z:T.pendingContext=z,T=Hl(p),T.payload={element:b},W=W===void 0?null:W,W!==null&&(T.callback=W),b=pl(u,T,p),b!==null&&(bl(b,u,p),Ac(b,u,p))}function Kt(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var b=u.retryLane;u.retryLane=b!==0&&b<p?b:p}}function Ct(u,p){Kt(u,p),(u=u.alternate)&&Kt(u,p)}function zt(u){if(u.tag===13){var p=pd(u,67108864);p!==null&&bl(p,u,67108864),Ct(u,67108864)}}var ir=!0;function rr(u,p,b,T){var z=ce.T;ce.T=null;var W=Ce.p;try{Ce.p=2,Ft(u,p,b,T)}finally{Ce.p=W,ce.T=z}}function fr(u,p,b,T){var z=ce.T;ce.T=null;var W=Ce.p;try{Ce.p=8,Ft(u,p,b,T)}finally{Ce.p=W,ce.T=z}}function Ft(u,p,b,T){if(ir){var z=Ar(T);if(z===null)iy(u,p,T,jr,b),Ci(u,T);else if(Qi(z,u,p,b,T))T.stopPropagation();else if(Ci(u,T),p&4&&-1<Da.indexOf(u)){for(;z!==null;){var W=tn(z);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var fe=Ge(W.pendingLanes);if(fe!==0){var Ee=W;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;fe;){var Ke=1<<31-Qr(fe);Ee.entanglements[1]|=Ke,fe&=~Ke}tc(W),(ha&6)===0&&(Fv=br()+500,tp(0))}}break;case 13:Ee=pd(W,2),Ee!==null&&bl(Ee,W,2),So(),Ct(W,2)}if(W=Ar(T),W===null&&iy(u,p,T,jr,b),W===z)break;z=W}z!==null&&T.stopPropagation()}else iy(u,p,T,null,b)}}function Ar(u){return u=uu(u),Nr(u)}var jr=null;function Nr(u){if(jr=null,u=vr(u),u!==null){var p=l(u);if(p===null)u=null;else{var b=p.tag;if(b===13){if(u=c(p),u!==null)return u;u=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null)}}return jr=u,null}function kr(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Rr:return 2;case Be:return 8;case Ye:case We:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Sn=!1,ea=null,wa=null,Ua=null,Vo=new Map,Yi=new Map,Ia=[],Da="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ci(u,p){switch(u){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Vo.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(p.pointerId)}}function pi(u,p,b,T,z,W){return u===null||u.nativeEvent!==W?(u={blockedOn:p,domEventName:b,eventSystemFlags:T,nativeEvent:W,targetContainers:[z]},p!==null&&(p=tn(p),p!==null&&zt(p)),u):(u.eventSystemFlags|=T,p=u.targetContainers,z!==null&&p.indexOf(z)===-1&&p.push(z),u)}function Qi(u,p,b,T,z){switch(p){case"focusin":return ea=pi(ea,u,p,b,T,z),!0;case"dragenter":return wa=pi(wa,u,p,b,T,z),!0;case"mouseover":return Ua=pi(Ua,u,p,b,T,z),!0;case"pointerover":var W=z.pointerId;return Vo.set(W,pi(Vo.get(W)||null,u,p,b,T,z)),!0;case"gotpointercapture":return W=z.pointerId,Yi.set(W,pi(Yi.get(W)||null,u,p,b,T,z)),!0}return!1}function Ho(u){var p=vr(u.target);if(p!==null){var b=l(p);if(b!==null){if(p=b.tag,p===13){if(p=c(b),p!==null){u.blockedOn=p,qe(u.priority,function(){if(b.tag===13){var T=Rs();T=dt(T);var z=pd(b,T);z!==null&&bl(z,b,T),Ct(b,T)}});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){u.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}u.blockedOn=null}function ss(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var b=Ar(u.nativeEvent);if(b===null){b=u.nativeEvent;var T=new b.constructor(b.type,b);Ju=T,b.target.dispatchEvent(T),Ju=null}else return p=tn(b),p!==null&&zt(p),u.blockedOn=b,!1;p.shift()}return!0}function Ti(u,p,b){ss(u)&&b.delete(p)}function Ms(){Sn=!1,ea!==null&&ss(ea)&&(ea=null),wa!==null&&ss(wa)&&(wa=null),Ua!==null&&ss(Ua)&&(Ua=null),Vo.forEach(Ti),Yi.forEach(Ti)}function oi(u,p){u.blockedOn===p&&(u.blockedOn=null,Sn||(Sn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ms)))}var mi=null;function Ai(u){mi!==u&&(mi=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mi===u&&(mi=null);for(var p=0;p<u.length;p+=3){var b=u[p],T=u[p+1],z=u[p+2];if(typeof T!="function"){if(Nr(T||b)===null)continue;break}var W=tn(b);W!==null&&(u.splice(p,3),p-=3,Kl(W,{pending:!0,data:z,method:b.method,action:T},T,z))}}))}function za(u){function p(Ke){return oi(Ke,u)}ea!==null&&oi(ea,u),wa!==null&&oi(wa,u),Ua!==null&&oi(Ua,u),Vo.forEach(p),Yi.forEach(p);for(var b=0;b<Ia.length;b++){var T=Ia[b];T.blockedOn===u&&(T.blockedOn=null)}for(;0<Ia.length&&(b=Ia[0],b.blockedOn===null);)Ho(b),b.blockedOn===null&&Ia.shift();if(b=(u.ownerDocument||u).$$reactFormReplay,b!=null)for(T=0;T<b.length;T+=3){var z=b[T],W=b[T+1],fe=z[Lt]||null;if(typeof W=="function")fe||Ai(b);else if(fe){var Ee=null;if(W&&W.hasAttribute("formAction")){if(z=W,fe=W[Lt]||null)Ee=fe.formAction;else if(Nr(z)!==null)continue}else Ee=fe.action;typeof Ee=="function"?b[T+1]=Ee:(b.splice(T,3),T-=3),Ai(b)}}}function ua(u){this._internalRoot=u}Ws.prototype.render=ua.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(n(409));var b=p.current,T=Rs();_t(b,T,u,p,null,null)},Ws.prototype.unmount=ua.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;_t(u.current,2,null,u,null,null),So(),p[lt]=null}};function Ws(u){this._internalRoot=u}Ws.prototype.unstable_scheduleHydration=function(u){if(u){var p=Me();u={blockedOn:null,target:u,priority:p};for(var b=0;b<Ia.length&&p!==0&&p<Ia[b].priority;b++);Ia.splice(b,0,u),b===0&&Ho(u)}};var op=t.version;if(op!=="19.1.0")throw Error(n(527,op,"19.1.0"));Ce.findDOMNode=function(u){var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=g(p),u=u!==null?m(u):null,u=u===null?null:u.stateNode,u};var Uc={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fb.isDisabled&&fb.supportsFiber)try{gr=fb.inject(Uc),Tr=fb}catch{}}return F0.createRoot=function(u,p){if(!a(u))throw Error(n(299));var b=!1,T="",z=tw,W=wv,fe=Y_,Ee=null;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(z=p.onUncaughtError),p.onCaughtError!==void 0&&(W=p.onCaughtError),p.onRecoverableError!==void 0&&(fe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Ee=p.unstable_transitionCallbacks)),p=Te(u,1,!1,null,null,b,T,z,W,fe,Ee,null),u[lt]=p.current,Qv(u),new ua(p)},F0.hydrateRoot=function(u,p,b){if(!a(u))throw Error(n(299));var T=!1,z="",W=tw,fe=wv,Ee=Y_,Ke=null,Et=null;return b!=null&&(b.unstable_strictMode===!0&&(T=!0),b.identifierPrefix!==void 0&&(z=b.identifierPrefix),b.onUncaughtError!==void 0&&(W=b.onUncaughtError),b.onCaughtError!==void 0&&(fe=b.onCaughtError),b.onRecoverableError!==void 0&&(Ee=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(Ke=b.unstable_transitionCallbacks),b.formState!==void 0&&(Et=b.formState)),p=Te(u,1,!0,p,b??null,T,z,W,fe,Ee,Ke,Et),p.context=Ve(null),b=p.current,T=Rs(),T=dt(T),z=Hl(T),z.callback=null,pl(b,z,T),b=T,p.current.lanes=b,gt(p,b),tc(p),u[lt]=p.current,Qv(u),new Ws(p)},F0.version="19.1.0",F0}var aB;function OX(){if(aB)return qC.exports;aB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qC.exports=MX(),qC.exports}var kX=OX(),N0={},iB;function IX(){if(iB)return N0;iB=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.parse=c,N0.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function c(R,O){const I=new l,B=R.length;if(B<2)return I;const $=(O==null?void 0:O.decode)||_;let q=0;do{const j=R.indexOf("=",q);if(j===-1)break;const F=R.indexOf(";",q),N=F===-1?B:F;if(j>N){q=R.lastIndexOf(";",j-1)+1;continue}const G=o(R,q,j),V=g(R,j,G),ee=R.slice(G,V);if(I[ee]===void 0){let ne=o(R,j+1,N),ae=g(R,N,ne);const X=$(R.slice(ne,ae));I[ee]=X}q=N+1}while(q<B);return I}function o(R,O,I){do{const B=R.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<I);return I}function g(R,O,I){for(;O>I;){const B=R.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return I}function m(R,O,I){const B=(I==null?void 0:I.encode)||encodeURIComponent;if(!e.test(R))throw new TypeError(`argument name is invalid: ${R}`);const $=B(O);if(!t.test($))throw new TypeError(`argument val is invalid: ${O}`);let q=R+"="+$;if(!I)return q;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);q+="; Max-Age="+I.maxAge}if(I.domain){if(!r.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);q+="; Domain="+I.domain}if(I.path){if(!n.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);q+="; Path="+I.path}if(I.expires){if(!E(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);q+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(q+="; HttpOnly"),I.secure&&(q+="; Secure"),I.partitioned&&(q+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return q}function _(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function E(R){return a.call(R)==="[object Date]"}return N0}IX();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r9=e=>{throw TypeError(e)},DX=(e,t,r)=>t.has(e)||r9("Cannot "+r),ZC=(e,t,r)=>(DX(e,t,"read from private field"),r?r.call(e):t.get(e)),zX=(e,t,r)=>t.has(e)?r9("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),oB="popstate";function LX(e={}){function t(n,a){let{pathname:l,search:c,hash:o}=n.location;return u_("",{pathname:l,search:c,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:wp(a)}return n9(t,r,null,e)}function BX(e={}){function t(a,l){let{pathname:c="/",search:o="",hash:g=""}=vh(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),u_("",{pathname:c,search:o,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){let c=a.document.querySelector("base"),o="";if(c&&c.getAttribute("href")){let g=a.location.href,m=g.indexOf("#");o=m===-1?g:g.slice(0,m)}return o+"#"+(typeof l=="string"?l:wp(l))}function n(a,l){qi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return n9(t,r,n,e)}function On(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FX(){return Math.random().toString(36).substring(2,10)}function sB(e,t){return{usr:e.state,key:e.key,idx:t}}function u_(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vh(t):t,state:r,key:t&&t.key||n||FX()}}function wp({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function n9(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,c=a.history,o="POP",g=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function E(){o="POP";let $=_(),q=$==null?null:$-m;m=$,g&&g({action:o,location:B.location,delta:q})}function R($,q){o="PUSH";let j=u_(B.location,$,q);r&&r(j,$),m=_()+1;let F=sB(j,m),N=B.createHref(j);try{c.pushState(F,"",N)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;a.location.assign(N)}l&&g&&g({action:o,location:B.location,delta:1})}function O($,q){o="REPLACE";let j=u_(B.location,$,q);r&&r(j,$),m=_();let F=sB(j,m),N=B.createHref(j);c.replaceState(F,"",N),l&&g&&g({action:o,location:B.location,delta:0})}function I($){return a9($)}let B={get action(){return o},get location(){return e(a,c)},listen($){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(oB,E),g=$,()=>{a.removeEventListener(oB,E),g=null}},createHref($){return t(a,$)},createURL:I,encodeLocation($){let q=I($);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:R,replace:O,go($){return c.go($)}};return B}function a9(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),On(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:wp(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var ax,lB=class{constructor(e){if(zX(this,ax,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(ZC(this,ax).has(e))return ZC(this,ax).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){ZC(this,ax).set(e,t)}};ax=new WeakMap;var NX=new Set(["lazy","caseSensitive","path","id","index","children"]);function jX(e){return NX.has(e)}var $X=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function UX(e){return $X.has(e)}function qX(e){return e.index===!0}function US(e,t,r=[],n={}){return e.map((a,l)=>{let c=[...r,String(l)],o=typeof a.id=="string"?a.id:c.join("-");if(On(a.index!==!0||!a.children,"Cannot specify children on an index route"),On(!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),qX(a)){let g={...a,...t(a),id:o};return n[o]=g,g}else{let g={...a,...t(a),id:o,children:void 0};return n[o]=g,a.children&&(g.children=US(a.children,t,c,n)),g}})}function Bm(e,t,r="/"){return hS(e,t,r,!1)}function hS(e,t,r,n){let a=typeof t=="string"?vh(t):t,l=dc(a.pathname||"/",r);if(l==null)return null;let c=i9(e);HX(c);let o=null;for(let g=0;o==null&&g<c.length;++g){let m=s9(l);o=eY(c[g],m,n)}return o}function VX(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function i9(e,t=[],r=[],n=""){let a=(l,c,o)=>{let g={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(On(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length));let m=hh([n,g.relativePath]),_=r.concat(g);l.children&&l.children.length>0&&(On(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),i9(l.children,t,_,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:QX(m,l.index),routesMeta:_})};return e.forEach((l,c)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,c);else for(let g of o9(l.path))a(l,c,g)}),t}function o9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let c=o9(n.join("/")),o=[];return o.push(...c.map(g=>g===""?l:[l,g].join("/"))),a&&o.push(...c),o.map(g=>e.startsWith("/")&&g===""?"/":g)}function HX(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:JX(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var GX=/^:[\w-]+$/,ZX=3,WX=2,KX=1,XX=10,YX=-2,cB=e=>e==="*";function QX(e,t){let r=e.split("/"),n=r.length;return r.some(cB)&&(n+=YX),t&&(n+=WX),r.filter(a=>!cB(a)).reduce((a,l)=>a+(GX.test(l)?ZX:l===""?KX:XX),n)}function JX(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function eY(e,t,r=!1){let{routesMeta:n}=e,a={},l="/",c=[];for(let o=0;o<n.length;++o){let g=n[o],m=o===n.length-1,_=l==="/"?t:t.slice(l.length)||"/",E=Qx({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},_),R=g.route;if(!E&&m&&r&&!n[n.length-1].route.index&&(E=Qx({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:hh([l,E.pathname]),pathnameBase:aY(hh([l,E.pathnameBase])),route:R}),E.pathnameBase!=="/"&&(l=hh([l,E.pathnameBase]))}return c}function Qx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tY(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((m,{paramName:_,isOptional:E},R)=>{if(_==="*"){let I=o[R]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const O=o[R];return E&&!O?m[_]=void 0:m[_]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function tY(e,t=!1,r=!0){qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,o,g)=>(n.push({paramName:o,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function s9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function dc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rY(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?vh(e):e;return{pathname:r?r.startsWith("/")?r:nY(r,t):t,search:iY(n),hash:oY(a)}}function nY(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function WC(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function s2(e){let t=l9(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function l2(e,t,r,n=!1){let a;typeof e=="string"?a=vh(e):(a={...e},On(!a.pathname||!a.pathname.includes("?"),WC("?","pathname","search",a)),On(!a.pathname||!a.pathname.includes("#"),WC("#","pathname","hash",a)),On(!a.search||!a.search.includes("#"),WC("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,o;if(c==null)o=r;else{let E=t.length-1;if(!n&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),E-=1;a.pathname=R.join("/")}o=E>=0?t[E]:"/"}let g=rY(a,o),m=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(m||_)&&(g.pathname+="/"),g}var hh=e=>e.join("/").replace(/\/\/+/g,"/"),aY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,qS=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Jx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var c9=["POST","PUT","PATCH","DELETE"],sY=new Set(c9),lY=["GET",...c9],cY=new Set(lY),uY=new Set([301,302,303,307,308]),dY=new Set([307,308]),KC={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fY={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cb={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hY=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),u9="remix-router-transitions",d9=Symbol("ResetLoaderData");function pY(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";On(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],a=e.mapRouteProperties||hY,l={},c=US(e.routes,a,void 0,l),o,g=e.basename||"/",m=e.dataStrategy||bY,_={unstable_middleware:!1,...e.future},E=null,R=new Set,O=null,I=null,B=null,$=e.hydrationData!=null,q=Bm(c,e.history.location,g),j=!1,F=null,N;if(q==null&&!e.patchRoutesOnNavigation){let Me=zu(404,{pathname:e.history.location.pathname}),{matches:qe,route:it}=xB(c);N=!0,q=qe,F={[it.id]:Me}}else if(q&&!e.hydrationData&&ft(q,c,e.history.location.pathname).active&&(q=null),q)if(q.some(Me=>Me.route.lazy))N=!1;else if(!q.some(Me=>Me.route.loader))N=!0;else{let Me=e.hydrationData?e.hydrationData.loaderData:null,qe=e.hydrationData?e.hydrationData.errors:null;if(qe){let it=q.findIndex(At=>qe[At.route.id]!==void 0);N=q.slice(0,it+1).every(At=>!xk(At.route,Me,qe))}else N=q.every(it=>!xk(it.route,Me,qe))}else{N=!1,q=[];let Me=ft(null,c,e.history.location.pathname);Me.active&&Me.matches&&(j=!0,q=Me.matches)}let G,V={historyAction:e.history.action,location:e.history.location,matches:q,initialized:N,navigation:KC,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||F,fetchers:new Map,blockers:new Map},ee="POP",ne=!1,ae,X=!1,te=new Map,le=null,we=!1,ve=!1,xe=new Set,ce=new Map,Ce=0,Se=-1,ze=new Map,ge=new Set,je=new Map,et=new Map,rt=new Set,vt=new Map,ht,ut=null;function Vt(){if(E=e.history.listen(({action:Me,location:qe,delta:it})=>{if(ht){ht(),ht=void 0;return}qi(vt.size===0||it!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let At=Ae({currentLocation:V.location,nextLocation:qe,historyAction:Me});if(At&&it!=null){let Lt=new Promise(lt=>{ht=lt});e.history.go(it*-1),ye(At,{state:"blocked",location:qe,proceed(){ye(At,{state:"proceeding",proceed:void 0,reset:void 0,location:qe}),Lt.then(()=>e.history.go(it))},reset(){let lt=new Map(V.blockers);lt.set(At,Cb),Dt({blockers:lt})}});return}return Xt(Me,qe)}),r){MY(t,te);let Me=()=>OY(t,te);t.addEventListener("pagehide",Me),le=()=>t.removeEventListener("pagehide",Me)}return V.initialized||Xt("POP",V.location,{initialHydration:!0}),G}function Nt(){E&&E(),le&&le(),R.clear(),ae&&ae.abort(),V.fetchers.forEach((Me,qe)=>Qr(qe)),V.blockers.forEach((Me,qe)=>me(qe))}function lr(Me){return R.add(Me),()=>R.delete(Me)}function Dt(Me,qe={}){V={...V,...Me};let it=[],At=[];V.fetchers.forEach((Lt,lt)=>{Lt.state==="idle"&&(rt.has(lt)?it.push(lt):At.push(lt))}),rt.forEach(Lt=>{!V.fetchers.has(Lt)&&!ce.has(Lt)&&it.push(Lt)}),[...R].forEach(Lt=>Lt(V,{deletedFetchers:it,viewTransitionOpts:qe.viewTransitionOpts,flushSync:qe.flushSync===!0})),it.forEach(Lt=>Qr(Lt)),At.forEach(Lt=>V.fetchers.delete(Lt))}function $t(Me,qe,{flushSync:it}={}){var sr,yt;let At=V.actionData!=null&&V.navigation.formMethod!=null&&Zc(V.navigation.formMethod)&&V.navigation.state==="loading"&&((sr=Me.state)==null?void 0:sr._isRedirect)!==!0,Lt;qe.actionData?Object.keys(qe.actionData).length>0?Lt=qe.actionData:Lt=null:At?Lt=V.actionData:Lt=null;let lt=qe.loaderData?bB(V.loaderData,qe.loaderData,qe.matches||[],qe.errors):V.loaderData,Sr=V.blockers;Sr.size>0&&(Sr=new Map(Sr),Sr.forEach((ar,vr)=>Sr.set(vr,Cb)));let dr=ne===!0||V.navigation.formMethod!=null&&Zc(V.navigation.formMethod)&&((yt=Me.state)==null?void 0:yt._isRedirect)!==!0;o&&(c=o,o=void 0),we||ee==="POP"||(ee==="PUSH"?e.history.push(Me,Me.state):ee==="REPLACE"&&e.history.replace(Me,Me.state));let _r;if(ee==="POP"){let ar=te.get(V.location.pathname);ar&&ar.has(Me.pathname)?_r={currentLocation:V.location,nextLocation:Me}:te.has(Me.pathname)&&(_r={currentLocation:Me,nextLocation:V.location})}else if(X){let ar=te.get(V.location.pathname);ar?ar.add(Me.pathname):(ar=new Set([Me.pathname]),te.set(V.location.pathname,ar)),_r={currentLocation:V.location,nextLocation:Me}}Dt({...qe,actionData:Lt,loaderData:lt,historyAction:ee,location:Me,initialized:!0,navigation:KC,revalidation:"idle",restoreScrollPosition:ot(Me,qe.matches||V.matches),preventScrollReset:dr,blockers:Sr},{viewTransitionOpts:_r,flushSync:it===!0}),ee="POP",ne=!1,X=!1,we=!1,ve=!1,ut==null||ut.resolve(),ut=null}async function tr(Me,qe){if(typeof Me=="number"){e.history.go(Me);return}let it=_k(V.location,V.matches,g,Me,qe==null?void 0:qe.fromRouteId,qe==null?void 0:qe.relative),{path:At,submission:Lt,error:lt}=uB(!1,it,qe),Sr=V.location,dr=u_(V.location,At,qe&&qe.state);dr={...dr,...e.history.encodeLocation(dr)};let _r=qe&&qe.replace!=null?qe.replace:void 0,sr="PUSH";_r===!0?sr="REPLACE":_r===!1||Lt!=null&&Zc(Lt.formMethod)&&Lt.formAction===V.location.pathname+V.location.search&&(sr="REPLACE");let yt=qe&&"preventScrollReset"in qe?qe.preventScrollReset===!0:void 0,ar=(qe&&qe.flushSync)===!0,vr=Ae({currentLocation:Sr,nextLocation:dr,historyAction:sr});if(vr){ye(vr,{state:"blocked",location:dr,proceed(){ye(vr,{state:"proceeding",proceed:void 0,reset:void 0,location:dr}),tr(Me,qe)},reset(){let tn=new Map(V.blockers);tn.set(vr,Cb),Dt({blockers:tn})}});return}await Xt(sr,dr,{submission:Lt,pendingError:lt,preventScrollReset:yt,replace:qe&&qe.replace,enableViewTransition:qe&&qe.viewTransition,flushSync:ar})}function ur(){ut||(ut=kY()),Ht(),Dt({revalidation:"loading"});let Me=ut.promise;return V.navigation.state==="submitting"?Me:V.navigation.state==="idle"?(Xt(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),Me):(Xt(ee||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:X===!0}),Me)}async function Xt(Me,qe,it){ae&&ae.abort(),ae=null,ee=Me,we=(it&&it.startUninterruptedRevalidation)===!0,gt(V.location,V.matches),ne=(it&&it.preventScrollReset)===!0,X=(it&&it.enableViewTransition)===!0;let At=o||c,Lt=it&&it.overrideNavigation,lt=it!=null&&it.initialHydration&&V.matches&&V.matches.length>0&&!j?V.matches:Bm(At,qe,g),Sr=(it&&it.flushSync)===!0;if(lt&&V.initialized&&!ve&&CY(V.location,qe)&&!(it&&it.submission&&Zc(it.submission.formMethod))){$t(qe,{matches:lt},{flushSync:Sr});return}let dr=ft(lt,At,qe.pathname);if(dr.active&&dr.matches&&(lt=dr.matches),!lt){let{error:Ln,notFoundMatches:Pr,route:Cn}=Ne(qe.pathname);$t(qe,{matches:Pr,loaderData:{},errors:{[Cn.id]:Ln}},{flushSync:Sr});return}ae=new AbortController;let _r=Tb(e.history,qe,ae.signal,it&&it.submission),sr=new lB(e.unstable_getContext?await e.unstable_getContext():void 0),yt;if(it&&it.pendingError)yt=[vy(lt).route.id,{type:"error",error:it.pendingError}];else if(it&&it.submission&&Zc(it.submission.formMethod)){let Ln=await mr(_r,qe,it.submission,lt,sr,dr.active,it&&it.initialHydration===!0,{replace:it.replace,flushSync:Sr});if(Ln.shortCircuited)return;if(Ln.pendingActionResult){let[Pr,Cn]=Ln.pendingActionResult;if(Gc(Cn)&&Jx(Cn.error)&&Cn.error.status===404){ae=null,$t(qe,{matches:Ln.matches,loaderData:{},errors:{[Pr]:Cn.error}});return}}lt=Ln.matches||lt,yt=Ln.pendingActionResult,Lt=XC(qe,it.submission),Sr=!1,dr.active=!1,_r=Tb(e.history,_r.url,_r.signal)}let{shortCircuited:ar,matches:vr,loaderData:tn,errors:fn}=await Vr(_r,qe,lt,sr,dr.active,Lt,it&&it.submission,it&&it.fetcherSubmission,it&&it.replace,it&&it.initialHydration===!0,Sr,yt);ar||(ae=null,$t(qe,{matches:vr||lt,..._B(yt),loaderData:tn,errors:fn}))}async function mr(Me,qe,it,At,Lt,lt,Sr,dr={}){Ht();let _r=PY(qe,it);if(Dt({navigation:_r},{flushSync:dr.flushSync===!0}),lt){let ar=await xt(At,qe.pathname,Me.signal);if(ar.type==="aborted")return{shortCircuited:!0};if(ar.type==="error"){let vr=vy(ar.partialMatches).route.id;return{matches:ar.partialMatches,pendingActionResult:[vr,{type:"error",error:ar.error}]}}else if(ar.matches)At=ar.matches;else{let{notFoundMatches:vr,error:tn,route:fn}=Ne(qe.pathname);return{matches:vr,pendingActionResult:[fn.id,{type:"error",error:tn}]}}}let sr,yt=ix(At,qe);if(!yt.route.action&&!yt.route.lazy)sr={type:"error",error:zu(405,{method:Me.method,pathname:qe.pathname,routeId:yt.route.id})};else{let ar=jb(a,l,Me,At,yt,Sr?[]:n,Lt),vr=await Ut(Me,ar,Lt,null);if(sr=vr[yt.route.id],!sr){for(let tn of At)if(vr[tn.route.id]){sr=vr[tn.route.id];break}}if(Me.signal.aborted)return{shortCircuited:!0}}if(Ty(sr)){let ar;return dr&&dr.replace!=null?ar=dr.replace:ar=gB(sr.response.headers.get("Location"),new URL(Me.url),g)===V.location.pathname+V.location.search,await We(Me,sr,!0,{submission:it,replace:ar}),{shortCircuited:!0}}if(Gc(sr)){let ar=vy(At,yt.route.id);return(dr&&dr.replace)!==!0&&(ee="PUSH"),{matches:At,pendingActionResult:[ar.route.id,sr,yt.route.id]}}return{matches:At,pendingActionResult:[yt.route.id,sr]}}async function Vr(Me,qe,it,At,Lt,lt,Sr,dr,_r,sr,yt,ar){let vr=lt||XC(qe,Sr),tn=Sr||dr||SB(vr),fn=!we&&!sr;if(Lt){if(fn){let Oi=br(ar);Dt({navigation:vr,...Oi!==void 0?{actionData:Oi}:{}},{flushSync:yt})}let _n=await xt(it,qe.pathname,Me.signal);if(_n.type==="aborted")return{shortCircuited:!0};if(_n.type==="error"){let Oi=vy(_n.partialMatches).route.id;return{matches:_n.partialMatches,loaderData:{},errors:{[Oi]:_n.error}}}else if(_n.matches)it=_n.matches;else{let{error:Oi,notFoundMatches:Zi,route:xi}=Ne(qe.pathname);return{matches:Zi,loaderData:{},errors:{[xi.id]:Oi}}}}let Ln=o||c,{dsMatches:Pr,revalidatingFetchers:Cn}=dB(Me,At,a,l,e.history,V,it,tn,qe,sr?[]:n,sr===!0,ve,xe,rt,je,ge,Ln,g,e.patchRoutesOnNavigation!=null,ar);if(Se=++Ce,!e.dataStrategy&&!Pr.some(_n=>_n.shouldLoad)&&Cn.length===0){let _n=Kr();return $t(qe,{matches:it,loaderData:{},errors:ar&&Gc(ar[1])?{[ar[0]]:ar[1].error}:null,..._B(ar),..._n?{fetchers:new Map(V.fetchers)}:{}},{flushSync:yt}),{shortCircuited:!0}}if(fn){let _n={};if(!Lt){_n.navigation=vr;let Oi=br(ar);Oi!==void 0&&(_n.actionData=Oi)}Cn.length>0&&(_n.fetchers=nn(Cn)),Dt(_n,{flushSync:yt})}Cn.forEach(_n=>{wr(_n.key),_n.controller&&ce.set(_n.key,_n.controller)});let Bs=()=>Cn.forEach(_n=>wr(_n.key));ae&&ae.signal.addEventListener("abort",Bs);let{loaderResults:ci,fetcherResults:fo}=await qt(Pr,Cn,Me,At);if(Me.signal.aborted)return{shortCircuited:!0};ae&&ae.signal.removeEventListener("abort",Bs),Cn.forEach(_n=>ce.delete(_n.key));let Ya=Dw(ci);if(Ya)return await We(Me,Ya.result,!0,{replace:_r}),{shortCircuited:!0};if(Ya=Dw(fo),Ya)return ge.add(Ya.key),await We(Me,Ya.result,!0,{replace:_r}),{shortCircuited:!0};let{loaderData:es,errors:oa}=vB(V,it,ci,ar,Cn,fo);sr&&V.errors&&(oa={...V.errors,...oa});let Gi=Kr(),Bn=en(Se),ys=Gi||Bn||Cn.length>0;return{matches:it,loaderData:es,errors:oa,...ys?{fetchers:new Map(V.fetchers)}:{}}}function br(Me){if(Me&&!Gc(Me[1]))return{[Me[0]]:Me[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function nn(Me){return Me.forEach(qe=>{let it=V.fetchers.get(qe.key),At=j0(void 0,it?it.data:void 0);V.fetchers.set(qe.key,At)}),new Map(V.fetchers)}async function Rr(Me,qe,it,At){wr(Me);let Lt=(At&&At.flushSync)===!0,lt=o||c,Sr=_k(V.location,V.matches,g,it,qe,At==null?void 0:At.relative),dr=Bm(lt,Sr,g),_r=ft(dr,lt,Sr);if(_r.active&&_r.matches&&(dr=_r.matches),!dr){Tr(Me,qe,zu(404,{pathname:Sr}),{flushSync:Lt});return}let{path:sr,submission:yt,error:ar}=uB(!0,Sr,At);if(ar){Tr(Me,qe,ar,{flushSync:Lt});return}let vr=ix(dr,sr),tn=new lB(e.unstable_getContext?await e.unstable_getContext():void 0),fn=(At&&At.preventScrollReset)===!0;if(yt&&Zc(yt.formMethod)){await Be(Me,qe,sr,vr,dr,tn,_r.active,Lt,fn,yt);return}je.set(Me,{routeId:qe,path:sr}),await Ye(Me,qe,sr,vr,dr,tn,_r.active,Lt,fn,yt)}async function Be(Me,qe,it,At,Lt,lt,Sr,dr,_r,sr){Ht(),je.delete(Me);function yt(ba){if(!ba.route.action&&!ba.route.lazy){let gc=zu(405,{method:sr.formMethod,pathname:it,routeId:qe});return Tr(Me,qe,gc,{flushSync:dr}),!0}return!1}if(!Sr&&yt(At))return;let ar=V.fetchers.get(Me);gr(Me,RY(sr,ar),{flushSync:dr});let vr=new AbortController,tn=Tb(e.history,it,vr.signal,sr);if(Sr){let ba=await xt(Lt,it,tn.signal,Me);if(ba.type==="aborted")return;if(ba.type==="error"){Tr(Me,qe,ba.error,{flushSync:dr});return}else if(ba.matches){if(Lt=ba.matches,At=ix(Lt,it),yt(At))return}else{Tr(Me,qe,zu(404,{pathname:it}),{flushSync:dr});return}}ce.set(Me,vr);let fn=Ce,Ln=jb(a,l,tn,Lt,At,n,lt),Cn=(await Ut(tn,Ln,lt,Me))[At.route.id];if(tn.signal.aborted){ce.get(Me)===vr&&ce.delete(Me);return}if(rt.has(Me)){if(Ty(Cn)||Gc(Cn)){gr(Me,Om(void 0));return}}else{if(Ty(Cn))if(ce.delete(Me),Se>fn){gr(Me,Om(void 0));return}else return ge.add(Me),gr(Me,j0(sr)),We(tn,Cn,!1,{fetcherSubmission:sr,preventScrollReset:_r});if(Gc(Cn)){Tr(Me,qe,Cn.error);return}}let Bs=V.navigation.location||V.location,ci=Tb(e.history,Bs,vr.signal),fo=o||c,Ya=V.navigation.state!=="idle"?Bm(fo,V.navigation.location,g):V.matches;On(Ya,"Didn't find any matches after fetcher action");let es=++Ce;ze.set(Me,es);let oa=j0(sr,Cn.data);V.fetchers.set(Me,oa);let{dsMatches:Gi,revalidatingFetchers:Bn}=dB(ci,lt,a,l,e.history,V,Ya,sr,Bs,n,!1,ve,xe,rt,je,ge,fo,g,e.patchRoutesOnNavigation!=null,[At.route.id,Cn]);Bn.filter(ba=>ba.key!==Me).forEach(ba=>{let gc=ba.key,Il=V.fetchers.get(gc),Lo=j0(void 0,Il?Il.data:void 0);V.fetchers.set(gc,Lo),wr(gc),ba.controller&&ce.set(gc,ba.controller)}),Dt({fetchers:new Map(V.fetchers)});let ys=()=>Bn.forEach(ba=>wr(ba.key));vr.signal.addEventListener("abort",ys);let{loaderResults:_n,fetcherResults:Oi}=await qt(Gi,Bn,ci,lt);if(vr.signal.aborted)return;if(vr.signal.removeEventListener("abort",ys),ze.delete(Me),ce.delete(Me),Bn.forEach(ba=>ce.delete(ba.key)),V.fetchers.has(Me)){let ba=Om(Cn.data);V.fetchers.set(Me,ba)}let Zi=Dw(_n);if(Zi)return We(ci,Zi.result,!1,{preventScrollReset:_r});if(Zi=Dw(Oi),Zi)return ge.add(Zi.key),We(ci,Zi.result,!1,{preventScrollReset:_r});let{loaderData:xi,errors:ou}=vB(V,Ya,_n,void 0,Bn,Oi);en(es),V.navigation.state==="loading"&&es>Se?(On(ee,"Expected pending action"),ae&&ae.abort(),$t(V.navigation.location,{matches:Ya,loaderData:xi,errors:ou,fetchers:new Map(V.fetchers)})):(Dt({errors:ou,loaderData:bB(V.loaderData,xi,Ya,ou),fetchers:new Map(V.fetchers)}),ve=!1)}async function Ye(Me,qe,it,At,Lt,lt,Sr,dr,_r,sr){let yt=V.fetchers.get(Me);gr(Me,j0(sr,yt?yt.data:void 0),{flushSync:dr});let ar=new AbortController,vr=Tb(e.history,it,ar.signal);if(Sr){let Cn=await xt(Lt,it,vr.signal,Me);if(Cn.type==="aborted")return;if(Cn.type==="error"){Tr(Me,qe,Cn.error,{flushSync:dr});return}else if(Cn.matches)Lt=Cn.matches,At=ix(Lt,it);else{Tr(Me,qe,zu(404,{pathname:it}),{flushSync:dr});return}}ce.set(Me,ar);let tn=Ce,fn=jb(a,l,vr,Lt,At,n,lt),Pr=(await Ut(vr,fn,lt,Me))[At.route.id];if(ce.get(Me)===ar&&ce.delete(Me),!vr.signal.aborted){if(rt.has(Me)){gr(Me,Om(void 0));return}if(Ty(Pr))if(Se>tn){gr(Me,Om(void 0));return}else{ge.add(Me),await We(vr,Pr,!1,{preventScrollReset:_r});return}if(Gc(Pr)){Tr(Me,qe,Pr.error);return}gr(Me,Om(Pr.data))}}async function We(Me,qe,it,{submission:At,fetcherSubmission:Lt,preventScrollReset:lt,replace:Sr}={}){qe.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let dr=qe.response.headers.get("Location");On(dr,"Expected a Location header on the redirect Response"),dr=gB(dr,new URL(Me.url),g);let _r=u_(V.location,dr,{_isRedirect:!0});if(r){let fn=!1;if(qe.response.headers.has("X-Remix-Reload-Document"))fn=!0;else if(BD.test(dr)){const Ln=a9(dr,!0);fn=Ln.origin!==t.location.origin||dc(Ln.pathname,g)==null}if(fn){Sr?t.location.replace(dr):t.location.assign(dr);return}}ae=null;let sr=Sr===!0||qe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:yt,formAction:ar,formEncType:vr}=V.navigation;!At&&!Lt&&yt&&ar&&vr&&(At=SB(V.navigation));let tn=At||Lt;if(dY.has(qe.response.status)&&tn&&Zc(tn.formMethod))await Xt(sr,_r,{submission:{...tn,formAction:dr},preventScrollReset:lt||ne,enableViewTransition:it?X:void 0});else{let fn=XC(_r,At);await Xt(sr,_r,{overrideNavigation:fn,fetcherSubmission:Lt,preventScrollReset:lt||ne,enableViewTransition:it?X:void 0})}}async function Ut(Me,qe,it,At){let Lt,lt={};try{Lt=await _Y(m,Me,qe,At,it,!1)}catch(Sr){return qe.filter(dr=>dr.shouldLoad).forEach(dr=>{lt[dr.route.id]={type:"error",error:Sr}}),lt}if(Me.signal.aborted)return lt;for(let[Sr,dr]of Object.entries(Lt))if(TY(dr)){let _r=dr.result;lt[Sr]={type:"redirect",response:SY(_r,Me,Sr,qe,g)}}else lt[Sr]=await wY(dr);return lt}async function qt(Me,qe,it,At){let Lt=Ut(it,Me,At,null),lt=Promise.all(qe.map(async _r=>{if(_r.matches&&_r.match&&_r.request&&_r.controller){let yt=(await Ut(_r.request,_r.matches,At,_r.key))[_r.match.route.id];return{[_r.key]:yt}}else return Promise.resolve({[_r.key]:{type:"error",error:zu(404,{pathname:_r.path})}})})),Sr=await Lt,dr=(await lt).reduce((_r,sr)=>Object.assign(_r,sr),{});return{loaderResults:Sr,fetcherResults:dr}}function Ht(){ve=!0,je.forEach((Me,qe)=>{ce.has(qe)&&xe.add(qe),wr(qe)})}function gr(Me,qe,it={}){V.fetchers.set(Me,qe),Dt({fetchers:new Map(V.fetchers)},{flushSync:(it&&it.flushSync)===!0})}function Tr(Me,qe,it,At={}){let Lt=vy(V.matches,qe);Qr(Me),Dt({errors:{[Lt.route.id]:it},fetchers:new Map(V.fetchers)},{flushSync:(At&&At.flushSync)===!0})}function Mr(Me){return et.set(Me,(et.get(Me)||0)+1),rt.has(Me)&&rt.delete(Me),V.fetchers.get(Me)||fY}function Qr(Me){let qe=V.fetchers.get(Me);ce.has(Me)&&!(qe&&qe.state==="loading"&&ze.has(Me))&&wr(Me),je.delete(Me),ze.delete(Me),ge.delete(Me),rt.delete(Me),xe.delete(Me),V.fetchers.delete(Me)}function gn(Me){let qe=(et.get(Me)||0)-1;qe<=0?(et.delete(Me),rt.add(Me)):et.set(Me,qe),Dt({fetchers:new Map(V.fetchers)})}function wr(Me){let qe=ce.get(Me);qe&&(qe.abort(),ce.delete(Me))}function wn(Me){for(let qe of Me){let it=Mr(qe),At=Om(it.data);V.fetchers.set(qe,At)}}function Kr(){let Me=[],qe=!1;for(let it of ge){let At=V.fetchers.get(it);On(At,`Expected fetcher: ${it}`),At.state==="loading"&&(ge.delete(it),Me.push(it),qe=!0)}return wn(Me),qe}function en(Me){let qe=[];for(let[it,At]of ze)if(At<Me){let Lt=V.fetchers.get(it);On(Lt,`Expected fetcher: ${it}`),Lt.state==="loading"&&(wr(it),ze.delete(it),qe.push(it))}return wn(qe),qe.length>0}function Ge(Me,qe){let it=V.blockers.get(Me)||Cb;return vt.get(Me)!==qe&&vt.set(Me,qe),it}function me(Me){V.blockers.delete(Me),vt.delete(Me)}function ye(Me,qe){let it=V.blockers.get(Me)||Cb;On(it.state==="unblocked"&&qe.state==="blocked"||it.state==="blocked"&&qe.state==="blocked"||it.state==="blocked"&&qe.state==="proceeding"||it.state==="blocked"&&qe.state==="unblocked"||it.state==="proceeding"&&qe.state==="unblocked",`Invalid blocker state transition: ${it.state} -> ${qe.state}`);let At=new Map(V.blockers);At.set(Me,qe),Dt({blockers:At})}function Ae({currentLocation:Me,nextLocation:qe,historyAction:it}){if(vt.size===0)return;vt.size>1&&qi(!1,"A router only supports one blocker at a time");let At=Array.from(vt.entries()),[Lt,lt]=At[At.length-1],Sr=V.blockers.get(Lt);if(!(Sr&&Sr.state==="proceeding")&&lt({currentLocation:Me,nextLocation:qe,historyAction:it}))return Lt}function Ne(Me){let qe=zu(404,{pathname:Me}),it=o||c,{matches:At,route:Lt}=xB(it);return{notFoundMatches:At,route:Lt,error:qe}}function Je(Me,qe,it){if(O=Me,B=qe,I=it||null,!$&&V.navigation===KC){$=!0;let At=ot(V.location,V.matches);At!=null&&Dt({restoreScrollPosition:At})}return()=>{O=null,B=null,I=null}}function Re(Me,qe){return I&&I(Me,qe.map(At=>VX(At,V.loaderData)))||Me.key}function gt(Me,qe){if(O&&B){let it=Re(Me,qe);O[it]=B()}}function ot(Me,qe){if(O){let it=Re(Me,qe),At=O[it];if(typeof At=="number")return At}return null}function ft(Me,qe,it){if(e.patchRoutesOnNavigation)if(Me){if(Object.keys(Me[0].params).length>0)return{active:!0,matches:hS(qe,it,g,!0)}}else return{active:!0,matches:hS(qe,it,g,!0)||[]};return{active:!1,matches:null}}async function xt(Me,qe,it,At){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Me};let Lt=Me;for(;;){let lt=o==null,Sr=o||c,dr=l;try{await e.patchRoutesOnNavigation({signal:it,path:qe,matches:Lt,fetcherKey:At,patch:(yt,ar)=>{it.aborted||fB(yt,ar,Sr,dr,a)}})}catch(yt){return{type:"error",error:yt,partialMatches:Lt}}finally{lt&&!it.aborted&&(c=[...c])}if(it.aborted)return{type:"aborted"};let _r=Bm(Sr,qe,g);if(_r)return{type:"success",matches:_r};let sr=hS(Sr,qe,g,!0);if(!sr||Lt.length===sr.length&&Lt.every((yt,ar)=>yt.route.id===sr[ar].route.id))return{type:"success",matches:null};Lt=sr}}function dt(Me){l={},o=US(Me,a,void 0,l)}function wt(Me,qe){let it=o==null;fB(Me,qe,o||c,l,a),it&&(c=[...c],Dt({}))}return G={get basename(){return g},get future(){return _},get state(){return V},get routes(){return c},get window(){return t},initialize:Vt,subscribe:lr,enableScrollRestoration:Je,navigate:tr,fetch:Rr,revalidate:ur,createHref:Me=>e.history.createHref(Me),encodeLocation:Me=>e.history.encodeLocation(Me),getFetcher:Mr,deleteFetcher:gn,dispose:Nt,getBlocker:Ge,deleteBlocker:me,patchRoutes:wt,_internalFetchControllers:ce,_internalSetRoutes:dt},G}function mY(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function _k(e,t,r,n,a,l){let c,o;if(a){c=[];for(let m of t)if(c.push(m),m.route.id===a){o=m;break}}else c=t,o=t[t.length-1];let g=l2(n||".",s2(c),dc(e.pathname,r)||e.pathname,l==="path");if(n==null&&(g.search=e.search,g.hash=e.hash),(n==null||n===""||n===".")&&o){let m=FD(g.search);if(o.route.index&&!m)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&m){let _=new URLSearchParams(g.search),E=_.getAll("index");_.delete("index"),E.filter(O=>O).forEach(O=>_.append("index",O));let R=_.toString();g.search=R?`?${R}`:""}}return r!=="/"&&(g.pathname=g.pathname==="/"?r:hh([r,g.pathname])),wp(g)}function uB(e,t,r){if(!r||!mY(r))return{path:t};if(r.formMethod&&!AY(r.formMethod))return{path:t,error:zu(405,{method:r.formMethod})};let n=()=>({path:t,error:zu(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),c=y9(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Zc(l))return n();let E=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,[O,I])=>`${R}${O}=${I}
`,""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:E}}}else if(r.formEncType==="application/json"){if(!Zc(l))return n();try{let E=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:E,text:void 0}}}catch{return n()}}}On(typeof FormData=="function","FormData is not available in this environment");let o,g;if(r.formData)o=Sk(r.formData),g=r.formData;else if(r.body instanceof FormData)o=Sk(r.body),g=r.body;else if(r.body instanceof URLSearchParams)o=r.body,g=yB(o);else if(r.body==null)o=new URLSearchParams,g=new FormData;else try{o=new URLSearchParams(r.body),g=yB(o)}catch{return n()}let m={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Zc(m.formMethod))return{path:t,submission:m};let _=vh(t);return e&&_.search&&FD(_.search)&&o.append("index",""),_.search=`?${o}`,{path:wp(_),submission:m}}function dB(e,t,r,n,a,l,c,o,g,m,_,E,R,O,I,B,$,q,j,F){var we;let N=F?Gc(F[1])?F[1].error:F[1].data:void 0,G=a.createURL(l.location),V=a.createURL(g),ee;if(_&&l.errors){let ve=Object.keys(l.errors)[0];ee=c.findIndex(xe=>xe.route.id===ve)}else if(F&&Gc(F[1])){let ve=F[0];ee=c.findIndex(xe=>xe.route.id===ve)-1}let ne=F?F[1].statusCode:void 0,ae=ne&&ne>=400,X={currentUrl:G,currentParams:((we=l.matches[0])==null?void 0:we.params)||{},nextUrl:V,nextParams:c[0].params,...o,actionResult:N,actionStatus:ne},te=c.map((ve,xe)=>{let{route:ce}=ve,Ce=null;if(ee!=null&&xe>ee?Ce=!1:ce.lazy?Ce=!0:ce.loader==null?Ce=!1:_?Ce=xk(ce,l.loaderData,l.errors):gY(l.loaderData,l.matches[xe],ve)&&(Ce=!0),Ce!==null)return wk(r,n,e,ve,m,t,Ce);let Se=ae?!1:E||G.pathname+G.search===V.pathname+V.search||G.search!==V.search||yY(l.matches[xe],ve),ze={...X,defaultShouldRevalidate:Se},ge=VS(ve,ze);return wk(r,n,e,ve,m,t,ge,ze)}),le=[];return I.forEach((ve,xe)=>{if(_||!c.some(rt=>rt.route.id===ve.routeId)||O.has(xe))return;let ce=l.fetchers.get(xe),Ce=ce&&ce.state!=="idle"&&ce.data===void 0,Se=Bm($,ve.path,q);if(!Se){if(j&&Ce)return;le.push({key:xe,routeId:ve.routeId,path:ve.path,matches:null,match:null,request:null,controller:null});return}if(B.has(xe))return;let ze=ix(Se,ve.path),ge=new AbortController,je=Tb(a,ve.path,ge.signal),et=null;if(R.has(xe))R.delete(xe),et=jb(r,n,je,Se,ze,m,t);else if(Ce)E&&(et=jb(r,n,je,Se,ze,m,t));else{let rt={...X,defaultShouldRevalidate:ae?!1:E};VS(ze,rt)&&(et=jb(r,n,je,Se,ze,m,t,rt))}et&&le.push({key:xe,routeId:ve.routeId,path:ve.path,matches:et,match:ze,request:je,controller:ge})}),{dsMatches:te,revalidatingFetchers:le}}function xk(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function gY(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function yY(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function VS(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function fB(e,t,r,n,a){let l;if(e){let g=n[e];On(g,`No route found to patch children into: routeId = ${e}`),g.children||(g.children=[]),l=g.children}else l=r;let c=t.filter(g=>!l.some(m=>f9(g,m))),o=US(c,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],n);l.push(...o)}function f9(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(l=>f9(r,l))}):!1}var hB=new WeakMap,h9=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(On(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[e];if(!l)return;let c=hB.get(a);c||(c={},hB.set(a,c));let o=c[e];if(o)return o;let g=(async()=>{let m=jX(e),E=a[e]!==void 0&&e!=="hasErrorBoundary";if(m)qi(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(E)qi(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let R=await l();R!=null&&(Object.assign(a,{[e]:R}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(R=>R===void 0)&&(a.lazy=void 0))})();return c[e]=g,g},pB=new WeakMap;function vY(e,t,r,n,a){let l=r[e.id];if(On(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let _=pB.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let E=(async()=>{On(typeof e.lazy=="function","No lazy route function found");let R=await e.lazy(),O={};for(let I in R){let B=R[I];if(B===void 0)continue;let $=UX(I),j=l[I]!==void 0&&I!=="hasErrorBoundary";$?qi(!$,"Route property "+I+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?qi(!j,`Route "${l.id}" has a static property "${I}" defined but its lazy function is also returning a value for this property. The lazy route property "${I}" will be ignored.`):O[I]=B}Object.assign(l,O),Object.assign(l,{...n(l),lazy:void 0})})();return pB.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(e.lazy),o=[],g;for(let _ of c){if(a&&a.includes(_))continue;let E=h9({key:_,route:e,manifest:r,mapRouteProperties:n});E&&(o.push(E),_===t&&(g=E))}let m=o.length>0?Promise.all(o).then(()=>{}):void 0;return m==null||m.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:g}}async function mB(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,l)=>{r[t[l].route.id]=a}),r}async function bY(e){return e.matches.some(t=>t.route.unstable_middleware)?p9(e,!1,()=>mB(e),(t,r)=>({[r]:{type:"error",result:t}})):mB(e)}async function p9(e,t,r,n){let{matches:a,request:l,params:c,context:o}=e,g={handlerResult:void 0};try{let m=a.flatMap(E=>E.route.unstable_middleware?E.route.unstable_middleware.map(R=>[E.route.id,R]):[]),_=await m9({request:l,params:c,context:o},m,t,g,r);return t?_:g.handlerResult}catch(m){if(!g.middlewareError)throw m;let _=await n(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,_):_}}async function m9(e,t,r,n,a,l=0){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let o=t[l];if(!o)return n.handlerResult=await a(),n.handlerResult;let[g,m]=o,_=!1,E,R=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await m9(e,t,r,n,a,l+1)};try{let O=await m({request:e.request,params:e.params,context:e.context},R);return _?O===void 0?E:O:R()}catch(O){throw n.middlewareError?n.middlewareError.error!==O&&(n.middlewareError={routeId:g,error:O}):n.middlewareError={routeId:g,error:O},O}}function g9(e,t,r,n,a){let l=h9({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),c=vY(n.route,Zc(r.method)?"action":"loader",t,e,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function wk(e,t,r,n,a,l,c,o=null){let g=!1,m=g9(e,t,r,n,a);return{...n,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(_){return g=!0,o?typeof _=="boolean"?VS(n,{...o,defaultShouldRevalidate:_}):VS(n,o):c},resolve(_){return g||c||_&&r.method==="GET"&&(n.route.lazy||n.route.loader)?xY({request:r,match:n,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function jb(e,t,r,n,a,l,c,o=null){return n.map(g=>g.route.id!==a.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:g9(e,t,r,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:wk(e,t,r,g,l,c,!0,o))}async function _Y(e,t,r,n,a,l){r.some(m=>{var _;return(_=m._lazyPromises)==null?void 0:_.middleware})&&await Promise.all(r.map(m=>{var _;return(_=m._lazyPromises)==null?void 0:_.middleware}));let c={request:t,params:r[0].params,context:a,matches:r},g=await e({...c,fetcherKey:n,unstable_runClientMiddleware:m=>{let _=c;return p9(_,!1,()=>m({..._,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(E,R)=>({[R]:{type:"error",result:E}}))}});try{await Promise.all(r.flatMap(m=>{var _,E;return[(_=m._lazyPromises)==null?void 0:_.handler,(E=m._lazyPromises)==null?void 0:E.route]}))}catch{}return g}async function xY({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:a,scopedContext:l}){let c,o,g=Zc(e.method),m=g?"action":"loader",_=E=>{let R,O=new Promise(($,q)=>R=q);o=()=>R(),e.signal.addEventListener("abort",o);let I=$=>typeof E!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${t.route.id}]`)):E({request:e,params:t.params,context:l},...$!==void 0?[$]:[]),B=(async()=>{try{return{type:"data",result:await(a?a(q=>I(q)):I())}}catch($){return{type:"error",result:$}}})();return Promise.race([B,O])};try{let E=g?t.route.action:t.route.loader;if(r||n)if(E){let R,[O]=await Promise.all([_(E).catch(I=>{R=I}),r,n]);if(R!==void 0)throw R;c=O}else{await r;let R=g?t.route.action:t.route.loader;if(R)[c]=await Promise.all([_(R),n]);else if(m==="action"){let O=new URL(e.url),I=O.pathname+O.search;throw zu(405,{method:e.method,pathname:I,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(E)c=await _(E);else{let R=new URL(e.url),O=R.pathname+R.search;throw zu(404,{pathname:O})}}catch(E){return{type:"error",result:E}}finally{o&&e.signal.removeEventListener("abort",o)}return c}async function wY(e){var n,a,l,c,o,g;let{result:t,type:r}=e;if(v9(t)){let m;try{let _=t.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?t.body==null?m=null:m=await t.json():m=await t.text()}catch(_){return{type:"error",error:_}}return r==="error"?{type:"error",error:new qS(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:"data",data:m,statusCode:t.status,headers:t.headers}}return r==="error"?wB(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new qS(((l=t.init)==null?void 0:l.status)||500,void 0,t.data),statusCode:Jx(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Jx(t)?t.status:void 0}:wB(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(g=t.init)!=null&&g.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function SY(e,t,r,n,a){let l=e.headers.get("Location");if(On(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!BD.test(l)){let c=n.slice(0,n.findIndex(o=>o.route.id===r)+1);l=_k(new URL(t.url),c,a,l),e.headers.set("Location",l)}return e}function gB(e,t,r){if(BD.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),l=dc(a.pathname,r)!=null;if(a.origin===t.origin&&l)return a.pathname+a.search+a.hash}return e}function Tb(e,t,r,n){let a=e.createURL(y9(t)).toString(),l={signal:r};if(n&&Zc(n.formMethod)){let{formMethod:c,formEncType:o}=n;l.method=c.toUpperCase(),o==="application/json"?(l.headers=new Headers({"Content-Type":o}),l.body=JSON.stringify(n.json)):o==="text/plain"?l.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?l.body=Sk(n.formData):l.body=n.formData}return new Request(a,l)}function Sk(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function yB(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function EY(e,t,r,n=!1,a=!1){let l={},c=null,o,g=!1,m={},_=r&&Gc(r[1])?r[1].error:void 0;return e.forEach(E=>{if(!(E.route.id in t))return;let R=E.route.id,O=t[R];if(On(!Ty(O),"Cannot handle redirect results in processLoaderData"),Gc(O)){let I=O.error;if(_!==void 0&&(I=_,_=void 0),c=c||{},a)c[R]=I;else{let B=vy(e,R);c[B.route.id]==null&&(c[B.route.id]=I)}n||(l[R]=d9),g||(g=!0,o=Jx(O.error)?O.error.status:500),O.headers&&(m[R]=O.headers)}else l[R]=O.data,O.statusCode&&O.statusCode!==200&&!g&&(o=O.statusCode),O.headers&&(m[R]=O.headers)}),_!==void 0&&r&&(c={[r[0]]:_},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:c,statusCode:o||200,loaderHeaders:m}}function vB(e,t,r,n,a,l){let{loaderData:c,errors:o}=EY(t,r,n);return a.filter(g=>!g.matches||g.matches.some(m=>m.shouldLoad)).forEach(g=>{let{key:m,match:_,controller:E}=g,R=l[m];if(On(R,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(Gc(R)){let O=vy(e.matches,_==null?void 0:_.route.id);o&&o[O.route.id]||(o={...o,[O.route.id]:R.error}),e.fetchers.delete(m)}else if(Ty(R))On(!1,"Unhandled fetcher revalidation redirect");else{let O=Om(R.data);e.fetchers.set(m,O)}}),{loaderData:c,errors:o}}function bB(e,t,r,n){let a=Object.entries(t).filter(([,l])=>l!==d9).reduce((l,[c,o])=>(l[c]=o,l),{});for(let l of r){let c=l.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&l.route.loader&&(a[c]=e[c]),n&&n.hasOwnProperty(c))break}return a}function _B(e){return e?Gc(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function vy(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function xB(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function zu(e,{pathname:t,routeId:r,method:n,type:a,message:l}={}){let c="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(o="Unable to encode submission body")):e===403?(c="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(c="Not Found",o=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new qS(e||500,c,new Error(o),!0)}function Dw(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(Ty(a))return{key:n,result:a}}}function y9(e){let t=typeof e=="string"?vh(e):e;return wp({...t,hash:""})}function CY(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function TY(e){return v9(e.result)&&uY.has(e.result.status)}function Gc(e){return e.type==="error"}function Ty(e){return(e&&e.type)==="redirect"}function wB(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function v9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function AY(e){return cY.has(e.toUpperCase())}function Zc(e){return sY.has(e.toUpperCase())}function FD(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ix(e,t){let r=typeof t=="string"?vh(t).search:t.search;if(e[e.length-1].route.index&&FD(r||""))return e[e.length-1];let n=l9(e);return n[n.length-1]}function SB(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:l,json:c}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:r,formEncType:n,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:c,text:void 0}}}function XC(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PY(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function j0(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RY(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Om(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function MY(e,t){try{let r=e.sessionStorage.getItem(u9);if(r){let n=JSON.parse(r);for(let[a,l]of Object.entries(n||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function OY(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(u9,JSON.stringify(r))}catch(n){qi(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function kY(){let e,t,r=new Promise((n,a)=>{e=async l=>{n(l);try{await r}catch{}},t=async l=>{a(l);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var ug=S.createContext(null);ug.displayName="DataRouter";var P_=S.createContext(null);P_.displayName="DataRouterState";var ND=S.createContext({isTransitioning:!1});ND.displayName="ViewTransition";var b9=S.createContext(new Map);b9.displayName="Fetchers";var IY=S.createContext(null);IY.displayName="Await";var Jd=S.createContext(null);Jd.displayName="Navigation";var R1=S.createContext(null);R1.displayName="Location";var bh=S.createContext({outlet:null,matches:[],isDataRoute:!1});bh.displayName="Route";var jD=S.createContext(null);jD.displayName="RouteError";function DY(e,{relative:t}={}){On(dg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(Jd),{hash:a,pathname:l,search:c}=M1(e,{relative:t}),o=l;return r!=="/"&&(o=l==="/"?r:hh([r,l])),n.createHref({pathname:o,search:c,hash:a})}function dg(){return S.useContext(R1)!=null}function Jo(){return On(dg(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(R1).location}function zY(e){On(dg(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:t}=Jo();return S.useMemo(()=>Qx(e,s9(t)),[t,e])}var _9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x9(e){S.useContext(Jd).static||S.useLayoutEffect(e)}function ef(){let{isDataRoute:e}=S.useContext(bh);return e?WY():LY()}function LY(){On(dg(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(ug),{basename:t,navigator:r}=S.useContext(Jd),{matches:n}=S.useContext(bh),{pathname:a}=Jo(),l=JSON.stringify(s2(n)),c=S.useRef(!1);return x9(()=>{c.current=!0}),S.useCallback((g,m={})=>{if(qi(c.current,_9),!c.current)return;if(typeof g=="number"){r.go(g);return}let _=l2(g,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:hh([t,_.pathname])),(m.replace?r.replace:r.push)(_,m.state,m)},[t,r,l,a,e])}S.createContext(null);function M1(e,{relative:t}={}){let{matches:r}=S.useContext(bh),{pathname:n}=Jo(),a=JSON.stringify(s2(r));return S.useMemo(()=>l2(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function BY(e,t){return w9(e,t)}function w9(e,t,r,n){var q;On(dg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Jd),{matches:l}=S.useContext(bh),c=l[l.length-1],o=c?c.params:{},g=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let j=_&&_.path||"";C9(g,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=Jo(),R;if(t){let j=typeof t=="string"?vh(t):t;On(m==="/"||((q=j.pathname)==null?void 0:q.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),R=j}else R=E;let O=R.pathname||"/",I=O;if(m!=="/"){let j=m.replace(/^\//,"").split("/");I="/"+O.replace(/^\//,"").split("/").slice(j.length).join("/")}let B=Bm(e,{pathname:I});qi(_||B!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),qi(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=UY(B&&B.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:hh([m,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:hh([m,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return t&&$?S.createElement(R1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function FY(){let e=HY(),t=Jx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:a},r):null,c)}var NY=S.createElement(FY,null),jY=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(bh.Provider,{value:this.props.routeContext},S.createElement(jD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $Y({routeContext:e,match:t,children:r}){let n=S.useContext(ug);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(bh.Provider,{value:e},r)}function UY(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=r==null?void 0:r.errors;if(l!=null){let g=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);On(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,o=-1;if(r)for(let g=0;g<a.length;g++){let m=a[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(o=g),m.route.id){let{loaderData:_,errors:E}=r,R=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||R){c=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((g,m,_)=>{let E,R=!1,O=null,I=null;r&&(E=l&&m.route.id?l[m.route.id]:void 0,O=m.route.errorElement||NY,c&&(o<0&&_===0?(C9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,I=null):o===_&&(R=!0,I=m.route.hydrateFallbackElement||null)));let B=t.concat(a.slice(0,_+1)),$=()=>{let q;return E?q=O:R?q=I:m.route.Component?q=S.createElement(m.route.Component,null):m.route.element?q=m.route.element:q=g,S.createElement($Y,{match:m,routeContext:{outlet:g,matches:B,isDataRoute:r!=null},children:q})};return r&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?S.createElement(jY,{location:r.location,revalidation:r.revalidation,component:O,error:E,children:$(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):$()},null)}function $D(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S9(e){let t=S.useContext(ug);return On(t,$D(e)),t}function E9(e){let t=S.useContext(P_);return On(t,$D(e)),t}function qY(e){let t=S.useContext(bh);return On(t,$D(e)),t}function UD(e){let t=qY(e),r=t.matches[t.matches.length-1];return On(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function VY(){return UD("useRouteId")}function HY(){var n;let e=S.useContext(jD),t=E9("useRouteError"),r=UD("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}var GY=0;function ZY(e){let{router:t,basename:r}=S9("useBlocker"),n=E9("useBlocker"),[a,l]=S.useState(""),c=S.useCallback(o=>{if(typeof e!="function")return!!e;if(r==="/")return e(o);let{currentLocation:g,nextLocation:m,historyAction:_}=o;return e({currentLocation:{...g,pathname:dc(g.pathname,r)||g.pathname},nextLocation:{...m,pathname:dc(m.pathname,r)||m.pathname},historyAction:_})},[r,e]);return S.useEffect(()=>{let o=String(++GY);return l(o),()=>t.deleteBlocker(o)},[t]),S.useEffect(()=>{a!==""&&t.getBlocker(a,c)},[t,a,c]),a&&n.blockers.has(a)?n.blockers.get(a):Cb}function WY(){let{router:e}=S9("useNavigate"),t=UD("useNavigate"),r=S.useRef(!1);return x9(()=>{r.current=!0}),S.useCallback(async(a,l={})=>{qi(r.current,_9),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var EB={};function C9(e,t,r){!t&&!EB[e]&&(EB[e]=!0,qi(!1,r))}var CB={};function TB(e,t){!e&&!CB[t]&&(CB[t]=!0,console.warn(t))}function KY(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&qi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:S.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&qi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:S.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&qi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:S.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var XY=["HydrateFallback","hydrateFallbackElement"],YY=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function QY({router:e,flushSync:t}){let[r,n]=S.useState(e.state),[a,l]=S.useState(),[c,o]=S.useState({isTransitioning:!1}),[g,m]=S.useState(),[_,E]=S.useState(),[R,O]=S.useState(),I=S.useRef(new Map),B=S.useCallback((F,{deletedFetchers:N,flushSync:G,viewTransitionOpts:V})=>{F.fetchers.forEach((ne,ae)=>{ne.data!==void 0&&I.current.set(ae,ne.data)}),N.forEach(ne=>I.current.delete(ne)),TB(G===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ee=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(TB(V==null||ee,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!ee){t&&G?t(()=>n(F)):S.startTransition(()=>n(F));return}if(t&&G){t(()=>{_&&(g&&g.resolve(),_.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let ne=e.window.document.startViewTransition(()=>{t(()=>n(F))});ne.finished.finally(()=>{t(()=>{m(void 0),E(void 0),l(void 0),o({isTransitioning:!1})})}),t(()=>E(ne));return}_?(g&&g.resolve(),_.skipTransition(),O({state:F,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(l(F),o({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[e.window,t,_,g]);S.useLayoutEffect(()=>e.subscribe(B),[e,B]),S.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new YY)},[c]),S.useEffect(()=>{if(g&&a&&e.window){let F=a,N=g.promise,G=e.window.document.startViewTransition(async()=>{S.startTransition(()=>n(F)),await N});G.finished.finally(()=>{m(void 0),E(void 0),l(void 0),o({isTransitioning:!1})}),E(G)}},[a,g,e.window]),S.useEffect(()=>{g&&a&&r.location.key===a.location.key&&g.resolve()},[g,_,r.location,a]),S.useEffect(()=>{!c.isTransitioning&&R&&(l(R.state),o({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),O(void 0))},[c.isTransitioning,R]);let $=S.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:F=>e.navigate(F),push:(F,N,G)=>e.navigate(F,{state:N,preventScrollReset:G==null?void 0:G.preventScrollReset}),replace:(F,N,G)=>e.navigate(F,{replace:!0,state:N,preventScrollReset:G==null?void 0:G.preventScrollReset})}),[e]),q=e.basename||"/",j=S.useMemo(()=>({router:e,navigator:$,static:!1,basename:q}),[e,$,q]);return S.createElement(S.Fragment,null,S.createElement(ug.Provider,{value:j},S.createElement(P_.Provider,{value:r},S.createElement(b9.Provider,{value:I.current},S.createElement(ND.Provider,{value:c},S.createElement(T9,{basename:q,location:r.location,navigationType:r.historyAction,navigator:$},S.createElement(JY,{routes:e.routes,future:e.future,state:r})))))),null)}var JY=S.memo(eQ);function eQ({routes:e,future:t,state:r}){return w9(e,void 0,r,t)}function tQ({to:e,replace:t,state:r,relative:n}){On(dg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Jd);qi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(bh),{pathname:c}=Jo(),o=ef(),g=l2(e,s2(l),c,n==="path"),m=JSON.stringify(g);return S.useEffect(()=>{o(JSON.parse(m),{replace:t,state:r,relative:n})},[o,m,n,t,r]),null}function Yo(e){On(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T9({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:l=!1}){On(!dg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),o=S.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof r=="string"&&(r=vh(r));let{pathname:g="/",search:m="",hash:_="",state:E=null,key:R="default"}=r,O=S.useMemo(()=>{let I=dc(g,c);return I==null?null:{location:{pathname:I,search:m,hash:_,state:E,key:R},navigationType:n}},[c,g,m,_,E,R,n]);return qi(O!=null,`<Router basename="${c}"> is not able to match the URL "${g}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:S.createElement(Jd.Provider,{value:o},S.createElement(R1.Provider,{children:t,value:O}))}function Ay({children:e,location:t}){return BY(Ek(e),t)}function Ek(e,t=[]){let r=[];return S.Children.forEach(e,(n,a)=>{if(!S.isValidElement(n))return;let l=[...t,a];if(n.type===S.Fragment){r.push.apply(r,Ek(n.props.children,l));return}On(n.type===Yo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),On(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Ek(n.props.children,l)),r.push(c)}),r}var pS="get",mS="application/x-www-form-urlencoded";function c2(e){return e!=null&&typeof e.tagName=="string"}function rQ(e){return c2(e)&&e.tagName.toLowerCase()==="button"}function nQ(e){return c2(e)&&e.tagName.toLowerCase()==="form"}function aQ(e){return c2(e)&&e.tagName.toLowerCase()==="input"}function iQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oQ(e,t){return e.button===0&&(!t||t==="_self")&&!iQ(e)}var zw=null;function sQ(){if(zw===null)try{new FormData(document.createElement("form"),0),zw=!1}catch{zw=!0}return zw}var lQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function YC(e){return e!=null&&!lQ.has(e)?(qi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mS}"`),null):e}function cQ(e,t){let r,n,a,l,c;if(nQ(e)){let o=e.getAttribute("action");n=o?dc(o,t):null,r=e.getAttribute("method")||pS,a=YC(e.getAttribute("enctype"))||mS,l=new FormData(e)}else if(rQ(e)||aQ(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||o.getAttribute("action");if(n=g?dc(g,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||pS,a=YC(e.getAttribute("formenctype"))||YC(o.getAttribute("enctype"))||mS,l=new FormData(o,e),!sQ()){let{name:m,type:_,value:E}=e;if(_==="image"){let R=m?`${m}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else m&&l.append(m,E)}}else{if(c2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pS,n=null,a=mS,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:l,body:c}}function qD(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function uQ(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dQ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function fQ(e,t,r){let n=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await uQ(l,r);return c.links?c.links():[]}return[]}));return gQ(n.flat(1).filter(dQ).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AB(e,t,r,n,a,l){let c=(g,m)=>r[m]?g.route.id!==r[m].route.id:!0,o=(g,m)=>{var _;return r[m].pathname!==g.pathname||((_=r[m].route.path)==null?void 0:_.endsWith("*"))&&r[m].params["*"]!==g.params["*"]};return l==="assets"?t.filter((g,m)=>c(g,m)||o(g,m)):l==="data"?t.filter((g,m)=>{var E;let _=n.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(c(g,m)||o(g,m))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=r[0])==null?void 0:E.params)||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function hQ(e,t,{includeHydrateFallback:r}={}){return pQ(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function pQ(e){return[...new Set(e)]}function mQ(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function gQ(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let l=JSON.stringify(mQ(a));return r.has(l)||(r.add(l),n.push({key:l,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yQ=new Set([100,101,204,205]);function vQ(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&dc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function A9(){let e=S.useContext(ug);return qD(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bQ(){let e=S.useContext(P_);return qD(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var VD=S.createContext(void 0);VD.displayName="FrameworkContext";function P9(){let e=S.useContext(VD);return qD(e,"You must render this element inside a <HydratedRouter> element"),e}function _Q(e,t){let r=S.useContext(VD),[n,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:o,onBlur:g,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=t,R=S.useRef(null);S.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let B=q=>{q.forEach(j=>{c(j.isIntersecting)})},$=new IntersectionObserver(B,{threshold:.5});return R.current&&$.observe(R.current),()=>{$.disconnect()}}},[e]),S.useEffect(()=>{if(n){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[n]);let O=()=>{a(!0)},I=()=>{a(!1),c(!1)};return r?e!=="intent"?[l,R,{}]:[l,R,{onFocus:$0(o,O),onBlur:$0(g,I),onMouseEnter:$0(m,O),onMouseLeave:$0(_,I),onTouchStart:$0(E,O)}]:[!1,R,{}]}function $0(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function xQ({page:e,...t}){let{router:r}=A9(),n=S.useMemo(()=>Bm(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?S.createElement(SQ,{page:e,matches:n,...t}):null}function wQ(e){let{manifest:t,routeModules:r}=P9(),[n,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return fQ(e,t,r).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,r]),n}function SQ({page:e,matches:t,...r}){let n=Jo(),{manifest:a,routeModules:l}=P9(),{basename:c}=A9(),{loaderData:o,matches:g}=bQ(),m=S.useMemo(()=>AB(e,t,g,a,n,"data"),[e,t,g,a,n]),_=S.useMemo(()=>AB(e,t,g,a,n,"assets"),[e,t,g,a,n]),E=S.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let I=new Set,B=!1;if(t.forEach(q=>{var F;let j=a.routes[q.route.id];!j||!j.hasLoader||(!m.some(N=>N.route.id===q.route.id)&&q.route.id in o&&((F=l[q.route.id])!=null&&F.shouldRevalidate)||j.hasClientLoader?B=!0:I.add(q.route.id))}),I.size===0)return[];let $=vQ(e,c);return B&&I.size>0&&$.searchParams.set("_routes",t.filter(q=>I.has(q.route.id)).map(q=>q.route.id).join(",")),[$.pathname+$.search]},[c,o,n,a,m,t,e,l]),R=S.useMemo(()=>hQ(_,a),[_,a]),O=wQ(_);return S.createElement(S.Fragment,null,E.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...r})),R.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...r})),O.map(({key:I,link:B})=>S.createElement("link",{key:I,...B})))}function EQ(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var R9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R9&&(window.__reactRouterVersion="7.6.2")}catch{}function CQ(e,t){return pY({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:BX({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||TQ(),routes:e,mapRouteProperties:KY,hydrationRouteProperties:XY,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function TQ(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:AQ(e.errors)}),e}function AQ(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new qS(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",r[n]=c}catch{}}if(r[n]==null){let l=new Error(a.message);l.stack="",r[n]=l}}else r[n]=a;return r}function PQ({basename:e,children:t,window:r}){let n=S.useRef();n.current==null&&(n.current=LX({window:r,v5Compat:!0}));let a=n.current,[l,c]=S.useState({action:a.action,location:a.location}),o=S.useCallback(g=>{S.startTransition(()=>c(g))},[c]);return S.useLayoutEffect(()=>a.listen(o),[a,o]),S.createElement(T9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var M9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zy=S.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:l,replace:c,state:o,target:g,to:m,preventScrollReset:_,viewTransition:E,...R},O){let{basename:I}=S.useContext(Jd),B=typeof m=="string"&&M9.test(m),$,q=!1;if(typeof m=="string"&&B&&($=m,R9))try{let ae=new URL(window.location.href),X=m.startsWith("//")?new URL(ae.protocol+m):new URL(m),te=dc(X.pathname,I);X.origin===ae.origin&&te!=null?m=te+X.search+X.hash:q=!0}catch{qi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=DY(m,{relative:a}),[F,N,G]=_Q(n,R),V=kQ(m,{replace:c,state:o,target:g,preventScrollReset:_,relative:a,viewTransition:E});function ee(ae){t&&t(ae),ae.defaultPrevented||V(ae)}let ne=S.createElement("a",{...R,...G,href:$||j,onClick:q||l?t:ee,ref:EQ(O,N),target:g,"data-discover":!B&&r==="render"?"true":void 0});return F&&!B?S.createElement(S.Fragment,null,ne,S.createElement(xQ,{page:j})):ne});Zy.displayName="Link";var RQ=S.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:c,viewTransition:o,children:g,...m},_){let E=M1(c,{relative:m.relative}),R=Jo(),O=S.useContext(P_),{navigator:I,basename:B}=S.useContext(Jd),$=O!=null&&BQ(E)&&o===!0,q=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,j=R.pathname,F=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;r||(j=j.toLowerCase(),F=F?F.toLowerCase():null,q=q.toLowerCase()),F&&B&&(F=dc(F,B)||F);const N=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let G=j===q||!a&&j.startsWith(q)&&j.charAt(N)==="/",V=F!=null&&(F===q||!a&&F.startsWith(q)&&F.charAt(q.length)==="/"),ee={isActive:G,isPending:V,isTransitioning:$},ne=G?t:void 0,ae;typeof n=="function"?ae=n(ee):ae=[n,G?"active":null,V?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let X=typeof l=="function"?l(ee):l;return S.createElement(Zy,{...m,"aria-current":ne,className:ae,ref:_,style:X,to:c,viewTransition:o},typeof g=="function"?g(ee):g)});RQ.displayName="NavLink";var MQ=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:l,method:c=pS,action:o,onSubmit:g,relative:m,preventScrollReset:_,viewTransition:E,...R},O)=>{let I=zQ(),B=LQ(o,{relative:m}),$=c.toLowerCase()==="get"?"get":"post",q=typeof o=="string"&&M9.test(o),j=F=>{if(g&&g(F),F.defaultPrevented)return;F.preventDefault();let N=F.nativeEvent.submitter,G=(N==null?void 0:N.getAttribute("formmethod"))||c;I(N||F.currentTarget,{fetcherKey:t,method:G,navigate:r,replace:a,state:l,relative:m,preventScrollReset:_,viewTransition:E})};return S.createElement("form",{ref:O,method:$,action:B,onSubmit:n?g:j,...R,"data-discover":!q&&e==="render"?"true":void 0})});MQ.displayName="Form";function OQ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O9(e){let t=S.useContext(ug);return On(t,OQ(e)),t}function kQ(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:l,viewTransition:c}={}){let o=ef(),g=Jo(),m=M1(e,{relative:l});return S.useCallback(_=>{if(oQ(_,t)){_.preventDefault();let E=r!==void 0?r:wp(g)===wp(m);o(e,{replace:E,state:n,preventScrollReset:a,relative:l,viewTransition:c})}},[g,o,m,r,n,t,e,a,l,c])}var IQ=0,DQ=()=>`__${String(++IQ)}__`;function zQ(){let{router:e}=O9("useSubmit"),{basename:t}=S.useContext(Jd),r=VY();return S.useCallback(async(n,a={})=>{let{action:l,method:c,encType:o,formData:g,body:m}=cQ(n,t);if(a.navigate===!1){let _=a.fetcherKey||DQ();await e.fetch(_,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:m,formMethod:a.method||c,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:m,formMethod:a.method||c,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function LQ(e,{relative:t}={}){let{basename:r}=S.useContext(Jd),n=S.useContext(bh);On(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...M1(e||".",{relative:t})},c=Jo();if(e==null){l.search=c.search;let o=new URLSearchParams(l.search),g=o.getAll("index");if(g.some(_=>_==="")){o.delete("index"),g.filter(E=>E).forEach(E=>o.append("index",E));let _=o.toString();l.search=_?`?${_}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:hh([r,l.pathname])),wp(l)}function BQ(e,t={}){let r=S.useContext(ND);On(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=O9("useViewTransitionState"),a=M1(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=dc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=dc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qx(a.pathname,c)!=null||Qx(a.pathname,l)!=null}[...yQ];var O1=t9();const Lw=zo(O1);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FQ(e){return S.createElement(QY,{flushSync:O1.flushSync,...e})}var gS={exports:{}},NQ=gS.exports,PB;function jQ(){return PB||(PB=1,function(e,t){(function(r,n){e.exports=n()})(NQ,function(){var r=1e3,n=6e4,a=36e5,l="millisecond",c="second",o="minute",g="hour",m="day",_="week",E="month",R="quarter",O="year",I="date",B="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ve){var xe=["th","st","nd","rd"],ce=ve%100;return"["+ve+(xe[(ce-20)%10]||xe[ce]||xe[0])+"]"}},F=function(ve,xe,ce){var Ce=String(ve);return!Ce||Ce.length>=xe?ve:""+Array(xe+1-Ce.length).join(ce)+ve},N={s:F,z:function(ve){var xe=-ve.utcOffset(),ce=Math.abs(xe),Ce=Math.floor(ce/60),Se=ce%60;return(xe<=0?"+":"-")+F(Ce,2,"0")+":"+F(Se,2,"0")},m:function ve(xe,ce){if(xe.date()<ce.date())return-ve(ce,xe);var Ce=12*(ce.year()-xe.year())+(ce.month()-xe.month()),Se=xe.clone().add(Ce,E),ze=ce-Se<0,ge=xe.clone().add(Ce+(ze?-1:1),E);return+(-(Ce+(ce-Se)/(ze?Se-ge:ge-Se))||0)},a:function(ve){return ve<0?Math.ceil(ve)||0:Math.floor(ve)},p:function(ve){return{M:E,y:O,w:_,d:m,D:I,h:g,m:o,s:c,ms:l,Q:R}[ve]||String(ve||"").toLowerCase().replace(/s$/,"")},u:function(ve){return ve===void 0}},G="en",V={};V[G]=j;var ee="$isDayjsObject",ne=function(ve){return ve instanceof le||!(!ve||!ve[ee])},ae=function ve(xe,ce,Ce){var Se;if(!xe)return G;if(typeof xe=="string"){var ze=xe.toLowerCase();V[ze]&&(Se=ze),ce&&(V[ze]=ce,Se=ze);var ge=xe.split("-");if(!Se&&ge.length>1)return ve(ge[0])}else{var je=xe.name;V[je]=xe,Se=je}return!Ce&&Se&&(G=Se),Se||!Ce&&G},X=function(ve,xe){if(ne(ve))return ve.clone();var ce=typeof xe=="object"?xe:{};return ce.date=ve,ce.args=arguments,new le(ce)},te=N;te.l=ae,te.i=ne,te.w=function(ve,xe){return X(ve,{locale:xe.$L,utc:xe.$u,x:xe.$x,$offset:xe.$offset})};var le=function(){function ve(ce){this.$L=ae(ce.locale,null,!0),this.parse(ce),this.$x=this.$x||ce.x||{},this[ee]=!0}var xe=ve.prototype;return xe.parse=function(ce){this.$d=function(Ce){var Se=Ce.date,ze=Ce.utc;if(Se===null)return new Date(NaN);if(te.u(Se))return new Date;if(Se instanceof Date)return new Date(Se);if(typeof Se=="string"&&!/Z$/i.test(Se)){var ge=Se.match($);if(ge){var je=ge[2]-1||0,et=(ge[7]||"0").substring(0,3);return ze?new Date(Date.UTC(ge[1],je,ge[3]||1,ge[4]||0,ge[5]||0,ge[6]||0,et)):new Date(ge[1],je,ge[3]||1,ge[4]||0,ge[5]||0,ge[6]||0,et)}}return new Date(Se)}(ce),this.init()},xe.init=function(){var ce=this.$d;this.$y=ce.getFullYear(),this.$M=ce.getMonth(),this.$D=ce.getDate(),this.$W=ce.getDay(),this.$H=ce.getHours(),this.$m=ce.getMinutes(),this.$s=ce.getSeconds(),this.$ms=ce.getMilliseconds()},xe.$utils=function(){return te},xe.isValid=function(){return this.$d.toString()!==B},xe.isSame=function(ce,Ce){var Se=X(ce);return this.startOf(Ce)<=Se&&Se<=this.endOf(Ce)},xe.isAfter=function(ce,Ce){return X(ce)<this.startOf(Ce)},xe.isBefore=function(ce,Ce){return this.endOf(Ce)<X(ce)},xe.$g=function(ce,Ce,Se){return te.u(ce)?this[Ce]:this.set(Se,ce)},xe.unix=function(){return Math.floor(this.valueOf()/1e3)},xe.valueOf=function(){return this.$d.getTime()},xe.startOf=function(ce,Ce){var Se=this,ze=!!te.u(Ce)||Ce,ge=te.p(ce),je=function(lr,Dt){var $t=te.w(Se.$u?Date.UTC(Se.$y,Dt,lr):new Date(Se.$y,Dt,lr),Se);return ze?$t:$t.endOf(m)},et=function(lr,Dt){return te.w(Se.toDate()[lr].apply(Se.toDate("s"),(ze?[0,0,0,0]:[23,59,59,999]).slice(Dt)),Se)},rt=this.$W,vt=this.$M,ht=this.$D,ut="set"+(this.$u?"UTC":"");switch(ge){case O:return ze?je(1,0):je(31,11);case E:return ze?je(1,vt):je(0,vt+1);case _:var Vt=this.$locale().weekStart||0,Nt=(rt<Vt?rt+7:rt)-Vt;return je(ze?ht-Nt:ht+(6-Nt),vt);case m:case I:return et(ut+"Hours",0);case g:return et(ut+"Minutes",1);case o:return et(ut+"Seconds",2);case c:return et(ut+"Milliseconds",3);default:return this.clone()}},xe.endOf=function(ce){return this.startOf(ce,!1)},xe.$set=function(ce,Ce){var Se,ze=te.p(ce),ge="set"+(this.$u?"UTC":""),je=(Se={},Se[m]=ge+"Date",Se[I]=ge+"Date",Se[E]=ge+"Month",Se[O]=ge+"FullYear",Se[g]=ge+"Hours",Se[o]=ge+"Minutes",Se[c]=ge+"Seconds",Se[l]=ge+"Milliseconds",Se)[ze],et=ze===m?this.$D+(Ce-this.$W):Ce;if(ze===E||ze===O){var rt=this.clone().set(I,1);rt.$d[je](et),rt.init(),this.$d=rt.set(I,Math.min(this.$D,rt.daysInMonth())).$d}else je&&this.$d[je](et);return this.init(),this},xe.set=function(ce,Ce){return this.clone().$set(ce,Ce)},xe.get=function(ce){return this[te.p(ce)]()},xe.add=function(ce,Ce){var Se,ze=this;ce=Number(ce);var ge=te.p(Ce),je=function(vt){var ht=X(ze);return te.w(ht.date(ht.date()+Math.round(vt*ce)),ze)};if(ge===E)return this.set(E,this.$M+ce);if(ge===O)return this.set(O,this.$y+ce);if(ge===m)return je(1);if(ge===_)return je(7);var et=(Se={},Se[o]=n,Se[g]=a,Se[c]=r,Se)[ge]||1,rt=this.$d.getTime()+ce*et;return te.w(rt,this)},xe.subtract=function(ce,Ce){return this.add(-1*ce,Ce)},xe.format=function(ce){var Ce=this,Se=this.$locale();if(!this.isValid())return Se.invalidDate||B;var ze=ce||"YYYY-MM-DDTHH:mm:ssZ",ge=te.z(this),je=this.$H,et=this.$m,rt=this.$M,vt=Se.weekdays,ht=Se.months,ut=Se.meridiem,Vt=function(Dt,$t,tr,ur){return Dt&&(Dt[$t]||Dt(Ce,ze))||tr[$t].slice(0,ur)},Nt=function(Dt){return te.s(je%12||12,Dt,"0")},lr=ut||function(Dt,$t,tr){var ur=Dt<12?"AM":"PM";return tr?ur.toLowerCase():ur};return ze.replace(q,function(Dt,$t){return $t||function(tr){switch(tr){case"YY":return String(Ce.$y).slice(-2);case"YYYY":return te.s(Ce.$y,4,"0");case"M":return rt+1;case"MM":return te.s(rt+1,2,"0");case"MMM":return Vt(Se.monthsShort,rt,ht,3);case"MMMM":return Vt(ht,rt);case"D":return Ce.$D;case"DD":return te.s(Ce.$D,2,"0");case"d":return String(Ce.$W);case"dd":return Vt(Se.weekdaysMin,Ce.$W,vt,2);case"ddd":return Vt(Se.weekdaysShort,Ce.$W,vt,3);case"dddd":return vt[Ce.$W];case"H":return String(je);case"HH":return te.s(je,2,"0");case"h":return Nt(1);case"hh":return Nt(2);case"a":return lr(je,et,!0);case"A":return lr(je,et,!1);case"m":return String(et);case"mm":return te.s(et,2,"0");case"s":return String(Ce.$s);case"ss":return te.s(Ce.$s,2,"0");case"SSS":return te.s(Ce.$ms,3,"0");case"Z":return ge}return null}(Dt)||ge.replace(":","")})},xe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},xe.diff=function(ce,Ce,Se){var ze,ge=this,je=te.p(Ce),et=X(ce),rt=(et.utcOffset()-this.utcOffset())*n,vt=this-et,ht=function(){return te.m(ge,et)};switch(je){case O:ze=ht()/12;break;case E:ze=ht();break;case R:ze=ht()/3;break;case _:ze=(vt-rt)/6048e5;break;case m:ze=(vt-rt)/864e5;break;case g:ze=vt/a;break;case o:ze=vt/n;break;case c:ze=vt/r;break;default:ze=vt}return Se?ze:te.a(ze)},xe.daysInMonth=function(){return this.endOf(E).$D},xe.$locale=function(){return V[this.$L]},xe.locale=function(ce,Ce){if(!ce)return this.$L;var Se=this.clone(),ze=ae(ce,Ce,!0);return ze&&(Se.$L=ze),Se},xe.clone=function(){return te.w(this.$d,this)},xe.toDate=function(){return new Date(this.valueOf())},xe.toJSON=function(){return this.isValid()?this.toISOString():null},xe.toISOString=function(){return this.$d.toISOString()},xe.toString=function(){return this.$d.toUTCString()},ve}(),we=le.prototype;return X.prototype=we,[["$ms",l],["$s",c],["$m",o],["$H",g],["$W",m],["$M",E],["$y",O],["$D",I]].forEach(function(ve){we[ve[1]]=function(xe){return this.$g(xe,ve[0],ve[1])}}),X.extend=function(ve,xe){return ve.$i||(ve(xe,le,X),ve.$i=!0),X},X.locale=ae,X.isDayjs=ne,X.unix=function(ve){return X(1e3*ve)},X.en=V[G],X.Ls=V,X.p={},X})}(gS)),gS.exports}var $Q=jQ();const UQ=zo($Q),RB=[{absorbency:4,appearance:3,date:"2025-06-14",description:"These napkins were high quality but hard to get ahold of!",durability:5,effectiveness:3,imageUrl:"https://cdn.sanity.io/images/c1ywbxqh/production/b0d99368bf3fde9f61ace0c026ff0c5cfc6c375c-607x505.webp",location:"https://www.google.com/maps/place/Paragon+Theaters+-+Fenton+%2B+Axis15+Extreme/@35.7815984,-78.7698752,15z/data=!4m6!3m5!1s0x89acf3f9a1cbf7cf:0xd9003b799d2228ef!8m2!3d35.7815981!4d-78.759576!16s%2Fg%2F11qbcr7w3t!5m1!1e2?entry=ttu&g_ep=EgoyMDI1MDYxMS4wIKXMDSoASAFQAw%3D%3D",name:"Paragon Theater Cary",notes:"Additional notes?",ratingId:"xj1x4",size:5,texture:4}];function qQ(){const e=["durability","absorbency","texture","size","effectiveness","appearance"],t=({item:n})=>{let a=0;return e.forEach(l=>{a+=n[l]}),Oe.jsxs("p",{children:["(",(a/e.length).toFixed(2),")",Array.from({length:5}).map((l,c)=>Oe.jsx("span",{children:c<Math.round(a/e.length)?"":""},c))]})},r=({item:n})=>Oe.jsx("div",{children:e.map(a=>Oe.jsxs("div",{className:"sublist",children:[Oe.jsxs("div",{children:[a.charAt(0).toUpperCase()+a.slice(1),": "]}),Oe.jsx("div",{children:Array.from({length:5}).map((l,c)=>Oe.jsx("span",{children:c<n[a]?"":""},c))})]},a))});return RB.sort(function(n,a){return new Date(a.date)-new Date(n.date)}),Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("h3",{children:"Latest"}),Oe.jsx("div",{className:"list",children:RB.map((n,a)=>Oe.jsxs("div",{className:"card",children:[Oe.jsx("p",{children:Oe.jsx("a",{href:n.location,children:n.name})}),Oe.jsx("p",{children:UQ(n.date).format("MMMM D, YYYY")}),Oe.jsx(t,{item:n}),Oe.jsx("hr",{}),Oe.jsx(r,{item:n}),Oe.jsx("p",{children:n.description}),Oe.jsx("img",{src:n.imageUrl})]},a))})]})}var yS={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.5.0/LICENSE.txt
 */var VQ=yS.exports,MB;function HQ(){return MB||(MB=1,function(e,t){(function(r,n){e.exports=n()})(VQ,function(){var r={},n={};function a(c,o,g){if(n[c]=g,c==="index"){var m="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",_={};return n.shared(_),n.index(r,_),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([m],{type:"text/javascript"}))),r}}a("shared",["exports"],function(c){function o(h,s,f,y){return new(f||(f=Promise))(function(w,P){function M(K){try{H(y.next(K))}catch(Q){P(Q)}}function D(K){try{H(y.throw(K))}catch(Q){P(Q)}}function H(K){var Q;K.done?w(K.value):(Q=K.value,Q instanceof f?Q:new f(function(re){re(Q)})).then(M,D)}H((y=y.apply(h,s||[])).next())})}function g(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var m,_;function E(){if(_)return m;function h(s,f){this.x=s,this.y=f}return _=1,m=h,h.prototype={clone:function(){return new h(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,f){return this.clone()._rotateAround(s,f)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var f=s.x-this.x,y=s.y-this.y;return f*f+y*y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,f){return Math.atan2(this.x*f-this.y*s,this.x*s+this.y*f)},_matMult:function(s){var f=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=f,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var f=Math.cos(s),y=Math.sin(s),w=y*this.x+f*this.y;return this.x=f*this.x-y*this.y,this.y=w,this},_rotateAround:function(s,f){var y=Math.cos(s),w=Math.sin(s),P=f.y+w*(this.x-f.x)+y*(this.y-f.y);return this.x=f.x+y*(this.x-f.x)-w*(this.y-f.y),this.y=P,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},h.convert=function(s){return s instanceof h?s:Array.isArray(s)?new h(s[0],s[1]):s},m}typeof SuppressedError=="function"&&SuppressedError;var R,O,I=g(E()),B=function(){if(O)return R;function h(s,f,y,w){this.cx=3*s,this.bx=3*(y-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*f,this.by=3*(w-f)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=f,this.p2x=y,this.p2y=w}return O=1,R=h,h.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,f){if(f===void 0&&(f=1e-6),s<0)return 0;if(s>1)return 1;for(var y=s,w=0;w<8;w++){var P=this.sampleCurveX(y)-s;if(Math.abs(P)<f)return y;var M=this.sampleCurveDerivativeX(y);if(Math.abs(M)<1e-6)break;y-=P/M}var D=0,H=1;for(y=s,w=0;w<20&&(P=this.sampleCurveX(y),!(Math.abs(P-s)<f));w++)s>P?D=y:H=y,y=.5*(H-D)+D;return y},solve:function(s,f){return this.sampleCurveY(this.solveCurveX(s,f))}},R}(),$=g(B);let q,j;function F(){return q==null&&(q=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),q}function N(){if(j==null&&(j=!1,F())){const s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let y=0;y<5*5;y++){const w=4*y;s.fillStyle=`rgb(${w},${w+1},${w+2})`,s.fillRect(y%5,Math.floor(y/5),1,1)}const f=s.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&f[y]!==y){j=!0;break}}}return j||!1}var G=1e-6,V=typeof Float32Array<"u"?Float32Array:Array;function ee(){var h=new V(9);return V!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h}function ne(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function ae(){var h=new V(3);return V!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h}function X(h){return Math.hypot(h[0],h[1],h[2])}function te(h,s,f){var y=new V(3);return y[0]=h,y[1]=s,y[2]=f,y}Math.hypot||(Math.hypot=function(){for(var h=0,s=arguments.length;s--;)h+=arguments[s]*arguments[s];return Math.sqrt(h)});var le,we=X;function ve(h,s,f){var y=s[0],w=s[1],P=s[2],M=s[3];return h[0]=f[0]*y+f[4]*w+f[8]*P+f[12]*M,h[1]=f[1]*y+f[5]*w+f[9]*P+f[13]*M,h[2]=f[2]*y+f[6]*w+f[10]*P+f[14]*M,h[3]=f[3]*y+f[7]*w+f[11]*P+f[15]*M,h}function xe(){var h=new V(4);return V!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h[3]=1,h}function ce(){var h=new V(2);return V!=Float32Array&&(h[0]=0,h[1]=0),h}function Ce(h,s){var f=new V(2);return f[0]=h,f[1]=s,f}ae(),le=new V(4),V!=Float32Array&&(le[0]=0,le[1]=0,le[2]=0,le[3]=0),ae(),te(1,0,0),te(0,1,0),xe(),xe(),ee(),ce();const Se=8192;function ze(h,s,f){return s*(Se/(h.tileSize*Math.pow(2,f-h.tileID.overscaledZ)))}function ge(h,s){return(h%s+s)%s}function je(h,s,f){return h*(1-f)+s*f}function et(h){if(h<=0)return 0;if(h>=1)return 1;const s=h*h,f=s*h;return 4*(h<.5?f:3*(h-s)+f-.75)}function rt(h,s,f,y){const w=new $(h,s,f,y);return P=>w.solve(P)}const vt=rt(.25,.1,.25,1);function ht(h,s,f){return Math.min(f,Math.max(s,h))}function ut(h,s,f){const y=f-s,w=((h-s)%y+y)%y+s;return w===s?f:w}function Vt(h,...s){for(const f of s)for(const y in f)h[y]=f[y];return h}let Nt=1;function lr(h,s,f){const y={};for(const w in h)y[w]=s.call(this,h[w],w,h);return y}function Dt(h,s,f){const y={};for(const w in h)s.call(this,h[w],w,h)&&(y[w]=h[w]);return y}function $t(h){return Array.isArray(h)?h.map($t):typeof h=="object"&&h?lr(h,$t):h}const tr={};function ur(h){tr[h]||(typeof console<"u"&&console.warn(h),tr[h]=!0)}function Xt(h,s,f){return(f.y-h.y)*(s.x-h.x)>(s.y-h.y)*(f.x-h.x)}function mr(h){return typeof WorkerGlobalScope<"u"&&h!==void 0&&h instanceof WorkerGlobalScope}let Vr=null;function br(h){return typeof ImageBitmap<"u"&&h instanceof ImageBitmap}const nn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Rr(h,s,f,y,w){return o(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const P=new VideoFrame(h,{timestamp:0});try{const M=P==null?void 0:P.format;if(!M||!M.startsWith("BGR")&&!M.startsWith("RGB"))throw new Error(`Unrecognized format ${M}`);const D=M.startsWith("BGR"),H=new Uint8ClampedArray(y*w*4);if(yield P.copyTo(H,function(K,Q,re,se,de){const he=4*Math.max(1,0),_e=(Math.max(0,re)-re)*se*4+he,Pe=4*se,Le=Math.max(0,Q),tt=Math.max(0,re);return{rect:{x:Le,y:tt,width:Math.min(K.width,Q+se)-Le,height:Math.min(K.height,re+de)-tt},layout:[{offset:_e,stride:Pe}]}}(h,s,f,y,w)),D)for(let K=0;K<H.length;K+=4){const Q=H[K];H[K]=H[K+2],H[K+2]=Q}return H}finally{P.close()}})}let Be,Ye;function We(h,s,f,y){return h.addEventListener(s,f,y),{unsubscribe:()=>{h.removeEventListener(s,f,y)}}}function Ut(h){return h*Math.PI/180}function qt(h){return h/Math.PI*180}const Ht={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},gr={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},Tr="AbortError";function Mr(){return new Error(Tr)}const Qr={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function gn(h){return Qr.REGISTERED_PROTOCOLS[h.substring(0,h.indexOf("://"))]}const wr="global-dispatcher";class wn extends Error{constructor(s,f,y,w){super(`AJAXError: ${f} (${s}): ${y}`),this.status=s,this.statusText=f,this.url=y,this.body=w}}const Kr=()=>mr(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,en=function(h,s){if(/:\/\//.test(h.url)&&!/^https?:|^file:/.test(h.url)){const y=gn(h.url);if(y)return y(h,s);if(mr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:h,targetMapId:wr},s)}if(!(/^file:/.test(f=h.url)||/^file:/.test(Kr())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,w){return o(this,void 0,void 0,function*(){const P=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:Kr(),signal:w.signal});let M,D;y.type!=="json"||P.headers.has("Accept")||P.headers.set("Accept","application/json");try{M=yield fetch(P)}catch(K){throw new wn(0,K.message,y.url,new Blob)}if(!M.ok){const K=yield M.blob();throw new wn(M.status,M.statusText,y.url,K)}D=y.type==="arrayBuffer"||y.type==="image"?M.arrayBuffer():y.type==="json"?M.json():M.text();const H=yield D;if(w.signal.aborted)throw Mr();return{data:H,cacheControl:M.headers.get("Cache-Control"),expires:M.headers.get("Expires")}})}(h,s);if(mr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:h,mustQueue:!0,targetMapId:wr},s)}var f;return function(y,w){return new Promise((P,M)=>{var D;const H=new XMLHttpRequest;H.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(H.responseType="arraybuffer");for(const K in y.headers)H.setRequestHeader(K,y.headers[K]);y.type==="json"&&(H.responseType="text",!((D=y.headers)===null||D===void 0)&&D.Accept||H.setRequestHeader("Accept","application/json")),H.withCredentials=y.credentials==="include",H.onerror=()=>{M(new Error(H.statusText))},H.onload=()=>{if(!w.signal.aborted)if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){let K=H.response;if(y.type==="json")try{K=JSON.parse(H.response)}catch(Q){return void M(Q)}P({data:K,cacheControl:H.getResponseHeader("Cache-Control"),expires:H.getResponseHeader("Expires")})}else{const K=new Blob([H.response],{type:H.getResponseHeader("Content-Type")});M(new wn(H.status,H.statusText,y.url,K))}},w.signal.addEventListener("abort",()=>{H.abort(),M(Mr())}),H.send(y.body)})}(h,s)};function Ge(h){if(!h||h.indexOf("://")<=0||h.indexOf("data:image/")===0||h.indexOf("blob:")===0)return!0;const s=new URL(h),f=window.location;return s.protocol===f.protocol&&s.host===f.host}function me(h,s,f){f[h]&&f[h].indexOf(s)!==-1||(f[h]=f[h]||[],f[h].push(s))}function ye(h,s,f){if(f&&f[h]){const y=f[h].indexOf(s);y!==-1&&f[h].splice(y,1)}}class Ae{constructor(s,f={}){Vt(this,f),this.type=s}}class Ne extends Ae{constructor(s,f={}){super("error",Vt({error:s},f))}}class Je{on(s,f){return this._listeners=this._listeners||{},me(s,f,this._listeners),{unsubscribe:()=>{this.off(s,f)}}}off(s,f){return ye(s,f,this._listeners),ye(s,f,this._oneTimeListeners),this}once(s,f){return f?(this._oneTimeListeners=this._oneTimeListeners||{},me(s,f,this._oneTimeListeners),this):new Promise(y=>this.once(s,y))}fire(s,f){typeof s=="string"&&(s=new Ae(s,f||{}));const y=s.type;if(this.listens(y)){s.target=this;const w=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const D of w)D.call(this,s);const P=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const D of P)ye(y,D,this._oneTimeListeners),D.call(this,s);const M=this._eventedParent;M&&(Vt(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),M.fire(s))}else s instanceof Ne&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,f){return this._eventedParent=s,this._eventedParentData=f,this}}var Re={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const gt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ot(h,s){const f={};for(const y in h)y!=="ref"&&(f[y]=h[y]);return gt.forEach(y=>{y in s&&(f[y]=s[y])}),f}function ft(h,s){if(Array.isArray(h)){if(!Array.isArray(s)||h.length!==s.length)return!1;for(let f=0;f<h.length;f++)if(!ft(h[f],s[f]))return!1;return!0}if(typeof h=="object"&&h!==null&&s!==null){if(typeof s!="object"||Object.keys(h).length!==Object.keys(s).length)return!1;for(const f in h)if(!ft(h[f],s[f]))return!1;return!0}return h===s}function xt(h,s){h.push(s)}function dt(h,s,f){xt(f,{command:"addSource",args:[h,s[h]]})}function wt(h,s,f){xt(s,{command:"removeSource",args:[h]}),f[h]=!0}function Me(h,s,f,y){wt(h,f,y),dt(h,s,f)}function qe(h,s,f){let y;for(y in h[f])if(Object.prototype.hasOwnProperty.call(h[f],y)&&y!=="data"&&!ft(h[f][y],s[f][y]))return!1;for(y in s[f])if(Object.prototype.hasOwnProperty.call(s[f],y)&&y!=="data"&&!ft(h[f][y],s[f][y]))return!1;return!0}function it(h,s,f,y,w,P){h=h||{},s=s||{};for(const M in h)Object.prototype.hasOwnProperty.call(h,M)&&(ft(h[M],s[M])||f.push({command:P,args:[y,M,s[M],w]}));for(const M in s)Object.prototype.hasOwnProperty.call(s,M)&&!Object.prototype.hasOwnProperty.call(h,M)&&(ft(h[M],s[M])||f.push({command:P,args:[y,M,s[M],w]}))}function At(h){return h.id}function Lt(h,s){return h[s.id]=s,h}class lt{constructor(s,f,y,w){this.message=(s?`${s}: `:"")+y,w&&(this.identifier=w),f!=null&&f.__line__&&(this.line=f.__line__)}}function Sr(h,...s){for(const f of s)for(const y in f)h[y]=f[y];return h}class dr extends Error{constructor(s,f){super(f),this.message=f,this.key=s}}class _r{constructor(s,f=[]){this.parent=s,this.bindings={};for(const[y,w]of f)this.bindings[y]=w}concat(s){return new _r(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}const sr={kind:"null"},yt={kind:"number"},ar={kind:"string"},vr={kind:"boolean"},tn={kind:"color"},fn={kind:"projectionDefinition"},Ln={kind:"object"},Pr={kind:"value"},Cn={kind:"collator"},Bs={kind:"formatted"},ci={kind:"padding"},fo={kind:"colorArray"},Ya={kind:"numberArray"},es={kind:"resolvedImage"},oa={kind:"variableAnchorOffsetCollection"};function Gi(h,s){return{kind:"array",itemType:h,N:s}}function Bn(h){if(h.kind==="array"){const s=Bn(h.itemType);return typeof h.N=="number"?`array<${s}, ${h.N}>`:h.itemType.kind==="value"?"array":`array<${s}>`}return h.kind}const ys=[sr,yt,ar,vr,tn,fn,Bs,Ln,Gi(Pr),ci,Ya,fo,es,oa];function _n(h,s){if(s.kind==="error")return null;if(h.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!_n(h.itemType,s.itemType))&&(typeof h.N!="number"||h.N===s.N))return null}else{if(h.kind===s.kind)return null;if(h.kind==="value"){for(const f of ys)if(!_n(f,s))return null}}return`Expected ${Bn(h)} but found ${Bn(s)} instead.`}function Oi(h,s){return s.some(f=>f.kind===h.kind)}function Zi(h,s){return s.some(f=>f==="null"?h===null:f==="array"?Array.isArray(h):f==="object"?h&&!Array.isArray(h)&&typeof h=="object":f===typeof h)}function xi(h,s){return h.kind==="array"&&s.kind==="array"?h.itemType.kind===s.itemType.kind&&typeof h.N=="number":h.kind===s.kind}const ou=.96422,ba=.82521,gc=4/29,Il=6/29,Lo=3*Il*Il,iv=Il*Il*Il,U_=Math.PI/180,Pp=180/Math.PI;function wg(h){return(h%=360)<0&&(h+=360),h}function af([h,s,f,y]){let w,P;const M=ts((.2225045*(h=Xu(h))+.7168786*(s=Xu(s))+.0606169*(f=Xu(f)))/1);h===s&&s===f?w=P=M:(w=ts((.4360747*h+.3850649*s+.1430804*f)/ou),P=ts((.0139322*h+.0971045*s+.7141733*f)/ba));const D=116*M-16;return[D<0?0:D,500*(w-M),200*(M-P),y]}function Xu(h){return h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)}function ts(h){return h>iv?Math.pow(h,1/3):h/Lo+gc}function Rp([h,s,f,y]){let w=(h+16)/116,P=isNaN(s)?w:w+s/500,M=isNaN(f)?w:w-f/200;return w=1*Eh(w),P=ou*Eh(P),M=ba*Eh(M),[su(3.1338561*P-1.6168667*w-.4906146*M),su(-.9787684*P+1.9161415*w+.033454*M),su(.0719453*P-.2289914*w+1.4052427*M),y]}function su(h){return(h=h<=.00304?12.92*h:1.055*Math.pow(h,1/2.4)-.055)<0?0:h>1?1:h}function Eh(h){return h>Il?h*h*h:Lo*(h-gc)}const of=Object.hasOwn||function(h,s){return Object.prototype.hasOwnProperty.call(h,s)};function sf(h,s){return of(h,s)?h[s]:void 0}function lf(h){return parseInt(h.padEnd(2,h),16)/255}function lu(h,s){return Bo(s?h/100:h,0,1)}function Bo(h,s,f){return Math.min(Math.max(s,h),f)}function Dn(h){return!h.some(Number.isNaN)}const Yu={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Wi(h,s,f){return h+f*(s-h)}function Qu(h,s,f){return h.map((y,w)=>Wi(y,s[w],f))}class kn{constructor(s,f,y,w=1,P=!0){this.r=s,this.g=f,this.b=y,this.a=w,P||(this.r*=w,this.g*=w,this.b*=w,w||this.overwriteGetter("rgb",[s,f,y,w]))}static parse(s){if(s instanceof kn)return s;if(typeof s!="string")return;const f=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const w=sf(Yu,y);if(w){const[M,D,H]=w;return[M/255,D/255,H/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const M=y.length<6?1:2;let D=1;return[lf(y.slice(D,D+=M)),lf(y.slice(D,D+=M)),lf(y.slice(D,D+=M)),lf(y.slice(D,D+M)||"ff")]}if(y.startsWith("rgb")){const M=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(M){const[D,H,K,Q,re,se,de,he,_e,Pe,Le,tt]=M,$e=[Q||" ",de||" ",Pe].join("");if($e==="  "||$e==="  /"||$e===",,"||$e===",,,"){const ue=[K,se,_e].join(""),Te=ue==="%%%"?100:ue===""?255:0;if(Te){const Ve=[Bo(+H/Te,0,1),Bo(+re/Te,0,1),Bo(+he/Te,0,1),Le?lu(+Le,tt):1];if(Dn(Ve))return Ve}}return}}const P=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[M,D,H,K,Q,re,se,de,he]=P,_e=[H||" ",Q||" ",se].join("");if(_e==="  "||_e==="  /"||_e===",,"||_e===",,,"){const Pe=[+D,Bo(+K,0,100),Bo(+re,0,100),de?lu(+de,he):1];if(Dn(Pe))return function([Le,tt,$e,ue]){function Te(Ve){const _t=(Ve+Le/30)%12,Kt=tt*Math.min($e,1-$e);return $e-Kt*Math.max(-1,Math.min(_t-3,9-_t,1))}return Le=wg(Le),tt/=100,$e/=100,[Te(0),Te(8),Te(4),ue]}(Pe)}}}(s);return f?new kn(...f,!1):void 0}get rgb(){const{r:s,g:f,b:y,a:w}=this,P=w||1/0;return this.overwriteGetter("rgb",[s/P,f/P,y/P,w])}get hcl(){return this.overwriteGetter("hcl",function(s){const[f,y,w,P]=af(s),M=Math.sqrt(y*y+w*w);return[Math.round(1e4*M)?wg(Math.atan2(w,y)*Pp):NaN,M,f,P]}(this.rgb))}get lab(){return this.overwriteGetter("lab",af(this.rgb))}overwriteGetter(s,f){return Object.defineProperty(this,s,{value:f}),f}toString(){const[s,f,y,w]=this.rgb;return`rgba(${[s,f,y].map(P=>Math.round(255*P)).join(",")},${w})`}static interpolate(s,f,y,w="rgb"){switch(w){case"rgb":{const[P,M,D,H]=Qu(s.rgb,f.rgb,y);return new kn(P,M,D,H,!1)}case"hcl":{const[P,M,D,H]=s.hcl,[K,Q,re,se]=f.hcl;let de,he;if(isNaN(P)||isNaN(K))isNaN(P)?isNaN(K)?de=NaN:(de=K,D!==1&&D!==0||(he=Q)):(de=P,re!==1&&re!==0||(he=M));else{let $e=K-P;K>P&&$e>180?$e-=360:K<P&&P-K>180&&($e+=360),de=P+y*$e}const[_e,Pe,Le,tt]=function([$e,ue,Te,Ve]){return $e=isNaN($e)?0:$e*U_,Rp([Te,Math.cos($e)*ue,Math.sin($e)*ue,Ve])}([de,he??Wi(M,Q,y),Wi(D,re,y),Wi(H,se,y)]);return new kn(_e,Pe,Le,tt,!1)}case"lab":{const[P,M,D,H]=Rp(Qu(s.lab,f.lab,y));return new kn(P,M,D,H,!1)}}}}kn.black=new kn(0,0,0,1),kn.white=new kn(1,1,1,1),kn.transparent=new kn(0,0,0,0),kn.red=new kn(1,0,0,1);class cu{constructor(s,f,y){this.sensitivity=s?f?"variant":"case":f?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,f){return this.collator.compare(s,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Ju=["bottom","center","top"];class uu{constructor(s,f,y,w,P,M){this.text=s,this.image=f,this.scale=y,this.fontStack=w,this.textColor=P,this.verticalAlign=M}}class wi{constructor(s){this.sections=s}static fromString(s){return new wi([new uu(s,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof wi?s:wi.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class Qa{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Qa)return s;if(typeof s=="number")return new Qa([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(const f of s)if(typeof f!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]]}return new Qa(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,f,y){return new Qa(Qu(s.values,f.values,y))}}class Ja{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Ja)return s;if(typeof s=="number")return new Ja([s]);if(Array.isArray(s)){for(const f of s)if(typeof f!="number")return;return new Ja(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,f,y){return new Ja(Qu(s.values,f.values,y))}}class Si{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Si)return s;if(typeof s=="string"){const y=kn.parse(s);return y?new Si([y]):void 0}if(!Array.isArray(s))return;const f=[];for(const y of s){if(typeof y!="string")return;const w=kn.parse(y);if(!w)return;f.push(w)}return new Si(f)}toString(){return JSON.stringify(this.values)}static interpolate(s,f,y,w="rgb"){const P=[];if(s.values.length!=f.values.length)throw new Error(`colorArray: Arrays have mismatched length (${s.values.length} vs. ${f.values.length}), cannot interpolate.`);for(let M=0;M<s.values.length;M++)P.push(kn.interpolate(s.values[M],f.values[M],y,w));return new Si(P)}}class da extends Error{constructor(s){super(s),this.name="RuntimeError"}toJSON(){return this.message}}const Dl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Fa{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Fa)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let f=0;f<s.length;f+=2){const y=s[f],w=s[f+1];if(typeof y!="string"||!Dl.has(y)||!Array.isArray(w)||w.length!==2||typeof w[0]!="number"||typeof w[1]!="number")return}return new Fa(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,f,y){const w=s.values,P=f.values;if(w.length!==P.length)throw new da(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${f.toString()}`);const M=[];for(let D=0;D<w.length;D+=2){if(w[D]!==P[D])throw new da(`Cannot interpolate values containing mismatched anchors. from[${D}]: ${w[D]}, to[${D}]: ${P[D]}`);M.push(w[D]);const[H,K]=w[D+1],[Q,re]=P[D+1];M.push([Wi(H,Q,y),Wi(K,re,y)])}return new Fa(M)}}class Fo{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new Fo({name:s,available:!1}):null}}class ki{constructor(s,f,y){this.from=s,this.to=f,this.transition=y}static interpolate(s,f,y){return new ki(s,f,y)}static parse(s){return s instanceof ki?s:Array.isArray(s)&&s.length===3&&typeof s[0]=="string"&&typeof s[1]=="string"&&typeof s[2]=="number"?new ki(s[0],s[1],s[2]):typeof s=="object"&&typeof s.from=="string"&&typeof s.to=="string"&&typeof s.transition=="number"?new ki(s.from,s.to,s.transition):typeof s=="string"?new ki(s,s,1):void 0}}function Fs(h,s,f,y){return typeof h=="number"&&h>=0&&h<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof f=="number"&&f>=0&&f<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[h,s,f,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[h,s,f,y]:[h,s,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Kn(h){if(h===null||typeof h=="string"||typeof h=="boolean"||typeof h=="number"||h instanceof ki||h instanceof kn||h instanceof cu||h instanceof wi||h instanceof Qa||h instanceof Ja||h instanceof Si||h instanceof Fa||h instanceof Fo)return!0;if(Array.isArray(h)){for(const s of h)if(!Kn(s))return!1;return!0}if(typeof h=="object"){for(const s in h)if(!Kn(h[s]))return!1;return!0}return!1}function _a(h){if(h===null)return sr;if(typeof h=="string")return ar;if(typeof h=="boolean")return vr;if(typeof h=="number")return yt;if(h instanceof kn)return tn;if(h instanceof ki)return fn;if(h instanceof cu)return Cn;if(h instanceof wi)return Bs;if(h instanceof Qa)return ci;if(h instanceof Ja)return Ya;if(h instanceof Si)return fo;if(h instanceof Fa)return oa;if(h instanceof Fo)return es;if(Array.isArray(h)){const s=h.length;let f;for(const y of h){const w=_a(y);if(f){if(f===w)continue;f=Pr;break}f=w}return Gi(f||Pr,s)}return Ln}function Pn(h){const s=typeof h;return h===null?"":s==="string"||s==="number"||s==="boolean"?String(h):h instanceof kn||h instanceof ki||h instanceof wi||h instanceof Qa||h instanceof Ja||h instanceof Si||h instanceof Fa||h instanceof Fo?h.toString():JSON.stringify(h)}class an{constructor(s,f){this.type=s,this.value=f}static parse(s,f){if(s.length!==2)return f.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!Kn(s[1]))return f.error("invalid value");const y=s[1];let w=_a(y);const P=f.expectedType;return w.kind!=="array"||w.N!==0||!P||P.kind!=="array"||typeof P.N=="number"&&P.N!==0||(w=P),new an(w,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const yc={string:ar,number:yt,boolean:vr,object:Ln};class yn{constructor(s,f){this.type=s,this.args=f}static parse(s,f){if(s.length<2)return f.error("Expected at least one argument.");let y,w=1;const P=s[0];if(P==="array"){let D,H;if(s.length>2){const K=s[1];if(typeof K!="string"||!(K in yc)||K==="object")return f.error('The item type argument of "array" must be one of string, number, boolean',1);D=yc[K],w++}else D=Pr;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return f.error('The length argument to "array" must be a positive integer literal',2);H=s[2],w++}y=Gi(D,H)}else{if(!yc[P])throw new Error(`Types doesn't contain name = ${P}`);y=yc[P]}const M=[];for(;w<s.length;w++){const D=f.parse(s[w],w,Pr);if(!D)return null;M.push(D)}return new yn(y,M)}evaluate(s){for(let f=0;f<this.args.length;f++){const y=this.args[f].evaluate(s);if(!_n(this.type,_a(y)))return y;if(f===this.args.length-1)throw new da(`Expected value to be of type ${Bn(this.type)}, but found ${Bn(_a(y))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}const Ki={"to-boolean":vr,"to-color":tn,"to-number":yt,"to-string":ar};class ei{constructor(s,f){this.type=s,this.args=f}static parse(s,f){if(s.length<2)return f.error("Expected at least one argument.");const y=s[0];if(!Ki[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&s.length!==2)return f.error("Expected one argument.");const w=Ki[y],P=[];for(let M=1;M<s.length;M++){const D=f.parse(s[M],M,Pr);if(!D)return null;P.push(D)}return new ei(w,P)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let f,y;for(const w of this.args){if(f=w.evaluate(s),y=null,f instanceof kn)return f;if(typeof f=="string"){const P=s.parseColor(f);if(P)return P}else if(Array.isArray(f)&&(y=f.length<3||f.length>4?`Invalid rgba value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:Fs(f[0],f[1],f[2],f[3]),!y))return new kn(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new da(y||`Could not parse color from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"padding":{let f;for(const y of this.args){f=y.evaluate(s);const w=Qa.parse(f);if(w)return w}throw new da(`Could not parse padding from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"numberArray":{let f;for(const y of this.args){f=y.evaluate(s);const w=Ja.parse(f);if(w)return w}throw new da(`Could not parse numberArray from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"colorArray":{let f;for(const y of this.args){f=y.evaluate(s);const w=Si.parse(f);if(w)return w}throw new da(`Could not parse colorArray from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"variableAnchorOffsetCollection":{let f;for(const y of this.args){f=y.evaluate(s);const w=Fa.parse(f);if(w)return w}throw new da(`Could not parse variableAnchorOffsetCollection from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"number":{let f=null;for(const y of this.args){if(f=y.evaluate(s),f===null)return 0;const w=Number(f);if(!isNaN(w))return w}throw new da(`Could not convert ${JSON.stringify(f)} to number.`)}case"formatted":return wi.fromString(Pn(this.args[0].evaluate(s)));case"resolvedImage":return Fo.fromString(Pn(this.args[0].evaluate(s)));case"projectionDefinition":return this.args[0].evaluate(s);default:return Pn(this.args[0].evaluate(s))}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}const cf=["Unknown","Point","LineString","Polygon"];class ed{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?cf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let f=this._parseColorCache.get(s);return f||(f=kn.parse(s),this._parseColorCache.set(s,f)),f}}class Ch{constructor(s,f,y=[],w,P=new _r,M=[]){this.registry=s,this.path=y,this.key=y.map(D=>`[${D}]`).join(""),this.scope=P,this.errors=M,this.expectedType=w,this._isConstant=f}parse(s,f,y,w,P={}){return f?this.concat(f,y,w)._parse(s,P):this._parse(s,P)}_parse(s,f){function y(w,P,M){return M==="assert"?new yn(P,[w]):M==="coerce"?new ei(P,[w]):w}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=s[0];if(typeof w!="string")return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const P=this.registry[w];if(P){let M=P.parse(s,this);if(!M)return null;if(this.expectedType){const D=this.expectedType,H=M.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||H.kind!=="value"){if(D.kind==="projectionDefinition"&&["string","array"].includes(H.kind)||["color","formatted","resolvedImage"].includes(D.kind)&&["value","string"].includes(H.kind)||["padding","numberArray"].includes(D.kind)&&["value","number","array"].includes(H.kind)||D.kind==="colorArray"&&["value","string","array"].includes(H.kind)||D.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(H.kind))M=y(M,D,f.typeAnnotation||"coerce");else if(this.checkSubtype(D,H))return null}else M=y(M,D,f.typeAnnotation||"assert")}if(!(M instanceof an)&&M.type.kind!=="resolvedImage"&&this._isConstant(M)){const D=new ed;try{M=new an(M.type,M.evaluate(D))}catch(H){return this.error(H.message),null}}return M}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof s} instead.`)}concat(s,f,y){const w=typeof s=="number"?this.path.concat(s):this.path,P=y?this.scope.concat(y):this.scope;return new Ch(this.registry,this._isConstant,w,f||null,P,this.errors)}error(s,...f){const y=`${this.key}${f.map(w=>`[${w}]`).join("")}`;this.errors.push(new dr(y,s))}checkSubtype(s,f){const y=_n(s,f);return y&&this.error(y),y}}class du{constructor(s,f){this.type=f.type,this.bindings=[].concat(s),this.result=f}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(const f of this.bindings)s(f[1]);s(this.result)}static parse(s,f){if(s.length<4)return f.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);const y=[];for(let P=1;P<s.length-1;P+=2){const M=s[P];if(typeof M!="string")return f.error(`Expected string, but found ${typeof M} instead.`,P);if(/[^a-zA-Z0-9_]/.test(M))return f.error("Variable names must contain only alphanumeric characters or '_'.",P);const D=f.parse(s[P+1],P+1);if(!D)return null;y.push([M,D])}const w=f.parse(s[s.length-1],s.length-1,f.expectedType,y);return w?new du(y,w):null}outputDefined(){return this.result.outputDefined()}}class td{constructor(s,f){this.type=f.type,this.name=s,this.boundExpression=f}static parse(s,f){if(s.length!==2||typeof s[1]!="string")return f.error("'var' expression requires exactly one string literal argument.");const y=s[1];return f.scope.has(y)?new td(y,f.scope.get(y)):f.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class rd{constructor(s,f,y){this.type=s,this.index=f,this.input=y}static parse(s,f){if(s.length!==3)return f.error(`Expected 2 arguments, but found ${s.length-1} instead.`);const y=f.parse(s[1],1,yt),w=f.parse(s[2],2,Gi(f.expectedType||Pr));return y&&w?new rd(w.type.itemType,y,w):null}evaluate(s){const f=this.index.evaluate(s),y=this.input.evaluate(s);if(f<0)throw new da(`Array index out of bounds: ${f} < 0.`);if(f>=y.length)throw new da(`Array index out of bounds: ${f} > ${y.length-1}.`);if(f!==Math.floor(f))throw new da(`Array index must be an integer, but found ${f} instead.`);return y[f]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class nd{constructor(s,f){this.type=vr,this.needle=s,this.haystack=f}static parse(s,f){if(s.length!==3)return f.error(`Expected 2 arguments, but found ${s.length-1} instead.`);const y=f.parse(s[1],1,Pr),w=f.parse(s[2],2,Pr);return y&&w?Oi(y.type,[vr,ar,yt,sr,Pr])?new nd(y,w):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(y.type)} instead`):null}evaluate(s){const f=this.needle.evaluate(s),y=this.haystack.evaluate(s);if(!y)return!1;if(!Zi(f,["boolean","string","number","null"]))throw new da(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(_a(f))} instead.`);if(!Zi(y,["string","array"]))throw new da(`Expected second argument to be of type array or string, but found ${Bn(_a(y))} instead.`);return y.indexOf(f)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class uf{constructor(s,f,y){this.type=yt,this.needle=s,this.haystack=f,this.fromIndex=y}static parse(s,f){if(s.length<=2||s.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);const y=f.parse(s[1],1,Pr),w=f.parse(s[2],2,Pr);if(!y||!w)return null;if(!Oi(y.type,[vr,ar,yt,sr,Pr]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(y.type)} instead`);if(s.length===4){const P=f.parse(s[3],3,yt);return P?new uf(y,w,P):null}return new uf(y,w)}evaluate(s){const f=this.needle.evaluate(s),y=this.haystack.evaluate(s);if(!Zi(f,["boolean","string","number","null"]))throw new da(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(_a(f))} instead.`);let w;if(this.fromIndex&&(w=this.fromIndex.evaluate(s)),Zi(y,["string"])){const P=y.indexOf(f,w);return P===-1?-1:[...y.slice(0,P)].length}if(Zi(y,["array"]))return y.indexOf(f,w);throw new da(`Expected second argument to be of type array or string, but found ${Bn(_a(y))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class ad{constructor(s,f,y,w,P,M){this.inputType=s,this.type=f,this.input=y,this.cases=w,this.outputs=P,this.otherwise=M}static parse(s,f){if(s.length<5)return f.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return f.error("Expected an even number of arguments.");let y,w;f.expectedType&&f.expectedType.kind!=="value"&&(w=f.expectedType);const P={},M=[];for(let K=2;K<s.length-1;K+=2){let Q=s[K];const re=s[K+1];Array.isArray(Q)||(Q=[Q]);const se=f.concat(K);if(Q.length===0)return se.error("Expected at least one branch label.");for(const he of Q){if(typeof he!="number"&&typeof he!="string")return se.error("Branch labels must be numbers or strings.");if(typeof he=="number"&&Math.abs(he)>Number.MAX_SAFE_INTEGER)return se.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof he=="number"&&Math.floor(he)!==he)return se.error("Numeric branch labels must be integer values.");if(y){if(se.checkSubtype(y,_a(he)))return null}else y=_a(he);if(P[String(he)]!==void 0)return se.error("Branch labels must be unique.");P[String(he)]=M.length}const de=f.parse(re,K,w);if(!de)return null;w=w||de.type,M.push(de)}const D=f.parse(s[1],1,Pr);if(!D)return null;const H=f.parse(s[s.length-1],s.length-1,w);return H?D.type.kind!=="value"&&f.concat(1).checkSubtype(y,D.type)?null:new ad(y,w,D,P,M,H):null}evaluate(s){const f=this.input.evaluate(s);return(_a(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class Ii{constructor(s,f,y){this.type=s,this.branches=f,this.otherwise=y}static parse(s,f){if(s.length<4)return f.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return f.error("Expected an odd number of arguments.");let y;f.expectedType&&f.expectedType.kind!=="value"&&(y=f.expectedType);const w=[];for(let M=1;M<s.length-1;M+=2){const D=f.parse(s[M],M,vr);if(!D)return null;const H=f.parse(s[M+1],M+1,y);if(!H)return null;w.push([D,H]),y=y||H.type}const P=f.parse(s[s.length-1],s.length-1,y);if(!P)return null;if(!y)throw new Error("Can't infer output type");return new Ii(y,w,P)}evaluate(s){for(const[f,y]of this.branches)if(f.evaluate(s))return y.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(const[f,y]of this.branches)s(f),s(y);s(this.otherwise)}outputDefined(){return this.branches.every(([s,f])=>f.outputDefined())&&this.otherwise.outputDefined()}}class id{constructor(s,f,y,w){this.type=s,this.input=f,this.beginIndex=y,this.endIndex=w}static parse(s,f){if(s.length<=2||s.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);const y=f.parse(s[1],1,Pr),w=f.parse(s[2],2,yt);if(!y||!w)return null;if(!Oi(y.type,[Gi(Pr),ar,Pr]))return f.error(`Expected first argument to be of type array or string, but found ${Bn(y.type)} instead`);if(s.length===4){const P=f.parse(s[3],3,yt);return P?new id(y.type,y,w,P):null}return new id(y.type,y,w)}evaluate(s){const f=this.input.evaluate(s),y=this.beginIndex.evaluate(s);let w;if(this.endIndex&&(w=this.endIndex.evaluate(s)),Zi(f,["string"]))return[...f].slice(y,w).join("");if(Zi(f,["array"]))return f.slice(y,w);throw new da(`Expected first argument to be of type array or string, but found ${Bn(_a(f))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function od(h,s){const f=h.length-1;let y,w,P=0,M=f,D=0;for(;P<=M;)if(D=Math.floor((P+M)/2),y=h[D],w=h[D+1],y<=s){if(D===f||s<w)return D;P=D+1}else{if(!(y>s))throw new da("Input is not a number.");M=D-1}return 0}class fu{constructor(s,f,y){this.type=s,this.input=f,this.labels=[],this.outputs=[];for(const[w,P]of y)this.labels.push(w),this.outputs.push(P)}static parse(s,f){if(s.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return f.error("Expected an even number of arguments.");const y=f.parse(s[1],1,yt);if(!y)return null;const w=[];let P=null;f.expectedType&&f.expectedType.kind!=="value"&&(P=f.expectedType);for(let M=1;M<s.length;M+=2){const D=M===1?-1/0:s[M],H=s[M+1],K=M,Q=M+1;if(typeof D!="number")return f.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',K);if(w.length&&w[w.length-1][0]>=D)return f.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',K);const re=f.parse(H,Q,P);if(!re)return null;P=P||re.type,w.push([D,re])}return new fu(P,y,w)}evaluate(s){const f=this.labels,y=this.outputs;if(f.length===1)return y[0].evaluate(s);const w=this.input.evaluate(s);if(w<=f[0])return y[0].evaluate(s);const P=f.length;return w>=f[P-1]?y[P-1].evaluate(s):y[od(f,w)].evaluate(s)}eachChild(s){s(this.input);for(const f of this.outputs)s(f)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function Di(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Mp,Op,ov=function(){if(Op)return Mp;function h(s,f,y,w){this.cx=3*s,this.bx=3*(y-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*f,this.by=3*(w-f)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=f,this.p2x=y,this.p2y=w}return Op=1,Mp=h,h.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,f){if(f===void 0&&(f=1e-6),s<0)return 0;if(s>1)return 1;for(var y=s,w=0;w<8;w++){var P=this.sampleCurveX(y)-s;if(Math.abs(P)<f)return y;var M=this.sampleCurveDerivativeX(y);if(Math.abs(M)<1e-6)break;y-=P/M}var D=0,H=1;for(y=s,w=0;w<20&&(P=this.sampleCurveX(y),!(Math.abs(P-s)<f));w++)s>P?D=y:H=y,y=.5*(H-D)+D;return y},solve:function(s,f){return this.sampleCurveY(this.solveCurveX(s,f))}},Mp}(),sv=Di(ov);class ho{constructor(s,f,y,w,P){this.type=s,this.operator=f,this.interpolation=y,this.input=w,this.labels=[],this.outputs=[];for(const[M,D]of P)this.labels.push(M),this.outputs.push(D)}static interpolationFactor(s,f,y,w){let P=0;if(s.name==="exponential")P=Th(f,s.base,y,w);else if(s.name==="linear")P=Th(f,1,y,w);else if(s.name==="cubic-bezier"){const M=s.controlPoints;P=new sv(M[0],M[1],M[2],M[3]).solve(Th(f,1,y,w))}return P}static parse(s,f){let[y,w,P,...M]=s;if(!Array.isArray(w)||w.length===0)return f.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){const K=w[1];if(typeof K!="number")return f.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:K}}else{if(w[0]!=="cubic-bezier")return f.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const K=w.slice(1);if(K.length!==4||K.some(Q=>typeof Q!="number"||Q<0||Q>1))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:K}}}if(s.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(P=f.parse(P,2,yt),!P)return null;const D=[];let H=null;y!=="interpolate-hcl"&&y!=="interpolate-lab"||f.expectedType==fo?f.expectedType&&f.expectedType.kind!=="value"&&(H=f.expectedType):H=tn;for(let K=0;K<M.length;K+=2){const Q=M[K],re=M[K+1],se=K+3,de=K+4;if(typeof Q!="number")return f.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',se);if(D.length&&D[D.length-1][0]>=Q)return f.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',se);const he=f.parse(re,de,H);if(!he)return null;H=H||he.type,D.push([Q,he])}return xi(H,yt)||xi(H,fn)||xi(H,tn)||xi(H,ci)||xi(H,Ya)||xi(H,fo)||xi(H,oa)||xi(H,Gi(yt))?new ho(H,y,w,P,D):f.error(`Type ${Bn(H)} is not interpolatable.`)}evaluate(s){const f=this.labels,y=this.outputs;if(f.length===1)return y[0].evaluate(s);const w=this.input.evaluate(s);if(w<=f[0])return y[0].evaluate(s);const P=f.length;if(w>=f[P-1])return y[P-1].evaluate(s);const M=od(f,w),D=ho.interpolationFactor(this.interpolation,w,f[M],f[M+1]),H=y[M].evaluate(s),K=y[M+1].evaluate(s);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Wi(H,K,D);case"color":return kn.interpolate(H,K,D);case"padding":return Qa.interpolate(H,K,D);case"colorArray":return Si.interpolate(H,K,D);case"numberArray":return Ja.interpolate(H,K,D);case"variableAnchorOffsetCollection":return Fa.interpolate(H,K,D);case"array":return Qu(H,K,D);case"projectionDefinition":return ki.interpolate(H,K,D)}case"interpolate-hcl":switch(this.type.kind){case"color":return kn.interpolate(H,K,D,"hcl");case"colorArray":return Si.interpolate(H,K,D,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return kn.interpolate(H,K,D,"lab");case"colorArray":return Si.interpolate(H,K,D,"lab")}}}eachChild(s){s(this.input);for(const f of this.outputs)s(f)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function Th(h,s,f,y){const w=y-f,P=h-f;return w===0?0:s===1?P/w:(Math.pow(s,P)-1)/(Math.pow(s,w)-1)}const zl={color:kn.interpolate,number:Wi,padding:Qa.interpolate,numberArray:Ja.interpolate,colorArray:Si.interpolate,variableAnchorOffsetCollection:Fa.interpolate,array:Qu};class sd{constructor(s,f){this.type=s,this.args=f}static parse(s,f){if(s.length<2)return f.error("Expected at least one argument.");let y=null;const w=f.expectedType;w&&w.kind!=="value"&&(y=w);const P=[];for(const D of s.slice(1)){const H=f.parse(D,1+P.length,y,void 0,{typeAnnotation:"omit"});if(!H)return null;y=y||H.type,P.push(H)}if(!y)throw new Error("No output type");const M=w&&P.some(D=>_n(w,D.type));return new sd(M?Pr:y,P)}evaluate(s){let f,y=null,w=0;for(const P of this.args)if(w++,y=P.evaluate(s),y&&y instanceof Fo&&!y.available&&(f||(f=y.name),y=null,w===this.args.length&&(y=f)),y!==null)break;return y}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function ld(h,s){return h==="=="||h==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function Ns(h,s,f,y){return y.compare(s,f)===0}function cd(h,s,f){const y=h!=="=="&&h!=="!=";return class k9{constructor(P,M,D){this.type=vr,this.lhs=P,this.rhs=M,this.collator=D,this.hasUntypedArgument=P.type.kind==="value"||M.type.kind==="value"}static parse(P,M){if(P.length!==3&&P.length!==4)return M.error("Expected two or three arguments.");const D=P[0];let H=M.parse(P[1],1,Pr);if(!H)return null;if(!ld(D,H.type))return M.concat(1).error(`"${D}" comparisons are not supported for type '${Bn(H.type)}'.`);let K=M.parse(P[2],2,Pr);if(!K)return null;if(!ld(D,K.type))return M.concat(2).error(`"${D}" comparisons are not supported for type '${Bn(K.type)}'.`);if(H.type.kind!==K.type.kind&&H.type.kind!=="value"&&K.type.kind!=="value")return M.error(`Cannot compare types '${Bn(H.type)}' and '${Bn(K.type)}'.`);y&&(H.type.kind==="value"&&K.type.kind!=="value"?H=new yn(K.type,[H]):H.type.kind!=="value"&&K.type.kind==="value"&&(K=new yn(H.type,[K])));let Q=null;if(P.length===4){if(H.type.kind!=="string"&&K.type.kind!=="string"&&H.type.kind!=="value"&&K.type.kind!=="value")return M.error("Cannot use collator to compare non-string types.");if(Q=M.parse(P[3],3,Cn),!Q)return null}return new k9(H,K,Q)}evaluate(P){const M=this.lhs.evaluate(P),D=this.rhs.evaluate(P);if(y&&this.hasUntypedArgument){const H=_a(M),K=_a(D);if(H.kind!==K.kind||H.kind!=="string"&&H.kind!=="number")throw new da(`Expected arguments for "${h}" to be (string, string) or (number, number), but found (${H.kind}, ${K.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const H=_a(M),K=_a(D);if(H.kind!=="string"||K.kind!=="string")return s(P,M,D)}return this.collator?f(P,M,D,this.collator.evaluate(P)):s(P,M,D)}eachChild(P){P(this.lhs),P(this.rhs),this.collator&&P(this.collator)}outputDefined(){return!0}}}const kp=cd("==",function(h,s,f){return s===f},Ns),lv=cd("!=",function(h,s,f){return s!==f},function(h,s,f,y){return!Ns(0,s,f,y)}),Sg=cd("<",function(h,s,f){return s<f},function(h,s,f,y){return y.compare(s,f)<0}),q_=cd(">",function(h,s,f){return s>f},function(h,s,f,y){return y.compare(s,f)>0}),V_=cd("<=",function(h,s,f){return s<=f},function(h,s,f,y){return y.compare(s,f)<=0}),H_=cd(">=",function(h,s,f){return s>=f},function(h,s,f,y){return y.compare(s,f)>=0});class Ip{constructor(s,f,y){this.type=Cn,this.locale=y,this.caseSensitive=s,this.diacriticSensitive=f}static parse(s,f){if(s.length!==2)return f.error("Expected one argument.");const y=s[1];if(typeof y!="object"||Array.isArray(y))return f.error("Collator options argument must be an object.");const w=f.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,vr);if(!w)return null;const P=f.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,vr);if(!P)return null;let M=null;return y.locale&&(M=f.parse(y.locale,1,ar),!M)?null:new Ip(w,P,M)}evaluate(s){return new cu(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class df{constructor(s,f,y,w,P){this.type=ar,this.number=s,this.locale=f,this.currency=y,this.minFractionDigits=w,this.maxFractionDigits=P}static parse(s,f){if(s.length!==3)return f.error("Expected two arguments.");const y=f.parse(s[1],1,yt);if(!y)return null;const w=s[2];if(typeof w!="object"||Array.isArray(w))return f.error("NumberFormat options argument must be an object.");let P=null;if(w.locale&&(P=f.parse(w.locale,1,ar),!P))return null;let M=null;if(w.currency&&(M=f.parse(w.currency,1,ar),!M))return null;let D=null;if(w["min-fraction-digits"]&&(D=f.parse(w["min-fraction-digits"],1,yt),!D))return null;let H=null;return w["max-fraction-digits"]&&(H=f.parse(w["max-fraction-digits"],1,yt),!H)?null:new df(y,P,M,D,H)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class Dp{constructor(s){this.type=Bs,this.sections=s}static parse(s,f){if(s.length<2)return f.error("Expected at least one argument.");const y=s[1];if(!Array.isArray(y)&&typeof y=="object")return f.error("First argument must be an image or text section.");const w=[];let P=!1;for(let M=1;M<=s.length-1;++M){const D=s[M];if(P&&typeof D=="object"&&!Array.isArray(D)){P=!1;let H=null;if(D["font-scale"]&&(H=f.parse(D["font-scale"],1,yt),!H))return null;let K=null;if(D["text-font"]&&(K=f.parse(D["text-font"],1,Gi(ar)),!K))return null;let Q=null;if(D["text-color"]&&(Q=f.parse(D["text-color"],1,tn),!Q))return null;let re=null;if(D["vertical-align"]){if(typeof D["vertical-align"]=="string"&&!Ju.includes(D["vertical-align"]))return f.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${D["vertical-align"]}' instead.`);if(re=f.parse(D["vertical-align"],1,ar),!re)return null}const se=w[w.length-1];se.scale=H,se.font=K,se.textColor=Q,se.verticalAlign=re}else{const H=f.parse(s[M],1,Pr);if(!H)return null;const K=H.type.kind;if(K!=="string"&&K!=="value"&&K!=="null"&&K!=="resolvedImage")return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");P=!0,w.push({content:H,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Dp(w)}evaluate(s){return new wi(this.sections.map(f=>{const y=f.content.evaluate(s);return _a(y)===es?new uu("",y,null,null,null,f.verticalAlign?f.verticalAlign.evaluate(s):null):new uu(Pn(y),null,f.scale?f.scale.evaluate(s):null,f.font?f.font.evaluate(s).join(","):null,f.textColor?f.textColor.evaluate(s):null,f.verticalAlign?f.verticalAlign.evaluate(s):null)}))}eachChild(s){for(const f of this.sections)s(f.content),f.scale&&s(f.scale),f.font&&s(f.font),f.textColor&&s(f.textColor),f.verticalAlign&&s(f.verticalAlign)}outputDefined(){return!1}}class zp{constructor(s){this.type=es,this.input=s}static parse(s,f){if(s.length!==2)return f.error("Expected two arguments.");const y=f.parse(s[1],1,ar);return y?new zp(y):f.error("No image name provided.")}evaluate(s){const f=this.input.evaluate(s),y=Fo.fromString(f);return y&&s.availableImages&&(y.available=s.availableImages.indexOf(f)>-1),y}eachChild(s){s(this.input)}outputDefined(){return!1}}class Lp{constructor(s){this.type=yt,this.input=s}static parse(s,f){if(s.length!==2)return f.error(`Expected 1 argument, but found ${s.length-1} instead.`);const y=f.parse(s[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?f.error(`Expected argument of type string or array, but found ${Bn(y.type)} instead.`):new Lp(y):null}evaluate(s){const f=this.input.evaluate(s);if(typeof f=="string")return[...f].length;if(Array.isArray(f))return f.length;throw new da(`Expected value to be of type string or array, but found ${Bn(_a(f))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}const js=8192;function ff(h,s){const f=(180+h[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h[1]*Math.PI/360)))/360,w=Math.pow(2,s.z);return[Math.round(f*w*js),Math.round(y*w*js)]}function Eg(h,s){const f=Math.pow(2,s.z);return[(w=(h[0]/js+s.x)/f,360*w-180),(y=(h[1]/js+s.y)/f,360/Math.PI*Math.atan(Math.exp((180-360*y)*Math.PI/180))-90)];var y,w}function hf(h,s){h[0]=Math.min(h[0],s[0]),h[1]=Math.min(h[1],s[1]),h[2]=Math.max(h[2],s[0]),h[3]=Math.max(h[3],s[1])}function pf(h,s){return!(h[0]<=s[0]||h[2]>=s[2]||h[1]<=s[1]||h[3]>=s[3])}function cv(h,s,f){const y=h[0]-s[0],w=h[1]-s[1],P=h[0]-f[0],M=h[1]-f[1];return y*M-P*w==0&&y*P<=0&&w*M<=0}function Ah(h,s,f,y){return(w=[y[0]-f[0],y[1]-f[1]])[0]*(P=[s[0]-h[0],s[1]-h[1]])[1]-w[1]*P[0]!=0&&!(!Tg(h,s,f,y)||!Tg(f,y,h,s));var w,P}function Cg(h,s,f){for(const y of f)for(let w=0;w<y.length-1;++w)if(Ah(h,s,y[w],y[w+1]))return!0;return!1}function $s(h,s,f=!1){let y=!1;for(const D of s)for(let H=0;H<D.length-1;H++){if(cv(h,D[H],D[H+1]))return f;(P=D[H])[1]>(w=h)[1]!=(M=D[H+1])[1]>w[1]&&w[0]<(M[0]-P[0])*(w[1]-P[1])/(M[1]-P[1])+P[0]&&(y=!y)}var w,P,M;return y}function uv(h,s){for(const f of s)if($s(h,f))return!0;return!1}function dv(h,s){for(const f of h)if(!$s(f,s))return!1;for(let f=0;f<h.length-1;++f)if(Cg(h[f],h[f+1],s))return!1;return!0}function G_(h,s){for(const f of s)if(dv(h,f))return!0;return!1}function Tg(h,s,f,y){const w=y[0]-f[0],P=y[1]-f[1],M=(h[0]-f[0])*P-w*(h[1]-f[1]),D=(s[0]-f[0])*P-w*(s[1]-f[1]);return M>0&&D<0||M<0&&D>0}function mf(h,s,f){const y=[];for(let w=0;w<h.length;w++){const P=[];for(let M=0;M<h[w].length;M++){const D=ff(h[w][M],f);hf(s,D),P.push(D)}y.push(P)}return y}function gf(h,s,f){const y=[];for(let w=0;w<h.length;w++){const P=mf(h[w],s,f);y.push(P)}return y}function yf(h,s,f,y){if(h[0]<f[0]||h[0]>f[2]){const w=.5*y;let P=h[0]-f[0]>w?-y:f[0]-h[0]>w?y:0;P===0&&(P=h[0]-f[2]>w?-y:f[2]-h[0]>w?y:0),h[0]+=P}hf(s,h)}function fv(h,s,f,y){const w=Math.pow(2,y.z)*js,P=[y.x*js,y.y*js],M=[];for(const D of h)for(const H of D){const K=[H.x+P[0],H.y+P[1]];yf(K,s,f,w),M.push(K)}return M}function vf(h,s,f,y){const w=Math.pow(2,y.z)*js,P=[y.x*js,y.y*js],M=[];for(const H of h){const K=[];for(const Q of H){const re=[Q.x+P[0],Q.y+P[1]];hf(s,re),K.push(re)}M.push(K)}if(s[2]-s[0]<=w/2){(D=s)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const H of M)for(const K of H)yf(K,s,f,w)}var D;return M}class vc{constructor(s,f){this.type=vr,this.geojson=s,this.geometries=f}static parse(s,f){if(s.length!==2)return f.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Kn(s[1])){const y=s[1];if(y.type==="FeatureCollection"){const w=[];for(const P of y.features){const{type:M,coordinates:D}=P.geometry;M==="Polygon"&&w.push(D),M==="MultiPolygon"&&w.push(...D)}if(w.length)return new vc(y,{type:"MultiPolygon",coordinates:w})}else if(y.type==="Feature"){const w=y.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new vc(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new vc(y,y)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(f,y){const w=[1/0,1/0,-1/0,-1/0],P=[1/0,1/0,-1/0,-1/0],M=f.canonicalID();if(y.type==="Polygon"){const D=mf(y.coordinates,P,M),H=fv(f.geometry(),w,P,M);if(!pf(w,P))return!1;for(const K of H)if(!$s(K,D))return!1}if(y.type==="MultiPolygon"){const D=gf(y.coordinates,P,M),H=fv(f.geometry(),w,P,M);if(!pf(w,P))return!1;for(const K of H)if(!uv(K,D))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(f,y){const w=[1/0,1/0,-1/0,-1/0],P=[1/0,1/0,-1/0,-1/0],M=f.canonicalID();if(y.type==="Polygon"){const D=mf(y.coordinates,P,M),H=vf(f.geometry(),w,P,M);if(!pf(w,P))return!1;for(const K of H)if(!dv(K,D))return!1}if(y.type==="MultiPolygon"){const D=gf(y.coordinates,P,M),H=vf(f.geometry(),w,P,M);if(!pf(w,P))return!1;for(const K of H)if(!G_(K,D))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Ag=class{constructor(h=[],s=(f,y)=>f<y?-1:f>y?1:0){if(this.data=h,this.length=this.data.length,this.compare=s,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(h){this.data.push(h),this._up(this.length++)}pop(){if(this.length===0)return;const h=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),h}peek(){return this.data[0]}_up(h){const{data:s,compare:f}=this,y=s[h];for(;h>0;){const w=h-1>>1,P=s[w];if(f(y,P)>=0)break;s[h]=P,h=w}s[h]=y}_down(h){const{data:s,compare:f}=this,y=this.length>>1,w=s[h];for(;h<y;){let P=1+(h<<1);const M=P+1;if(M<this.length&&f(s[M],s[P])<0&&(P=M),f(s[P],w)>=0)break;s[h]=s[P],h=P}s[h]=w}};function Bp(h,s,f=0,y=h.length-1,w=Pg){for(;y>f;){if(y-f>600){const H=y-f+1,K=s-f+1,Q=Math.log(H),re=.5*Math.exp(2*Q/3),se=.5*Math.sqrt(Q*re*(H-re)/H)*(K-H/2<0?-1:1);Bp(h,s,Math.max(f,Math.floor(s-K*re/H+se)),Math.min(y,Math.floor(s+(H-K)*re/H+se)),w)}const P=h[s];let M=f,D=y;for(hu(h,f,s),w(h[y],P)>0&&hu(h,f,y);M<D;){for(hu(h,M,D),M++,D--;w(h[M],P)<0;)M++;for(;w(h[D],P)>0;)D--}w(h[f],P)===0?hu(h,f,D):(D++,hu(h,D,y)),D<=s&&(f=D+1),s<=D&&(y=D-1)}}function hu(h,s,f){const y=h[s];h[s]=h[f],h[f]=y}function Pg(h,s){return h<s?-1:h>s?1:0}function Ph(h,s){if(h.length<=1)return[h];const f=[];let y,w;for(const P of h){const M=Z_(P);M!==0&&(P.area=Math.abs(M),w===void 0&&(w=M<0),w===M<0?(y&&f.push(y),y=[P]):y.push(P))}if(y&&f.push(y),s>1)for(let P=0;P<f.length;P++)f[P].length<=s||(Bp(f[P],s,1,f[P].length-1,hv),f[P]=f[P].slice(0,s));return f}function hv(h,s){return s.area-h.area}function Z_(h){let s=0;for(let f,y,w=0,P=h.length,M=P-1;w<P;M=w++)f=h[w],y=h[M],s+=(y.x-f.x)*(f.y+y.y);return s}const Rg=1/298.257223563,pv=Rg*(2-Rg),mv=Math.PI/180;class Mg{constructor(s){const f=6378.137*mv*1e3,y=Math.cos(s*mv),w=1/(1-pv*(1-y*y)),P=Math.sqrt(w);this.kx=f*P*y,this.ky=f*P*w*(1-pv)}distance(s,f){const y=this.wrap(s[0]-f[0])*this.kx,w=(s[1]-f[1])*this.ky;return Math.sqrt(y*y+w*w)}pointOnLine(s,f){let y,w,P,M,D=1/0;for(let H=0;H<s.length-1;H++){let K=s[H][0],Q=s[H][1],re=this.wrap(s[H+1][0]-K)*this.kx,se=(s[H+1][1]-Q)*this.ky,de=0;re===0&&se===0||(de=(this.wrap(f[0]-K)*this.kx*re+(f[1]-Q)*this.ky*se)/(re*re+se*se),de>1?(K=s[H+1][0],Q=s[H+1][1]):de>0&&(K+=re/this.kx*de,Q+=se/this.ky*de)),re=this.wrap(f[0]-K)*this.kx,se=(f[1]-Q)*this.ky;const he=re*re+se*se;he<D&&(D=he,y=K,w=Q,P=H,M=de)}return{point:[y,w],index:P,t:Math.max(0,Math.min(1,M))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function rs(h,s){return s[0]-h[0]}function Rn(h){return h[1]-h[0]+1}function Ll(h,s){return h[1]>=h[0]&&h[1]<s}function Fp(h,s){if(h[0]>h[1])return[null,null];const f=Rn(h);if(s){if(f===2)return[h,null];const w=Math.floor(f/2);return[[h[0],h[0]+w],[h[0]+w,h[1]]]}if(f===1)return[h,null];const y=Math.floor(f/2)-1;return[[h[0],h[0]+y],[h[0]+y+1,h[1]]]}function Np(h,s){if(!Ll(s,h.length))return[1/0,1/0,-1/0,-1/0];const f=[1/0,1/0,-1/0,-1/0];for(let y=s[0];y<=s[1];++y)hf(f,h[y]);return f}function jp(h){const s=[1/0,1/0,-1/0,-1/0];for(const f of h)for(const y of f)hf(s,y);return s}function $p(h){return h[0]!==-1/0&&h[1]!==-1/0&&h[2]!==1/0&&h[3]!==1/0}function Og(h,s,f){if(!$p(h)||!$p(s))return NaN;let y=0,w=0;return h[2]<s[0]&&(y=s[0]-h[2]),h[0]>s[2]&&(y=h[0]-s[2]),h[1]>s[3]&&(w=h[1]-s[3]),h[3]<s[1]&&(w=s[1]-h[3]),f.distance([0,0],[y,w])}function Us(h,s,f){const y=f.pointOnLine(s,h);return f.distance(h,y.point)}function Rh(h,s,f,y,w){const P=Math.min(Us(h,[f,y],w),Us(s,[f,y],w)),M=Math.min(Us(f,[h,s],w),Us(y,[h,s],w));return Math.min(P,M)}function Mh(h,s,f,y,w){if(!Ll(s,h.length)||!Ll(y,f.length))return 1/0;let P=1/0;for(let M=s[0];M<s[1];++M){const D=h[M],H=h[M+1];for(let K=y[0];K<y[1];++K){const Q=f[K],re=f[K+1];if(Ah(D,H,Q,re))return 0;P=Math.min(P,Rh(D,H,Q,re,w))}}return P}function kg(h,s,f,y,w){if(!Ll(s,h.length)||!Ll(y,f.length))return NaN;let P=1/0;for(let M=s[0];M<=s[1];++M)for(let D=y[0];D<=y[1];++D)if(P=Math.min(P,w.distance(h[M],f[D])),P===0)return P;return P}function gv(h,s,f){if($s(h,s,!0))return 0;let y=1/0;for(const w of s){const P=w[0],M=w[w.length-1];if(P!==M&&(y=Math.min(y,Us(h,[M,P],f)),y===0))return y;const D=f.pointOnLine(w,h);if(y=Math.min(y,f.distance(h,D.point)),y===0)return y}return y}function ud(h,s,f,y){if(!Ll(s,h.length))return NaN;for(let P=s[0];P<=s[1];++P)if($s(h[P],f,!0))return 0;let w=1/0;for(let P=s[0];P<s[1];++P){const M=h[P],D=h[P+1];for(const H of f)for(let K=0,Q=H.length,re=Q-1;K<Q;re=K++){const se=H[re],de=H[K];if(Ah(M,D,se,de))return 0;w=Math.min(w,Rh(M,D,se,de,y))}}return w}function dd(h,s){for(const f of h)for(const y of f)if($s(y,s,!0))return!0;return!1}function Ig(h,s,f,y=1/0){const w=jp(h),P=jp(s);if(y!==1/0&&Og(w,P,f)>=y)return y;if(pf(w,P)){if(dd(h,s))return 0}else if(dd(s,h))return 0;let M=1/0;for(const D of h)for(let H=0,K=D.length,Q=K-1;H<K;Q=H++){const re=D[Q],se=D[H];for(const de of s)for(let he=0,_e=de.length,Pe=_e-1;he<_e;Pe=he++){const Le=de[Pe],tt=de[he];if(Ah(re,se,Le,tt))return 0;M=Math.min(M,Rh(re,se,Le,tt,f))}}return M}function Dg(h,s,f,y,w,P){if(!P)return;const M=Og(Np(y,P),w,f);M<s&&h.push([M,P,[0,0]])}function Bl(h,s,f,y,w,P,M){if(!P||!M)return;const D=Og(Np(y,P),Np(w,M),f);D<s&&h.push([D,P,M])}function Oh(h,s,f,y,w=1/0){let P=Math.min(y.distance(h[0],f[0][0]),w);if(P===0)return P;const M=new Ag([[0,[0,h.length-1],[0,0]]],rs),D=jp(f);for(;M.length>0;){const H=M.pop();if(H[0]>=P)continue;const K=H[1],Q=s?50:100;if(Rn(K)<=Q){if(!Ll(K,h.length))return NaN;if(s){const re=ud(h,K,f,y);if(isNaN(re)||re===0)return re;P=Math.min(P,re)}else for(let re=K[0];re<=K[1];++re){const se=gv(h[re],f,y);if(P=Math.min(P,se),P===0)return 0}}else{const re=Fp(K,s);Dg(M,P,y,h,D,re[0]),Dg(M,P,y,h,D,re[1])}}return P}function kh(h,s,f,y,w,P=1/0){let M=Math.min(P,w.distance(h[0],f[0]));if(M===0)return M;const D=new Ag([[0,[0,h.length-1],[0,f.length-1]]],rs);for(;D.length>0;){const H=D.pop();if(H[0]>=M)continue;const K=H[1],Q=H[2],re=s?50:100,se=y?50:100;if(Rn(K)<=re&&Rn(Q)<=se){if(!Ll(K,h.length)&&Ll(Q,f.length))return NaN;let de;if(s&&y)de=Mh(h,K,f,Q,w),M=Math.min(M,de);else if(s&&!y){const he=h.slice(K[0],K[1]+1);for(let _e=Q[0];_e<=Q[1];++_e)if(de=Us(f[_e],he,w),M=Math.min(M,de),M===0)return M}else if(!s&&y){const he=f.slice(Q[0],Q[1]+1);for(let _e=K[0];_e<=K[1];++_e)if(de=Us(h[_e],he,w),M=Math.min(M,de),M===0)return M}else de=kg(h,K,f,Q,w),M=Math.min(M,de)}else{const de=Fp(K,s),he=Fp(Q,y);Bl(D,M,w,h,f,de[0],he[0]),Bl(D,M,w,h,f,de[0],he[1]),Bl(D,M,w,h,f,de[1],he[0]),Bl(D,M,w,h,f,de[1],he[1])}}return M}function Up(h){return h.type==="MultiPolygon"?h.coordinates.map(s=>({type:"Polygon",coordinates:s})):h.type==="MultiLineString"?h.coordinates.map(s=>({type:"LineString",coordinates:s})):h.type==="MultiPoint"?h.coordinates.map(s=>({type:"Point",coordinates:s})):[h]}class fd{constructor(s,f){this.type=yt,this.geojson=s,this.geometries=f}static parse(s,f){if(s.length!==2)return f.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Kn(s[1])){const y=s[1];if(y.type==="FeatureCollection")return new fd(y,y.features.map(w=>Up(w.geometry)).flat());if(y.type==="Feature")return new fd(y,Up(y.geometry));if("type"in y&&"coordinates"in y)return new fd(y,Up(y))}return f.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(f,y){const w=f.geometry(),P=w.flat().map(H=>Eg([H.x,H.y],f.canonical));if(w.length===0)return NaN;const M=new Mg(P[0][1]);let D=1/0;for(const H of y){switch(H.type){case"Point":D=Math.min(D,kh(P,!1,[H.coordinates],!1,M,D));break;case"LineString":D=Math.min(D,kh(P,!1,H.coordinates,!0,M,D));break;case"Polygon":D=Math.min(D,Oh(P,!1,H.coordinates,M,D))}if(D===0)return D}return D}(s,this.geometries);if(s.geometryType()==="LineString")return function(f,y){const w=f.geometry(),P=w.flat().map(H=>Eg([H.x,H.y],f.canonical));if(w.length===0)return NaN;const M=new Mg(P[0][1]);let D=1/0;for(const H of y){switch(H.type){case"Point":D=Math.min(D,kh(P,!0,[H.coordinates],!1,M,D));break;case"LineString":D=Math.min(D,kh(P,!0,H.coordinates,!0,M,D));break;case"Polygon":D=Math.min(D,Oh(P,!0,H.coordinates,M,D))}if(D===0)return D}return D}(s,this.geometries);if(s.geometryType()==="Polygon")return function(f,y){const w=f.geometry();if(w.length===0||w[0].length===0)return NaN;const P=Ph(w,0).map(H=>H.map(K=>K.map(Q=>Eg([Q.x,Q.y],f.canonical)))),M=new Mg(P[0][0][0][1]);let D=1/0;for(const H of y)for(const K of P){switch(H.type){case"Point":D=Math.min(D,Oh([H.coordinates],!1,K,M,D));break;case"LineString":D=Math.min(D,Oh(H.coordinates,!0,K,M,D));break;case"Polygon":D=Math.min(D,Ig(K,H.coordinates,M,D))}if(D===0)return D}return D}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class qp{constructor(s){this.type=Pr,this.key=s}static parse(s,f){if(s.length!==2)return f.error(`Expected 1 argument, but found ${s.length-1} instead.`);const y=s[1];return y==null?f.error("Global state property must be defined."):typeof y!="string"?f.error(`Global state property must be string, but found ${typeof s[1]} instead.`):new qp(y)}evaluate(s){var f;const y=(f=s.globals)===null||f===void 0?void 0:f.globalState;return y&&Object.keys(y).length!==0?sf(y,this.key):null}eachChild(){}outputDefined(){return!1}}const bf={"==":kp,"!=":lv,">":q_,"<":Sg,">=":H_,"<=":V_,array:yn,at:rd,boolean:yn,case:Ii,coalesce:sd,collator:Ip,format:Dp,image:zp,in:nd,"index-of":uf,interpolate:ho,"interpolate-hcl":ho,"interpolate-lab":ho,length:Lp,let:du,literal:an,match:ad,number:yn,"number-format":df,object:yn,slice:id,step:fu,string:yn,"to-boolean":ei,"to-color":ei,"to-number":ei,"to-string":ei,var:td,within:vc,distance:fd,"global-state":qp};class vs{constructor(s,f,y,w){this.name=s,this.type=f,this._evaluate=y,this.args=w}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,f){const y=s[0],w=vs.definitions[y];if(!w)return f.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const P=Array.isArray(w)?w[0]:w.type,M=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,D=M.filter(([K])=>!Array.isArray(K)||K.length===s.length-1);let H=null;for(const[K,Q]of D){H=new Ch(f.registry,No,f.path,null,f.scope);const re=[];let se=!1;for(let de=1;de<s.length;de++){const he=s[de],_e=Array.isArray(K)?K[de-1]:K.type,Pe=H.parse(he,1+re.length,_e);if(!Pe){se=!0;break}re.push(Pe)}if(!se)if(Array.isArray(K)&&K.length!==re.length)H.error(`Expected ${K.length} arguments, but found ${re.length} instead.`);else{for(let de=0;de<re.length;de++){const he=Array.isArray(K)?K[de]:K.type,_e=re[de];H.concat(de+1).checkSubtype(he,_e.type)}if(H.errors.length===0)return new vs(y,P,Q,re)}}if(D.length===1)f.errors.push(...H.errors);else{const K=(D.length?D:M).map(([re])=>{return se=re,Array.isArray(se)?`(${se.map(Bn).join(", ")})`:`(${Bn(se.type)}...)`;var se}).join(" | "),Q=[];for(let re=1;re<s.length;re++){const se=f.parse(s[re],1+Q.length);if(!se)return null;Q.push(Bn(se.type))}f.error(`Expected arguments of type ${K}, but found (${Q.join(", ")}) instead.`)}return null}static register(s,f){vs.definitions=f;for(const y in f)s[y]=vs}}function zg(h,[s,f,y,w]){s=s.evaluate(h),f=f.evaluate(h),y=y.evaluate(h);const P=w?w.evaluate(h):1,M=Fs(s,f,y,P);if(M)throw new da(M);return new kn(s/255,f/255,y/255,P,!1)}function Vp(h,s){return h in s}function bs(h,s){const f=s[h];return f===void 0?null:f}function pu(h){return{type:h}}function No(h){if(h instanceof td)return No(h.boundExpression);if(h instanceof vs&&h.name==="error"||h instanceof Ip||h instanceof vc||h instanceof fd||h instanceof qp)return!1;const s=h instanceof ei||h instanceof yn;let f=!0;return h.eachChild(y=>{f=s?f&&No(y):f&&y instanceof an}),!!f&&jo(h)&&_f(h,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function jo(h){if(h instanceof vs&&(h.name==="get"&&h.args.length===1||h.name==="feature-state"||h.name==="has"&&h.args.length===1||h.name==="properties"||h.name==="geometry-type"||h.name==="id"||/^filter-/.test(h.name))||h instanceof vc||h instanceof fd)return!1;let s=!0;return h.eachChild(f=>{s&&!jo(f)&&(s=!1)}),s}function Fl(h){if(h instanceof vs&&h.name==="feature-state")return!1;let s=!0;return h.eachChild(f=>{s&&!Fl(f)&&(s=!1)}),s}function _f(h,s){if(h instanceof vs&&s.indexOf(h.name)>=0)return!1;let f=!0;return h.eachChild(y=>{f&&!_f(y,s)&&(f=!1)}),f}function hd(h){return{result:"success",value:h}}function bc(h){return{result:"error",value:h}}function mu(h){return h["property-type"]==="data-driven"||h["property-type"]==="cross-faded-data-driven"}function pd(h){return!!h.expression&&h.expression.parameters.indexOf("zoom")>-1}function Ih(h){return!!h.expression&&h.expression.interpolated}function xn(h){return h instanceof Number?"number":h instanceof String?"string":h instanceof Boolean?"boolean":Array.isArray(h)?"array":h===null?"null":typeof h}function _c(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&_a(h)===Ln}function Hp(h){return h}function $o(h,s){const f=h.stops&&typeof h.stops[0][0]=="object",y=f||!(f||h.property!==void 0),w=h.type||(Ih(s)?"exponential":"interval"),P=function(Q){switch(Q.type){case"color":return kn.parse;case"padding":return Qa.parse;case"numberArray":return Ja.parse;case"colorArray":return Si.parse;default:return null}}(s);if(P&&((h=Sr({},h)).stops&&(h.stops=h.stops.map(Q=>[Q[0],P(Q[1])])),h.default=P(h.default?h.default:s.default)),h.colorSpace&&(M=h.colorSpace)!=="rgb"&&M!=="hcl"&&M!=="lab")throw new Error(`Unknown color space: "${h.colorSpace}"`);var M;const D=function(Q){switch(Q){case"exponential":return Dh;case"interval":return yv;case"categorical":return xc;case"identity":return gd;default:throw new Error(`Unknown function type "${Q}"`)}}(w);let H,K;if(w==="categorical"){H=Object.create(null);for(const Q of h.stops)H[Q[0]]=Q[1];K=typeof h.stops[0][0]}if(f){const Q={},re=[];for(let he=0;he<h.stops.length;he++){const _e=h.stops[he],Pe=_e[0].zoom;Q[Pe]===void 0&&(Q[Pe]={zoom:Pe,type:h.type,property:h.property,default:h.default,stops:[]},re.push(Pe)),Q[Pe].stops.push([_e[0].value,_e[1]])}const se=[];for(const he of re)se.push([Q[he].zoom,$o(Q[he],s)]);const de={name:"linear"};return{kind:"composite",interpolationType:de,interpolationFactor:ho.interpolationFactor.bind(void 0,de),zoomStops:se.map(he=>he[0]),evaluate:({zoom:he},_e)=>Dh({stops:se,base:h.base},s,he).evaluate(he,_e)}}if(y){const Q=w==="exponential"?{name:"exponential",base:h.base!==void 0?h.base:1}:null;return{kind:"camera",interpolationType:Q,interpolationFactor:ho.interpolationFactor.bind(void 0,Q),zoomStops:h.stops.map(re=>re[0]),evaluate:({zoom:re})=>D(h,s,re,H,K)}}return{kind:"source",evaluate(Q,re){const se=re&&re.properties?re.properties[h.property]:void 0;return se===void 0?md(h.default,s.default):D(h,s,se,H,K)}}}function md(h,s,f){return h!==void 0?h:s!==void 0?s:f!==void 0?f:void 0}function xc(h,s,f,y,w){return md(typeof f===w?y[f]:void 0,h.default,s.default)}function yv(h,s,f){if(xn(f)!=="number")return md(h.default,s.default);const y=h.stops.length;if(y===1||f<=h.stops[0][0])return h.stops[0][1];if(f>=h.stops[y-1][0])return h.stops[y-1][1];const w=od(h.stops.map(P=>P[0]),f);return h.stops[w][1]}function Dh(h,s,f){const y=h.base!==void 0?h.base:1;if(xn(f)!=="number")return md(h.default,s.default);const w=h.stops.length;if(w===1||f<=h.stops[0][0])return h.stops[0][1];if(f>=h.stops[w-1][0])return h.stops[w-1][1];const P=od(h.stops.map(Q=>Q[0]),f),M=function(Q,re,se,de){const he=de-se,_e=Q-se;return he===0?0:re===1?_e/he:(Math.pow(re,_e)-1)/(Math.pow(re,he)-1)}(f,y,h.stops[P][0],h.stops[P+1][0]),D=h.stops[P][1],H=h.stops[P+1][1],K=zl[s.type]||Hp;return typeof D.evaluate=="function"?{evaluate(...Q){const re=D.evaluate.apply(void 0,Q),se=H.evaluate.apply(void 0,Q);if(re!==void 0&&se!==void 0)return K(re,se,M,h.colorSpace)}}:K(D,H,M,h.colorSpace)}function gd(h,s,f){switch(s.type){case"color":f=kn.parse(f);break;case"formatted":f=wi.fromString(f.toString());break;case"resolvedImage":f=Fo.fromString(f.toString());break;case"padding":f=Qa.parse(f);break;case"colorArray":f=Si.parse(f);break;case"numberArray":f=Ja.parse(f);break;default:xn(f)===s.type||s.type==="enum"&&s.values[f]||(f=void 0)}return md(f,h.default,s.default)}vs.register(bf,{error:[{kind:"error"},[ar],(h,[s])=>{throw new da(s.evaluate(h))}],typeof:[ar,[Pr],(h,[s])=>Bn(_a(s.evaluate(h)))],"to-rgba":[Gi(yt,4),[tn],(h,[s])=>{const[f,y,w,P]=s.evaluate(h).rgb;return[255*f,255*y,255*w,P]}],rgb:[tn,[yt,yt,yt],zg],rgba:[tn,[yt,yt,yt,yt],zg],has:{type:vr,overloads:[[[ar],(h,[s])=>Vp(s.evaluate(h),h.properties())],[[ar,Ln],(h,[s,f])=>Vp(s.evaluate(h),f.evaluate(h))]]},get:{type:Pr,overloads:[[[ar],(h,[s])=>bs(s.evaluate(h),h.properties())],[[ar,Ln],(h,[s,f])=>bs(s.evaluate(h),f.evaluate(h))]]},"feature-state":[Pr,[ar],(h,[s])=>bs(s.evaluate(h),h.featureState||{})],properties:[Ln,[],h=>h.properties()],"geometry-type":[ar,[],h=>h.geometryType()],id:[Pr,[],h=>h.id()],zoom:[yt,[],h=>h.globals.zoom],"heatmap-density":[yt,[],h=>h.globals.heatmapDensity||0],"line-progress":[yt,[],h=>h.globals.lineProgress||0],accumulated:[Pr,[],h=>h.globals.accumulated===void 0?null:h.globals.accumulated],"+":[yt,pu(yt),(h,s)=>{let f=0;for(const y of s)f+=y.evaluate(h);return f}],"*":[yt,pu(yt),(h,s)=>{let f=1;for(const y of s)f*=y.evaluate(h);return f}],"-":{type:yt,overloads:[[[yt,yt],(h,[s,f])=>s.evaluate(h)-f.evaluate(h)],[[yt],(h,[s])=>-s.evaluate(h)]]},"/":[yt,[yt,yt],(h,[s,f])=>s.evaluate(h)/f.evaluate(h)],"%":[yt,[yt,yt],(h,[s,f])=>s.evaluate(h)%f.evaluate(h)],ln2:[yt,[],()=>Math.LN2],pi:[yt,[],()=>Math.PI],e:[yt,[],()=>Math.E],"^":[yt,[yt,yt],(h,[s,f])=>Math.pow(s.evaluate(h),f.evaluate(h))],sqrt:[yt,[yt],(h,[s])=>Math.sqrt(s.evaluate(h))],log10:[yt,[yt],(h,[s])=>Math.log(s.evaluate(h))/Math.LN10],ln:[yt,[yt],(h,[s])=>Math.log(s.evaluate(h))],log2:[yt,[yt],(h,[s])=>Math.log(s.evaluate(h))/Math.LN2],sin:[yt,[yt],(h,[s])=>Math.sin(s.evaluate(h))],cos:[yt,[yt],(h,[s])=>Math.cos(s.evaluate(h))],tan:[yt,[yt],(h,[s])=>Math.tan(s.evaluate(h))],asin:[yt,[yt],(h,[s])=>Math.asin(s.evaluate(h))],acos:[yt,[yt],(h,[s])=>Math.acos(s.evaluate(h))],atan:[yt,[yt],(h,[s])=>Math.atan(s.evaluate(h))],min:[yt,pu(yt),(h,s)=>Math.min(...s.map(f=>f.evaluate(h)))],max:[yt,pu(yt),(h,s)=>Math.max(...s.map(f=>f.evaluate(h)))],abs:[yt,[yt],(h,[s])=>Math.abs(s.evaluate(h))],round:[yt,[yt],(h,[s])=>{const f=s.evaluate(h);return f<0?-Math.round(-f):Math.round(f)}],floor:[yt,[yt],(h,[s])=>Math.floor(s.evaluate(h))],ceil:[yt,[yt],(h,[s])=>Math.ceil(s.evaluate(h))],"filter-==":[vr,[ar,Pr],(h,[s,f])=>h.properties()[s.value]===f.value],"filter-id-==":[vr,[Pr],(h,[s])=>h.id()===s.value],"filter-type-==":[vr,[ar],(h,[s])=>h.geometryType()===s.value],"filter-<":[vr,[ar,Pr],(h,[s,f])=>{const y=h.properties()[s.value],w=f.value;return typeof y==typeof w&&y<w}],"filter-id-<":[vr,[Pr],(h,[s])=>{const f=h.id(),y=s.value;return typeof f==typeof y&&f<y}],"filter->":[vr,[ar,Pr],(h,[s,f])=>{const y=h.properties()[s.value],w=f.value;return typeof y==typeof w&&y>w}],"filter-id->":[vr,[Pr],(h,[s])=>{const f=h.id(),y=s.value;return typeof f==typeof y&&f>y}],"filter-<=":[vr,[ar,Pr],(h,[s,f])=>{const y=h.properties()[s.value],w=f.value;return typeof y==typeof w&&y<=w}],"filter-id-<=":[vr,[Pr],(h,[s])=>{const f=h.id(),y=s.value;return typeof f==typeof y&&f<=y}],"filter->=":[vr,[ar,Pr],(h,[s,f])=>{const y=h.properties()[s.value],w=f.value;return typeof y==typeof w&&y>=w}],"filter-id->=":[vr,[Pr],(h,[s])=>{const f=h.id(),y=s.value;return typeof f==typeof y&&f>=y}],"filter-has":[vr,[Pr],(h,[s])=>s.value in h.properties()],"filter-has-id":[vr,[],h=>h.id()!==null&&h.id()!==void 0],"filter-type-in":[vr,[Gi(ar)],(h,[s])=>s.value.indexOf(h.geometryType())>=0],"filter-id-in":[vr,[Gi(Pr)],(h,[s])=>s.value.indexOf(h.id())>=0],"filter-in-small":[vr,[ar,Gi(Pr)],(h,[s,f])=>f.value.indexOf(h.properties()[s.value])>=0],"filter-in-large":[vr,[ar,Gi(Pr)],(h,[s,f])=>function(y,w,P,M){for(;P<=M;){const D=P+M>>1;if(w[D]===y)return!0;w[D]>y?M=D-1:P=D+1}return!1}(h.properties()[s.value],f.value,0,f.value.length-1)],all:{type:vr,overloads:[[[vr,vr],(h,[s,f])=>s.evaluate(h)&&f.evaluate(h)],[pu(vr),(h,s)=>{for(const f of s)if(!f.evaluate(h))return!1;return!0}]]},any:{type:vr,overloads:[[[vr,vr],(h,[s,f])=>s.evaluate(h)||f.evaluate(h)],[pu(vr),(h,s)=>{for(const f of s)if(f.evaluate(h))return!0;return!1}]]},"!":[vr,[vr],(h,[s])=>!s.evaluate(h)],"is-supported-script":[vr,[ar],(h,[s])=>{const f=h.globals&&h.globals.isSupportedScript;return!f||f(s.evaluate(h))}],upcase:[ar,[ar],(h,[s])=>s.evaluate(h).toUpperCase()],downcase:[ar,[ar],(h,[s])=>s.evaluate(h).toLowerCase()],concat:[ar,pu(Pr),(h,s)=>s.map(f=>Pn(f.evaluate(h))).join("")],"resolved-locale":[ar,[Cn],(h,[s])=>s.evaluate(h).resolvedLocale()]});class xf{constructor(s,f){this.expression=s,this._warningHistory={},this._evaluator=new ed,this._defaultValue=f?function(y){if(y.type==="color"&&_c(y.default))return new kn(0,0,0,0);switch(y.type){case"color":return kn.parse(y.default)||null;case"padding":return Qa.parse(y.default)||null;case"numberArray":return Ja.parse(y.default)||null;case"colorArray":return Si.parse(y.default)||null;case"variableAnchorOffsetCollection":return Fa.parse(y.default)||null;case"projectionDefinition":return ki.parse(y.default)||null;default:return y.default===void 0?null:y.default}}(f):null,this._enumValues=f&&f.type==="enum"?f.values:null}evaluateWithoutErrorHandling(s,f,y,w,P,M){return this._evaluator.globals=s,this._evaluator.feature=f,this._evaluator.featureState=y,this._evaluator.canonical=w,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=M,this.expression.evaluate(this._evaluator)}evaluate(s,f,y,w,P,M){this._evaluator.globals=s,this._evaluator.feature=f||null,this._evaluator.featureState=y||null,this._evaluator.canonical=w,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=M||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new da(`Expected value to be one of ${Object.keys(this._enumValues).map(H=>JSON.stringify(H)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function yd(h){return Array.isArray(h)&&h.length>0&&typeof h[0]=="string"&&h[0]in bf}function wc(h,s){const f=new Ch(bf,No,[],s?function(w){const P={color:tn,string:ar,number:yt,enum:ar,boolean:vr,formatted:Bs,padding:ci,numberArray:Ya,colorArray:fo,projectionDefinition:fn,resolvedImage:es,variableAnchorOffsetCollection:oa};return w.type==="array"?Gi(P[w.value]||Pr,w.length):P[w.type]}(s):void 0),y=f.parse(h,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?hd(new xf(y,s)):bc(f.errors)}class gu{constructor(s,f){this.kind=s,this._styleExpression=f,this.isStateDependent=s!=="constant"&&!Fl(f.expression)}evaluateWithoutErrorHandling(s,f,y,w,P,M){return this._styleExpression.evaluateWithoutErrorHandling(s,f,y,w,P,M)}evaluate(s,f,y,w,P,M){return this._styleExpression.evaluate(s,f,y,w,P,M)}}class vd{constructor(s,f,y,w){this.kind=s,this.zoomStops=y,this._styleExpression=f,this.isStateDependent=s!=="camera"&&!Fl(f.expression),this.interpolationType=w}evaluateWithoutErrorHandling(s,f,y,w,P,M){return this._styleExpression.evaluateWithoutErrorHandling(s,f,y,w,P,M)}evaluate(s,f,y,w,P,M){return this._styleExpression.evaluate(s,f,y,w,P,M)}interpolationFactor(s,f,y){return this.interpolationType?ho.interpolationFactor(this.interpolationType,s,f,y):0}}function wf(h,s){const f=wc(h,s);if(f.result==="error")return f;const y=f.value.expression,w=jo(y);if(!w&&!mu(s))return bc([new dr("","data expressions not supported")]);const P=_f(y,["zoom"]);if(!P&&!pd(s))return bc([new dr("","zoom expressions not supported")]);const M=mo(y);return M||P?M instanceof dr?bc([M]):M instanceof ho&&!Ih(s)?bc([new dr("",'"interpolate" expressions cannot be used with this property')]):hd(M?new vd(w?"camera":"composite",f.value,M.labels,M instanceof ho?M.interpolation:void 0):new gu(w?"constant":"source",f.value)):bc([new dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class po{constructor(s,f){this._parameters=s,this._specification=f,Sr(this,$o(this._parameters,this._specification))}static deserialize(s){return new po(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function mo(h){let s=null;if(h instanceof du)s=mo(h.result);else if(h instanceof sd){for(const f of h.args)if(s=mo(f),s)break}else(h instanceof fu||h instanceof ho)&&h.input instanceof vs&&h.input.name==="zoom"&&(s=h);return s instanceof dr||h.eachChild(f=>{const y=mo(f);y instanceof dr?s=y:!s&&y?s=new dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):s&&y&&s!==y&&(s=new dr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),s}function sl(h){if(h===!0||h===!1)return!0;if(!Array.isArray(h)||h.length===0)return!1;switch(h[0]){case"has":return h.length>=2&&h[1]!=="$id"&&h[1]!=="$type";case"in":return h.length>=3&&(typeof h[1]!="string"||Array.isArray(h[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return h.length!==3||Array.isArray(h[1])||Array.isArray(h[2]);case"any":case"all":for(const s of h.slice(1))if(!sl(s)&&typeof s!="boolean")return!1;return!0;default:return!0}}const ll={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function _s(h){if(h==null)return{filter:()=>!0,needGeometry:!1};sl(h)||(h=Sf(h));const s=wc(h,ll);if(s.result==="error")throw new Error(s.value.map(f=>`${f.key}: ${f.message}`).join(", "));return{filter:(f,y,w)=>s.value.evaluate(f,y,{},w),needGeometry:Lg(h)}}function Nl(h,s){return h<s?-1:h>s?1:0}function Lg(h){if(!Array.isArray(h))return!1;if(h[0]==="within"||h[0]==="distance")return!0;for(let s=1;s<h.length;s++)if(Lg(h[s]))return!0;return!1}function Sf(h){if(!h)return!0;const s=h[0];return h.length<=1?s!=="any":s==="=="?zh(h[1],h[2],"=="):s==="!="?Un(zh(h[1],h[2],"==")):s==="<"||s===">"||s==="<="||s===">="?zh(h[1],h[2],s):s==="any"?(f=h.slice(1),["any"].concat(f.map(Sf))):s==="all"?["all"].concat(h.slice(1).map(Sf)):s==="none"?["all"].concat(h.slice(1).map(Sf).map(Un)):s==="in"?go(h[1],h.slice(2)):s==="!in"?Un(go(h[1],h.slice(2))):s==="has"?Na(h[1]):s!=="!has"||Un(Na(h[1]));var f}function zh(h,s,f){switch(h){case"$type":return[`filter-type-${f}`,s];case"$id":return[`filter-id-${f}`,s];default:return[`filter-${f}`,h,s]}}function go(h,s){if(s.length===0)return!1;switch(h){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(f=>typeof f!=typeof s[0])?["filter-in-large",h,["literal",s.sort(Nl)]]:["filter-in-small",h,["literal",s]]}}function Na(h){switch(h){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",h]}}function Un(h){return["!",h]}function jl(h){const s=typeof h;if(s==="number"||s==="boolean"||s==="string"||h==null)return JSON.stringify(h);if(Array.isArray(h)){let w="[";for(const P of h)w+=`${jl(P)},`;return`${w}]`}const f=Object.keys(h).sort();let y="{";for(let w=0;w<f.length;w++)y+=`${JSON.stringify(f[w])}:${jl(h[f[w]])},`;return`${y}}`}function cl(h){let s="";for(const f of gt)s+=`/${jl(h[f])}`;return s}function bd(h){const s=h.value;return s?[new lt(h.key,s,"constants have been deprecated as of v8")]:[]}function sa(h){return h instanceof Number||h instanceof String||h instanceof Boolean?h.valueOf():h}function Sc(h){if(Array.isArray(h))return h.map(Sc);if(h instanceof Object&&!(h instanceof Number||h instanceof String||h instanceof Boolean)){const s={};for(const f in h)s[f]=Sc(h[f]);return s}return sa(h)}function ns(h){const s=h.key,f=h.value,y=h.valueSpec||{},w=h.objectElementValidators||{},P=h.style,M=h.styleSpec,D=h.validateSpec;let H=[];const K=xn(f);if(K!=="object")return[new lt(s,f,`object expected, ${K} found`)];for(const Q in f){const re=Q.split(".")[0],se=sf(y,re)||y["*"];let de;if(sf(w,re))de=w[re];else if(sf(y,re))de=D;else if(w["*"])de=w["*"];else{if(!y["*"]){H.push(new lt(s,f[Q],`unknown property "${Q}"`));continue}de=D}H=H.concat(de({key:(s&&`${s}.`)+Q,value:f[Q],valueSpec:se,style:P,styleSpec:M,object:f,objectKey:Q,validateSpec:D},f))}for(const Q in y)w[Q]||y[Q].required&&y[Q].default===void 0&&f[Q]===void 0&&H.push(new lt(s,f,`missing required property "${Q}"`));return H}function _d(h){const s=h.value,f=h.valueSpec,y=h.style,w=h.styleSpec,P=h.key,M=h.arrayElementValidator||h.validateSpec;if(xn(s)!=="array")return[new lt(P,s,`array expected, ${xn(s)} found`)];if(f.length&&s.length!==f.length)return[new lt(P,s,`array length ${f.length} expected, length ${s.length} found`)];if(f["min-length"]&&s.length<f["min-length"])return[new lt(P,s,`array length at least ${f["min-length"]} expected, length ${s.length} found`)];let D={type:f.value,values:f.values};w.$version<7&&(D.function=f.function),xn(f.value)==="object"&&(D=f.value);let H=[];for(let K=0;K<s.length;K++)H=H.concat(M({array:s,arrayIndex:K,value:s[K],valueSpec:D,validateSpec:h.validateSpec,style:y,styleSpec:w,key:`${P}[${K}]`}));return H}function Ec(h){const s=h.key,f=h.value,y=h.valueSpec;let w=xn(f);return w==="number"&&f!=f&&(w="NaN"),w!=="number"?[new lt(s,f,`number expected, ${w} found`)]:"minimum"in y&&f<y.minimum?[new lt(s,f,`${f} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&f>y.maximum?[new lt(s,f,`${f} is greater than the maximum value ${y.maximum}`)]:[]}function Gp(h){const s=h.valueSpec,f=sa(h.value.type);let y,w,P,M={};const D=f!=="categorical"&&h.value.property===void 0,H=!D,K=xn(h.value.stops)==="array"&&xn(h.value.stops[0])==="array"&&xn(h.value.stops[0][0])==="object",Q=ns({key:h.key,value:h.value,valueSpec:h.styleSpec.function,validateSpec:h.validateSpec,style:h.style,styleSpec:h.styleSpec,objectElementValidators:{stops:function(de){if(f==="identity")return[new lt(de.key,de.value,'identity function may not have a "stops" property')];let he=[];const _e=de.value;return he=he.concat(_d({key:de.key,value:_e,valueSpec:de.valueSpec,validateSpec:de.validateSpec,style:de.style,styleSpec:de.styleSpec,arrayElementValidator:re})),xn(_e)==="array"&&_e.length===0&&he.push(new lt(de.key,_e,"array must have at least one stop")),he},default:function(de){return de.validateSpec({key:de.key,value:de.value,valueSpec:s,validateSpec:de.validateSpec,style:de.style,styleSpec:de.styleSpec})}}});return f==="identity"&&D&&Q.push(new lt(h.key,h.value,'missing required property "property"')),f==="identity"||h.value.stops||Q.push(new lt(h.key,h.value,'missing required property "stops"')),f==="exponential"&&h.valueSpec.expression&&!Ih(h.valueSpec)&&Q.push(new lt(h.key,h.value,"exponential functions not supported")),h.styleSpec.$version>=8&&(H&&!mu(h.valueSpec)?Q.push(new lt(h.key,h.value,"property functions not supported")):D&&!pd(h.valueSpec)&&Q.push(new lt(h.key,h.value,"zoom functions not supported"))),f!=="categorical"&&!K||h.value.property!==void 0||Q.push(new lt(h.key,h.value,'"property" property is required')),Q;function re(de){let he=[];const _e=de.value,Pe=de.key;if(xn(_e)!=="array")return[new lt(Pe,_e,`array expected, ${xn(_e)} found`)];if(_e.length!==2)return[new lt(Pe,_e,`array length 2 expected, length ${_e.length} found`)];if(K){if(xn(_e[0])!=="object")return[new lt(Pe,_e,`object expected, ${xn(_e[0])} found`)];if(_e[0].zoom===void 0)return[new lt(Pe,_e,"object stop key must have zoom")];if(_e[0].value===void 0)return[new lt(Pe,_e,"object stop key must have value")];if(P&&P>sa(_e[0].zoom))return[new lt(Pe,_e[0].zoom,"stop zoom values must appear in ascending order")];sa(_e[0].zoom)!==P&&(P=sa(_e[0].zoom),w=void 0,M={}),he=he.concat(ns({key:`${Pe}[0]`,value:_e[0],valueSpec:{zoom:{}},validateSpec:de.validateSpec,style:de.style,styleSpec:de.styleSpec,objectElementValidators:{zoom:Ec,value:se}}))}else he=he.concat(se({key:`${Pe}[0]`,value:_e[0],validateSpec:de.validateSpec,style:de.style,styleSpec:de.styleSpec},_e));return yd(Sc(_e[1]))?he.concat([new lt(`${Pe}[1]`,_e[1],"expressions are not allowed in function stops.")]):he.concat(de.validateSpec({key:`${Pe}[1]`,value:_e[1],valueSpec:s,validateSpec:de.validateSpec,style:de.style,styleSpec:de.styleSpec}))}function se(de,he){const _e=xn(de.value),Pe=sa(de.value),Le=de.value!==null?de.value:he;if(y){if(_e!==y)return[new lt(de.key,Le,`${_e} stop domain type must match previous stop domain type ${y}`)]}else y=_e;if(_e!=="number"&&_e!=="string"&&_e!=="boolean")return[new lt(de.key,Le,"stop domain value must be a number, string, or boolean")];if(_e!=="number"&&f!=="categorical"){let tt=`number expected, ${_e} found`;return mu(s)&&f===void 0&&(tt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new lt(de.key,Le,tt)]}return f!=="categorical"||_e!=="number"||isFinite(Pe)&&Math.floor(Pe)===Pe?f!=="categorical"&&_e==="number"&&w!==void 0&&Pe<w?[new lt(de.key,Le,"stop domain values must appear in ascending order")]:(w=Pe,f==="categorical"&&Pe in M?[new lt(de.key,Le,"stop domain values must be unique")]:(M[Pe]=!0,[])):[new lt(de.key,Le,`integer expected, found ${Pe}`)]}}function as(h){const s=(h.expressionContext==="property"?wf:wc)(Sc(h.value),h.valueSpec);if(s.result==="error")return s.value.map(y=>new lt(`${h.key}${y.key}`,h.value,y.message));const f=s.value.expression||s.value._styleExpression.expression;if(h.expressionContext==="property"&&h.propertyKey==="text-font"&&!f.outputDefined())return[new lt(h.key,h.value,`Invalid data expression for "${h.propertyKey}". Output values must be contained as literals within the expression.`)];if(h.expressionContext==="property"&&h.propertyType==="layout"&&!Fl(f))return[new lt(h.key,h.value,'"feature-state" data expressions are not supported with layout properties.')];if(h.expressionContext==="filter"&&!Fl(f))return[new lt(h.key,h.value,'"feature-state" data expressions are not supported with filters.')];if(h.expressionContext&&h.expressionContext.indexOf("cluster")===0){if(!_f(f,["zoom","feature-state"]))return[new lt(h.key,h.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(h.expressionContext==="cluster-initial"&&!jo(f))return[new lt(h.key,h.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Lh(h){const s=h.key,f=h.value,y=xn(f);return y!=="string"?[new lt(s,f,`color expected, ${y} found`)]:kn.parse(String(f))?[]:[new lt(s,f,`color expected, "${f}" found`)]}function ul(h){const s=h.key,f=h.value,y=h.valueSpec,w=[];return Array.isArray(y.values)?y.values.indexOf(sa(f))===-1&&w.push(new lt(s,f,`expected one of [${y.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(y.values).indexOf(sa(f))===-1&&w.push(new lt(s,f,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(f)} found`)),w}function dl(h){return sl(Sc(h.value))?as(Sr({},h,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Cc(h)}function Cc(h){const s=h.value,f=h.key;if(xn(s)!=="array")return[new lt(f,s,`array expected, ${xn(s)} found`)];const y=h.styleSpec;let w,P=[];if(s.length<1)return[new lt(f,s,"filter array must have at least 1 element")];switch(P=P.concat(ul({key:`${f}[0]`,value:s[0],valueSpec:y.filter_operator,style:h.style,styleSpec:h.styleSpec})),sa(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&sa(s[1])==="$type"&&P.push(new lt(f,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&P.push(new lt(f,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(w=xn(s[1]),w!=="string"&&P.push(new lt(`${f}[1]`,s[1],`string expected, ${w} found`)));for(let M=2;M<s.length;M++)w=xn(s[M]),sa(s[1])==="$type"?P=P.concat(ul({key:`${f}[${M}]`,value:s[M],valueSpec:y.geometry_type,style:h.style,styleSpec:h.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&P.push(new lt(`${f}[${M}]`,s[M],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let M=1;M<s.length;M++)P=P.concat(Cc({key:`${f}[${M}]`,value:s[M],style:h.style,styleSpec:h.styleSpec}));break;case"has":case"!has":w=xn(s[1]),s.length!==2?P.push(new lt(f,s,`filter array for "${s[0]}" operator must have 2 elements`)):w!=="string"&&P.push(new lt(`${f}[1]`,s[1],`string expected, ${w} found`))}return P}function $l(h,s){const f=h.key,y=h.validateSpec,w=h.style,P=h.styleSpec,M=h.value,D=h.objectKey,H=P[`${s}_${h.layerType}`];if(!H)return[];const K=D.match(/^(.*)-transition$/);if(s==="paint"&&K&&H[K[1]]&&H[K[1]].transition)return y({key:f,value:M,valueSpec:P.transition,style:w,styleSpec:P});const Q=h.valueSpec||H[D];if(!Q)return[new lt(f,M,`unknown property "${D}"`)];let re;if(xn(M)==="string"&&mu(Q)&&!Q.tokens&&(re=/^{([^}]+)}$/.exec(M)))return[new lt(f,M,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(re[1])} }\`.`)];const se=[];return h.layerType==="symbol"&&(D==="text-field"&&w&&!w.glyphs&&se.push(new lt(f,M,'use of "text-field" requires a style "glyphs" property')),D==="text-font"&&_c(Sc(M))&&sa(M.type)==="identity"&&se.push(new lt(f,M,'"text-font" does not support identity functions'))),se.concat(y({key:h.key,value:M,valueSpec:Q,style:w,styleSpec:P,expressionContext:"property",propertyType:s,propertyKey:D}))}function Zp(h){return $l(h,"paint")}function yu(h){return $l(h,"layout")}function Ul(h){let s=[];const f=h.value,y=h.key,w=h.style,P=h.styleSpec;if(xn(f)!=="object")return[new lt(y,f,`object expected, ${xn(f)} found`)];f.type||f.ref||s.push(new lt(y,f,'either "type" or "ref" is required'));let M=sa(f.type);const D=sa(f.ref);if(f.id){const H=sa(f.id);for(let K=0;K<h.arrayIndex;K++){const Q=w.layers[K];sa(Q.id)===H&&s.push(new lt(y,f.id,`duplicate layer id "${f.id}", previously used at line ${Q.id.__line__}`))}}if("ref"in f){let H;["type","source","source-layer","filter","layout"].forEach(K=>{K in f&&s.push(new lt(y,f[K],`"${K}" is prohibited for ref layers`))}),w.layers.forEach(K=>{sa(K.id)===D&&(H=K)}),H?H.ref?s.push(new lt(y,f.ref,"ref cannot reference another ref layer")):M=sa(H.type):s.push(new lt(y,f.ref,`ref layer "${D}" not found`))}else if(M!=="background")if(f.source){const H=w.sources&&w.sources[f.source],K=H&&sa(H.type);H?K==="vector"&&M==="raster"?s.push(new lt(y,f.source,`layer "${f.id}" requires a raster source`)):K!=="raster-dem"&&M==="hillshade"?s.push(new lt(y,f.source,`layer "${f.id}" requires a raster-dem source`)):K==="raster"&&M!=="raster"?s.push(new lt(y,f.source,`layer "${f.id}" requires a vector source`)):K!=="vector"||f["source-layer"]?K==="raster-dem"&&M!=="hillshade"?s.push(new lt(y,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):M!=="line"||!f.paint||!f.paint["line-gradient"]||K==="geojson"&&H.lineMetrics||s.push(new lt(y,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new lt(y,f,`layer "${f.id}" must specify a "source-layer"`)):s.push(new lt(y,f.source,`source "${f.source}" not found`))}else s.push(new lt(y,f,'missing required property "source"'));return s=s.concat(ns({key:y,value:f,valueSpec:P.layer,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*":()=>[],type:()=>h.validateSpec({key:`${y}.type`,value:f.type,valueSpec:P.layer.type,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,object:f,objectKey:"type"}),filter:dl,layout:H=>ns({layer:f,key:H.key,value:H.value,style:H.style,styleSpec:H.styleSpec,validateSpec:H.validateSpec,objectElementValidators:{"*":K=>yu(Sr({layerType:M},K))}}),paint:H=>ns({layer:f,key:H.key,value:H.value,style:H.style,styleSpec:H.styleSpec,validateSpec:H.validateSpec,objectElementValidators:{"*":K=>Zp(Sr({layerType:M},K))}})}})),s}function ti(h){const s=h.value,f=h.key,y=xn(s);return y!=="string"?[new lt(f,s,`string expected, ${y} found`)]:[]}const qs={promoteId:function({key:h,value:s}){if(xn(s)==="string")return ti({key:h,value:s});{const f=[];for(const y in s)f.push(...ti({key:`${h}.${y}`,value:s[y]}));return f}}};function zi(h){const s=h.value,f=h.key,y=h.styleSpec,w=h.style,P=h.validateSpec;if(!s.type)return[new lt(f,s,'"type" is required')];const M=sa(s.type);let D;switch(M){case"vector":case"raster":return D=ns({key:f,value:s,valueSpec:y[`source_${M.replace("-","_")}`],style:h.style,styleSpec:y,objectElementValidators:qs,validateSpec:P}),D;case"raster-dem":return D=function(H){var K;const Q=(K=H.sourceName)!==null&&K!==void 0?K:"",re=H.value,se=H.styleSpec,de=se.source_raster_dem,he=H.style;let _e=[];const Pe=xn(re);if(re===void 0)return _e;if(Pe!=="object")return _e.push(new lt("source_raster_dem",re,`object expected, ${Pe} found`)),_e;const Le=sa(re.encoding)==="custom",tt=["redFactor","greenFactor","blueFactor","baseShift"],$e=H.value.encoding?`"${H.value.encoding}"`:"Default";for(const ue in re)!Le&&tt.includes(ue)?_e.push(new lt(ue,re[ue],`In "${Q}": "${ue}" is only valid when "encoding" is set to "custom". ${$e} encoding found`)):de[ue]?_e=_e.concat(H.validateSpec({key:ue,value:re[ue],valueSpec:de[ue],validateSpec:H.validateSpec,style:he,styleSpec:se})):_e.push(new lt(ue,re[ue],`unknown property "${ue}"`));return _e}({sourceName:f,value:s,style:h.style,styleSpec:y,validateSpec:P}),D;case"geojson":if(D=ns({key:f,value:s,valueSpec:y.source_geojson,style:w,styleSpec:y,validateSpec:P,objectElementValidators:qs}),s.cluster)for(const H in s.clusterProperties){const[K,Q]=s.clusterProperties[H],re=typeof K=="string"?[K,["accumulated"],["get",H]]:K;D.push(...as({key:`${f}.${H}.map`,value:Q,expressionContext:"cluster-map"})),D.push(...as({key:`${f}.${H}.reduce`,value:re,expressionContext:"cluster-reduce"}))}return D;case"video":return ns({key:f,value:s,valueSpec:y.source_video,style:w,validateSpec:P,styleSpec:y});case"image":return ns({key:f,value:s,valueSpec:y.source_image,style:w,validateSpec:P,styleSpec:y});case"canvas":return[new lt(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ul({key:`${f}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Bh(h){const s=h.value,f=h.styleSpec,y=f.light,w=h.style;let P=[];const M=xn(s);if(s===void 0)return P;if(M!=="object")return P=P.concat([new lt("light",s,`object expected, ${M} found`)]),P;for(const D in s){const H=D.match(/^(.*)-transition$/);P=P.concat(H&&y[H[1]]&&y[H[1]].transition?h.validateSpec({key:D,value:s[D],valueSpec:f.transition,validateSpec:h.validateSpec,style:w,styleSpec:f}):y[D]?h.validateSpec({key:D,value:s[D],valueSpec:y[D],validateSpec:h.validateSpec,style:w,styleSpec:f}):[new lt(D,s[D],`unknown property "${D}"`)])}return P}function Bg(h){const s=h.value,f=h.styleSpec,y=f.sky,w=h.style,P=xn(s);if(s===void 0)return[];if(P!=="object")return[new lt("sky",s,`object expected, ${P} found`)];let M=[];for(const D in s)M=M.concat(y[D]?h.validateSpec({key:D,value:s[D],valueSpec:y[D],style:w,styleSpec:f}):[new lt(D,s[D],`unknown property "${D}"`)]);return M}function Ef(h){const s=h.value,f=h.styleSpec,y=f.terrain,w=h.style;let P=[];const M=xn(s);if(s===void 0)return P;if(M!=="object")return P=P.concat([new lt("terrain",s,`object expected, ${M} found`)]),P;for(const D in s)P=P.concat(y[D]?h.validateSpec({key:D,value:s[D],valueSpec:y[D],validateSpec:h.validateSpec,style:w,styleSpec:f}):[new lt(D,s[D],`unknown property "${D}"`)]);return P}function Fg(h){let s=[];const f=h.value,y=h.key;if(Array.isArray(f)){const w=[],P=[];for(const M in f)f[M].id&&w.includes(f[M].id)&&s.push(new lt(y,f,`all the sprites' ids must be unique, but ${f[M].id} is duplicated`)),w.push(f[M].id),f[M].url&&P.includes(f[M].url)&&s.push(new lt(y,f,`all the sprites' URLs must be unique, but ${f[M].url} is duplicated`)),P.push(f[M].url),s=s.concat(ns({key:`${y}[${M}]`,value:f[M],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:h.validateSpec}));return s}return ti({key:y,value:f})}function Wp(h){return s=h.value,s&&s.constructor===Object?[]:[new lt(h.key,h.value,`object expected, ${xn(h.value)} found`)];var s}const yi={"*":()=>[],array:_d,boolean:function(h){const s=h.value,f=h.key,y=xn(s);return y!=="boolean"?[new lt(f,s,`boolean expected, ${y} found`)]:[]},number:Ec,color:Lh,constants:bd,enum:ul,filter:dl,function:Gp,layer:Ul,object:ns,source:zi,light:Bh,sky:Bg,terrain:Ef,projection:function(h){const s=h.value,f=h.styleSpec,y=f.projection,w=h.style,P=xn(s);if(s===void 0)return[];if(P!=="object")return[new lt("projection",s,`object expected, ${P} found`)];let M=[];for(const D in s)M=M.concat(y[D]?h.validateSpec({key:D,value:s[D],valueSpec:y[D],style:w,styleSpec:f}):[new lt(D,s[D],`unknown property "${D}"`)]);return M},projectionDefinition:function(h){const s=h.key;let f=h.value;f=f instanceof String?f.valueOf():f;const y=xn(f);return y!=="array"||function(w){return Array.isArray(w)&&w.length===3&&typeof w[0]=="string"&&typeof w[1]=="string"&&typeof w[2]=="number"}(f)||function(w){return!!["interpolate","step","literal"].includes(w[0])}(f)?["array","string"].includes(y)?[]:[new lt(s,f,`projection expected, invalid type "${y}" found`)]:[new lt(s,f,`projection expected, invalid array ${JSON.stringify(f)} found`)]},string:ti,formatted:function(h){return ti(h).length===0?[]:as(h)},resolvedImage:function(h){return ti(h).length===0?[]:as(h)},padding:function(h){const s=h.key,f=h.value;if(xn(f)==="array"){if(f.length<1||f.length>4)return[new lt(s,f,`padding requires 1 to 4 values; ${f.length} values found`)];const y={type:"number"};let w=[];for(let P=0;P<f.length;P++)w=w.concat(h.validateSpec({key:`${s}[${P}]`,value:f[P],validateSpec:h.validateSpec,valueSpec:y}));return w}return Ec({key:s,value:f,valueSpec:{}})},numberArray:function(h){const s=h.key,f=h.value;if(xn(f)==="array"){const y={type:"number"};if(f.length<1)return[new lt(s,f,"array length at least 1 expected, length 0 found")];let w=[];for(let P=0;P<f.length;P++)w=w.concat(h.validateSpec({key:`${s}[${P}]`,value:f[P],validateSpec:h.validateSpec,valueSpec:y}));return w}return Ec({key:s,value:f,valueSpec:{}})},colorArray:function(h){const s=h.key,f=h.value;if(xn(f)==="array"){if(f.length<1)return[new lt(s,f,"array length at least 1 expected, length 0 found")];let y=[];for(let w=0;w<f.length;w++)y=y.concat(Lh({key:`${s}[${w}]`,value:f[w]}));return y}return Lh({key:s,value:f})},variableAnchorOffsetCollection:function(h){const s=h.key,f=h.value,y=xn(f),w=h.styleSpec;if(y!=="array"||f.length<1||f.length%2!=0)return[new lt(s,f,"variableAnchorOffsetCollection requires a non-empty array of even length")];let P=[];for(let M=0;M<f.length;M+=2)P=P.concat(ul({key:`${s}[${M}]`,value:f[M],valueSpec:w.layout_symbol["text-anchor"]})),P=P.concat(_d({key:`${s}[${M+1}]`,value:f[M+1],valueSpec:{length:2,value:"number"},validateSpec:h.validateSpec,style:h.style,styleSpec:w}));return P},sprite:Fg,state:Wp};function vu(h){const s=h.value,f=h.valueSpec,y=h.styleSpec;return h.validateSpec=vu,f.expression&&_c(sa(s))?Gp(h):f.expression&&yd(Sc(s))?as(h):f.type&&yi[f.type]?yi[f.type](h):ns(Sr({},h,{valueSpec:f.type?y[f.type]:f}))}function Cf(h){const s=h.value,f=h.key,y=ti(h);return y.length||(s.indexOf("{fontstack}")===-1&&y.push(new lt(f,s,'"glyphs" url must include a "{fontstack}" token')),s.indexOf("{range}")===-1&&y.push(new lt(f,s,'"glyphs" url must include a "{range}" token'))),y}function vi(h,s=Re){let f=[];return f=f.concat(vu({key:"",value:h,valueSpec:s.$root,styleSpec:s,style:h,validateSpec:vu,objectElementValidators:{glyphs:Cf,"*":()=>[]}})),h.constants&&(f=f.concat(bd({key:"constants",value:h.constants}))),fl(f)}function xs(h){return function(s){return h({...s,validateSpec:vu})}}function fl(h){return[].concat(h).sort((s,f)=>s.line-f.line)}function yo(h){return function(...s){return fl(h.apply(this,s))}}vi.source=yo(xs(zi)),vi.sprite=yo(xs(Fg)),vi.glyphs=yo(xs(Cf)),vi.light=yo(xs(Bh)),vi.sky=yo(xs(Bg)),vi.terrain=yo(xs(Ef)),vi.state=yo(xs(Wp)),vi.layer=yo(xs(Ul)),vi.filter=yo(xs(dl)),vi.paintProperty=yo(xs(Zp)),vi.layoutProperty=yo(xs(yu));const Tf=vi,Fh=Tf.light,W_=Tf.sky,Kp=Tf.paintProperty,ql=Tf.layoutProperty;function Nh(h,s){let f=!1;if(s&&s.length)for(const y of s)h.fire(new Ne(new Error(y.message))),f=!0;return f}class Tc{constructor(s,f,y){const w=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;const M=new Int32Array(this.arrayBuffer);s=M[0],this.d=(f=M[1])+2*(y=M[2]);for(let H=0;H<this.d*this.d;H++){const K=M[3+H],Q=M[3+H+1];w.push(K===Q?null:M.subarray(K,Q))}const D=M[3+w.length+1];this.keys=M.subarray(M[3+w.length],D),this.bboxes=M.subarray(D),this.insert=this._insertReadonly}else{this.d=f+2*y;for(let M=0;M<this.d*this.d;M++)w.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=s,this.padding=y,this.scale=f/s,this.uid=0;const P=y/f*s;this.min=-P,this.max=s+P}insert(s,f,y,w,P){this._forEachCell(f,y,w,P,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(w),this.bboxes.push(P)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,f,y,w,P,M){this.cells[P].push(M)}query(s,f,y,w,P){const M=this.min,D=this.max;if(s<=M&&f<=M&&D<=y&&D<=w&&!P)return Array.prototype.slice.call(this.keys);{const H=[];return this._forEachCell(s,f,y,w,this._queryCell,H,{},P),H}}_queryCell(s,f,y,w,P,M,D,H){const K=this.cells[P];if(K!==null){const Q=this.keys,re=this.bboxes;for(let se=0;se<K.length;se++){const de=K[se];if(D[de]===void 0){const he=4*de;(H?H(re[he+0],re[he+1],re[he+2],re[he+3]):s<=re[he+2]&&f<=re[he+3]&&y>=re[he+0]&&w>=re[he+1])?(D[de]=!0,M.push(Q[de])):D[de]=!1}}}}_forEachCell(s,f,y,w,P,M,D,H){const K=this._convertToCellCoord(s),Q=this._convertToCellCoord(f),re=this._convertToCellCoord(y),se=this._convertToCellCoord(w);for(let de=K;de<=re;de++)for(let he=Q;he<=se;he++){const _e=this.d*he+de;if((!H||H(this._convertFromCellCoord(de),this._convertFromCellCoord(he),this._convertFromCellCoord(de+1),this._convertFromCellCoord(he+1)))&&P.call(this,s,f,y,w,_e,M,D,H))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const s=this.cells,f=3+this.cells.length+1+1;let y=0;for(let M=0;M<this.cells.length;M++)y+=this.cells[M].length;const w=new Int32Array(f+y+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let P=f;for(let M=0;M<s.length;M++){const D=s[M];w[3+M]=P,w.set(D,P),P+=D.length}return w[3+s.length]=P,w.set(this.keys,P),P+=this.keys.length,w[3+s.length+1]=P,w.set(this.bboxes,P),P+=this.bboxes.length,w.buffer}static serialize(s,f){const y=s.toArrayBuffer();return f&&f.push(y),{buffer:y}}static deserialize(s){return new Tc(s.buffer)}}const hl={};function Er(h,s,f={}){if(hl[h])throw new Error(`${h} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:h,writeable:!1}),hl[h]={klass:s,omit:f.omit||[],shallow:f.shallow||[]}}Er("Object",Object),Er("TransferableGridIndex",Tc),Er("Color",kn),Er("Error",Error),Er("AJAXError",wn),Er("ResolvedImage",Fo),Er("StylePropertyFunction",po),Er("StyleExpression",xf,{omit:["_evaluator"]}),Er("ZoomDependentExpression",vd),Er("ZoomConstantExpression",gu),Er("CompoundExpression",vs,{omit:["_evaluate"]});for(const h in bf)bf[h]._classRegistryKey||Er(`Expression_${h}`,bf[h]);function jh(h){return h&&typeof ArrayBuffer<"u"&&(h instanceof ArrayBuffer||h.constructor&&h.constructor.name==="ArrayBuffer")}function xd(h){return h.$name||h.constructor._classRegistryKey}function Xp(h){return!function(s){if(s===null||typeof s!="object")return!1;const f=xd(s);return!(!f||f==="Object")}(h)&&(h==null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||h instanceof Boolean||h instanceof Number||h instanceof String||h instanceof Date||h instanceof RegExp||h instanceof Blob||h instanceof Error||jh(h)||br(h)||ArrayBuffer.isView(h)||h instanceof ImageData)}function wd(h,s){if(Xp(h))return(jh(h)||br(h))&&s&&s.push(h),ArrayBuffer.isView(h)&&s&&s.push(h.buffer),h instanceof ImageData&&s&&s.push(h.data.buffer),h;if(Array.isArray(h)){const P=[];for(const M of h)P.push(wd(M,s));return P}if(typeof h!="object")throw new Error("can't serialize object of type "+typeof h);const f=xd(h);if(!f)throw new Error(`can't serialize object of unregistered class ${h.constructor.name}`);if(!hl[f])throw new Error(`${f} is not registered.`);const{klass:y}=hl[f],w=y.serialize?y.serialize(h,s):{};if(y.serialize){if(s&&w===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const P in h){if(!h.hasOwnProperty(P)||hl[f].omit.indexOf(P)>=0)continue;const M=h[P];w[P]=hl[f].shallow.indexOf(P)>=0?M:wd(M,s)}h instanceof Error&&(w.message=h.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(w.$name=f),w}function bu(h){if(Xp(h))return h;if(Array.isArray(h))return h.map(bu);if(typeof h!="object")throw new Error("can't deserialize object of type "+typeof h);const s=xd(h)||"Object";if(!hl[s])throw new Error(`can't deserialize unregistered class ${s}`);const{klass:f}=hl[s];if(!f)throw new Error(`can't deserialize unregistered class ${s}`);if(f.deserialize)return f.deserialize(h);const y=Object.create(f.prototype);for(const w of Object.keys(h)){if(w==="$name")continue;const P=h[w];y[w]=hl[s].shallow.indexOf(w)>=0?P:bu(P)}return y}class Yp{constructor(){this.first=!0}update(s,f){const y=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=f),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=y,!0))}}const bn={"Latin-1 Supplement":h=>h>=128&&h<=255,"Hangul Jamo":h=>h>=4352&&h<=4607,Khmer:h=>h>=6016&&h<=6143,"General Punctuation":h=>h>=8192&&h<=8303,"Letterlike Symbols":h=>h>=8448&&h<=8527,"Number Forms":h=>h>=8528&&h<=8591,"Miscellaneous Technical":h=>h>=8960&&h<=9215,"Control Pictures":h=>h>=9216&&h<=9279,"Optical Character Recognition":h=>h>=9280&&h<=9311,"Enclosed Alphanumerics":h=>h>=9312&&h<=9471,"Geometric Shapes":h=>h>=9632&&h<=9727,"Miscellaneous Symbols":h=>h>=9728&&h<=9983,"Miscellaneous Symbols and Arrows":h=>h>=11008&&h<=11263,"Ideographic Description Characters":h=>h>=12272&&h<=12287,"CJK Symbols and Punctuation":h=>h>=12288&&h<=12351,Hiragana:h=>h>=12352&&h<=12447,Katakana:h=>h>=12448&&h<=12543,Kanbun:h=>h>=12688&&h<=12703,"CJK Strokes":h=>h>=12736&&h<=12783,"Enclosed CJK Letters and Months":h=>h>=12800&&h<=13055,"CJK Compatibility":h=>h>=13056&&h<=13311,"Yijing Hexagram Symbols":h=>h>=19904&&h<=19967,"CJK Unified Ideographs":h=>h>=19968&&h<=40959,"Hangul Syllables":h=>h>=44032&&h<=55215,"Private Use Area":h=>h>=57344&&h<=63743,"Vertical Forms":h=>h>=65040&&h<=65055,"CJK Compatibility Forms":h=>h>=65072&&h<=65103,"Small Form Variants":h=>h>=65104&&h<=65135,"Halfwidth and Fullwidth Forms":h=>h>=65280&&h<=65519};function $h(h){for(const s of h)if(pl(s.charCodeAt(0)))return!0;return!1}function vv(h){for(const s of h)if(!Jp(s.charCodeAt(0)))return!1;return!0}function Vl(h){const s=h.map(f=>{try{return new RegExp(`\\p{sc=${f}}`,"u").source}catch{return null}}).filter(f=>f);return new RegExp(s.join("|"),"u")}const Qp=Vl(["Arab","Dupl","Mong","Ougr","Syrc"]);function Jp(h){return!Qp.test(String.fromCodePoint(h))}const Hl=Vl(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function pl(h){return!(h!==746&&h!==747&&(h<4352||!(bn["CJK Compatibility Forms"](h)&&!(h>=65097&&h<=65103)||bn["CJK Compatibility"](h)||bn["CJK Strokes"](h)||!(!bn["CJK Symbols and Punctuation"](h)||h>=12296&&h<=12305||h>=12308&&h<=12319||h===12336)||bn["Enclosed CJK Letters and Months"](h)||bn["Ideographic Description Characters"](h)||bn.Kanbun(h)||bn.Katakana(h)&&h!==12540||!(!bn["Halfwidth and Fullwidth Forms"](h)||h===65288||h===65289||h===65293||h>=65306&&h<=65310||h===65339||h===65341||h===65343||h>=65371&&h<=65503||h===65507||h>=65512&&h<=65519)||!(!bn["Small Form Variants"](h)||h>=65112&&h<=65118||h>=65123&&h<=65126)||bn["Vertical Forms"](h)||bn["Yijing Hexagram Symbols"](h)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(h))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(h))||Hl.test(String.fromCodePoint(h)))))}function Ac(h){return!(pl(h)||function(s){return!!(bn["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||bn["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||bn["Letterlike Symbols"](s)||bn["Number Forms"](s)||bn["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||bn["Control Pictures"](s)&&s!==9251||bn["Optical Character Recognition"](s)||bn["Enclosed Alphanumerics"](s)||bn["Geometric Shapes"](s)||bn["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||bn["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||bn["CJK Symbols and Punctuation"](s)||bn.Katakana(s)||bn["Private Use Area"](s)||bn["CJK Compatibility Forms"](s)||bn["Small Form Variants"](s)||bn["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(h))}const Ng=Vl(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Af(h){return Ng.test(String.fromCodePoint(h))}function Uh(h,s){return!(!s&&Af(h)||h>=2304&&h<=3583||h>=3840&&h<=4255||bn.Khmer(h))}function qh(h){for(const s of h)if(Af(s.charCodeAt(0)))return!0;return!1}const Gl=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(h){this.pluginStatus=h.pluginStatus,this.pluginURL=h.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(h){if(Gl.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=h.applyArabicShaping,this.processBidirectionalText=h.processBidirectionalText,this.processStyledBidirectionalText=h.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(h,s){return o(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(h.pluginStatus!=="loading")return this.setState(h),h;const f=h.pluginURL,y=new Promise(P=>{this.loadScriptResolve=P});s(f);const w=new Promise(P=>setTimeout(()=>P(),this.TIMEOUT));if(yield Promise.race([y,w]),this.isParsed()){const P={pluginStatus:"loaded",pluginURL:f};return this.setState(P),P}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${f}`)})}};class fa{constructor(s,f){this.zoom=s,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Yp,this.transition={})}isSupportedScript(s){return function(f,y){for(const w of f)if(!Uh(w.charCodeAt(0),y))return!1;return!0}(s,Gl.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const s=this.zoom,f=s-Math.floor(s),y=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*f}}}class Zl{constructor(s,f){this.property=s,this.value=f,this.expression=function(y,w){if(_c(y))return new po(y,w);if(yd(y)){const P=wf(y,w);if(P.result==="error")throw new Error(P.value.map(M=>`${M.key}: ${M.message}`).join(", "));return P.value}{let P=y;return w.type==="color"&&typeof y=="string"?P=kn.parse(y):w.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?w.type!=="numberArray"||typeof y!="number"&&!Array.isArray(y)?w.type!=="colorArray"||typeof y!="string"&&!Array.isArray(y)?w.type==="variableAnchorOffsetCollection"&&Array.isArray(y)?P=Fa.parse(y):w.type==="projectionDefinition"&&typeof y=="string"&&(P=ki.parse(y)):P=Si.parse(y):P=Ja.parse(y):P=Qa.parse(y),{kind:"constant",evaluate:()=>P}}}(f===void 0?s.specification.default:f,s.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(s,f,y){return this.property.possiblyEvaluate(this,s,f,y)}}class Pf{constructor(s){this.property=s,this.value=new Zl(s,void 0)}transitioned(s,f){return new em(this.property,this.value,f,Vt({},s.transition,this.transition),s.now)}untransitioned(){return new em(this.property,this.value,null,{},0)}}class jg{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return $t(this._values[s].value.value)}setValue(s,f){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Pf(this._values[s].property)),this._values[s].value=new Zl(this._values[s].property,f===null?void 0:$t(f))}getTransition(s){return $t(this._values[s].transition)}setTransition(s,f){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Pf(this._values[s].property)),this._values[s].transition=$t(f)||void 0}serialize(){const s={};for(const f of Object.keys(this._values)){const y=this.getValue(f);y!==void 0&&(s[f]=y);const w=this.getTransition(f);w!==void 0&&(s[`${f}-transition`]=w)}return s}transitioned(s,f){const y=new tm(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].transitioned(s,f._values[w]);return y}untransitioned(){const s=new tm(this._properties);for(const f of Object.keys(this._values))s._values[f]=this._values[f].untransitioned();return s}}class em{constructor(s,f,y,w,P){this.property=s,this.value=f,this.begin=P+w.delay||0,this.end=this.begin+w.duration||0,s.specification.transition&&(w.delay||w.duration)&&(this.prior=y)}possiblyEvaluate(s,f,y){const w=s.now||0,P=this.value.possiblyEvaluate(s,f,y),M=this.prior;if(M){if(w>this.end)return this.prior=null,P;if(this.value.isDataDriven())return this.prior=null,P;if(w<this.begin)return M.possiblyEvaluate(s,f,y);{const D=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(M.possiblyEvaluate(s,f,y),P,et(D))}}return P}}class tm{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,f,y){const w=new Xn(this._properties);for(const P of Object.keys(this._values))w._values[P]=this._values[P].possiblyEvaluate(s,f,y);return w}hasTransition(){for(const s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class _u{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)}hasValue(s){return this._values[s].value!==void 0}getValue(s){return $t(this._values[s].value)}setValue(s,f){this._values[s]=new Zl(this._values[s].property,f===null?void 0:$t(f))}serialize(){const s={};for(const f of Object.keys(this._values)){const y=this.getValue(f);y!==void 0&&(s[f]=y)}return s}possiblyEvaluate(s,f,y){const w=new Xn(this._properties);for(const P of Object.keys(this._values))w._values[P]=this._values[P].possiblyEvaluate(s,f,y);return w}}class rn{constructor(s,f,y){this.property=s,this.value=f,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,f,y,w){return this.property.evaluate(this.value,this.parameters,s,f,y,w)}}class Xn{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class xr{constructor(s){this.specification=s}possiblyEvaluate(s,f){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(f)}interpolate(s,f,y){const w=zl[this.specification.type];return w?w(s,f,y):s}}class qr{constructor(s,f){this.specification=s,this.overrides=f}possiblyEvaluate(s,f,y,w){return new rn(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(f,null,{},y,w)}:s.expression,f)}interpolate(s,f,y){if(s.value.kind!=="constant"||f.value.kind!=="constant")return s;if(s.value.value===void 0||f.value.value===void 0)return new rn(this,{kind:"constant",value:void 0},s.parameters);const w=zl[this.specification.type];if(w){const P=w(s.value.value,f.value.value,y);return new rn(this,{kind:"constant",value:P},s.parameters)}return s}evaluate(s,f,y,w,P,M){return s.kind==="constant"?s.value:s.evaluate(f,y,w,P,M)}}class Wl extends qr{possiblyEvaluate(s,f,y,w){if(s.value===void 0)return new rn(this,{kind:"constant",value:void 0},f);if(s.expression.kind==="constant"){const P=s.expression.evaluate(f,null,{},y,w),M=s.property.specification.type==="resolvedImage"&&typeof P!="string"?P.name:P,D=this._calculate(M,M,M,f);return new rn(this,{kind:"constant",value:D},f)}if(s.expression.kind==="camera"){const P=this._calculate(s.expression.evaluate({zoom:f.zoom-1}),s.expression.evaluate({zoom:f.zoom}),s.expression.evaluate({zoom:f.zoom+1}),f);return new rn(this,{kind:"constant",value:P},f)}return new rn(this,s.expression,f)}evaluate(s,f,y,w,P,M){if(s.kind==="source"){const D=s.evaluate(f,y,w,P,M);return this._calculate(D,D,D,f)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(f.zoom)-1},y,w),s.evaluate({zoom:Math.floor(f.zoom)},y,w),s.evaluate({zoom:Math.floor(f.zoom)+1},y,w),f):s.value}_calculate(s,f,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:s,to:f}:{from:y,to:f}}interpolate(s){return s}}class Pc{constructor(s){this.specification=s}possiblyEvaluate(s,f,y,w){if(s.value!==void 0){if(s.expression.kind==="constant"){const P=s.expression.evaluate(f,null,{},y,w);return this._calculate(P,P,P,f)}return this._calculate(s.expression.evaluate(new fa(Math.floor(f.zoom-1),f)),s.expression.evaluate(new fa(Math.floor(f.zoom),f)),s.expression.evaluate(new fa(Math.floor(f.zoom+1),f)),f)}}_calculate(s,f,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:s,to:f}:{from:y,to:f}}interpolate(s){return s}}class Rf{constructor(s){this.specification=s}possiblyEvaluate(s,f,y,w){return!!s.expression.evaluate(f,null,{},y,w)}interpolate(){return!1}}class ka{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const f in s){const y=s[f];y.specification.overridable&&this.overridableProperties.push(f);const w=this.defaultPropertyValues[f]=new Zl(y,void 0),P=this.defaultTransitionablePropertyValues[f]=new Pf(y);this.defaultTransitioningPropertyValues[f]=P.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=w.possiblyEvaluate({})}}}Er("DataDrivenProperty",qr),Er("DataConstantProperty",xr),Er("CrossFadedDataDrivenProperty",Wl),Er("CrossFadedProperty",Pc),Er("ColorRampProperty",Rf);const xu="-transition";class Vs extends Je{constructor(s,f){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),f.layout&&(this._unevaluatedLayout=new _u(f.layout)),f.paint)){this._transitionablePaint=new jg(f.paint);for(const y in s.paint)this.setPaintProperty(y,s.paint[y],{validate:!1});for(const y in s.layout)this.setLayoutProperty(y,s.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xn(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}setLayoutProperty(s,f,y={}){f!=null&&this._validate(ql,`layers.${this.id}.layout.${s}`,s,f,y)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,f):this.visibility=f)}getPaintProperty(s){return s.endsWith(xu)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,f,y={}){if(f!=null&&this._validate(Kp,`layers.${this.id}.paint.${s}`,s,f,y))return!1;if(s.endsWith(xu))return this._transitionablePaint.setTransition(s.slice(0,-11),f||void 0),!1;{const w=this._transitionablePaint._values[s],P=w.property.specification["property-type"]==="cross-faded-data-driven",M=w.value.isDataDriven(),D=w.value;this._transitionablePaint.setValue(s,f),this._handleSpecialPaintPropertyUpdate(s);const H=this._transitionablePaint._values[s].value;return H.isDataDriven()||M||P||this._handleOverridablePaintPropertyUpdate(s,D,H)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,f,y){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,f){s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,f)}serialize(){const s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),Dt(s,(f,y)=>!(f===void 0||y==="layout"&&!Object.keys(f).length||y==="paint"&&!Object.keys(f).length))}_validate(s,f,y,w,P={}){return(!P||P.validate!==!1)&&Nh(this,s.call(Tf,{key:f,layerType:this.type,objectKey:y,value:w,styleSpec:Re,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const s in this.paint._values){const f=this.paint.get(s);if(f instanceof rn&&mu(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1}}const ri={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Rc{constructor(s,f){this._structArray=s,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ta{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,f){return s._trim(),f&&(s.isTransferred=!0,f.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){const f=Object.create(this.prototype);return f.arrayBuffer=s.arrayBuffer,f.length=s.length,f.capacity=s.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Aa(h,s=1){let f=0,y=0;return{members:h.map(w=>{const P=ri[w.type].BYTES_PER_ELEMENT,M=f=Sd(f,Math.max(s,P)),D=w.components||1;return y=Math.max(y,P),f+=P*D,{name:w.name,type:w.type,components:D,offset:M}}),size:Sd(f,Math.max(y,s)),alignment:s}}function Sd(h,s){return Math.ceil(h/s)*s}class Vh extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f){const y=this.length;return this.resize(y+1),this.emplace(y,s,f)}emplace(s,f,y){const w=2*s;return this.int16[w+0]=f,this.int16[w+1]=y,s}}Vh.prototype.bytesPerElement=4,Er("StructArrayLayout2i4",Vh);class Ed extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,f,y)}emplace(s,f,y,w){const P=3*s;return this.int16[P+0]=f,this.int16[P+1]=y,this.int16[P+2]=w,s}}Ed.prototype.bytesPerElement=6,Er("StructArrayLayout3i6",Ed);class Mc extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f,y,w){const P=this.length;return this.resize(P+1),this.emplace(P,s,f,y,w)}emplace(s,f,y,w,P){const M=4*s;return this.int16[M+0]=f,this.int16[M+1]=y,this.int16[M+2]=w,this.int16[M+3]=P,s}}Mc.prototype.bytesPerElement=8,Er("StructArrayLayout4i8",Mc);class Hh extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M){const D=this.length;return this.resize(D+1),this.emplace(D,s,f,y,w,P,M)}emplace(s,f,y,w,P,M,D){const H=6*s;return this.int16[H+0]=f,this.int16[H+1]=y,this.int16[H+2]=w,this.int16[H+3]=P,this.int16[H+4]=M,this.int16[H+5]=D,s}}Hh.prototype.bytesPerElement=12,Er("StructArrayLayout2i4i12",Hh);class vo extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M){const D=this.length;return this.resize(D+1),this.emplace(D,s,f,y,w,P,M)}emplace(s,f,y,w,P,M,D){const H=4*s,K=8*s;return this.int16[H+0]=f,this.int16[H+1]=y,this.uint8[K+4]=w,this.uint8[K+5]=P,this.uint8[K+6]=M,this.uint8[K+7]=D,s}}vo.prototype.bytesPerElement=8,Er("StructArrayLayout2i4ub8",vo);class Pa extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,f){const y=this.length;return this.resize(y+1),this.emplace(y,s,f)}emplace(s,f,y){const w=2*s;return this.float32[w+0]=f,this.float32[w+1]=y,s}}Pa.prototype.bytesPerElement=8,Er("StructArrayLayout2f8",Pa);class Gh extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M,D,H,K,Q){const re=this.length;return this.resize(re+1),this.emplace(re,s,f,y,w,P,M,D,H,K,Q)}emplace(s,f,y,w,P,M,D,H,K,Q,re){const se=10*s;return this.uint16[se+0]=f,this.uint16[se+1]=y,this.uint16[se+2]=w,this.uint16[se+3]=P,this.uint16[se+4]=M,this.uint16[se+5]=D,this.uint16[se+6]=H,this.uint16[se+7]=K,this.uint16[se+8]=Q,this.uint16[se+9]=re,s}}Gh.prototype.bytesPerElement=20,Er("StructArrayLayout10ui20",Gh);class C extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M,D,H,K,Q,re,se){const de=this.length;return this.resize(de+1),this.emplace(de,s,f,y,w,P,M,D,H,K,Q,re,se)}emplace(s,f,y,w,P,M,D,H,K,Q,re,se,de){const he=12*s;return this.int16[he+0]=f,this.int16[he+1]=y,this.int16[he+2]=w,this.int16[he+3]=P,this.uint16[he+4]=M,this.uint16[he+5]=D,this.uint16[he+6]=H,this.uint16[he+7]=K,this.int16[he+8]=Q,this.int16[he+9]=re,this.int16[he+10]=se,this.int16[he+11]=de,s}}C.prototype.bytesPerElement=24,Er("StructArrayLayout4i4ui4i24",C);class i extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,f,y)}emplace(s,f,y,w){const P=3*s;return this.float32[P+0]=f,this.float32[P+1]=y,this.float32[P+2]=w,s}}i.prototype.bytesPerElement=12,Er("StructArrayLayout3f12",i);class d extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){const f=this.length;return this.resize(f+1),this.emplace(f,s)}emplace(s,f){return this.uint32[1*s+0]=f,s}}d.prototype.bytesPerElement=4,Er("StructArrayLayout1ul4",d);class v extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M,D,H,K){const Q=this.length;return this.resize(Q+1),this.emplace(Q,s,f,y,w,P,M,D,H,K)}emplace(s,f,y,w,P,M,D,H,K,Q){const re=10*s,se=5*s;return this.int16[re+0]=f,this.int16[re+1]=y,this.int16[re+2]=w,this.int16[re+3]=P,this.int16[re+4]=M,this.int16[re+5]=D,this.uint32[se+3]=H,this.uint16[re+8]=K,this.uint16[re+9]=Q,s}}v.prototype.bytesPerElement=20,Er("StructArrayLayout6i1ul2ui20",v);class x extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M){const D=this.length;return this.resize(D+1),this.emplace(D,s,f,y,w,P,M)}emplace(s,f,y,w,P,M,D){const H=6*s;return this.int16[H+0]=f,this.int16[H+1]=y,this.int16[H+2]=w,this.int16[H+3]=P,this.int16[H+4]=M,this.int16[H+5]=D,s}}x.prototype.bytesPerElement=12,Er("StructArrayLayout2i2i2i12",x);class A extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P){const M=this.length;return this.resize(M+1),this.emplace(M,s,f,y,w,P)}emplace(s,f,y,w,P,M){const D=4*s,H=8*s;return this.float32[D+0]=f,this.float32[D+1]=y,this.float32[D+2]=w,this.int16[H+6]=P,this.int16[H+7]=M,s}}A.prototype.bytesPerElement=16,Er("StructArrayLayout2f1f2i16",A);class k extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M){const D=this.length;return this.resize(D+1),this.emplace(D,s,f,y,w,P,M)}emplace(s,f,y,w,P,M,D){const H=16*s,K=4*s,Q=8*s;return this.uint8[H+0]=f,this.uint8[H+1]=y,this.float32[K+1]=w,this.float32[K+2]=P,this.int16[Q+6]=M,this.int16[Q+7]=D,s}}k.prototype.bytesPerElement=16,Er("StructArrayLayout2ub2f2i16",k);class U extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,f,y)}emplace(s,f,y,w){const P=3*s;return this.uint16[P+0]=f,this.uint16[P+1]=y,this.uint16[P+2]=w,s}}U.prototype.bytesPerElement=6,Er("StructArrayLayout3ui6",U);class Z extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M,D,H,K,Q,re,se,de,he,_e,Pe,Le){const tt=this.length;return this.resize(tt+1),this.emplace(tt,s,f,y,w,P,M,D,H,K,Q,re,se,de,he,_e,Pe,Le)}emplace(s,f,y,w,P,M,D,H,K,Q,re,se,de,he,_e,Pe,Le,tt){const $e=24*s,ue=12*s,Te=48*s;return this.int16[$e+0]=f,this.int16[$e+1]=y,this.uint16[$e+2]=w,this.uint16[$e+3]=P,this.uint32[ue+2]=M,this.uint32[ue+3]=D,this.uint32[ue+4]=H,this.uint16[$e+10]=K,this.uint16[$e+11]=Q,this.uint16[$e+12]=re,this.float32[ue+7]=se,this.float32[ue+8]=de,this.uint8[Te+36]=he,this.uint8[Te+37]=_e,this.uint8[Te+38]=Pe,this.uint32[ue+10]=Le,this.int16[$e+22]=tt,s}}Z.prototype.bytesPerElement=48,Er("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Z);class Y extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,f,y,w,P,M,D,H,K,Q,re,se,de,he,_e,Pe,Le,tt,$e,ue,Te,Ve,_t,Kt,Ct,zt,ir,rr){const fr=this.length;return this.resize(fr+1),this.emplace(fr,s,f,y,w,P,M,D,H,K,Q,re,se,de,he,_e,Pe,Le,tt,$e,ue,Te,Ve,_t,Kt,Ct,zt,ir,rr)}emplace(s,f,y,w,P,M,D,H,K,Q,re,se,de,he,_e,Pe,Le,tt,$e,ue,Te,Ve,_t,Kt,Ct,zt,ir,rr,fr){const Ft=32*s,Ar=16*s;return this.int16[Ft+0]=f,this.int16[Ft+1]=y,this.int16[Ft+2]=w,this.int16[Ft+3]=P,this.int16[Ft+4]=M,this.int16[Ft+5]=D,this.int16[Ft+6]=H,this.int16[Ft+7]=K,this.uint16[Ft+8]=Q,this.uint16[Ft+9]=re,this.uint16[Ft+10]=se,this.uint16[Ft+11]=de,this.uint16[Ft+12]=he,this.uint16[Ft+13]=_e,this.uint16[Ft+14]=Pe,this.uint16[Ft+15]=Le,this.uint16[Ft+16]=tt,this.uint16[Ft+17]=$e,this.uint16[Ft+18]=ue,this.uint16[Ft+19]=Te,this.uint16[Ft+20]=Ve,this.uint16[Ft+21]=_t,this.uint16[Ft+22]=Kt,this.uint32[Ar+12]=Ct,this.float32[Ar+13]=zt,this.float32[Ar+14]=ir,this.uint16[Ft+30]=rr,this.uint16[Ft+31]=fr,s}}Y.prototype.bytesPerElement=64,Er("StructArrayLayout8i15ui1ul2f2ui64",Y);class J extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){const f=this.length;return this.resize(f+1),this.emplace(f,s)}emplace(s,f){return this.float32[1*s+0]=f,s}}J.prototype.bytesPerElement=4,Er("StructArrayLayout1f4",J);class oe extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,f,y)}emplace(s,f,y,w){const P=3*s;return this.uint16[6*s+0]=f,this.float32[P+1]=y,this.float32[P+2]=w,s}}oe.prototype.bytesPerElement=12,Er("StructArrayLayout1ui2f12",oe);class ie extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,f,y)}emplace(s,f,y,w){const P=4*s;return this.uint32[2*s+0]=f,this.uint16[P+2]=y,this.uint16[P+3]=w,s}}ie.prototype.bytesPerElement=8,Er("StructArrayLayout1ul2ui8",ie);class pe extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,f){const y=this.length;return this.resize(y+1),this.emplace(y,s,f)}emplace(s,f,y){const w=2*s;return this.uint16[w+0]=f,this.uint16[w+1]=y,s}}pe.prototype.bytesPerElement=4,Er("StructArrayLayout2ui4",pe);class be extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){const f=this.length;return this.resize(f+1),this.emplace(f,s)}emplace(s,f){return this.uint16[1*s+0]=f,s}}be.prototype.bytesPerElement=2,Er("StructArrayLayout1ui2",be);class Ie extends Ta{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,f,y,w){const P=this.length;return this.resize(P+1),this.emplace(P,s,f,y,w)}emplace(s,f,y,w,P){const M=4*s;return this.float32[M+0]=f,this.float32[M+1]=y,this.float32[M+2]=w,this.float32[M+3]=P,s}}Ie.prototype.bytesPerElement=16,Er("StructArrayLayout4f16",Ie);class ke extends Rc{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new I(this.anchorPointX,this.anchorPointY)}}ke.prototype.size=20;class De extends v{get(s){return new ke(this,s)}}Er("CollisionBoxArray",De);class Ue extends Rc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ue.prototype.size=48;class Ze extends Z{get(s){return new Ue(this,s)}}Er("PlacedSymbolArray",Ze);class He extends Rc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}He.prototype.size=64;class Xe extends Y{get(s){return new He(this,s)}}Er("SymbolInstanceArray",Xe);class nt extends J{getoffsetX(s){return this.float32[1*s+0]}}Er("GlyphOffsetArray",nt);class Qe extends Ed{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}Er("SymbolLineVertexArray",Qe);class bt extends Rc{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}bt.prototype.size=12;class Bt extends oe{get(s){return new bt(this,s)}}Er("TextAnchorOffsetArray",Bt);class Pt extends Rc{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Pt.prototype.size=8;class Tt extends ie{get(s){return new Pt(this,s)}}Er("FeatureIndexArray",Tt);class Mt extends Vh{}class yr extends Vh{}class hr extends Vh{}class Wt extends Hh{}class Or extends vo{}class vn extends Pa{}class Mn extends Gh{}class Ra extends C{}class na extends i{}class Ma extends d{}class xa extends x{}class la extends k{}class qn extends U{}class ui extends pe{}const Ei=Aa([{name:"a_pos",components:2,type:"Int16"}],4),{members:Li}=Ei;class Vn{constructor(s=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=s}prepareSegment(s,f,y,w){const P=this.segments[this.segments.length-1];return s>Vn.MAX_VERTEX_ARRAY_LENGTH&&ur(`Max vertices per segment is ${Vn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Vn.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!P||P.vertexLength+s>Vn.MAX_VERTEX_ARRAY_LENGTH||P.sortKey!==w?this.createNewSegment(f,y,w):P}createNewSegment(s,f,y){const w={vertexOffset:s.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0,vaos:{}};return y!==void 0&&(w.sortKey=y),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(w),w}getOrCreateLatestSegment(s,f,y){return this.prepareSegment(0,s,f,y)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const s of this.segments)for(const f in s.vaos)s.vaos[f].destroy()}static simpleSegment(s,f,y,w){return new Vn([{vertexOffset:s,primitiveOffset:f,vertexLength:y,primitiveLength:w,vaos:{},sortKey:0}])}}function Kl(h,s){return 256*(h=ht(Math.floor(h),0,255))+ht(Math.floor(s),0,255)}Vn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Er("SegmentVector",Vn);const ml=Aa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Oc,kc,Mf,Ic={exports:{}},Cd={exports:{}},ws={exports:{}},Dc=function(){if(Mf)return Ic.exports;Mf=1;var h=(Oc||(Oc=1,Cd.exports=function(f,y){var w,P,M,D,H,K,Q,re;for(P=f.length-(w=3&f.length),M=y,H=3432918353,K=461845907,re=0;re<P;)Q=255&f.charCodeAt(re)|(255&f.charCodeAt(++re))<<8|(255&f.charCodeAt(++re))<<16|(255&f.charCodeAt(++re))<<24,++re,M=27492+(65535&(D=5*(65535&(M=(M^=Q=(65535&(Q=(Q=(65535&Q)*H+(((Q>>>16)*H&65535)<<16)&4294967295)<<15|Q>>>17))*K+(((Q>>>16)*K&65535)<<16)&4294967295)<<13|M>>>19))+((5*(M>>>16)&65535)<<16)&4294967295))+((58964+(D>>>16)&65535)<<16);switch(Q=0,w){case 3:Q^=(255&f.charCodeAt(re+2))<<16;case 2:Q^=(255&f.charCodeAt(re+1))<<8;case 1:M^=Q=(65535&(Q=(Q=(65535&(Q^=255&f.charCodeAt(re)))*H+(((Q>>>16)*H&65535)<<16)&4294967295)<<15|Q>>>17))*K+(((Q>>>16)*K&65535)<<16)&4294967295}return M^=f.length,M=2246822507*(65535&(M^=M>>>16))+((2246822507*(M>>>16)&65535)<<16)&4294967295,M=3266489909*(65535&(M^=M>>>13))+((3266489909*(M>>>16)&65535)<<16)&4294967295,(M^=M>>>16)>>>0}),Cd.exports),s=(kc||(kc=1,ws.exports=function(f,y){for(var w,P=f.length,M=y^P,D=0;P>=4;)w=1540483477*(65535&(w=255&f.charCodeAt(D)|(255&f.charCodeAt(++D))<<8|(255&f.charCodeAt(++D))<<16|(255&f.charCodeAt(++D))<<24))+((1540483477*(w>>>16)&65535)<<16),M=1540483477*(65535&M)+((1540483477*(M>>>16)&65535)<<16)^(w=1540483477*(65535&(w^=w>>>24))+((1540483477*(w>>>16)&65535)<<16)),P-=4,++D;switch(P){case 3:M^=(255&f.charCodeAt(D+2))<<16;case 2:M^=(255&f.charCodeAt(D+1))<<8;case 1:M=1540483477*(65535&(M^=255&f.charCodeAt(D)))+((1540483477*(M>>>16)&65535)<<16)}return M=1540483477*(65535&(M^=M>>>13))+((1540483477*(M>>>16)&65535)<<16),(M^=M>>>15)>>>0}),ws.exports);return Ic.exports=h,Ic.exports.murmur3=h,Ic.exports.murmur2=s,Ic.exports}(),Ss=g(Dc);class Xl{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,f,y,w){this.ids.push(ja(s)),this.positions.push(f,y,w)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const f=ja(s);let y=0,w=this.ids.length-1;for(;y<w;){const M=y+w>>1;this.ids[M]>=f?w=M:y=M+1}const P=[];for(;this.ids[y]===f;)P.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return P}static serialize(s,f){const y=new Float64Array(s.ids),w=new Uint32Array(s.positions);return di(y,w,0,y.length-1),f&&f.push(y.buffer,w.buffer),{ids:y,positions:w}}static deserialize(s){const f=new Xl;return f.ids=s.ids,f.positions=s.positions,f.indexed=!0,f}}function ja(h){const s=+h;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:Ss(String(h))}function di(h,s,f,y){for(;f<y;){const w=h[f+y>>1];let P=f-1,M=y+1;for(;;){do P++;while(h[P]<w);do M--;while(h[M]>w);if(P>=M)break;bo(h,P,M),bo(s,3*P,3*M),bo(s,3*P+1,3*M+1),bo(s,3*P+2,3*M+2)}M-f<y-M?(di(h,s,f,M),f=M+1):(di(h,s,M+1,y),y=M)}}function bo(h,s,f){const y=h[s];h[s]=h[f],h[f]=y}Er("FeaturePositionMap",Xl);class aa{constructor(s,f){this.gl=s.gl,this.location=f}}class Zh extends aa{constructor(s,f){super(s,f),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class $g extends aa{constructor(s,f){super(s,f),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class bv extends aa{constructor(s,f){super(s,f),this.current=kn.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}const Of=new Float32Array(16);function Td(h){return[Kl(255*h.r,255*h.g),Kl(255*h.b,255*h.a)]}class wu{constructor(s,f,y){this.value=s,this.uniformNames=f.map(w=>`u_${w}`),this.type=y}setUniform(s,f,y){s.set(y.constantOr(this.value))}getBinding(s,f,y){return this.type==="color"?new bv(s,f):new Zh(s,f)}}class _o{constructor(s,f){this.uniformNames=f.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=s.tlbr}setUniform(s,f,y,w){const P=w==="u_pattern_to"?this.patternTo:w==="u_pattern_from"?this.patternFrom:w==="u_pixel_ratio_to"?this.pixelRatioTo:w==="u_pixel_ratio_from"?this.pixelRatioFrom:null;P&&s.set(P)}getBinding(s,f,y){return y.substr(0,9)==="u_pattern"?new $g(s,f):new Zh(s,f)}}class Es{constructor(s,f,y,w){this.expression=s,this.type=y,this.maxValue=0,this.paintVertexAttributes=f.map(P=>({name:`a_${P}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new w}populatePaintArray(s,f,y,w,P){const M=this.paintVertexArray.length,D=this.expression.evaluate(new fa(0),f,{},w,[],P);this.paintVertexArray.resize(s),this._setPaintValue(M,s,D)}updatePaintArray(s,f,y,w){const P=this.expression.evaluate({zoom:0},y,w);this._setPaintValue(s,f,P)}_setPaintValue(s,f,y){if(this.type==="color"){const w=Td(y);for(let P=s;P<f;P++)this.paintVertexArray.emplace(P,w[0],w[1])}else{for(let w=s;w<f;w++)this.paintVertexArray.emplace(w,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Cs{constructor(s,f,y,w,P,M){this.expression=s,this.uniformNames=f.map(D=>`u_${D}_t`),this.type=y,this.useIntegerZoom=w,this.zoom=P,this.maxValue=0,this.paintVertexAttributes=f.map(D=>({name:`a_${D}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new M}populatePaintArray(s,f,y,w,P){const M=this.expression.evaluate(new fa(this.zoom),f,{},w,[],P),D=this.expression.evaluate(new fa(this.zoom+1),f,{},w,[],P),H=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(H,s,M,D)}updatePaintArray(s,f,y,w){const P=this.expression.evaluate({zoom:this.zoom},y,w),M=this.expression.evaluate({zoom:this.zoom+1},y,w);this._setPaintValue(s,f,P,M)}_setPaintValue(s,f,y,w){if(this.type==="color"){const P=Td(y),M=Td(w);for(let D=s;D<f;D++)this.paintVertexArray.emplace(D,P[0],P[1],M[0],M[1])}else{for(let P=s;P<f;P++)this.paintVertexArray.emplace(P,y,w);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(w))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,f){const y=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,w=ht(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);s.set(w)}getBinding(s,f,y){return new Zh(s,f)}}class Yl{constructor(s,f,y,w,P,M){this.expression=s,this.type=f,this.useIntegerZoom=y,this.zoom=w,this.layerId=M,this.zoomInPaintVertexArray=new P,this.zoomOutPaintVertexArray=new P}populatePaintArray(s,f,y){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(w,s,f.patterns&&f.patterns[this.layerId],y)}updatePaintArray(s,f,y,w,P){this._setPaintValues(s,f,y.patterns&&y.patterns[this.layerId],P)}_setPaintValues(s,f,y,w){if(!w||!y)return;const{min:P,mid:M,max:D}=y,H=w[P],K=w[M],Q=w[D];if(H&&K&&Q)for(let re=s;re<f;re++)this.zoomInPaintVertexArray.emplace(re,K.tl[0],K.tl[1],K.br[0],K.br[1],H.tl[0],H.tl[1],H.br[0],H.br[1],K.pixelRatio,H.pixelRatio),this.zoomOutPaintVertexArray.emplace(re,K.tl[0],K.tl[1],K.br[0],K.br[1],Q.tl[0],Q.tl[1],Q.br[0],Q.br[1],K.pixelRatio,Q.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,ml.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,ml.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class zc{constructor(s,f,y){this.binders={},this._buffers=[];const w=[];for(const P in s.paint._values){if(!y(P))continue;const M=s.paint.get(P);if(!(M instanceof rn&&mu(M.property.specification)))continue;const D=is(P,s.type),H=M.value,K=M.property.specification.type,Q=M.property.useIntegerZoom,re=M.property.specification["property-type"],se=re==="cross-faded"||re==="cross-faded-data-driven";if(H.kind==="constant")this.binders[P]=se?new _o(H.value,D):new wu(H.value,D,K),w.push(`/u_${P}`);else if(H.kind==="source"||se){const de=Bc(P,K,"source");this.binders[P]=se?new Yl(H,K,Q,f,de,s.id):new Es(H,D,K,de),w.push(`/a_${P}`)}else{const de=Bc(P,K,"composite");this.binders[P]=new Cs(H,D,K,Q,f,de),w.push(`/z_${P}`)}}this.cacheKey=w.sort().join("")}getMaxValue(s){const f=this.binders[s];return f instanceof Es||f instanceof Cs?f.maxValue:0}populatePaintArrays(s,f,y,w,P){for(const M in this.binders){const D=this.binders[M];(D instanceof Es||D instanceof Cs||D instanceof Yl)&&D.populatePaintArray(s,f,y,w,P)}}setConstantPatternPositions(s,f){for(const y in this.binders){const w=this.binders[y];w instanceof _o&&w.setConstantPatternPositions(s,f)}}updatePaintArrays(s,f,y,w,P){let M=!1;for(const D in s){const H=f.getPositions(D);for(const K of H){const Q=y.feature(K.index);for(const re in this.binders){const se=this.binders[re];if((se instanceof Es||se instanceof Cs||se instanceof Yl)&&se.expression.isStateDependent===!0){const de=w.paint.get(re);se.expression=de.value,se.updatePaintArray(K.start,K.end,Q,s[D],P),M=!0}}}}return M}defines(){const s=[];for(const f in this.binders){const y=this.binders[f];(y instanceof wu||y instanceof _o)&&s.push(...y.uniformNames.map(w=>`#define HAS_UNIFORM_${w}`))}return s}getBinderAttributes(){const s=[];for(const f in this.binders){const y=this.binders[f];if(y instanceof Es||y instanceof Cs)for(let w=0;w<y.paintVertexAttributes.length;w++)s.push(y.paintVertexAttributes[w].name);else if(y instanceof Yl)for(let w=0;w<ml.members.length;w++)s.push(ml.members[w].name)}return s}getBinderUniforms(){const s=[];for(const f in this.binders){const y=this.binders[f];if(y instanceof wu||y instanceof _o||y instanceof Cs)for(const w of y.uniformNames)s.push(w)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,f){const y=[];for(const w in this.binders){const P=this.binders[w];if(P instanceof wu||P instanceof _o||P instanceof Cs){for(const M of P.uniformNames)if(f[M]){const D=P.getBinding(s,f[M],M);y.push({name:M,property:w,binding:D})}}}return y}setUniforms(s,f,y,w){for(const{name:P,property:M,binding:D}of f)this.binders[M].setUniform(D,w,y.get(M),P)}updatePaintBuffers(s){this._buffers=[];for(const f in this.binders){const y=this.binders[f];if(s&&y instanceof Yl){const w=s.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(y instanceof Es||y instanceof Cs)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(s){for(const f in this.binders){const y=this.binders[f];(y instanceof Es||y instanceof Cs||y instanceof Yl)&&y.upload(s)}this.updatePaintBuffers()}destroy(){for(const s in this.binders){const f=this.binders[s];(f instanceof Es||f instanceof Cs||f instanceof Yl)&&f.destroy()}}}class Lc{constructor(s,f,y=()=>!0){this.programConfigurations={};for(const w of s)this.programConfigurations[w.id]=new zc(w,f,y);this.needsUpload=!1,this._featureMap=new Xl,this._bufferOffset=0}populatePaintArrays(s,f,y,w,P,M){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(s,f,w,P,M);f.id!==void 0&&this._featureMap.add(f.id,y,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,f,y,w){for(const P of y)this.needsUpload=this.programConfigurations[P.id].updatePaintArrays(s,this._featureMap,f,P,w)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(const f in this.programConfigurations)this.programConfigurations[f].upload(s);this.needsUpload=!1}}destroy(){for(const s in this.programConfigurations)this.programConfigurations[s].destroy()}}function is(h,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[h]||[h.replace(`${s}-`,"").replace(/-/g,"_")]}function Bc(h,s,f){const y={color:{source:Pa,composite:Ie},number:{source:J,composite:Pa}},w=function(P){return{"line-pattern":{source:Mn,composite:Mn},"fill-pattern":{source:Mn,composite:Mn},"fill-extrusion-pattern":{source:Mn,composite:Mn}}[P]}(h);return w&&w[f]||y[s][f]}Er("ConstantBinder",wu),Er("CrossFadedConstantBinder",_o),Er("SourceExpressionBinder",Es),Er("CrossFadedCompositeBinder",Yl),Er("CompositeExpressionBinder",Cs),Er("ProgramConfiguration",zc,{omit:["_buffers"]}),Er("ProgramConfigurationSet",Lc);const Su=Math.pow(2,14)-1,K_=-Su-1;function Hs(h){const s=Se/h.extent,f=h.loadGeometry();for(let y=0;y<f.length;y++){const w=f[y];for(let P=0;P<w.length;P++){const M=w[P],D=Math.round(M.x*s),H=Math.round(M.y*s);M.x=ht(D,K_,Su),M.y=ht(H,K_,Su),(D<M.x||D>M.x+1||H<M.y||H>M.y+1)&&ur("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function Ts(h,s){return{type:h.type,id:h.id,properties:h.properties,geometry:s?Hs(h):[]}}const Bi=-32768;function _v(h,s,f,y,w){h.emplaceBack(Bi+8*s+y,Bi+8*f+w)}class Ug{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(f=>f.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new yr,this.indexArray=new qn,this.segments=new Vn,this.programConfigurations=new Lc(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(s,f,y){const w=this.layers[0],P=[];let M=null,D=!1,H=w.type==="heatmap";if(w.type==="circle"){const Q=w;M=Q.layout.get("circle-sort-key"),D=!M.isConstant(),H=H||Q.paint.get("circle-pitch-alignment")==="map"}const K=H?f.subdivisionGranularity.circle:1;for(const{feature:Q,id:re,index:se,sourceLayerIndex:de}of s){const he=this.layers[0]._featureFilter.needGeometry,_e=Ts(Q,he);if(!this.layers[0]._featureFilter.filter(new fa(this.zoom),_e,y))continue;const Pe=D?M.evaluate(_e,{},y):void 0,Le={id:re,properties:Q.properties,type:Q.type,sourceLayerIndex:de,index:se,geometry:he?_e.geometry:Hs(Q),patterns:{},sortKey:Pe};P.push(Le)}D&&P.sort((Q,re)=>Q.sortKey-re.sortKey);for(const Q of P){const{geometry:re,index:se,sourceLayerIndex:de}=Q,he=s[se].feature;this.addFeature(Q,re,se,y,K),f.featureIndex.insert(he,re,se,de,this.index)}}update(s,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,f,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Li),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,f,y,w,P=1){let M;switch(P){case 1:M=[0,7];break;case 3:M=[0,2,5,7];break;case 5:M=[0,1,3,4,6,7];break;case 7:M=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${P}; valid values are 1, 3, 5, 7.`)}const D=M.length;for(const H of f)for(const K of H){const Q=K.x,re=K.y;if(Q<0||Q>=Se||re<0||re>=Se)continue;const se=this.segments.prepareSegment(D*D,this.layoutVertexArray,this.indexArray,s.sortKey),de=se.vertexLength;for(let he=0;he<D;he++)for(let _e=0;_e<D;_e++)_v(this.layoutVertexArray,Q,re,M[_e],M[he]);for(let he=0;he<D-1;he++)for(let _e=0;_e<D-1;_e++){const Pe=de+he*D+_e,Le=de+(he+1)*D+_e;this.indexArray.emplaceBack(Pe,Le+1,Pe+1),this.indexArray.emplaceBack(Pe,Le,Le+1)}se.vertexLength+=D*D,se.primitiveLength+=(D-1)*(D-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,y,{},w)}}function xv(h,s){for(let f=0;f<h.length;f++)if(kf(s,h[f]))return!0;for(let f=0;f<s.length;f++)if(kf(h,s[f]))return!0;return!!rm(h,s)}function ew(h,s,f){return!!kf(h,s)||!!wv(s,h,f)}function X_(h,s){if(h.length===1)return qg(s,h[0]);for(let f=0;f<s.length;f++){const y=s[f];for(let w=0;w<y.length;w++)if(kf(h,y[w]))return!0}for(let f=0;f<h.length;f++)if(qg(s,h[f]))return!0;for(let f=0;f<s.length;f++)if(rm(h,s[f]))return!0;return!1}function Wh(h,s,f){if(h.length>1){if(rm(h,s))return!0;for(let y=0;y<s.length;y++)if(wv(s[y],h,f))return!0}for(let y=0;y<h.length;y++)if(wv(h[y],s,f))return!0;return!1}function rm(h,s){if(h.length===0||s.length===0)return!1;for(let f=0;f<h.length-1;f++){const y=h[f],w=h[f+1];for(let P=0;P<s.length-1;P++)if(tw(y,w,s[P],s[P+1]))return!0}return!1}function tw(h,s,f,y){return Xt(h,f,y)!==Xt(s,f,y)&&Xt(h,s,f)!==Xt(h,s,y)}function wv(h,s,f){const y=f*f;if(s.length===1)return h.distSqr(s[0])<y;for(let w=1;w<s.length;w++)if(Y_(h,s[w-1],s[w])<y)return!0;return!1}function Y_(h,s,f){const y=s.distSqr(f);if(y===0)return h.distSqr(s);const w=((h.x-s.x)*(f.x-s.x)+(h.y-s.y)*(f.y-s.y))/y;return h.distSqr(w<0?s:w>1?f:f.sub(s)._mult(w)._add(s))}function qg(h,s){for(let f=0;f<h.length;f++)if(kf(h[f],s))return!0;return!1}function kf(h,s){let f=!1;for(let y=0,w=h.length-1;y<h.length;w=y++){const P=h[y],M=h[w];P.y>s.y!=M.y>s.y&&s.x<(M.x-P.x)*(s.y-P.y)/(M.y-P.y)+P.x&&(f=!f)}return f}function Q_(h,s,f){const y=f[0],w=f[2];if(h.x<y.x&&s.x<y.x||h.x>w.x&&s.x>w.x||h.y<y.y&&s.y<y.y||h.y>w.y&&s.y>w.y)return!1;const P=Xt(h,s,f[0]);return P!==Xt(h,s,f[1])||P!==Xt(h,s,f[2])||P!==Xt(h,s,f[3])}function nm(h,s,f){const y=s.paint.get(h).value;return y.kind==="constant"?y.value:f.programConfigurations.get(s.id).getMaxValue(h)}function Vg(h){return Math.sqrt(h[0]*h[0]+h[1]*h[1])}function Sv(h,s,f,y,w){if(!s[0]&&!s[1])return h;const P=I.convert(s)._mult(w);f==="viewport"&&P._rotate(-y);const M=[];for(let D=0;D<h.length;D++)M.push(h[D].sub(P));return M}let J_,Xi;Er("CircleBucket",Ug,{omit:["layers"]});var Uo={get paint(){return Xi=Xi||new ka({"circle-radius":new qr(Re.paint_circle["circle-radius"]),"circle-color":new qr(Re.paint_circle["circle-color"]),"circle-blur":new qr(Re.paint_circle["circle-blur"]),"circle-opacity":new qr(Re.paint_circle["circle-opacity"]),"circle-translate":new xr(Re.paint_circle["circle-translate"]),"circle-translate-anchor":new xr(Re.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new xr(Re.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new xr(Re.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new qr(Re.paint_circle["circle-stroke-width"]),"circle-stroke-color":new qr(Re.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new qr(Re.paint_circle["circle-stroke-opacity"])})},get layout(){return J_=J_||new ka({"circle-sort-key":new qr(Re.layout_circle["circle-sort-key"])})}};class rw extends Vs{constructor(s){super(s,Uo)}createBucket(s){return new Ug(s)}queryRadius(s){const f=s;return nm("circle-radius",this,f)+nm("circle-stroke-width",this,f)+Vg(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:s,feature:f,featureState:y,geometry:w,transform:P,pixelsToTileUnits:M,unwrappedTileID:D,getElevation:H}){const K=Sv(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-P.bearingInRadians,M),Q=this.paint.get("circle-radius").evaluate(f,y)+this.paint.get("circle-stroke-width").evaluate(f,y),re=this.paint.get("circle-pitch-alignment")==="map",se=re?K:function(he,_e,Pe,Le){return he.map(tt=>e0(tt,_e,Pe,Le))}(K,P,D,H),de=re?Q*M:Q;for(const he of w)for(const _e of he){const Pe=re?_e:e0(_e,P,D,H);let Le=de;const tt=P.projectTileCoordinates(_e.x,_e.y,D,H).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Le*=tt/P.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Le*=P.cameraToCenterDistance/tt),ew(se,Pe,Le))return!0}return!1}}function e0(h,s,f,y){const w=s.projectTileCoordinates(h.x,h.y,f,y).point;return new I((.5*w.x+.5)*s.width,(.5*-w.y+.5)*s.height)}class t0 extends Ug{}let r0;Er("HeatmapBucket",t0,{omit:["layers"]});var nw={get paint(){return r0=r0||new ka({"heatmap-radius":new qr(Re.paint_heatmap["heatmap-radius"]),"heatmap-weight":new qr(Re.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new xr(Re.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Rf(Re.paint_heatmap["heatmap-color"]),"heatmap-opacity":new xr(Re.paint_heatmap["heatmap-opacity"])})}};function am(h,{width:s,height:f},y,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==s*f*y)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${s*f*y}`)}else w=new Uint8Array(s*f*y);return h.width=s,h.height=f,h.data=w,h}function Ev(h,{width:s,height:f},y){if(s===h.width&&f===h.height)return;const w=am({},{width:s,height:f},y);Cv(h,w,{x:0,y:0},{x:0,y:0},{width:Math.min(h.width,s),height:Math.min(h.height,f)},y),h.width=s,h.height=f,h.data=w.data}function Cv(h,s,f,y,w,P){if(w.width===0||w.height===0)return s;if(w.width>h.width||w.height>h.height||f.x>h.width-w.width||f.y>h.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>s.width||w.height>s.height||y.x>s.width-w.width||y.y>s.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const M=h.data,D=s.data;if(M===D)throw new Error("srcData equals dstData, so image is already copied");for(let H=0;H<w.height;H++){const K=((f.y+H)*h.width+f.x)*P,Q=((y.y+H)*s.width+y.x)*P;for(let re=0;re<w.width*P;re++)D[Q+re]=M[K+re]}return s}class im{constructor(s,f){am(this,s,1,f)}resize(s){Ev(this,s,1)}clone(){return new im({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,f,y,w,P){Cv(s,f,y,w,P,1)}}class Gs{constructor(s,f){am(this,s,4,f)}resize(s){Ev(this,s,4)}replace(s,f){f?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new Gs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,f,y,w,P){Cv(s,f,y,w,P,4)}}function Tv(h){const s={},f=h.resolution||256,y=h.clips?h.clips.length:1,w=h.image||new Gs({width:f,height:y});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);const P=(M,D,H)=>{s[h.evaluationKey]=H;const K=h.expression.evaluate(s);w.data[M+D+0]=Math.floor(255*K.r/K.a),w.data[M+D+1]=Math.floor(255*K.g/K.a),w.data[M+D+2]=Math.floor(255*K.b/K.a),w.data[M+D+3]=Math.floor(255*K.a)};if(h.clips)for(let M=0,D=0;M<y;++M,D+=4*f)for(let H=0,K=0;H<f;H++,K+=4){const Q=H/(f-1),{start:re,end:se}=h.clips[M];P(D,K,re*(1-Q)+se*Q)}else for(let M=0,D=0;M<f;M++,D+=4)P(0,D,M/(f-1));return w}Er("AlphaImage",im),Er("RGBAImage",Gs);const Hg="big-fb";class n0 extends Vs{createBucket(s){return new t0(s)}constructor(s){super(s,nw),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Tv({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Hg)&&this.heatmapFbos.delete(Hg)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let a0;var i0={get paint(){return a0=a0||new ka({"hillshade-illumination-direction":new xr(Re.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new xr(Re.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new xr(Re.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new xr(Re.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new xr(Re.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new xr(Re.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new xr(Re.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new xr(Re.paint_hillshade["hillshade-method"])})}};class Av extends Vs{constructor(s){super(s,i0),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let s=this.paint.get("hillshade-illumination-direction").values,f=this.paint.get("hillshade-illumination-altitude").values,y=this.paint.get("hillshade-highlight-color").values,w=this.paint.get("hillshade-shadow-color").values;const P=Math.max(s.length,f.length,y.length,w.length);s=s.concat(Array(P-s.length).fill(s.at(-1))),f=f.concat(Array(P-f.length).fill(f.at(-1))),y=y.concat(Array(P-y.length).fill(y.at(-1))),w=w.concat(Array(P-w.length).fill(w.at(-1)));const M=f.map(Ut);return{directionRadians:s.map(Ut),altitudeRadians:M,shadowColor:w,highlightColor:y}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const o0=Aa([{name:"a_pos",components:2,type:"Int16"}],4),{members:aw}=o0;function Gg(h,s,f){const y=f.patternDependencies;let w=!1;for(const P of s){const M=P.paint.get(`${h}-pattern`);M.isConstant()||(w=!0);const D=M.constantOr(null);D&&(w=!0,y[D.to]=!0,y[D.from]=!0)}return w}function Pv(h,s,f,y,w){const P=w.patternDependencies;for(const M of s){const D=M.paint.get(`${h}-pattern`).value;if(D.kind!=="constant"){let H=D.evaluate({zoom:y-1},f,{},w.availableImages),K=D.evaluate({zoom:y},f,{},w.availableImages),Q=D.evaluate({zoom:y+1},f,{},w.availableImages);H=H&&H.name?H.name:H,K=K&&K.name?K.name:K,Q=Q&&Q.name?Q.name:Q,P[H]=!0,P[K]=!0,P[Q]=!0,f.patterns[M.id]={min:H,mid:K,max:Q}}}return f}function Eu(h,s,f,y,w){let P;if(w===function(M,D,H,K){let Q=0;for(let re=D,se=H-K;re<H;re+=K)Q+=(M[se]-M[re])*(M[re+1]+M[se+1]),se=re;return Q}(h,s,f,y)>0)for(let M=s;M<f;M+=y)P=Ov(M/y|0,h[M],h[M+1],P);else for(let M=f-y;M>=s;M-=y)P=Ov(M/y|0,h[M],h[M+1],P);return P&&Cu(P,P.next)&&(If(P),P=P.next),P}function Ad(h,s){if(!h)return h;s||(s=h);let f,y=h;do if(f=!1,y.steiner||!Cu(y,y.next)&&ni(y.prev,y,y.next)!==0)y=y.next;else{if(If(y),y=s=y.prev,y===y.next)break;f=!0}while(f||y!==s);return s}function Zg(h,s,f,y,w,P,M){if(!h)return;!M&&P&&function(H,K,Q,re){let se=H;do se.z===0&&(se.z=s0(se.x,se.y,K,Q,re)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next;while(se!==H);se.prevZ.nextZ=null,se.prevZ=null,function(de){let he,_e=1;do{let Pe,Le=de;de=null;let tt=null;for(he=0;Le;){he++;let $e=Le,ue=0;for(let Ve=0;Ve<_e&&(ue++,$e=$e.nextZ,$e);Ve++);let Te=_e;for(;ue>0||Te>0&&$e;)ue!==0&&(Te===0||!$e||Le.z<=$e.z)?(Pe=Le,Le=Le.nextZ,ue--):(Pe=$e,$e=$e.nextZ,Te--),tt?tt.nextZ=Pe:de=Pe,Pe.prevZ=tt,tt=Pe;Le=$e}tt.nextZ=null,_e*=2}while(he>1)}(se)}(h,y,w,P);let D=h;for(;h.prev!==h.next;){const H=h.prev,K=h.next;if(P?Pd(h,y,w,P):iw(h))s.push(H.i,h.i,K.i),If(h),h=K.next,D=K.next;else if((h=K)===D){M?M===1?Zg(h=ow(Ad(h),s),s,f,y,w,P,2):M===2&&Rv(h,s,f,y,w,P):Zg(Ad(h),s,f,y,w,P,1);break}}}function iw(h){const s=h.prev,f=h,y=h.next;if(ni(s,f,y)>=0)return!1;const w=s.x,P=f.x,M=y.x,D=s.y,H=f.y,K=y.y,Q=Math.min(w,P,M),re=Math.min(D,H,K),se=Math.max(w,P,M),de=Math.max(D,H,K);let he=y.next;for(;he!==s;){if(he.x>=Q&&he.x<=se&&he.y>=re&&he.y<=de&&Ql(w,D,P,H,M,K,he.x,he.y)&&ni(he.prev,he,he.next)>=0)return!1;he=he.next}return!0}function Pd(h,s,f,y){const w=h.prev,P=h,M=h.next;if(ni(w,P,M)>=0)return!1;const D=w.x,H=P.x,K=M.x,Q=w.y,re=P.y,se=M.y,de=Math.min(D,H,K),he=Math.min(Q,re,se),_e=Math.max(D,H,K),Pe=Math.max(Q,re,se),Le=s0(de,he,s,f,y),tt=s0(_e,Pe,s,f,y);let $e=h.prevZ,ue=h.nextZ;for(;$e&&$e.z>=Le&&ue&&ue.z<=tt;){if($e.x>=de&&$e.x<=_e&&$e.y>=he&&$e.y<=Pe&&$e!==w&&$e!==M&&Ql(D,Q,H,re,K,se,$e.x,$e.y)&&ni($e.prev,$e,$e.next)>=0||($e=$e.prevZ,ue.x>=de&&ue.x<=_e&&ue.y>=he&&ue.y<=Pe&&ue!==w&&ue!==M&&Ql(D,Q,H,re,K,se,ue.x,ue.y)&&ni(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;$e&&$e.z>=Le;){if($e.x>=de&&$e.x<=_e&&$e.y>=he&&$e.y<=Pe&&$e!==w&&$e!==M&&Ql(D,Q,H,re,K,se,$e.x,$e.y)&&ni($e.prev,$e,$e.next)>=0)return!1;$e=$e.prevZ}for(;ue&&ue.z<=tt;){if(ue.x>=de&&ue.x<=_e&&ue.y>=he&&ue.y<=Pe&&ue!==w&&ue!==M&&Ql(D,Q,H,re,K,se,ue.x,ue.y)&&ni(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function ow(h,s){let f=h;do{const y=f.prev,w=f.next.next;!Cu(y,w)&&Fc(y,f,f.next,w)&&lm(y,w)&&lm(w,y)&&(s.push(y.i,f.i,w.i),If(f),If(f.next),f=h=w),f=f.next}while(f!==h);return Ad(f)}function Rv(h,s,f,y,w,P){let M=h;do{let D=M.next.next;for(;D!==M.prev;){if(M.i!==D.i&&lw(M,D)){let H=Mv(M,D);return M=Ad(M,M.next),H=Ad(H,H.next),Zg(M,s,f,y,w,P,0),void Zg(H,s,f,y,w,P,0)}D=D.next}M=M.next}while(M!==h)}function Wg(h,s){let f=h.x-s.x;return f===0&&(f=h.y-s.y,f===0)&&(f=(h.next.y-h.y)/(h.next.x-h.x)-(s.next.y-s.y)/(s.next.x-s.x)),f}function fi(h,s){const f=function(w,P){let M=P;const D=w.x,H=w.y;let K,Q=-1/0;if(Cu(w,M))return M;do{if(Cu(w,M.next))return M.next;if(H<=M.y&&H>=M.next.y&&M.next.y!==M.y){const _e=M.x+(H-M.y)*(M.next.x-M.x)/(M.next.y-M.y);if(_e<=D&&_e>Q&&(Q=_e,K=M.x<M.next.x?M:M.next,_e===D))return K}M=M.next}while(M!==P);if(!K)return null;const re=K,se=K.x,de=K.y;let he=1/0;M=K;do{if(D>=M.x&&M.x>=se&&D!==M.x&&om(H<de?D:Q,H,se,de,H<de?Q:D,H,M.x,M.y)){const _e=Math.abs(H-M.y)/(D-M.x);lm(M,w)&&(_e<he||_e===he&&(M.x>K.x||M.x===K.x&&AC(K,M)))&&(K=M,he=_e)}M=M.next}while(M!==re);return K}(h,s);if(!f)return s;const y=Mv(f,h);return Ad(y,y.next),Ad(f,f.next)}function AC(h,s){return ni(h.prev,h,s.prev)<0&&ni(s.next,h,h.next)<0}function s0(h,s,f,y,w){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=(h-f)*w|0)|h<<8))|h<<4))|h<<2))|h<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-y)*w|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function sw(h){let s=h,f=h;do(s.x<f.x||s.x===f.x&&s.y<f.y)&&(f=s),s=s.next;while(s!==h);return f}function om(h,s,f,y,w,P,M,D){return(w-M)*(s-D)>=(h-M)*(P-D)&&(h-M)*(y-D)>=(f-M)*(s-D)&&(f-M)*(P-D)>=(w-M)*(y-D)}function Ql(h,s,f,y,w,P,M,D){return!(h===M&&s===D)&&om(h,s,f,y,w,P,M,D)}function lw(h,s){return h.next.i!==s.i&&h.prev.i!==s.i&&!function(f,y){let w=f;do{if(w.i!==f.i&&w.next.i!==f.i&&w.i!==y.i&&w.next.i!==y.i&&Fc(w,w.next,f,y))return!0;w=w.next}while(w!==f);return!1}(h,s)&&(lm(h,s)&&lm(s,h)&&function(f,y){let w=f,P=!1;const M=(f.x+y.x)/2,D=(f.y+y.y)/2;do w.y>D!=w.next.y>D&&w.next.y!==w.y&&M<(w.next.x-w.x)*(D-w.y)/(w.next.y-w.y)+w.x&&(P=!P),w=w.next;while(w!==f);return P}(h,s)&&(ni(h.prev,h,s.prev)||ni(h,s.prev,s))||Cu(h,s)&&ni(h.prev,h,h.next)>0&&ni(s.prev,s,s.next)>0)}function ni(h,s,f){return(s.y-h.y)*(f.x-s.x)-(s.x-h.x)*(f.y-s.y)}function Cu(h,s){return h.x===s.x&&h.y===s.y}function Fc(h,s,f,y){const w=sm(ni(h,s,f)),P=sm(ni(h,s,y)),M=sm(ni(f,y,h)),D=sm(ni(f,y,s));return w!==P&&M!==D||!(w!==0||!Kg(h,f,s))||!(P!==0||!Kg(h,y,s))||!(M!==0||!Kg(f,h,y))||!(D!==0||!Kg(f,s,y))}function Kg(h,s,f){return s.x<=Math.max(h.x,f.x)&&s.x>=Math.min(h.x,f.x)&&s.y<=Math.max(h.y,f.y)&&s.y>=Math.min(h.y,f.y)}function sm(h){return h>0?1:h<0?-1:0}function lm(h,s){return ni(h.prev,h,h.next)<0?ni(h,s,h.next)>=0&&ni(h,h.prev,s)>=0:ni(h,s,h.prev)<0||ni(h,h.next,s)<0}function Mv(h,s){const f=kv(h.i,h.x,h.y),y=kv(s.i,s.x,s.y),w=h.next,P=s.prev;return h.next=s,s.prev=h,f.next=w,w.prev=f,y.next=f,f.prev=y,P.next=y,y.prev=P,y}function Ov(h,s,f,y){const w=kv(h,s,f);return y?(w.next=y.next,w.prev=y,y.next.prev=w,y.next=w):(w.prev=w,w.next=w),w}function If(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function kv(h,s,f){return{i:h,x:s,y:f,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Zs{constructor(s,f){if(f>s)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=s,this._minGranularity=f}getGranularityForZoomLevel(s){return Math.max(Math.floor(this._baseZoomGranularity/(1<<s)),this._minGranularity,1)}}class ai{constructor(s){this.fill=s.fill,this.line=s.line,this.tile=s.tile,this.stencil=s.stencil,this.circle=s.circle}}ai.noSubdivision=new ai({fill:new Zs(0,0),line:new Zs(0,0),tile:new Zs(0,0),stencil:new Zs(0,0),circle:1}),Er("SubdivisionGranularityExpression",Zs),Er("SubdivisionGranularitySetting",ai);const Df=-32768,cm=32767;class xo{constructor(s,f){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=s,this._granularityCellSize=Se/s,this._canonical=f}_getKey(s,f){return(s+=32768)<<16|(f+=32768)<<0}_vertexToIndex(s,f){if(s<-32768||f<-32768||s>32767||f>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const y=0|Math.round(s),w=0|Math.round(f),P=this._getKey(y,w);if(this._vertexDictionary.has(P))return this._vertexDictionary.get(P);const M=this._vertexBuffer.length/2;return this._vertexDictionary.set(P,M),this._vertexBuffer.push(y,w),M}_subdivideTrianglesScanline(s){if(this._granularity<2)return function(w,P){const M=[];for(let D=0;D<P.length;D+=3){const H=P[D],K=P[D+1],Q=P[D+2],re=w[2*H],se=w[2*H+1];(w[2*K]-re)*(w[2*Q+1]-se)-(w[2*K+1]-se)*(w[2*Q]-re)>0?(M.push(H),M.push(Q),M.push(K)):(M.push(H),M.push(K),M.push(Q))}return M}(this._vertexBuffer,s);const f=[],y=s.length;for(let w=0;w<y;w+=3){const P=[s[w+0],s[w+1],s[w+2]],M=[this._vertexBuffer[2*s[w+0]+0],this._vertexBuffer[2*s[w+0]+1],this._vertexBuffer[2*s[w+1]+0],this._vertexBuffer[2*s[w+1]+1],this._vertexBuffer[2*s[w+2]+0],this._vertexBuffer[2*s[w+2]+1]];let D=1/0,H=1/0,K=-1/0,Q=-1/0;for(let _e=0;_e<3;_e++){const Pe=M[2*_e],Le=M[2*_e+1];D=Math.min(D,Pe),K=Math.max(K,Pe),H=Math.min(H,Le),Q=Math.max(Q,Le)}if(D===K||H===Q)continue;const re=Math.floor(D/this._granularityCellSize),se=Math.ceil(K/this._granularityCellSize),de=Math.floor(H/this._granularityCellSize),he=Math.ceil(Q/this._granularityCellSize);if(re!==se||de!==he)for(let _e=de;_e<he;_e++){const Pe=this._scanlineGenerateVertexRingForCellRow(_e,M,P);uw(this._vertexBuffer,Pe,f)}else f.push(...P)}return f}_scanlineGenerateVertexRingForCellRow(s,f,y){const w=s*this._granularityCellSize,P=w+this._granularityCellSize,M=[];for(let D=0;D<3;D++){const H=f[2*D],K=f[2*D+1],Q=f[2*(D+1)%6],re=f[(2*(D+1)+1)%6],se=f[2*(D+2)%6],de=f[(2*(D+2)+1)%6],he=Q-H,_e=re-K,Pe=he===0,Le=_e===0,tt=(w-K)/_e,$e=(P-K)/_e,ue=Math.min(tt,$e),Te=Math.max(tt,$e);if(!Le&&(ue>=1||Te<=0)||Le&&(K<w||K>P)){re>=w&&re<=P&&M.push(y[(D+1)%3]);continue}!Le&&ue>0&&M.push(this._vertexToIndex(H+he*ue,K+_e*ue));const Ve=H+he*Math.max(ue,0),_t=H+he*Math.min(Te,1);Pe||this._generateIntraEdgeVertices(M,H,K,Q,re,Ve,_t),!Le&&Te<1&&M.push(this._vertexToIndex(H+he*Te,K+_e*Te)),(Le||re>=w&&re<=P)&&M.push(y[(D+1)%3]),!Le&&(re<=w||re>=P)&&this._generateInterEdgeVertices(M,H,K,Q,re,se,de,_t,w,P)}return M}_generateIntraEdgeVertices(s,f,y,w,P,M,D){const H=w-f,K=P-y,Q=K===0,re=Q?Math.min(f,w):Math.min(M,D),se=Q?Math.max(f,w):Math.max(M,D),de=Math.floor(re/this._granularityCellSize)+1,he=Math.ceil(se/this._granularityCellSize)-1;if(Q?f<w:M<D)for(let _e=de;_e<=he;_e++){const Pe=_e*this._granularityCellSize;s.push(this._vertexToIndex(Pe,y+K*(Pe-f)/H))}else for(let _e=he;_e>=de;_e--){const Pe=_e*this._granularityCellSize;s.push(this._vertexToIndex(Pe,y+K*(Pe-f)/H))}}_generateInterEdgeVertices(s,f,y,w,P,M,D,H,K,Q){const re=P-y,se=M-w,de=D-P,he=(K-P)/de,_e=(Q-P)/de,Pe=Math.min(he,_e),Le=Math.max(he,_e),tt=w+se*Pe;let $e=Math.floor(Math.min(tt,H)/this._granularityCellSize)+1,ue=Math.ceil(Math.max(tt,H)/this._granularityCellSize)-1,Te=H<tt;const Ve=de===0;if(Ve&&(D===K||D===Q))return;if(Ve||Pe>=1||Le<=0){const Kt=y-D,Ct=M+(f-M)*Math.min((K-D)/Kt,(Q-D)/Kt);$e=Math.floor(Math.min(Ct,H)/this._granularityCellSize)+1,ue=Math.ceil(Math.max(Ct,H)/this._granularityCellSize)-1,Te=H<Ct}const _t=re>0?Q:K;if(Te)for(let Kt=$e;Kt<=ue;Kt++)s.push(this._vertexToIndex(Kt*this._granularityCellSize,_t));else for(let Kt=ue;Kt>=$e;Kt--)s.push(this._vertexToIndex(Kt*this._granularityCellSize,_t))}_generateOutline(s){const f=[];for(const y of s){const w=zf(y,this._granularity,!0),P=this._pointArrayToIndices(w),M=[];for(let D=1;D<P.length;D++)M.push(P[D-1]),M.push(P[D]);f.push(M)}return f}_handlePoles(s){let f=!1,y=!1;this._canonical&&(this._canonical.y===0&&(f=!0),this._canonical.y===(1<<this._canonical.z)-1&&(y=!0)),(f||y)&&this._fillPoles(s,f,y)}_ensureNoPoleVertices(){const s=this._vertexBuffer;for(let f=0;f<s.length;f+=2){const y=s[f+1];y===Df&&(s[f+1]=-32767),y===cm&&(s[f+1]=32766)}}_generatePoleQuad(s,f,y,w,P,M){w>P!=(M===Df)?(s.push(f),s.push(y),s.push(this._vertexToIndex(w,M)),s.push(y),s.push(this._vertexToIndex(P,M)),s.push(this._vertexToIndex(w,M))):(s.push(y),s.push(f),s.push(this._vertexToIndex(w,M)),s.push(this._vertexToIndex(P,M)),s.push(y),s.push(this._vertexToIndex(w,M)))}_fillPoles(s,f,y){const w=this._vertexBuffer,P=Se,M=s.length;for(let D=2;D<M;D+=3){const H=s[D-2],K=s[D-1],Q=s[D],re=w[2*H],se=w[2*H+1],de=w[2*K],he=w[2*K+1],_e=w[2*Q],Pe=w[2*Q+1];f&&(se===0&&he===0&&this._generatePoleQuad(s,H,K,re,de,Df),he===0&&Pe===0&&this._generatePoleQuad(s,K,Q,de,_e,Df),Pe===0&&se===0&&this._generatePoleQuad(s,Q,H,_e,re,Df)),y&&(se===P&&he===P&&this._generatePoleQuad(s,H,K,re,de,cm),he===P&&Pe===P&&this._generatePoleQuad(s,K,Q,de,_e,cm),Pe===P&&se===P&&this._generatePoleQuad(s,Q,H,_e,re,cm))}}_initializeVertices(s){for(let f=0;f<s.length;f+=2)this._vertexToIndex(s[f],s[f+1])}subdividePolygonInternal(s,f){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:y,holeIndices:w}=function(D){const H=[],K=[];for(const Q of D)if(Q.length!==0){Q!==D[0]&&H.push(K.length/2);for(let re=0;re<Q.length;re++)K.push(Q[re].x),K.push(Q[re].y)}return{flattened:K,holeIndices:H}}(s);let P;this._initializeVertices(y);try{const D=function(K,Q,re=2){const se=Q&&Q.length,de=se?Q[0]*re:K.length;let he=Eu(K,0,de,re,!0);const _e=[];if(!he||he.next===he.prev)return _e;let Pe,Le,tt;if(se&&(he=function($e,ue,Te,Ve){const _t=[];for(let Kt=0,Ct=ue.length;Kt<Ct;Kt++){const zt=Eu($e,ue[Kt]*Ve,Kt<Ct-1?ue[Kt+1]*Ve:$e.length,Ve,!1);zt===zt.next&&(zt.steiner=!0),_t.push(sw(zt))}_t.sort(Wg);for(let Kt=0;Kt<_t.length;Kt++)Te=fi(_t[Kt],Te);return Te}(K,Q,he,re)),K.length>80*re){Pe=1/0,Le=1/0;let $e=-1/0,ue=-1/0;for(let Te=re;Te<de;Te+=re){const Ve=K[Te],_t=K[Te+1];Ve<Pe&&(Pe=Ve),_t<Le&&(Le=_t),Ve>$e&&($e=Ve),_t>ue&&(ue=_t)}tt=Math.max($e-Pe,ue-Le),tt=tt!==0?32767/tt:0}return Zg(he,_e,re,Pe,Le,tt,0),_e}(y,w),H=this._convertIndices(y,D);P=this._subdivideTrianglesScanline(H)}catch(D){console.error(D)}let M=[];return f&&(M=this._generateOutline(s)),this._ensureNoPoleVertices(),this._handlePoles(P),{verticesFlattened:this._vertexBuffer,indicesTriangles:P,indicesLineList:M}}_convertIndices(s,f){const y=[];for(let w=0;w<f.length;w++)y.push(this._vertexToIndex(s[2*f[w]],s[2*f[w]+1]));return y}_pointArrayToIndices(s){const f=[];for(let y=0;y<s.length;y++){const w=s[y];f.push(this._vertexToIndex(w.x,w.y))}return f}}function cw(h,s,f,y=!0){return new xo(f,s).subdividePolygonInternal(h,y)}function zf(h,s,f=!1){if(!h||h.length<1)return[];if(h.length<2)return[];const y=h[0],w=h[h.length-1],P=f&&(y.x!==w.x||y.y!==w.y);if(s<2)return P?[...h,h[0]]:[...h];const M=Math.floor(Se/s),D=[];D.push(new I(h[0].x,h[0].y));const H=h.length,K=P?H:H-1;for(let Q=0;Q<K;Q++){const re=h[Q],se=Q<H-1?h[Q+1]:h[0],de=re.x,he=re.y,_e=se.x,Pe=se.y,Le=de!==_e,tt=he!==Pe;if(!Le&&!tt)continue;const $e=_e-de,ue=Pe-he,Te=Math.abs($e),Ve=Math.abs(ue);let _t=de,Kt=he;for(;;){const zt=$e>0?(Math.floor(_t/M)+1)*M:(Math.ceil(_t/M)-1)*M,ir=ue>0?(Math.floor(Kt/M)+1)*M:(Math.ceil(Kt/M)-1)*M,rr=Math.abs(_t-zt),fr=Math.abs(Kt-ir),Ft=Math.abs(_t-_e),Ar=Math.abs(Kt-Pe),jr=Le?rr/Te:Number.POSITIVE_INFINITY,Nr=tt?fr/Ve:Number.POSITIVE_INFINITY;if((Ft<=rr||!Le)&&(Ar<=fr||!tt))break;if(jr<Nr&&Le||!tt){_t=zt,Kt+=ue*jr;const kr=new I(_t,Math.round(Kt));D[D.length-1].x===kr.x&&D[D.length-1].y===kr.y||D.push(kr)}else{_t+=$e*Nr,Kt=ir;const kr=new I(Math.round(_t),Kt);D[D.length-1].x===kr.x&&D[D.length-1].y===kr.y||D.push(kr)}}const Ct=new I(_e,Pe);D[D.length-1].x===Ct.x&&D[D.length-1].y===Ct.y||D.push(Ct)}return D}function uw(h,s,f){if(s.length===0)throw new Error("Subdivision vertex ring is empty.");let y=0,w=h[2*s[0]];for(let H=1;H<s.length;H++){const K=h[2*s[H]];K<w&&(w=K,y=H)}const P=s.length;let M=y,D=(M+1)%P;for(;;){const H=M-1>=0?M-1:P-1,K=(D+1)%P,Q=h[2*s[H]],re=h[2*s[K]],se=h[2*s[M]],de=h[2*s[M]+1],he=h[2*s[D]+1];let _e=!1;if(Q<re)_e=!0;else if(Q>re)_e=!1;else{const Pe=he-de,Le=-(h[2*s[D]]-se),tt=de<he?1:-1;((Q-se)*Pe+(h[2*s[H]+1]-de)*Le)*tt>((re-se)*Pe+(h[2*s[K]+1]-de)*Le)*tt&&(_e=!0)}if(_e){const Pe=s[H],Le=s[M],tt=s[D];Pe!==Le&&Pe!==tt&&Le!==tt&&f.push(tt,Le,Pe),M--,M<0&&(M=P-1)}else{const Pe=s[K],Le=s[M],tt=s[D];Pe!==Le&&Pe!==tt&&Le!==tt&&f.push(tt,Le,Pe),D++,D>=P&&(D=0)}if(H===K)break}}function $a(h,s,f,y,w,P,M,D,H){const K=w.length/2,Q=M&&D&&H;if(K<Vn.MAX_VERTEX_ARRAY_LENGTH){const re=s.prepareSegment(K,f,y),se=re.vertexLength;for(let _e=0;_e<P.length;_e+=3)y.emplaceBack(se+P[_e],se+P[_e+1],se+P[_e+2]);let de,he;re.vertexLength+=K,re.primitiveLength+=P.length/3,Q&&(he=M.prepareSegment(K,f,D),de=he.vertexLength,he.vertexLength+=K);for(let _e=0;_e<w.length;_e+=2)h(w[_e],w[_e+1]);if(Q)for(let _e=0;_e<H.length;_e++){const Pe=H[_e];for(let Le=1;Le<Pe.length;Le+=2)D.emplaceBack(de+Pe[Le-1],de+Pe[Le]);he.primitiveLength+=Pe.length/2}}else(function(re,se,de,he,_e,Pe){const Le=[];for(let Ve=0;Ve<he.length/2;Ve++)Le.push(-1);const tt={count:0};let $e=0,ue=re.getOrCreateLatestSegment(se,de),Te=ue.vertexLength;for(let Ve=2;Ve<_e.length;Ve+=3){const _t=_e[Ve-2],Kt=_e[Ve-1],Ct=_e[Ve];let zt=Le[_t]<$e,ir=Le[Kt]<$e,rr=Le[Ct]<$e;ue.vertexLength+((zt?1:0)+(ir?1:0)+(rr?1:0))>Vn.MAX_VERTEX_ARRAY_LENGTH&&(ue=re.createNewSegment(se,de),$e=tt.count,zt=!0,ir=!0,rr=!0,Te=0);const fr=wo(Le,he,Pe,tt,_t,zt,ue),Ft=wo(Le,he,Pe,tt,Kt,ir,ue),Ar=wo(Le,he,Pe,tt,Ct,rr,ue);de.emplaceBack(Te+fr-$e,Te+Ft-$e,Te+Ar-$e),ue.primitiveLength++}})(s,f,y,w,P,h),Q&&function(re,se,de,he,_e,Pe){const Le=[];for(let Ve=0;Ve<he.length/2;Ve++)Le.push(-1);const tt={count:0};let $e=0,ue=re.getOrCreateLatestSegment(se,de),Te=ue.vertexLength;for(let Ve=0;Ve<_e.length;Ve++){const _t=_e[Ve];for(let Kt=1;Kt<_e[Ve].length;Kt+=2){const Ct=_t[Kt-1],zt=_t[Kt];let ir=Le[Ct]<$e,rr=Le[zt]<$e;ue.vertexLength+((ir?1:0)+(rr?1:0))>Vn.MAX_VERTEX_ARRAY_LENGTH&&(ue=re.createNewSegment(se,de),$e=tt.count,ir=!0,rr=!0,Te=0);const fr=wo(Le,he,Pe,tt,Ct,ir,ue),Ft=wo(Le,he,Pe,tt,zt,rr,ue);de.emplaceBack(Te+fr-$e,Te+Ft-$e),ue.primitiveLength++}}}(M,f,D,w,H,h),s.forceNewSegmentOnNextPrepare(),M==null||M.forceNewSegmentOnNextPrepare()}function wo(h,s,f,y,w,P,M){if(P){const D=y.count;return f(s[2*w],s[2*w+1]),h[w]=y.count,y.count++,M.vertexLength++,D}return h[w]}class Nc{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(f=>f.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new hr,this.indexArray=new qn,this.indexArray2=new ui,this.programConfigurations=new Lc(s.layers,s.zoom),this.segments=new Vn,this.segments2=new Vn,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(s,f,y){this.hasPattern=Gg("fill",this.layers,f);const w=this.layers[0].layout.get("fill-sort-key"),P=!w.isConstant(),M=[];for(const{feature:D,id:H,index:K,sourceLayerIndex:Q}of s){const re=this.layers[0]._featureFilter.needGeometry,se=Ts(D,re);if(!this.layers[0]._featureFilter.filter(new fa(this.zoom),se,y))continue;const de=P?w.evaluate(se,{},y,f.availableImages):void 0,he={id:H,properties:D.properties,type:D.type,sourceLayerIndex:Q,index:K,geometry:re?se.geometry:Hs(D),patterns:{},sortKey:de};M.push(he)}P&&M.sort((D,H)=>D.sortKey-H.sortKey);for(const D of M){const{geometry:H,index:K,sourceLayerIndex:Q}=D;if(this.hasPattern){const re=Pv("fill",this.layers,D,this.zoom,f);this.patternFeatures.push(re)}else this.addFeature(D,H,K,y,{},f.subdivisionGranularity);f.featureIndex.insert(s[K].feature,H,K,Q,this.index)}}update(s,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,f,this.stateDependentLayers,y)}addFeatures(s,f,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,f,y,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,aw),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,f,y,w,P,M){for(const D of Ph(f,500)){const H=cw(D,w,M.fill.getGranularityForZoomLevel(w.z)),K=this.layoutVertexArray;$a((Q,re)=>{K.emplaceBack(Q,re)},this.segments,this.layoutVertexArray,this.indexArray,H.verticesFlattened,H.indicesTriangles,this.segments2,this.indexArray2,H.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,y,P,w)}}let l0,c0;Er("FillBucket",Nc,{omit:["layers","patternFeatures"]});var PC={get paint(){return c0=c0||new ka({"fill-antialias":new xr(Re.paint_fill["fill-antialias"]),"fill-opacity":new qr(Re.paint_fill["fill-opacity"]),"fill-color":new qr(Re.paint_fill["fill-color"]),"fill-outline-color":new qr(Re.paint_fill["fill-outline-color"]),"fill-translate":new xr(Re.paint_fill["fill-translate"]),"fill-translate-anchor":new xr(Re.paint_fill["fill-translate-anchor"]),"fill-pattern":new Wl(Re.paint_fill["fill-pattern"])})},get layout(){return l0=l0||new ka({"fill-sort-key":new qr(Re.layout_fill["fill-sort-key"])})}};class u0 extends Vs{constructor(s){super(s,PC)}recalculate(s,f){super.recalculate(s,f);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new Nc(s)}queryRadius(){return Vg(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:s,geometry:f,transform:y,pixelsToTileUnits:w}){return X_(Sv(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-y.bearingInRadians,w),f)}isTileClipped(){return!0}}const gl=Aa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),jc=Aa([{name:"a_centroid",components:2,type:"Int16"}],4),{members:dw}=gl;var As,d0,Tu,Lf,Au,Iv,Dv,yl={};function f0(){if(d0)return As;d0=1;var h=E();function s(w,P,M,D,H){this.properties={},this.extent=M,this.type=0,this._pbf=w,this._geometry=-1,this._keys=D,this._values=H,w.readFields(f,this,P)}function f(w,P,M){w==1?P.id=M.readVarint():w==2?function(D,H){for(var K=D.readVarint()+D.pos;D.pos<K;){var Q=H._keys[D.readVarint()],re=H._values[D.readVarint()];H.properties[Q]=re}}(M,P):w==3?P.type=M.readVarint():w==4&&(P._geometry=M.pos)}function y(w){for(var P,M,D=0,H=0,K=w.length,Q=K-1;H<K;Q=H++)D+=((M=w[Q]).x-(P=w[H]).x)*(P.y+M.y);return D}return As=s,s.types=["Unknown","Point","LineString","Polygon"],s.prototype.loadGeometry=function(){var w=this._pbf;w.pos=this._geometry;for(var P,M=w.readVarint()+w.pos,D=1,H=0,K=0,Q=0,re=[];w.pos<M;){if(H<=0){var se=w.readVarint();D=7&se,H=se>>3}if(H--,D===1||D===2)K+=w.readSVarint(),Q+=w.readSVarint(),D===1&&(P&&re.push(P),P=[]),P.push(new h(K,Q));else{if(D!==7)throw new Error("unknown command "+D);P&&P.push(P[0].clone())}}return P&&re.push(P),re},s.prototype.bbox=function(){var w=this._pbf;w.pos=this._geometry;for(var P=w.readVarint()+w.pos,M=1,D=0,H=0,K=0,Q=1/0,re=-1/0,se=1/0,de=-1/0;w.pos<P;){if(D<=0){var he=w.readVarint();M=7&he,D=he>>3}if(D--,M===1||M===2)(H+=w.readSVarint())<Q&&(Q=H),H>re&&(re=H),(K+=w.readSVarint())<se&&(se=K),K>de&&(de=K);else if(M!==7)throw new Error("unknown command "+M)}return[Q,se,re,de]},s.prototype.toGeoJSON=function(w,P,M){var D,H,K=this.extent*Math.pow(2,M),Q=this.extent*w,re=this.extent*P,se=this.loadGeometry(),de=s.types[this.type];function he(Le){for(var tt=0;tt<Le.length;tt++){var $e=Le[tt];Le[tt]=[360*($e.x+Q)/K-180,360/Math.PI*Math.atan(Math.exp((180-360*($e.y+re)/K)*Math.PI/180))-90]}}switch(this.type){case 1:var _e=[];for(D=0;D<se.length;D++)_e[D]=se[D][0];he(se=_e);break;case 2:for(D=0;D<se.length;D++)he(se[D]);break;case 3:for(se=function(Le){var tt=Le.length;if(tt<=1)return[Le];for(var $e,ue,Te=[],Ve=0;Ve<tt;Ve++){var _t=y(Le[Ve]);_t!==0&&(ue===void 0&&(ue=_t<0),ue===_t<0?($e&&Te.push($e),$e=[Le[Ve]]):$e.push(Le[Ve]))}return $e&&Te.push($e),Te}(se),D=0;D<se.length;D++)for(H=0;H<se[D].length;H++)he(se[D][H])}se.length===1?se=se[0]:de="Multi"+de;var Pe={type:"Feature",geometry:{type:de,coordinates:se},properties:this.properties};return"id"in this&&(Pe.id=this.id),Pe},As}function Kh(){if(Lf)return Tu;Lf=1;var h=f0();function s(y,w){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=y,this._keys=[],this._values=[],this._features=[],y.readFields(f,this,w),this.length=this._features.length}function f(y,w,P){y===15?w.version=P.readVarint():y===1?w.name=P.readString():y===5?w.extent=P.readVarint():y===2?w._features.push(P.pos):y===3?w._keys.push(P.readString()):y===4&&w._values.push(function(M){for(var D=null,H=M.readVarint()+M.pos;M.pos<H;){var K=M.readVarint()>>3;D=K===1?M.readString():K===2?M.readFloat():K===3?M.readDouble():K===4?M.readVarint64():K===5?M.readVarint():K===6?M.readSVarint():K===7?M.readBoolean():null}return D}(P))}return Tu=s,s.prototype.feature=function(y){if(y<0||y>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[y];var w=this._pbf.readVarint()+this._pbf.pos;return new h(this._pbf,w,this.extent,this._keys,this._values)},Tu}function um(){return Dv||(Dv=1,yl.VectorTile=function(){if(Iv)return Au;Iv=1;var h=Kh();function s(f,y,w){if(f===3){var P=new h(w,w.readVarint()+w.pos);P.length&&(y[P.name]=P)}}return Au=function(f,y){this.layers=f.readFields(s,{},y)},Au}(),yl.VectorTileFeature=f0(),yl.VectorTileLayer=Kh()),yl}var Rd=g(um());const dm=Rd.VectorTileFeature.types,zv=Math.pow(2,13);function fm(h,s,f,y,w,P,M,D){h.emplaceBack(s,f,2*Math.floor(y*zv)+M,w*zv*2,P*zv*2,Math.round(D))}class Xh{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(f=>f.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Wt,this.centroidVertexArray=new Mt,this.indexArray=new qn,this.programConfigurations=new Lc(s.layers,s.zoom),this.segments=new Vn,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(s,f,y){this.features=[],this.hasPattern=Gg("fill-extrusion",this.layers,f);for(const{feature:w,id:P,index:M,sourceLayerIndex:D}of s){const H=this.layers[0]._featureFilter.needGeometry,K=Ts(w,H);if(!this.layers[0]._featureFilter.filter(new fa(this.zoom),K,y))continue;const Q={id:P,sourceLayerIndex:D,index:M,geometry:H?K.geometry:Hs(w),properties:w.properties,type:w.type,patterns:{}};this.hasPattern?this.features.push(Pv("fill-extrusion",this.layers,Q,this.zoom,f)):this.addFeature(Q,Q.geometry,M,y,{},f.subdivisionGranularity),f.featureIndex.insert(w,Q.geometry,M,D,this.index,!0)}}addFeatures(s,f,y){for(const w of this.features){const{geometry:P}=w;this.addFeature(w,P,w.index,f,y,s.subdivisionGranularity)}}update(s,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,f,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,dw),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,jc.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,f,y,w,P,M){for(const D of Ph(f,500)){const H={x:0,y:0,sampleCount:0},K=this.layoutVertexArray.length;this.processPolygon(H,w,s,D,M);const Q=this.layoutVertexArray.length-K,re=Math.floor(H.x/H.sampleCount),se=Math.floor(H.y/H.sampleCount);for(let de=0;de<Q;de++)this.centroidVertexArray.emplaceBack(re,se)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,y,P,w)}processPolygon(s,f,y,w,P){if(w.length<1||h0(w[0]))return;for(const re of w)re.length!==0&&fw(s,re);const M={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},D=P.fill.getGranularityForZoomLevel(f.z),H=dm[y.type]==="Polygon";for(const re of w){if(re.length===0||h0(re))continue;const se=zf(re,D,H);this._generateSideFaces(se,M)}if(!H)return;const K=cw(w,f,D,!1),Q=this.layoutVertexArray;$a((re,se)=>{fm(Q,re,se,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,K.verticesFlattened,K.indicesTriangles)}_generateSideFaces(s,f){let y=0;for(let w=1;w<s.length;w++){const P=s[w],M=s[w-1];if(Lv(P,M))continue;f.segment.vertexLength+4>Vn.MAX_VERTEX_ARRAY_LENGTH&&(f.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const D=P.sub(M)._perp()._unit(),H=M.dist(P);y+H>32768&&(y=0),fm(this.layoutVertexArray,P.x,P.y,D.x,D.y,0,0,y),fm(this.layoutVertexArray,P.x,P.y,D.x,D.y,0,1,y),y+=H,fm(this.layoutVertexArray,M.x,M.y,D.x,D.y,0,0,y),fm(this.layoutVertexArray,M.x,M.y,D.x,D.y,0,1,y);const K=f.segment.vertexLength;this.indexArray.emplaceBack(K,K+2,K+1),this.indexArray.emplaceBack(K+1,K+2,K+3),f.segment.vertexLength+=4,f.segment.primitiveLength+=2}}}function fw(h,s){for(let f=0;f<s.length;f++){const y=s[f];f===s.length-1&&s[0].x===y.x&&s[0].y===y.y||(h.x+=y.x,h.y+=y.y,h.sampleCount++)}}function Lv(h,s){return h.x===s.x&&(h.x<0||h.x>Se)||h.y===s.y&&(h.y<0||h.y>Se)}function h0(h){return h.every(s=>s.x<0)||h.every(s=>s.x>Se)||h.every(s=>s.y<0)||h.every(s=>s.y>Se)}let hw;Er("FillExtrusionBucket",Xh,{omit:["layers","features"]});var RC={get paint(){return hw=hw||new ka({"fill-extrusion-opacity":new xr(Re["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new qr(Re["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new xr(Re["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new xr(Re["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Wl(Re["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new qr(Re["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new qr(Re["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new xr(Re["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ha extends Vs{constructor(s){super(s,RC)}createBucket(s){return new Xh(s)}queryRadius(){return Vg(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:s,feature:f,featureState:y,geometry:w,transform:P,pixelsToTileUnits:M,pixelPosMatrix:D}){const H=Sv(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-P.bearingInRadians,M),K=this.paint.get("fill-extrusion-height").evaluate(f,y),Q=this.paint.get("fill-extrusion-base").evaluate(f,y),re=function(de,he,_e){const Pe=[];for(const Le of de){const tt=[Le.x,Le.y,0,1];ve(tt,tt,he),Pe.push(new I(tt[0]/tt[3],tt[1]/tt[3]))}return Pe}(H,D),se=function(de,he,_e,Pe){const Le=[],tt=[],$e=Pe[8]*he,ue=Pe[9]*he,Te=Pe[10]*he,Ve=Pe[11]*he,_t=Pe[8]*_e,Kt=Pe[9]*_e,Ct=Pe[10]*_e,zt=Pe[11]*_e;for(const ir of de){const rr=[],fr=[];for(const Ft of ir){const Ar=Ft.x,jr=Ft.y,Nr=Pe[0]*Ar+Pe[4]*jr+Pe[12],kr=Pe[1]*Ar+Pe[5]*jr+Pe[13],Sn=Pe[2]*Ar+Pe[6]*jr+Pe[14],ea=Pe[3]*Ar+Pe[7]*jr+Pe[15],wa=Sn+Te,Ua=ea+Ve,Vo=Nr+_t,Yi=kr+Kt,Ia=Sn+Ct,Da=ea+zt,Ci=new I((Nr+$e)/Ua,(kr+ue)/Ua);Ci.z=wa/Ua,rr.push(Ci);const pi=new I(Vo/Da,Yi/Da);pi.z=Ia/Da,fr.push(pi)}Le.push(rr),tt.push(fr)}return[Le,tt]}(w,Q,K,D);return function(de,he,_e){let Pe=1/0;X_(_e,he)&&(Pe=Fn(_e,he[0]));for(let Le=0;Le<he.length;Le++){const tt=he[Le],$e=de[Le];for(let ue=0;ue<tt.length-1;ue++){const Te=tt[ue],Ve=[Te,tt[ue+1],$e[ue+1],$e[ue],Te];xv(_e,Ve)&&(Pe=Math.min(Pe,Fn(_e,Ve)))}}return Pe!==1/0&&Pe}(se[0],se[1],re)}}function ca(h,s){return h.x*s.x+h.y*s.y}function Fn(h,s){if(h.length===1){let f=0;const y=s[f++];let w;for(;!w||y.equals(w);)if(w=s[f++],!w)return 1/0;for(;f<s.length;f++){const P=s[f],M=h[0],D=w.sub(y),H=P.sub(y),K=M.sub(y),Q=ca(D,D),re=ca(D,H),se=ca(H,H),de=ca(K,D),he=ca(K,H),_e=Q*se-re*re,Pe=(se*de-re*he)/_e,Le=(Q*he-re*de)/_e,tt=y.z*(1-Pe-Le)+w.z*Pe+P.z*Le;if(isFinite(tt))return tt}return 1/0}{let f=1/0;for(const y of s)f=Math.min(f,y.z);return f}}const Zn=Aa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:pa}=Zn,vl=Aa([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Bf}=vl,hm=Rd.VectorTileFeature.types,p0=Math.cos(Math.PI/180*37.5),Pu=Math.pow(2,14)/.5;class ii{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(f=>f.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(f=>{this.gradients[f.id]={}}),this.layoutVertexArray=new Or,this.layoutVertexArray2=new vn,this.indexArray=new qn,this.programConfigurations=new Lc(s.layers,s.zoom),this.segments=new Vn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(s,f,y){this.hasPattern=Gg("line",this.layers,f);const w=this.layers[0].layout.get("line-sort-key"),P=!w.isConstant(),M=[];for(const{feature:D,id:H,index:K,sourceLayerIndex:Q}of s){const re=this.layers[0]._featureFilter.needGeometry,se=Ts(D,re);if(!this.layers[0]._featureFilter.filter(new fa(this.zoom),se,y))continue;const de=P?w.evaluate(se,{},y):void 0,he={id:H,properties:D.properties,type:D.type,sourceLayerIndex:Q,index:K,geometry:re?se.geometry:Hs(D),patterns:{},sortKey:de};M.push(he)}P&&M.sort((D,H)=>D.sortKey-H.sortKey);for(const D of M){const{geometry:H,index:K,sourceLayerIndex:Q}=D;if(this.hasPattern){const re=Pv("line",this.layers,D,this.zoom,f);this.patternFeatures.push(re)}else this.addFeature(D,H,K,y,{},f.subdivisionGranularity);f.featureIndex.insert(s[K].feature,H,K,Q,this.index)}}update(s,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,f,this.stateDependentLayers,y)}addFeatures(s,f,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,f,y,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,Bf)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,pa),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,f,y,w,P,M){const D=this.layers[0].layout,H=D.get("line-join").evaluate(s,{}),K=D.get("line-cap"),Q=D.get("line-miter-limit"),re=D.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(const se of f)this.addLine(se,s,H,K,Q,re,w,M);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,y,P,w)}addLine(s,f,y,w,P,M,D,H){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,s=zf(s,D?H.line.getGranularityForZoomLevel(D.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let $e=0;$e<s.length-1;$e++)this.totalDistance+=s[$e].dist(s[$e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const K=hm[f.type]==="Polygon";let Q=s.length;for(;Q>=2&&s[Q-1].equals(s[Q-2]);)Q--;let re=0;for(;re<Q-1&&s[re].equals(s[re+1]);)re++;if(Q<(K?3:2))return;y==="bevel"&&(P=1.05);const se=this.overscaling<=16?15*Se/(512*this.overscaling):0,de=this.segments.prepareSegment(10*Q,this.layoutVertexArray,this.indexArray);let he,_e,Pe,Le,tt;this.e1=this.e2=-1,K&&(he=s[Q-2],tt=s[re].sub(he)._unit()._perp());for(let $e=re;$e<Q;$e++){if(Pe=$e===Q-1?K?s[re+1]:void 0:s[$e+1],Pe&&s[$e].equals(Pe))continue;tt&&(Le=tt),he&&(_e=he),he=s[$e],tt=Pe?Pe.sub(he)._unit()._perp():Le,Le=Le||tt;let ue=Le.add(tt);ue.x===0&&ue.y===0||ue._unit();const Te=Le.x*tt.x+Le.y*tt.y,Ve=ue.x*tt.x+ue.y*tt.y,_t=Ve!==0?1/Ve:1/0,Kt=2*Math.sqrt(2-2*Ve),Ct=Ve<p0&&_e&&Pe,zt=Le.x*tt.y-Le.y*tt.x>0;if(Ct&&$e>re){const fr=he.dist(_e);if(fr>2*se){const Ft=he.sub(he.sub(_e)._mult(se/fr)._round());this.updateDistance(_e,Ft),this.addCurrentVertex(Ft,Le,0,0,de),_e=Ft}}const ir=_e&&Pe;let rr=ir?y:K?"butt":w;if(ir&&rr==="round"&&(_t<M?rr="miter":_t<=2&&(rr="fakeround")),rr==="miter"&&_t>P&&(rr="bevel"),rr==="bevel"&&(_t>2&&(rr="flipbevel"),_t<P&&(rr="miter")),_e&&this.updateDistance(_e,he),rr==="miter")ue._mult(_t),this.addCurrentVertex(he,ue,0,0,de);else if(rr==="flipbevel"){if(_t>100)ue=tt.mult(-1);else{const fr=_t*Le.add(tt).mag()/Le.sub(tt).mag();ue._perp()._mult(fr*(zt?-1:1))}this.addCurrentVertex(he,ue,0,0,de),this.addCurrentVertex(he,ue.mult(-1),0,0,de)}else if(rr==="bevel"||rr==="fakeround"){const fr=-Math.sqrt(_t*_t-1),Ft=zt?fr:0,Ar=zt?0:fr;if(_e&&this.addCurrentVertex(he,Le,Ft,Ar,de),rr==="fakeround"){const jr=Math.round(180*Kt/Math.PI/20);for(let Nr=1;Nr<jr;Nr++){let kr=Nr/jr;if(kr!==.5){const ea=kr-.5;kr+=kr*ea*(kr-1)*((1.0904+Te*(Te*(3.55645-1.43519*Te)-3.2452))*ea*ea+(.848013+Te*(.215638*Te-1.06021)))}const Sn=tt.sub(Le)._mult(kr)._add(Le)._unit()._mult(zt?-1:1);this.addHalfVertex(he,Sn.x,Sn.y,!1,zt,0,de)}}Pe&&this.addCurrentVertex(he,tt,-Ft,-Ar,de)}else if(rr==="butt")this.addCurrentVertex(he,ue,0,0,de);else if(rr==="square"){const fr=_e?1:-1;this.addCurrentVertex(he,ue,fr,fr,de)}else rr==="round"&&(_e&&(this.addCurrentVertex(he,Le,0,0,de),this.addCurrentVertex(he,Le,1,1,de,!0)),Pe&&(this.addCurrentVertex(he,tt,-1,-1,de,!0),this.addCurrentVertex(he,tt,0,0,de)));if(Ct&&$e<Q-1){const fr=he.dist(Pe);if(fr>2*se){const Ft=he.add(Pe.sub(he)._mult(se/fr)._round());this.updateDistance(he,Ft),this.addCurrentVertex(Ft,tt,0,0,de),he=Ft}}}}addCurrentVertex(s,f,y,w,P,M=!1){const D=f.y*w-f.x,H=-f.y-f.x*w;this.addHalfVertex(s,f.x+f.y*y,f.y-f.x*y,M,!1,y,P),this.addHalfVertex(s,D,H,M,!0,-w,P),this.distance>Pu/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,f,y,w,P,M))}addHalfVertex({x:s,y:f},y,w,P,M,D,H){const K=.5*(this.lineClips?this.scaledDistance*(Pu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(P?1:0),(f<<1)+(M?1:0),Math.round(63*y)+128,Math.round(63*w)+128,1+(D===0?0:D<0?-1:1)|(63&K)<<2,K>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Q=H.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,Q,this.e2),H.primitiveLength++),M?this.e2=Q:this.e1=Q}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,f){this.distance+=s.dist(f),this.updateScaledDistance()}}let Md,Ff;Er("LineBucket",ii,{omit:["layers","patternFeatures"]});var Bv={get paint(){return Ff=Ff||new ka({"line-opacity":new qr(Re.paint_line["line-opacity"]),"line-color":new qr(Re.paint_line["line-color"]),"line-translate":new xr(Re.paint_line["line-translate"]),"line-translate-anchor":new xr(Re.paint_line["line-translate-anchor"]),"line-width":new qr(Re.paint_line["line-width"]),"line-gap-width":new qr(Re.paint_line["line-gap-width"]),"line-offset":new qr(Re.paint_line["line-offset"]),"line-blur":new qr(Re.paint_line["line-blur"]),"line-dasharray":new Pc(Re.paint_line["line-dasharray"]),"line-pattern":new Wl(Re.paint_line["line-pattern"]),"line-gradient":new Rf(Re.paint_line["line-gradient"])})},get layout(){return Md=Md||new ka({"line-cap":new xr(Re.layout_line["line-cap"]),"line-join":new qr(Re.layout_line["line-join"]),"line-miter-limit":new xr(Re.layout_line["line-miter-limit"]),"line-round-limit":new xr(Re.layout_line["line-round-limit"]),"line-sort-key":new qr(Re.layout_line["line-sort-key"])})}};class Jl extends qr{possiblyEvaluate(s,f){return f=new fa(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),super.possiblyEvaluate(s,f)}evaluate(s,f,y,w){return f=Vt({},f,{zoom:Math.floor(f.zoom)}),super.evaluate(s,f,y,w)}}let Od;class Xg extends Vs{constructor(s){super(s,Bv),this.gradientVersion=0,Od||(Od=new Jl(Bv.paint.properties["line-width"].specification),Od.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){const f=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(f)&&f._styleExpression.expression instanceof fu,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,f){super.recalculate(s,f),this.paint._values["line-floorwidth"]=Od.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new ii(s)}queryRadius(s){const f=s,y=Ps(nm("line-width",this,f),nm("line-gap-width",this,f)),w=nm("line-offset",this,f);return y/2+Math.abs(w)+Vg(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:s,feature:f,featureState:y,geometry:w,transform:P,pixelsToTileUnits:M}){const D=Sv(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-P.bearingInRadians,M),H=M/2*Ps(this.paint.get("line-width").evaluate(f,y),this.paint.get("line-gap-width").evaluate(f,y)),K=this.paint.get("line-offset").evaluate(f,y);return K&&(w=function(Q,re){const se=[];for(let de=0;de<Q.length;de++){const he=Q[de],_e=[];for(let Pe=0;Pe<he.length;Pe++){const Le=he[Pe-1],tt=he[Pe],$e=he[Pe+1],ue=Pe===0?new I(0,0):tt.sub(Le)._unit()._perp(),Te=Pe===he.length-1?new I(0,0):$e.sub(tt)._unit()._perp(),Ve=ue._add(Te)._unit(),_t=Ve.x*Te.x+Ve.y*Te.y;_t!==0&&Ve._mult(1/_t),_e.push(Ve._mult(re)._add(tt))}se.push(_e)}return se}(w,K*M)),function(Q,re,se){for(let de=0;de<re.length;de++){const he=re[de];if(Q.length>=3){for(let _e=0;_e<he.length;_e++)if(kf(Q,he[_e]))return!0}if(Wh(Q,he,se))return!0}return!1}(D,w,H)}isTileClipped(){return!0}}function Ps(h,s){return s>0?s+2*h:h}const m0=Aa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),g0=Aa([{name:"a_projected_pos",components:3,type:"Float32"}],4);Aa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Fv=Aa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Aa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Yg=Aa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Nf=Aa([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qo(h,s,f){return h.sections.forEach(y=>{y.text=function(w,P,M){const D=P.layout.get("text-transform").evaluate(M,{});return D==="uppercase"?w=w.toLocaleUpperCase():D==="lowercase"&&(w=w.toLocaleLowerCase()),Gl.applyArabicShaping&&(w=Gl.applyArabicShaping(w)),w}(y.text,s,f)}),h}Aa([{name:"triangle",components:3,type:"Uint16"}]),Aa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Aa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Aa([{type:"Float32",name:"offsetX"}]),Aa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Aa([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const ec={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Yh,jf,Nv,hi=24,jv={};function Qg(){return Yh||(Yh=1,jv.read=function(h,s,f,y,w){var P,M,D=8*w-y-1,H=(1<<D)-1,K=H>>1,Q=-7,re=f?w-1:0,se=f?-1:1,de=h[s+re];for(re+=se,P=de&(1<<-Q)-1,de>>=-Q,Q+=D;Q>0;P=256*P+h[s+re],re+=se,Q-=8);for(M=P&(1<<-Q)-1,P>>=-Q,Q+=y;Q>0;M=256*M+h[s+re],re+=se,Q-=8);if(P===0)P=1-K;else{if(P===H)return M?NaN:1/0*(de?-1:1);M+=Math.pow(2,y),P-=K}return(de?-1:1)*M*Math.pow(2,P-y)},jv.write=function(h,s,f,y,w,P){var M,D,H,K=8*P-w-1,Q=(1<<K)-1,re=Q>>1,se=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,de=y?0:P-1,he=y?1:-1,_e=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(D=isNaN(s)?1:0,M=Q):(M=Math.floor(Math.log(s)/Math.LN2),s*(H=Math.pow(2,-M))<1&&(M--,H*=2),(s+=M+re>=1?se/H:se*Math.pow(2,1-re))*H>=2&&(M++,H/=2),M+re>=Q?(D=0,M=Q):M+re>=1?(D=(s*H-1)*Math.pow(2,w),M+=re):(D=s*Math.pow(2,re-1)*Math.pow(2,w),M=0));w>=8;h[f+de]=255&D,de+=he,D/=256,w-=8);for(M=M<<w|D,K+=w;K>0;h[f+de]=255&M,de+=he,M/=256,K-=8);h[f+de-he]|=128*_e}),jv}function $v(){if(Nv)return jf;Nv=1,jf=s;var h=Qg();function s(ue){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(ue)?ue:new Uint8Array(ue||0),this.pos=0,this.type=0,this.length=this.buf.length}s.Varint=0,s.Fixed64=1,s.Bytes=2,s.Fixed32=5;var f=4294967296,y=1/f,w=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function P(ue){return ue.type===s.Bytes?ue.readVarint()+ue.pos:ue.pos+1}function M(ue,Te,Ve){return Ve?4294967296*Te+(ue>>>0):4294967296*(Te>>>0)+(ue>>>0)}function D(ue,Te,Ve){var _t=Te<=16383?1:Te<=2097151?2:Te<=268435455?3:Math.floor(Math.log(Te)/(7*Math.LN2));Ve.realloc(_t);for(var Kt=Ve.pos-1;Kt>=ue;Kt--)Ve.buf[Kt+_t]=Ve.buf[Kt]}function H(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeVarint(ue[Ve])}function K(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeSVarint(ue[Ve])}function Q(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeFloat(ue[Ve])}function re(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeDouble(ue[Ve])}function se(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeBoolean(ue[Ve])}function de(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeFixed32(ue[Ve])}function he(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeSFixed32(ue[Ve])}function _e(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeFixed64(ue[Ve])}function Pe(ue,Te){for(var Ve=0;Ve<ue.length;Ve++)Te.writeSFixed64(ue[Ve])}function Le(ue,Te){return(ue[Te]|ue[Te+1]<<8|ue[Te+2]<<16)+16777216*ue[Te+3]}function tt(ue,Te,Ve){ue[Ve]=Te,ue[Ve+1]=Te>>>8,ue[Ve+2]=Te>>>16,ue[Ve+3]=Te>>>24}function $e(ue,Te){return(ue[Te]|ue[Te+1]<<8|ue[Te+2]<<16)+(ue[Te+3]<<24)}return s.prototype={destroy:function(){this.buf=null},readFields:function(ue,Te,Ve){for(Ve=Ve||this.length;this.pos<Ve;){var _t=this.readVarint(),Kt=_t>>3,Ct=this.pos;this.type=7&_t,ue(Kt,Te,this),this.pos===Ct&&this.skip(_t)}return Te},readMessage:function(ue,Te){return this.readFields(ue,Te,this.readVarint()+this.pos)},readFixed32:function(){var ue=Le(this.buf,this.pos);return this.pos+=4,ue},readSFixed32:function(){var ue=$e(this.buf,this.pos);return this.pos+=4,ue},readFixed64:function(){var ue=Le(this.buf,this.pos)+Le(this.buf,this.pos+4)*f;return this.pos+=8,ue},readSFixed64:function(){var ue=Le(this.buf,this.pos)+$e(this.buf,this.pos+4)*f;return this.pos+=8,ue},readFloat:function(){var ue=h.read(this.buf,this.pos,!0,23,4);return this.pos+=4,ue},readDouble:function(){var ue=h.read(this.buf,this.pos,!0,52,8);return this.pos+=8,ue},readVarint:function(ue){var Te,Ve,_t=this.buf;return Te=127&(Ve=_t[this.pos++]),Ve<128?Te:(Te|=(127&(Ve=_t[this.pos++]))<<7,Ve<128?Te:(Te|=(127&(Ve=_t[this.pos++]))<<14,Ve<128?Te:(Te|=(127&(Ve=_t[this.pos++]))<<21,Ve<128?Te:function(Kt,Ct,zt){var ir,rr,fr=zt.buf;if(ir=(112&(rr=fr[zt.pos++]))>>4,rr<128||(ir|=(127&(rr=fr[zt.pos++]))<<3,rr<128)||(ir|=(127&(rr=fr[zt.pos++]))<<10,rr<128)||(ir|=(127&(rr=fr[zt.pos++]))<<17,rr<128)||(ir|=(127&(rr=fr[zt.pos++]))<<24,rr<128)||(ir|=(1&(rr=fr[zt.pos++]))<<31,rr<128))return M(Kt,ir,Ct);throw new Error("Expected varint not more than 10 bytes")}(Te|=(15&(Ve=_t[this.pos]))<<28,ue,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var ue=this.readVarint();return ue%2==1?(ue+1)/-2:ue/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var ue=this.readVarint()+this.pos,Te=this.pos;return this.pos=ue,ue-Te>=12&&w?function(Ve,_t,Kt){return w.decode(Ve.subarray(_t,Kt))}(this.buf,Te,ue):function(Ve,_t,Kt){for(var Ct="",zt=_t;zt<Kt;){var ir,rr,fr,Ft=Ve[zt],Ar=null,jr=Ft>239?4:Ft>223?3:Ft>191?2:1;if(zt+jr>Kt)break;jr===1?Ft<128&&(Ar=Ft):jr===2?(192&(ir=Ve[zt+1]))==128&&(Ar=(31&Ft)<<6|63&ir)<=127&&(Ar=null):jr===3?(rr=Ve[zt+2],(192&(ir=Ve[zt+1]))==128&&(192&rr)==128&&((Ar=(15&Ft)<<12|(63&ir)<<6|63&rr)<=2047||Ar>=55296&&Ar<=57343)&&(Ar=null)):jr===4&&(rr=Ve[zt+2],fr=Ve[zt+3],(192&(ir=Ve[zt+1]))==128&&(192&rr)==128&&(192&fr)==128&&((Ar=(15&Ft)<<18|(63&ir)<<12|(63&rr)<<6|63&fr)<=65535||Ar>=1114112)&&(Ar=null)),Ar===null?(Ar=65533,jr=1):Ar>65535&&(Ar-=65536,Ct+=String.fromCharCode(Ar>>>10&1023|55296),Ar=56320|1023&Ar),Ct+=String.fromCharCode(Ar),zt+=jr}return Ct}(this.buf,Te,ue)},readBytes:function(){var ue=this.readVarint()+this.pos,Te=this.buf.subarray(this.pos,ue);return this.pos=ue,Te},readPackedVarint:function(ue,Te){if(this.type!==s.Bytes)return ue.push(this.readVarint(Te));var Ve=P(this);for(ue=ue||[];this.pos<Ve;)ue.push(this.readVarint(Te));return ue},readPackedSVarint:function(ue){if(this.type!==s.Bytes)return ue.push(this.readSVarint());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readSVarint());return ue},readPackedBoolean:function(ue){if(this.type!==s.Bytes)return ue.push(this.readBoolean());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readBoolean());return ue},readPackedFloat:function(ue){if(this.type!==s.Bytes)return ue.push(this.readFloat());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readFloat());return ue},readPackedDouble:function(ue){if(this.type!==s.Bytes)return ue.push(this.readDouble());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readDouble());return ue},readPackedFixed32:function(ue){if(this.type!==s.Bytes)return ue.push(this.readFixed32());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readFixed32());return ue},readPackedSFixed32:function(ue){if(this.type!==s.Bytes)return ue.push(this.readSFixed32());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readSFixed32());return ue},readPackedFixed64:function(ue){if(this.type!==s.Bytes)return ue.push(this.readFixed64());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readFixed64());return ue},readPackedSFixed64:function(ue){if(this.type!==s.Bytes)return ue.push(this.readSFixed64());var Te=P(this);for(ue=ue||[];this.pos<Te;)ue.push(this.readSFixed64());return ue},skip:function(ue){var Te=7&ue;if(Te===s.Varint)for(;this.buf[this.pos++]>127;);else if(Te===s.Bytes)this.pos=this.readVarint()+this.pos;else if(Te===s.Fixed32)this.pos+=4;else{if(Te!==s.Fixed64)throw new Error("Unimplemented type: "+Te);this.pos+=8}},writeTag:function(ue,Te){this.writeVarint(ue<<3|Te)},realloc:function(ue){for(var Te=this.length||16;Te<this.pos+ue;)Te*=2;if(Te!==this.length){var Ve=new Uint8Array(Te);Ve.set(this.buf),this.buf=Ve,this.length=Te}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(ue){this.realloc(4),tt(this.buf,ue,this.pos),this.pos+=4},writeSFixed32:function(ue){this.realloc(4),tt(this.buf,ue,this.pos),this.pos+=4},writeFixed64:function(ue){this.realloc(8),tt(this.buf,-1&ue,this.pos),tt(this.buf,Math.floor(ue*y),this.pos+4),this.pos+=8},writeSFixed64:function(ue){this.realloc(8),tt(this.buf,-1&ue,this.pos),tt(this.buf,Math.floor(ue*y),this.pos+4),this.pos+=8},writeVarint:function(ue){(ue=+ue||0)>268435455||ue<0?function(Te,Ve){var _t,Kt;if(Te>=0?(_t=Te%4294967296|0,Kt=Te/4294967296|0):(Kt=~(-Te/4294967296),4294967295^(_t=~(-Te%4294967296))?_t=_t+1|0:(_t=0,Kt=Kt+1|0)),Te>=18446744073709552e3||Te<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Ve.realloc(10),function(Ct,zt,ir){ir.buf[ir.pos++]=127&Ct|128,Ct>>>=7,ir.buf[ir.pos++]=127&Ct|128,Ct>>>=7,ir.buf[ir.pos++]=127&Ct|128,Ct>>>=7,ir.buf[ir.pos++]=127&Ct|128,ir.buf[ir.pos]=127&(Ct>>>=7)}(_t,0,Ve),function(Ct,zt){var ir=(7&Ct)<<4;zt.buf[zt.pos++]|=ir|((Ct>>>=3)?128:0),Ct&&(zt.buf[zt.pos++]=127&Ct|((Ct>>>=7)?128:0),Ct&&(zt.buf[zt.pos++]=127&Ct|((Ct>>>=7)?128:0),Ct&&(zt.buf[zt.pos++]=127&Ct|((Ct>>>=7)?128:0),Ct&&(zt.buf[zt.pos++]=127&Ct|((Ct>>>=7)?128:0),Ct&&(zt.buf[zt.pos++]=127&Ct)))))}(Kt,Ve)}(ue,this):(this.realloc(4),this.buf[this.pos++]=127&ue|(ue>127?128:0),ue<=127||(this.buf[this.pos++]=127&(ue>>>=7)|(ue>127?128:0),ue<=127||(this.buf[this.pos++]=127&(ue>>>=7)|(ue>127?128:0),ue<=127||(this.buf[this.pos++]=ue>>>7&127))))},writeSVarint:function(ue){this.writeVarint(ue<0?2*-ue-1:2*ue)},writeBoolean:function(ue){this.writeVarint(!!ue)},writeString:function(ue){ue=String(ue),this.realloc(4*ue.length),this.pos++;var Te=this.pos;this.pos=function(_t,Kt,Ct){for(var zt,ir,rr=0;rr<Kt.length;rr++){if((zt=Kt.charCodeAt(rr))>55295&&zt<57344){if(!ir){zt>56319||rr+1===Kt.length?(_t[Ct++]=239,_t[Ct++]=191,_t[Ct++]=189):ir=zt;continue}if(zt<56320){_t[Ct++]=239,_t[Ct++]=191,_t[Ct++]=189,ir=zt;continue}zt=ir-55296<<10|zt-56320|65536,ir=null}else ir&&(_t[Ct++]=239,_t[Ct++]=191,_t[Ct++]=189,ir=null);zt<128?_t[Ct++]=zt:(zt<2048?_t[Ct++]=zt>>6|192:(zt<65536?_t[Ct++]=zt>>12|224:(_t[Ct++]=zt>>18|240,_t[Ct++]=zt>>12&63|128),_t[Ct++]=zt>>6&63|128),_t[Ct++]=63&zt|128)}return Ct}(this.buf,ue,this.pos);var Ve=this.pos-Te;Ve>=128&&D(Te,Ve,this),this.pos=Te-1,this.writeVarint(Ve),this.pos+=Ve},writeFloat:function(ue){this.realloc(4),h.write(this.buf,ue,this.pos,!0,23,4),this.pos+=4},writeDouble:function(ue){this.realloc(8),h.write(this.buf,ue,this.pos,!0,52,8),this.pos+=8},writeBytes:function(ue){var Te=ue.length;this.writeVarint(Te),this.realloc(Te);for(var Ve=0;Ve<Te;Ve++)this.buf[this.pos++]=ue[Ve]},writeRawMessage:function(ue,Te){this.pos++;var Ve=this.pos;ue(Te,this);var _t=this.pos-Ve;_t>=128&&D(Ve,_t,this),this.pos=Ve-1,this.writeVarint(_t),this.pos+=_t},writeMessage:function(ue,Te,Ve){this.writeTag(ue,s.Bytes),this.writeRawMessage(Te,Ve)},writePackedVarint:function(ue,Te){Te.length&&this.writeMessage(ue,H,Te)},writePackedSVarint:function(ue,Te){Te.length&&this.writeMessage(ue,K,Te)},writePackedBoolean:function(ue,Te){Te.length&&this.writeMessage(ue,se,Te)},writePackedFloat:function(ue,Te){Te.length&&this.writeMessage(ue,Q,Te)},writePackedDouble:function(ue,Te){Te.length&&this.writeMessage(ue,re,Te)},writePackedFixed32:function(ue,Te){Te.length&&this.writeMessage(ue,de,Te)},writePackedSFixed32:function(ue,Te){Te.length&&this.writeMessage(ue,he,Te)},writePackedFixed64:function(ue,Te){Te.length&&this.writeMessage(ue,_e,Te)},writePackedSFixed64:function(ue,Te){Te.length&&this.writeMessage(ue,Pe,Te)},writeBytesField:function(ue,Te){this.writeTag(ue,s.Bytes),this.writeBytes(Te)},writeFixed32Field:function(ue,Te){this.writeTag(ue,s.Fixed32),this.writeFixed32(Te)},writeSFixed32Field:function(ue,Te){this.writeTag(ue,s.Fixed32),this.writeSFixed32(Te)},writeFixed64Field:function(ue,Te){this.writeTag(ue,s.Fixed64),this.writeFixed64(Te)},writeSFixed64Field:function(ue,Te){this.writeTag(ue,s.Fixed64),this.writeSFixed64(Te)},writeVarintField:function(ue,Te){this.writeTag(ue,s.Varint),this.writeVarint(Te)},writeSVarintField:function(ue,Te){this.writeTag(ue,s.Varint),this.writeSVarint(Te)},writeStringField:function(ue,Te){this.writeTag(ue,s.Bytes),this.writeString(Te)},writeFloatField:function(ue,Te){this.writeTag(ue,s.Fixed32),this.writeFloat(Te)},writeDoubleField:function(ue,Te){this.writeTag(ue,s.Fixed64),this.writeDouble(Te)},writeBooleanField:function(ue,Te){this.writeVarintField(ue,!!Te)}},jf}var Rs=g($v());const Uv=3;function bl(h,s,f){h===1&&f.readMessage(pw,s)}function pw(h,s,f){if(h===3){const{id:y,bitmap:w,width:P,height:M,left:D,top:H,advance:K}=f.readMessage(mw,{});s.push({id:y,bitmap:new im({width:P+2*Uv,height:M+2*Uv},w),metrics:{width:P,height:M,left:D,top:H,advance:K}})}}function mw(h,s,f){h===1?s.id=f.readVarint():h===2?s.bitmap=f.readBytes():h===3?s.width=f.readVarint():h===4?s.height=f.readVarint():h===5?s.left=f.readSVarint():h===6?s.top=f.readSVarint():h===7&&(s.advance=f.readVarint())}const MC=Uv;function kd(h){let s=0,f=0;for(const M of h)s+=M.w*M.h,f=Math.max(f,M.w);h.sort((M,D)=>D.h-M.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),f),h:1/0}];let w=0,P=0;for(const M of h)for(let D=y.length-1;D>=0;D--){const H=y[D];if(!(M.w>H.w||M.h>H.h)){if(M.x=H.x,M.y=H.y,P=Math.max(P,M.y+M.h),w=Math.max(w,M.x+M.w),M.w===H.w&&M.h===H.h){const K=y.pop();D<y.length&&(y[D]=K)}else M.h===H.h?(H.x+=M.w,H.w-=M.w):M.w===H.w?(H.y+=M.h,H.h-=M.h):(y.push({x:H.x+M.w,y:H.y,w:H.w-M.w,h:M.h}),H.y+=M.h,H.h-=M.h);break}}return{w,h:P,fill:s/(w*P)||0}}const So=1;class Jg{constructor(s,{pixelRatio:f,version:y,stretchX:w,stretchY:P,content:M,textFitWidth:D,textFitHeight:H}){this.paddedRect=s,this.pixelRatio=f,this.stretchX=w,this.stretchY=P,this.content=M,this.version=y,this.textFitWidth=D,this.textFitHeight=H}get tl(){return[this.paddedRect.x+So,this.paddedRect.y+So]}get br(){return[this.paddedRect.x+this.paddedRect.w-So,this.paddedRect.y+this.paddedRect.h-So]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*So)/this.pixelRatio,(this.paddedRect.h-2*So)/this.pixelRatio]}}class Qh{constructor(s,f){const y={},w={};this.haveRenderCallbacks=[];const P=[];this.addImages(s,y,P),this.addImages(f,w,P);const{w:M,h:D}=kd(P),H=new Gs({width:M||1,height:D||1});for(const K in s){const Q=s[K],re=y[K].paddedRect;Gs.copy(Q.data,H,{x:0,y:0},{x:re.x+So,y:re.y+So},Q.data)}for(const K in f){const Q=f[K],re=w[K].paddedRect,se=re.x+So,de=re.y+So,he=Q.data.width,_e=Q.data.height;Gs.copy(Q.data,H,{x:0,y:0},{x:se,y:de},Q.data),Gs.copy(Q.data,H,{x:0,y:_e-1},{x:se,y:de-1},{width:he,height:1}),Gs.copy(Q.data,H,{x:0,y:0},{x:se,y:de+_e},{width:he,height:1}),Gs.copy(Q.data,H,{x:he-1,y:0},{x:se-1,y:de},{width:1,height:_e}),Gs.copy(Q.data,H,{x:0,y:0},{x:se+he,y:de},{width:1,height:_e})}this.image=H,this.iconPositions=y,this.patternPositions=w}addImages(s,f,y){for(const w in s){const P=s[w],M={x:0,y:0,w:P.data.width+2*So,h:P.data.height+2*So};y.push(M),f[w]=new Jg(M,P),P.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(s,f){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in s.updatedImages)this.patchUpdatedImage(this.iconPositions[y],s.getImage(y),f),this.patchUpdatedImage(this.patternPositions[y],s.getImage(y),f)}patchUpdatedImage(s,f,y){if(!s||!f||s.version===f.version)return;s.version=f.version;const[w,P]=s.tl;y.update(f.data,void 0,{x:w,y:P})}}var Id;Er("ImagePosition",Jg),Er("ImageAtlas",Qh),c.al=void 0,(Id=c.al||(c.al={}))[Id.none=0]="none",Id[Id.horizontal=1]="horizontal",Id[Id.vertical=2]="vertical",Id[Id.horizontalOnly=3]="horizontalOnly";const ey=-17;class pm{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(s,f,y){const w=new pm;return w.scale=s||1,w.fontStack=f,w.verticalAlign=y||"bottom",w}static forImage(s,f){const y=new pm;return y.imageName=s,y.verticalAlign=f||"bottom",y}}class $f{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,f){const y=new $f;for(let w=0;w<s.sections.length;w++){const P=s.sections[w];P.image?y.addImageSection(P):y.addTextSection(P,f)}return y}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let f="";for(let y=0;y<s.length;y++){const w=s.charCodeAt(y+1)||null,P=s.charCodeAt(y-1)||null;f+=w&&Ac(w)&&!ec[s[y+1]]||P&&Ac(P)&&!ec[s[y-1]]||!ec[s[y]]?s[y]:ec[s[y]]}return f}(this.text)}trim(){let s=0;for(let y=0;y<this.text.length&&qv[this.text.charCodeAt(y)];y++)s++;let f=this.text.length;for(let y=this.text.length-1;y>=0&&y>=s&&qv[this.text.charCodeAt(y)];y--)f--;this.text=this.text.substring(s,f),this.sectionIndex=this.sectionIndex.slice(s,f)}substring(s,f){const y=new $f;return y.text=this.text.substring(s,f),y.sectionIndex=this.sectionIndex.slice(s,f),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,f)=>Math.max(s,this.sections[f].scale),0)}getMaxImageSize(s){let f=0,y=0;for(let w=0;w<this.length();w++){const P=this.getSection(w);if(P.imageName){const M=s[P.imageName];if(!M)continue;const D=M.displaySize;f=Math.max(f,D[0]),y=Math.max(y,D[1])}}return{maxImageWidth:f,maxImageHeight:y}}addTextSection(s,f){this.text+=s.text,this.sections.push(pm.forText(s.scale,s.fontStack||f,s.verticalAlign));const y=this.sections.length-1;for(let w=0;w<s.text.length;++w)this.sectionIndex.push(y)}addImageSection(s){const f=s.image?s.image.name:"";if(f.length===0)return void ur("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(pm.forImage(f,s.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):ur("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function mm(h,s,f,y,w,P,M,D,H,K,Q,re,se,de,he){const _e=$f.fromFeature(h,w);let Pe;re===c.al.vertical&&_e.verticalizePunctuation();const{processBidirectionalText:Le,processStyledBidirectionalText:tt}=Gl;if(Le&&_e.sections.length===1){Pe=[];const Te=Le(_e.toString(),Vv(_e,K,P,s,y,de));for(const Ve of Te){const _t=new $f;_t.text=Ve,_t.sections=_e.sections;for(let Kt=0;Kt<Ve.length;Kt++)_t.sectionIndex.push(0);Pe.push(_t)}}else if(tt){Pe=[];const Te=tt(_e.text,_e.sectionIndex,Vv(_e,K,P,s,y,de));for(const Ve of Te){const _t=new $f;_t.text=Ve[0],_t.sectionIndex=Ve[1],_t.sections=_e.sections,Pe.push(_t)}}else Pe=function(Te,Ve){const _t=[],Kt=Te.text;let Ct=0;for(const zt of Ve)_t.push(Te.substring(Ct,zt)),Ct=zt;return Ct<Kt.length&&_t.push(Te.substring(Ct,Kt.length)),_t}(_e,Vv(_e,K,P,s,y,de));const $e=[],ue={positionedLines:$e,text:_e.toString(),top:Q[1],bottom:Q[1],left:Q[0],right:Q[0],writingMode:re,iconsInText:!1,verticalizable:!1};return function(Te,Ve,_t,Kt,Ct,zt,ir,rr,fr,Ft,Ar,jr){let Nr=0,kr=0,Sn=0,ea=0;const wa=rr==="right"?1:rr==="left"?0:.5,Ua=hi/jr;let Vo=0;for(const Da of Ct){Da.trim();const Ci=Da.getMaxScale(),pi={positionedGlyphs:[],lineOffset:0};Te.positionedLines[Vo]=pi;const Qi=pi.positionedGlyphs;let Ho=0;if(!Da.length()){kr+=zt,++Vo;continue}const ss=gw(Kt,Da,Ua);for(let Ms=0;Ms<Da.length();Ms++){const oi=Da.getSection(Ms),mi=Da.getSectionIndex(Ms),Ai=Da.getCharCode(Ms),za=yw(fr,Ar,Ai);let ua;if(oi.imageName){if(Te.iconsInText=!0,oi.scale=oi.scale*Ua,ua=vw(oi,za,Ci,ss,Kt),!ua)continue;Ho=Math.max(Ho,ua.imageOffset)}else if(ua=Gv(oi,Ai,za,ss,Ve,_t),!ua)continue;const{rect:Ws,metrics:op,baselineOffset:Uc}=ua;Qi.push({glyph:Ai,imageName:oi.imageName,x:Nr,y:kr+Uc+ey,vertical:za,scale:oi.scale,fontStack:oi.fontStack,sectionIndex:mi,metrics:op,rect:Ws}),za?(Te.verticalizable=!0,Nr+=(oi.imageName?op.advance:hi)*oi.scale+Ft):Nr+=op.advance*oi.scale+Ft}Qi.length!==0&&(Sn=Math.max(Nr-Ft,Sn),bw(Qi,0,Qi.length-1,wa)),Nr=0,pi.lineOffset=Math.max(Ho,(Ci-1)*hi);const Ti=zt*Ci+Ho;kr+=Ti,ea=Math.max(Ti,ea),++Vo}const{horizontalAlign:Yi,verticalAlign:Ia}=Hv(ir);(function(Da,Ci,pi,Qi,Ho,ss,Ti,Ms,oi){const mi=(Ci-pi)*Ho;let Ai=0;Ai=ss!==Ti?-Ms*Qi-ey:-Qi*oi*Ti+.5*Ti;for(const za of Da)for(const ua of za.positionedGlyphs)ua.x+=mi,ua.y+=Ai})(Te.positionedLines,wa,Yi,Ia,Sn,ea,zt,kr,Ct.length),Te.top+=-Ia*kr,Te.bottom=Te.top+kr,Te.left+=-Yi*Sn,Te.right=Te.left+Sn}(ue,s,f,y,Pe,M,D,H,re,K,se,he),!function(Te){for(const Ve of Te)if(Ve.positionedGlyphs.length!==0)return!1;return!0}($e)&&ue}const qv={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},OC={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},kC={40:!0};function y0(h,s,f,y,w,P){if(s.imageName){const M=y[s.imageName];return M?M.displaySize[0]*s.scale*hi/P+w:0}{const M=f[s.fontStack],D=M&&M[h];return D?D.metrics.advance*s.scale+w:0}}function v0(h,s,f,y){const w=Math.pow(h-s,2);return y?h<s?w/2:2*w:w+Math.abs(f)*f}function gm(h,s,f){let y=0;return h===10&&(y-=1e4),f&&(y+=150),h!==40&&h!==65288||(y+=50),s!==41&&s!==65289||(y+=50),y}function ty(h,s,f,y,w,P){let M=null,D=v0(s,f,w,P);for(const H of y){const K=v0(s-H.x,f,w,P)+H.badness;K<=D&&(M=H,D=K)}return{index:h,x:s,priorBreak:M,badness:D}}function b0(h){return h?b0(h.priorBreak).concat(h.index):[]}function Vv(h,s,f,y,w,P){if(!h)return[];const M=[],D=function(re,se,de,he,_e,Pe){let Le=0;for(let tt=0;tt<re.length();tt++){const $e=re.getSection(tt);Le+=y0(re.getCharCode(tt),$e,he,_e,se,Pe)}return Le/Math.max(1,Math.ceil(Le/de))}(h,s,f,y,w,P),H=h.text.indexOf("")>=0;let K=0;for(let re=0;re<h.length();re++){const se=h.getSection(re),de=h.getCharCode(re);if(qv[de]||(K+=y0(de,se,y,w,s,P)),re<h.length()-1){const he=!((Q=de)<11904)&&(!!bn["CJK Compatibility Forms"](Q)||!!bn["CJK Compatibility"](Q)||!!bn["CJK Strokes"](Q)||!!bn["CJK Symbols and Punctuation"](Q)||!!bn["Enclosed CJK Letters and Months"](Q)||!!bn["Halfwidth and Fullwidth Forms"](Q)||!!bn["Ideographic Description Characters"](Q)||!!bn["Vertical Forms"](Q)||Hl.test(String.fromCodePoint(Q)));(OC[de]||he||se.imageName||re!==h.length()-2&&kC[h.getCharCode(re+1)])&&M.push(ty(re+1,K,D,M,gm(de,h.getCharCode(re+1),he&&H),!1))}}var Q;return b0(ty(h.length(),K,D,M,0,!0))}function Hv(h){let s=.5,f=.5;switch(h){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(h){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0}return{horizontalAlign:s,verticalAlign:f}}function gw(h,s,f){const y=s.getMaxScale()*hi,{maxImageWidth:w,maxImageHeight:P}=s.getMaxImageSize(h),M=Math.max(y,P*f);return{verticalLineContentWidth:Math.max(y,w*f),horizontalLineContentHeight:M}}function _0(h){switch(h){case"top":return 0;case"center":return .5;default:return 1}}function yw(h,s,f){return!(h===c.al.horizontal||!s&&!pl(f)||s&&(qv[f]||(y=f,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(y)))));var y}function Gv(h,s,f,y,w,P){const M=P[h.fontStack],D=function(K,Q,re,se){if(K&&K.rect)return K;const de=Q[re.fontStack],he=de&&de[se];return he?{rect:null,metrics:he.metrics}:null}(M&&M[s],w,h,s);if(D===null)return null;let H;if(f)H=y.verticalLineContentWidth-h.scale*hi;else{const K=_0(h.verticalAlign);H=(y.horizontalLineContentHeight-h.scale*hi)*K}return{rect:D.rect,metrics:D.metrics,baselineOffset:H}}function vw(h,s,f,y,w){const P=w[h.imageName];if(!P)return null;const M=P.paddedRect,D=P.displaySize,H={width:D[0],height:D[1],left:So,top:-3,advance:s?D[1]:D[0]};let K;if(s)K=y.verticalLineContentWidth-D[1]*h.scale;else{const Q=_0(h.verticalAlign);K=(y.horizontalLineContentHeight-D[1]*h.scale)*Q}return{rect:M,metrics:H,baselineOffset:K,imageOffset:(s?D[0]:D[1])*h.scale-hi*f}}function bw(h,s,f,y){if(y===0)return;const w=h[f],P=(h[f].x+w.metrics.advance*w.scale)*y;for(let M=s;M<=f;M++)h[M].x-=P}function Oa(h,s,f){const{horizontalAlign:y,verticalAlign:w}=Hv(f),P=s[0]-h.displaySize[0]*y,M=s[1]-h.displaySize[1]*w;return{image:h,top:M,bottom:M+h.displaySize[1],left:P,right:P+h.displaySize[0]}}function Zv(h){var s,f;let y=h.left,w=h.top,P=h.right-y,M=h.bottom-w;const D=(s=h.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",H=(f=h.image.textFitHeight)!==null&&f!==void 0?f:"stretchOrShrink",K=(h.image.content[2]-h.image.content[0])/(h.image.content[3]-h.image.content[1]);if(H==="proportional"){if(D==="stretchOnly"&&P/M<K||D==="proportional"){const Q=Math.ceil(M*K);y*=Q/P,P=Q}}else if(D==="proportional"&&H==="stretchOnly"&&K!==0&&P/M>K){const Q=Math.ceil(P/K);w*=Q/M,M=Q}return{x1:y,y1:w,x2:y+P,y2:w+M}}function _w(h,s,f,y,w,P){const M=h.image;let D;if(M.content){const Pe=M.content,Le=M.pixelRatio||1;D=[Pe[0]/Le,Pe[1]/Le,M.displaySize[0]-Pe[2]/Le,M.displaySize[1]-Pe[3]/Le]}const H=s.left*P,K=s.right*P;let Q,re,se,de;f==="width"||f==="both"?(de=w[0]+H-y[3],re=w[0]+K+y[1]):(de=w[0]+(H+K-M.displaySize[0])/2,re=de+M.displaySize[0]);const he=s.top*P,_e=s.bottom*P;return f==="height"||f==="both"?(Q=w[1]+he-y[0],se=w[1]+_e+y[2]):(Q=w[1]+(he+_e-M.displaySize[1])/2,se=Q+M.displaySize[1]),{image:M,top:Q,right:re,bottom:se,left:de,collisionPadding:D}}const ym=255,Ru=128,Uf=ym*Ru;function xw(h,s){const{expression:f}=s;if(f.kind==="constant")return{kind:"constant",layoutSize:f.evaluate(new fa(h+1))};if(f.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:w}=f;let P=0;for(;P<y.length&&y[P]<=h;)P++;P=Math.max(0,P-1);let M=P;for(;M<y.length&&y[M]<h+1;)M++;M=Math.min(y.length-1,M);const D=y[P],H=y[M];return f.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:H,interpolationType:w}:{kind:"camera",minZoom:D,maxZoom:H,minSize:f.evaluate(new fa(D)),maxSize:f.evaluate(new fa(H)),interpolationType:w}}}function vm(h,s,f){let y="never";const w=h.get(s);return w?y=w:h.get(f)&&(y="always"),y}const bm=Rd.VectorTileFeature.types,x0=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Jh(h,s,f,y,w,P,M,D,H,K,Q,re,se){const de=D?Math.min(Uf,Math.round(D[0])):0,he=D?Math.min(Uf,Math.round(D[1])):0;h.emplaceBack(s,f,Math.round(32*y),Math.round(32*w),P,M,(de<<1)+(H?1:0),he,16*K,16*Q,256*re,256*se)}function ry(h,s,f){h.emplaceBack(s.x,s.y,f),h.emplaceBack(s.x,s.y,f),h.emplaceBack(s.x,s.y,f),h.emplaceBack(s.x,s.y,f)}function ep(h){for(const s of h.sections)if(qh(s.text))return!0;return!1}class tc{constructor(s){this.layoutVertexArray=new Ra,this.indexArray=new qn,this.programConfigurations=s,this.segments=new Vn,this.dynamicLayoutVertexArray=new na,this.opacityVertexArray=new Ma,this.hasVisibleVertices=!1,this.placedSymbolArray=new Ze}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,f,y,w){this.isEmpty()||(y&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,m0.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,g0.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,x0,!0),this.opacityVertexBuffer.itemSize=1),(y||w)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Er("SymbolBuffers",tc);class tp{constructor(s,f,y){this.layoutVertexArray=new s,this.layoutAttributes=f,this.indexArray=new y,this.segments=new Vn,this.collisionVertexArray=new la}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,Fv.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Er("CollisionBuffers",tp);class _m{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(M=>M.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=xw(this.zoom,f["text-size"]),this.iconSizeData=xw(this.zoom,f["icon-size"]);const y=this.layers[0].layout,w=y.get("symbol-sort-key"),P=y.get("symbol-z-order");this.canOverlap=vm(y,"text-overlap","text-allow-overlap")!=="never"||vm(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=P!=="viewport-y"&&!w.isConstant(),this.sortFeaturesByY=(P==="viewport-y"||P==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(M=>c.al[M])),this.stateDependentLayerIds=this.layers.filter(M=>M.isStateDependent()).map(M=>M.id),this.sourceID=s.sourceID}createArrays(){this.text=new tc(new Lc(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new tc(new Lc(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new nt,this.lineVertexArray=new Qe,this.symbolInstances=new Xe,this.textAnchorOffsets=new Bt}calculateGlyphDependencies(s,f,y,w,P){for(let M=0;M<s.length;M++)if(f[s.charCodeAt(M)]=!0,(y||w)&&P){const D=ec[s.charAt(M)];D&&(f[D.charCodeAt(0)]=!0)}}populate(s,f,y){const w=this.layers[0],P=w.layout,M=P.get("text-font"),D=P.get("text-field"),H=P.get("icon-image"),K=(D.value.kind!=="constant"||D.value.value instanceof wi&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(M.value.kind!=="constant"||M.value.value.length>0),Q=H.value.kind!=="constant"||!!H.value.value||Object.keys(H.parameters).length>0,re=P.get("symbol-sort-key");if(this.features=[],!K&&!Q)return;const se=f.iconDependencies,de=f.glyphDependencies,he=f.availableImages,_e=new fa(this.zoom);for(const{feature:Pe,id:Le,index:tt,sourceLayerIndex:$e}of s){const ue=w._featureFilter.needGeometry,Te=Ts(Pe,ue);if(!w._featureFilter.filter(_e,Te,y))continue;let Ve,_t;if(ue||(Te.geometry=Hs(Pe)),K){const Ct=w.getValueAndResolveTokens("text-field",Te,y,he),zt=wi.factory(Ct),ir=this.hasRTLText=this.hasRTLText||ep(zt);(!ir||Gl.getRTLTextPluginStatus()==="unavailable"||ir&&Gl.isParsed())&&(Ve=qo(zt,w,Te))}if(Q){const Ct=w.getValueAndResolveTokens("icon-image",Te,y,he);_t=Ct instanceof Fo?Ct:Fo.fromString(Ct)}if(!Ve&&!_t)continue;const Kt=this.sortFeaturesByKey?re.evaluate(Te,{},y):void 0;if(this.features.push({id:Le,text:Ve,icon:_t,index:tt,sourceLayerIndex:$e,geometry:Te.geometry,properties:Pe.properties,type:bm[Pe.type],sortKey:Kt}),_t&&(se[_t.name]=!0),Ve){const Ct=M.evaluate(Te,{},y).join(","),zt=P.get("text-rotation-alignment")!=="viewport"&&P.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(c.al.vertical)>=0;for(const ir of Ve.sections)if(ir.image)se[ir.image.name]=!0;else{const rr=$h(Ve.toString()),fr=ir.fontStack||Ct,Ft=de[fr]=de[fr]||{};this.calculateGlyphDependencies(ir.text,Ft,zt,this.allowVerticalPlacement,rr)}}}P.get("symbol-placement")==="line"&&(this.features=function(Pe){const Le={},tt={},$e=[];let ue=0;function Te(Ct){$e.push(Pe[Ct]),ue++}function Ve(Ct,zt,ir){const rr=tt[Ct];return delete tt[Ct],tt[zt]=rr,$e[rr].geometry[0].pop(),$e[rr].geometry[0]=$e[rr].geometry[0].concat(ir[0]),rr}function _t(Ct,zt,ir){const rr=Le[zt];return delete Le[zt],Le[Ct]=rr,$e[rr].geometry[0].shift(),$e[rr].geometry[0]=ir[0].concat($e[rr].geometry[0]),rr}function Kt(Ct,zt,ir){const rr=ir?zt[0][zt[0].length-1]:zt[0][0];return`${Ct}:${rr.x}:${rr.y}`}for(let Ct=0;Ct<Pe.length;Ct++){const zt=Pe[Ct],ir=zt.geometry,rr=zt.text?zt.text.toString():null;if(!rr){Te(Ct);continue}const fr=Kt(rr,ir),Ft=Kt(rr,ir,!0);if(fr in tt&&Ft in Le&&tt[fr]!==Le[Ft]){const Ar=_t(fr,Ft,ir),jr=Ve(fr,Ft,$e[Ar].geometry);delete Le[fr],delete tt[Ft],tt[Kt(rr,$e[jr].geometry,!0)]=jr,$e[Ar].geometry=null}else fr in tt?Ve(fr,Ft,ir):Ft in Le?_t(fr,Ft,ir):(Te(Ct),Le[fr]=ue-1,tt[Ft]=ue-1)}return $e.filter(Ct=>Ct.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Pe,Le)=>Pe.sortKey-Le.sortKey)}update(s,f,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,f,this.layers,y),this.icon.programConfigurations.updatePaintArrays(s,f,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,f){const y=this.lineVertexArray.length;if(s.segment!==void 0){let w=s.dist(f[s.segment+1]),P=s.dist(f[s.segment]);const M={};for(let D=s.segment+1;D<f.length;D++)M[D]={x:f[D].x,y:f[D].y,tileUnitDistanceFromAnchor:w},D<f.length-1&&(w+=f[D+1].dist(f[D]));for(let D=s.segment||0;D>=0;D--)M[D]={x:f[D].x,y:f[D].y,tileUnitDistanceFromAnchor:P},D>0&&(P+=f[D-1].dist(f[D]));for(let D=0;D<f.length;D++){const H=M[D];this.lineVertexArray.emplaceBack(H.x,H.y,H.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(s,f,y,w,P,M,D,H,K,Q,re,se){const de=s.indexArray,he=s.layoutVertexArray,_e=s.segments.prepareSegment(4*f.length,he,de,this.canOverlap?M.sortKey:void 0),Pe=this.glyphOffsetArray.length,Le=_e.vertexLength,tt=this.allowVerticalPlacement&&D===c.al.vertical?Math.PI/2:0,$e=M.text&&M.text.sections;for(let ue=0;ue<f.length;ue++){const{tl:Te,tr:Ve,bl:_t,br:Kt,tex:Ct,pixelOffsetTL:zt,pixelOffsetBR:ir,minFontScaleX:rr,minFontScaleY:fr,glyphOffset:Ft,isSDF:Ar,sectionIndex:jr}=f[ue],Nr=_e.vertexLength,kr=Ft[1];Jh(he,H.x,H.y,Te.x,kr+Te.y,Ct.x,Ct.y,y,Ar,zt.x,zt.y,rr,fr),Jh(he,H.x,H.y,Ve.x,kr+Ve.y,Ct.x+Ct.w,Ct.y,y,Ar,ir.x,zt.y,rr,fr),Jh(he,H.x,H.y,_t.x,kr+_t.y,Ct.x,Ct.y+Ct.h,y,Ar,zt.x,ir.y,rr,fr),Jh(he,H.x,H.y,Kt.x,kr+Kt.y,Ct.x+Ct.w,Ct.y+Ct.h,y,Ar,ir.x,ir.y,rr,fr),ry(s.dynamicLayoutVertexArray,H,tt),de.emplaceBack(Nr,Nr+2,Nr+1),de.emplaceBack(Nr+1,Nr+2,Nr+3),_e.vertexLength+=4,_e.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ft[0]),ue!==f.length-1&&jr===f[ue+1].sectionIndex||s.programConfigurations.populatePaintArrays(he.length,M,M.index,{},se,$e&&$e[jr])}s.placedSymbolArray.emplaceBack(H.x,H.y,Pe,this.glyphOffsetArray.length-Pe,Le,K,Q,H.segment,y?y[0]:0,y?y[1]:0,w[0],w[1],D,0,!1,0,re)}_addCollisionDebugVertex(s,f,y,w,P,M){return f.emplaceBack(0,0),s.emplaceBack(y.x,y.y,w,P,Math.round(M.x),Math.round(M.y))}addCollisionDebugVertices(s,f,y,w,P,M,D){const H=P.segments.prepareSegment(4,P.layoutVertexArray,P.indexArray),K=H.vertexLength,Q=P.layoutVertexArray,re=P.collisionVertexArray,se=D.anchorX,de=D.anchorY;this._addCollisionDebugVertex(Q,re,M,se,de,new I(s,f)),this._addCollisionDebugVertex(Q,re,M,se,de,new I(y,f)),this._addCollisionDebugVertex(Q,re,M,se,de,new I(y,w)),this._addCollisionDebugVertex(Q,re,M,se,de,new I(s,w)),H.vertexLength+=4;const he=P.indexArray;he.emplaceBack(K,K+1),he.emplaceBack(K+1,K+2),he.emplaceBack(K+2,K+3),he.emplaceBack(K+3,K),H.primitiveLength+=4}addDebugCollisionBoxes(s,f,y,w){for(let P=s;P<f;P++){const M=this.collisionBoxArray.get(P);this.addCollisionDebugVertices(M.x1,M.y1,M.x2,M.y2,w?this.textCollisionBox:this.iconCollisionBox,M.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new tp(xa,Yg.members,ui),this.iconCollisionBox=new tp(xa,Yg.members,ui);for(let s=0;s<this.symbolInstances.length;s++){const f=this.symbolInstances.get(s);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(s,f,y,w,P,M,D,H,K){const Q={};for(let re=f;re<y;re++){const se=s.get(re);Q.textBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Q.textFeatureIndex=se.featureIndex;break}for(let re=w;re<P;re++){const se=s.get(re);Q.verticalTextBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Q.verticalTextFeatureIndex=se.featureIndex;break}for(let re=M;re<D;re++){const se=s.get(re);Q.iconBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Q.iconFeatureIndex=se.featureIndex;break}for(let re=H;re<K;re++){const se=s.get(re);Q.verticalIconBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Q.verticalIconFeatureIndex=se.featureIndex;break}return Q}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){const y=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,f){const y=s.placedSymbolArray.get(f),w=y.vertexStartIndex+4*y.numGlyphs;for(let P=y.vertexStartIndex;P<w;P+=4)s.indexArray.emplaceBack(P,P+2,P+1),s.indexArray.emplaceBack(P+1,P+2,P+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const f=Math.sin(s),y=Math.cos(s),w=[],P=[],M=[];for(let D=0;D<this.symbolInstances.length;++D){M.push(D);const H=this.symbolInstances.get(D);w.push(0|Math.round(f*H.anchorX+y*H.anchorY)),P.push(H.featureIndex)}return M.sort((D,H)=>w[D]-w[H]||P[H]-P[D]),M}addToSortKeyRanges(s,f){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===f?y.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const f of this.symbolInstanceIndexes){const y=this.symbolInstances.get(f);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((w,P,M)=>{w>=0&&M.indexOf(w)===P&&this.addIndicesForPlacedSymbol(this.text,w)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let w0,S0;Er("SymbolBucket",_m,{omit:["layers","collisionBoxArray","features","compareText"]}),_m.MAX_GLYPHS=65535,_m.addDynamicAttributes=ry;var Wv={get paint(){return S0=S0||new ka({"icon-opacity":new qr(Re.paint_symbol["icon-opacity"]),"icon-color":new qr(Re.paint_symbol["icon-color"]),"icon-halo-color":new qr(Re.paint_symbol["icon-halo-color"]),"icon-halo-width":new qr(Re.paint_symbol["icon-halo-width"]),"icon-halo-blur":new qr(Re.paint_symbol["icon-halo-blur"]),"icon-translate":new xr(Re.paint_symbol["icon-translate"]),"icon-translate-anchor":new xr(Re.paint_symbol["icon-translate-anchor"]),"text-opacity":new qr(Re.paint_symbol["text-opacity"]),"text-color":new qr(Re.paint_symbol["text-color"],{runtimeType:tn,getOverride:h=>h.textColor,hasOverride:h=>!!h.textColor}),"text-halo-color":new qr(Re.paint_symbol["text-halo-color"]),"text-halo-width":new qr(Re.paint_symbol["text-halo-width"]),"text-halo-blur":new qr(Re.paint_symbol["text-halo-blur"]),"text-translate":new xr(Re.paint_symbol["text-translate"]),"text-translate-anchor":new xr(Re.paint_symbol["text-translate-anchor"])})},get layout(){return w0=w0||new ka({"symbol-placement":new xr(Re.layout_symbol["symbol-placement"]),"symbol-spacing":new xr(Re.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new xr(Re.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new qr(Re.layout_symbol["symbol-sort-key"]),"symbol-z-order":new xr(Re.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new xr(Re.layout_symbol["icon-allow-overlap"]),"icon-overlap":new xr(Re.layout_symbol["icon-overlap"]),"icon-ignore-placement":new xr(Re.layout_symbol["icon-ignore-placement"]),"icon-optional":new xr(Re.layout_symbol["icon-optional"]),"icon-rotation-alignment":new xr(Re.layout_symbol["icon-rotation-alignment"]),"icon-size":new qr(Re.layout_symbol["icon-size"]),"icon-text-fit":new xr(Re.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new xr(Re.layout_symbol["icon-text-fit-padding"]),"icon-image":new qr(Re.layout_symbol["icon-image"]),"icon-rotate":new qr(Re.layout_symbol["icon-rotate"]),"icon-padding":new qr(Re.layout_symbol["icon-padding"]),"icon-keep-upright":new xr(Re.layout_symbol["icon-keep-upright"]),"icon-offset":new qr(Re.layout_symbol["icon-offset"]),"icon-anchor":new qr(Re.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new xr(Re.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new xr(Re.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new xr(Re.layout_symbol["text-rotation-alignment"]),"text-field":new qr(Re.layout_symbol["text-field"]),"text-font":new qr(Re.layout_symbol["text-font"]),"text-size":new qr(Re.layout_symbol["text-size"]),"text-max-width":new qr(Re.layout_symbol["text-max-width"]),"text-line-height":new xr(Re.layout_symbol["text-line-height"]),"text-letter-spacing":new qr(Re.layout_symbol["text-letter-spacing"]),"text-justify":new qr(Re.layout_symbol["text-justify"]),"text-radial-offset":new qr(Re.layout_symbol["text-radial-offset"]),"text-variable-anchor":new xr(Re.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new qr(Re.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new qr(Re.layout_symbol["text-anchor"]),"text-max-angle":new xr(Re.layout_symbol["text-max-angle"]),"text-writing-mode":new xr(Re.layout_symbol["text-writing-mode"]),"text-rotate":new qr(Re.layout_symbol["text-rotate"]),"text-padding":new xr(Re.layout_symbol["text-padding"]),"text-keep-upright":new xr(Re.layout_symbol["text-keep-upright"]),"text-transform":new qr(Re.layout_symbol["text-transform"]),"text-offset":new qr(Re.layout_symbol["text-offset"]),"text-allow-overlap":new xr(Re.layout_symbol["text-allow-overlap"]),"text-overlap":new xr(Re.layout_symbol["text-overlap"]),"text-ignore-placement":new xr(Re.layout_symbol["text-ignore-placement"]),"text-optional":new xr(Re.layout_symbol["text-optional"])})}};class E0{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:sr,this.defaultValue=s}evaluate(s){if(s.formattedSection){const f=this.defaultValue.property.overrides;if(f&&f.hasOverride(s.formattedSection))return f.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Er("FormatSectionOverride",E0,{omit:["defaultValue"]});class Kv extends Vs{constructor(s){super(s,Wv)}recalculate(s,f){if(super.recalculate(s,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const w=[];for(const P of y)w.indexOf(P)<0&&w.push(P);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,f,y,w){const P=this.layout.get(s).evaluate(f,{},y,w),M=this._unevaluatedLayout._values[s];return M.isDataDriven()||yd(M.value)||!P?P:function(D,H){return H.replace(/{([^{}]+)}/g,(K,Q)=>D&&Q in D?String(D[Q]):"")}(f.properties,P)}createBucket(s){return new _m(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const s of Wv.paint.overridableProperties){if(!Kv.hasPaintOverride(this.layout,s))continue;const f=this.paint.get(s),y=new E0(f),w=new xf(y,f.property.specification);let P=null;P=f.value.kind==="constant"||f.value.kind==="source"?new gu("source",w):new vd("composite",w,f.value.zoomStops),this.paint._values[s]=new rn(f.property,P,f.parameters)}}_handleOverridablePaintPropertyUpdate(s,f,y){return!(!this.layout||f.isDataDriven()||y.isDataDriven())&&Kv.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,f){const y=s.get("text-field"),w=Wv.paint.properties[f];let P=!1;const M=D=>{for(const H of D)if(w.overrides&&w.overrides.hasOverride(H))return void(P=!0)};if(y.value.kind==="constant"&&y.value.value instanceof wi)M(y.value.value.sections);else if(y.value.kind==="source"){const D=K=>{P||(K instanceof an&&_a(K.value)===Bs?M(K.value.sections):K instanceof Dp?M(K.sections):K.eachChild(D))},H=y.value;H._styleExpression&&D(H._styleExpression.expression)}return P}}let Xv;var ww={get paint(){return Xv=Xv||new ka({"background-color":new xr(Re.paint_background["background-color"]),"background-pattern":new Pc(Re.paint_background["background-pattern"]),"background-opacity":new xr(Re.paint_background["background-opacity"])})}};class Sw extends Vs{constructor(s){super(s,ww)}}let Ew;var C0={get paint(){return Ew=Ew||new ka({"raster-opacity":new xr(Re.paint_raster["raster-opacity"]),"raster-hue-rotate":new xr(Re.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new xr(Re.paint_raster["raster-brightness-min"]),"raster-brightness-max":new xr(Re.paint_raster["raster-brightness-max"]),"raster-saturation":new xr(Re.paint_raster["raster-saturation"]),"raster-contrast":new xr(Re.paint_raster["raster-contrast"]),"raster-resampling":new xr(Re.paint_raster["raster-resampling"]),"raster-fade-duration":new xr(Re.paint_raster["raster-fade-duration"])})}};class T0 extends Vs{constructor(s){super(s,C0)}}class IC extends Vs{constructor(s){super(s,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class DC{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const ny={once:!0},A0=63710088e-1;class Dd{constructor(s,f){if(isNaN(s)||isNaN(f))throw new Error(`Invalid LngLat object: (${s}, ${f})`);if(this.lng=+s,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Dd(ut(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){const f=Math.PI/180,y=this.lat*f,w=s.lat*f,P=Math.sin(y)*Math.sin(w)+Math.cos(y)*Math.cos(w)*Math.cos((s.lng-this.lng)*f);return A0*Math.acos(Math.min(P,1))}static convert(s){if(s instanceof Dd)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new Dd(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new Dd(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Nn=2*Math.PI*A0;function Yv(h){return Nn*Math.cos(h*Math.PI/180)}function ay(h){return(180+h)/360}function Qv(h){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h*Math.PI/360)))/360}function P0(h,s){return h/Yv(s)}function iy(h){return 360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90}function xm(h,s){return h*Yv(iy(s))}class qf{constructor(s,f,y=0){this.x=+s,this.y=+f,this.z=+y}static fromLngLat(s,f=0){const y=Dd.convert(s);return new qf(ay(y.lng),Qv(y.lat),P0(f,y.lat))}toLngLat(){return new Dd(360*this.x-180,iy(this.y))}toAltitude(){return xm(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Nn*(s=iy(this.y),1/Math.cos(s*Math.PI/180));var s}}function rp(h,s,f){var y=2*Math.PI*6378137/256/Math.pow(2,f);return[h*y-2*Math.PI*6378137/2,s*y-2*Math.PI*6378137/2]}class Jv{constructor(s,f,y){if(!function(w,P,M){return!(w<0||w>25||M<0||M>=Math.pow(2,w)||P<0||P>=Math.pow(2,w))}(s,f,y))throw new Error(`x=${f}, y=${y}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=f,this.y=y,this.key=np(0,s,s,f,y)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,f,y){const w=(M=this.y,D=this.z,H=rp(256*(P=this.x),256*(M=Math.pow(2,D)-M-1),D),K=rp(256*(P+1),256*(M+1),D),H[0]+","+H[1]+","+K[0]+","+K[1]);var P,M,D,H,K;const Q=function(re,se,de){let he,_e="";for(let Pe=re;Pe>0;Pe--)he=1<<Pe-1,_e+=(se&he?1:0)+(de&he?2:0);return _e}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,Q).replace(/{bbox-epsg-3857}/g,w)}isChildOf(s){const f=this.z-s.z;return f>0&&s.x===this.x>>f&&s.y===this.y>>f}getTilePoint(s){const f=Math.pow(2,this.z);return new I((s.x*f-this.x)*Se,(s.y*f-this.y)*Se)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Cw{constructor(s,f){this.wrap=s,this.canonical=f,this.key=np(s,f.z,f.z,f.x,f.y)}}class _l{constructor(s,f,y,w,P){if(this.terrainRttPosMatrix32f=null,s<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${y}`);this.overscaledZ=s,this.wrap=f,this.canonical=new Jv(y,+w,+P),this.key=np(f,s,y,w,P)}clone(){return new _l(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-s;return s>this.canonical.z?new _l(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _l(s,this.wrap,s,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(s,f){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-s;return s>this.canonical.z?np(this.wrap*+f,s,this.canonical.z,this.canonical.x,this.canonical.y):np(this.wrap*+f,s,s,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(s){if(s.wrap!==this.wrap)return!1;const f=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>f&&s.canonical.y===this.canonical.y>>f}children(s){if(this.overscaledZ>=s)return[new _l(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const f=this.canonical.z+1,y=2*this.canonical.x,w=2*this.canonical.y;return[new _l(f,this.wrap,f,y,w),new _l(f,this.wrap,f,y+1,w),new _l(f,this.wrap,f,y,w+1),new _l(f,this.wrap,f,y+1,w+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new _l(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new _l(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Cw(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new qf(s.x-this.wrap,s.y))}}function np(h,s,f,y,w){(h*=2)<0&&(h=-1*h-1);const P=1<<f;return(P*P*h+P*w+y).toString(36)+f.toString(36)+s.toString(36)}Er("CanonicalTileID",Jv),Er("OverscaledTileID",_l,{omit:["terrainRttPosMatrix32f"]});class R0{constructor(s,f,y,w=1,P=1,M=1,D=0){if(this.uid=s,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void ur(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=f.height;const H=this.dim=f.height-2;switch(this.data=new Uint32Array(f.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=w,this.greenFactor=P,this.blueFactor=M,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let K=0;K<H;K++)this.data[this._idx(-1,K)]=this.data[this._idx(0,K)],this.data[this._idx(H,K)]=this.data[this._idx(H-1,K)],this.data[this._idx(K,-1)]=this.data[this._idx(K,0)],this.data[this._idx(K,H)]=this.data[this._idx(K,H-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(H,-1)]=this.data[this._idx(H-1,0)],this.data[this._idx(-1,H)]=this.data[this._idx(0,H-1)],this.data[this._idx(H,H)]=this.data[this._idx(H-1,H-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let K=0;K<H;K++)for(let Q=0;Q<H;Q++){const re=this.get(K,Q);re>this.max&&(this.max=re),re<this.min&&(this.min=re)}}get(s,f){const y=new Uint8Array(this.data.buffer),w=4*this._idx(s,f);return this.unpack(y[w],y[w+1],y[w+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,f){if(s<-1||s>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(s+1)}unpack(s,f,y){return s*this.redFactor+f*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new Gs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,f,y){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let w=f*this.dim,P=f*this.dim+this.dim,M=y*this.dim,D=y*this.dim+this.dim;switch(f){case-1:w=P-1;break;case 1:P=w+1}switch(y){case-1:M=D-1;break;case 1:D=M+1}const H=-f*this.dim,K=-y*this.dim;for(let Q=M;Q<D;Q++)for(let re=w;re<P;re++)this.data[this._idx(re,Q)]=s.data[this._idx(re+H,Q+K)]}}Er("DEMData",R0);class oy{constructor(s){this._stringToNumber={},this._numberToString=[];for(let f=0;f<s.length;f++){const y=s[f];this._stringToNumber[y]=f,this._numberToString[f]=y}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class ma{constructor(s,f,y,w,P){this.type="Feature",this._vectorTileFeature=s,s._z=f,s._x=y,s._y=w,this.properties=s.properties,this.id=P}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){const s={geometry:this.geometry};for(const f in this)f!=="_geometry"&&f!=="_vectorTileFeature"&&(s[f]=this[f]);return s}}class eb{constructor(s,f){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new Tc(Se,16,0),this.grid3D=new Tc(Se,16,0),this.featureIndexArray=new Tt,this.promoteId=f}insert(s,f,y,w,P,M){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,w,P);const H=M?this.grid3D:this.grid;for(let K=0;K<f.length;K++){const Q=f[K],re=[1/0,1/0,-1/0,-1/0];for(let se=0;se<Q.length;se++){const de=Q[se];re[0]=Math.min(re[0],de.x),re[1]=Math.min(re[1],de.y),re[2]=Math.max(re[2],de.x),re[3]=Math.max(re[3],de.y)}re[0]<Se&&re[1]<Se&&re[2]>=0&&re[3]>=0&&H.insert(D,re[0],re[1],re[2],re[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Rd.VectorTile(new Rs(this.rawTileData)).layers,this.sourceLayerCoder=new oy(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,f,y,w){this.loadVTLayers();const P=s.params,M=Se/s.tileSize/s.scale,D=_s(P.filter),H=s.queryGeometry,K=s.queryPadding*M,Q=Tw(H),re=this.grid.query(Q.minX-K,Q.minY-K,Q.maxX+K,Q.maxY+K),se=Tw(s.cameraQueryGeometry),de=this.grid3D.query(se.minX-K,se.minY-K,se.maxX+K,se.maxY+K,(Pe,Le,tt,$e)=>function(ue,Te,Ve,_t,Kt){for(const zt of ue)if(Te<=zt.x&&Ve<=zt.y&&_t>=zt.x&&Kt>=zt.y)return!0;const Ct=[new I(Te,Ve),new I(Te,Kt),new I(_t,Kt),new I(_t,Ve)];if(ue.length>2){for(const zt of Ct)if(kf(ue,zt))return!0}for(let zt=0;zt<ue.length-1;zt++)if(Q_(ue[zt],ue[zt+1],Ct))return!0;return!1}(s.cameraQueryGeometry,Pe-K,Le-K,tt+K,$e+K));for(const Pe of de)re.push(Pe);re.sort(M0);const he={};let _e;for(let Pe=0;Pe<re.length;Pe++){const Le=re[Pe];if(Le===_e)continue;_e=Le;const tt=this.featureIndexArray.get(Le);let $e=null;this.loadMatchingFeature(he,tt.bucketIndex,tt.sourceLayerIndex,tt.featureIndex,D,P.layers,P.availableImages,f,y,w,(ue,Te,Ve)=>($e||($e=Hs(ue)),Te.queryIntersectsFeature({queryGeometry:H,feature:ue,featureState:Ve,geometry:$e,zoom:this.z,transform:s.transform,pixelsToTileUnits:M,pixelPosMatrix:s.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:s.getElevation})))}return he}loadMatchingFeature(s,f,y,w,P,M,D,H,K,Q,re){const se=this.bucketLayerIDs[f];if(M&&!se.some(Pe=>M.has(Pe)))return;const de=this.sourceLayerCoder.decode(y),he=this.vtLayers[de].feature(w);if(P.needGeometry){const Pe=Ts(he,!0);if(!P.filter(new fa(this.tileID.overscaledZ),Pe,this.tileID.canonical))return}else if(!P.filter(new fa(this.tileID.overscaledZ),he))return;const _e=this.getId(he,de);for(let Pe=0;Pe<se.length;Pe++){const Le=se[Pe];if(M&&!M.has(Le))continue;const tt=H[Le];if(!tt)continue;let $e={};_e&&Q&&($e=Q.getState(tt.sourceLayer||"_geojsonTileLayer",_e));const ue=Vt({},K[Le]);ue.paint=Eo(ue.paint,tt.paint,he,$e,D),ue.layout=Eo(ue.layout,tt.layout,he,$e,D);const Te=!re||re(he,tt,$e);if(!Te)continue;const Ve=new ma(he,this.z,this.x,this.y,_e);Ve.layer=ue;let _t=s[Le];_t===void 0&&(_t=s[Le]=[]),_t.push({featureIndex:w,feature:Ve,intersectionZ:Te})}}lookupSymbolFeatures(s,f,y,w,P,M,D,H){const K={};this.loadVTLayers();const Q=_s(P);for(const re of s)this.loadMatchingFeature(K,y,w,re,Q,M,D,H,f);return K}hasLayer(s){for(const f of this.bucketLayerIDs)for(const y of f)if(s===y)return!0;return!1}getId(s,f){var y;let w=s.id;return this.promoteId&&(w=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[f]],typeof w=="boolean"&&(w=Number(w)),w===void 0&&(!((y=s.properties)===null||y===void 0)&&y.cluster)&&this.promoteId&&(w=Number(s.properties.cluster_id))),w}}function Eo(h,s,f,y,w){return lr(h,(P,M)=>{const D=s instanceof Xn?s.get(M):null;return D&&D.evaluate?D.evaluate(f,y,w):D})}function Tw(h){let s=1/0,f=1/0,y=-1/0,w=-1/0;for(const P of h)s=Math.min(s,P.x),f=Math.min(f,P.y),y=Math.max(y,P.x),w=Math.max(w,P.y);return{minX:s,minY:f,maxX:y,maxY:w}}function M0(h,s){return s-h}function tb(h,s,f,y,w){const P=[];for(let M=0;M<h.length;M++){const D=h[M];let H;for(let K=0;K<D.length-1;K++){let Q=D[K],re=D[K+1];Q.x<s&&re.x<s||(Q.x<s?Q=new I(s,Q.y+(s-Q.x)/(re.x-Q.x)*(re.y-Q.y))._round():re.x<s&&(re=new I(s,Q.y+(s-Q.x)/(re.x-Q.x)*(re.y-Q.y))._round()),Q.y<f&&re.y<f||(Q.y<f?Q=new I(Q.x+(f-Q.y)/(re.y-Q.y)*(re.x-Q.x),f)._round():re.y<f&&(re=new I(Q.x+(f-Q.y)/(re.y-Q.y)*(re.x-Q.x),f)._round()),Q.x>=y&&re.x>=y||(Q.x>=y?Q=new I(y,Q.y+(y-Q.x)/(re.x-Q.x)*(re.y-Q.y))._round():re.x>=y&&(re=new I(y,Q.y+(y-Q.x)/(re.x-Q.x)*(re.y-Q.y))._round()),Q.y>=w&&re.y>=w||(Q.y>=w?Q=new I(Q.x+(w-Q.y)/(re.y-Q.y)*(re.x-Q.x),w)._round():re.y>=w&&(re=new I(Q.x+(w-Q.y)/(re.y-Q.y)*(re.x-Q.x),w)._round()),H&&Q.equals(H[H.length-1])||(H=[Q],P.push(H)),H.push(re)))))}}return P}Er("FeatureIndex",eb,{omit:["rawTileData","sourceLayerCoder"]});class $c extends I{constructor(s,f,y,w){super(s,f),this.angle=y,w!==void 0&&(this.segment=w)}clone(){return new $c(this.x,this.y,this.angle,this.segment)}}function O0(h,s,f,y,w){if(s.segment===void 0||f===0)return!0;let P=s,M=s.segment+1,D=0;for(;D>-f/2;){if(M--,M<0)return!1;D-=h[M].dist(P),P=h[M]}D+=h[M].dist(h[M+1]),M++;const H=[];let K=0;for(;D<f/2;){const Q=h[M],re=h[M+1];if(!re)return!1;let se=h[M-1].angleTo(Q)-Q.angleTo(re);for(se=Math.abs((se+3*Math.PI)%(2*Math.PI)-Math.PI),H.push({distance:D,angleDelta:se}),K+=se;D-H[0].distance>y;)K-=H.shift().angleDelta;if(K>w)return!1;M++,D+=Q.dist(re)}return!0}function k0(h){let s=0;for(let f=0;f<h.length-1;f++)s+=h[f].dist(h[f+1]);return s}function rb(h,s,f){return h?.6*s*f:0}function nb(h,s){return Math.max(h?h.right-h.left:0,s?s.right-s.left:0)}function zC(h,s,f,y,w,P){const M=rb(f,w,P),D=nb(f,y)*P;let H=0;const K=k0(h)/2;for(let Q=0;Q<h.length-1;Q++){const re=h[Q],se=h[Q+1],de=re.dist(se);if(H+de>K){const he=(K-H)/de,_e=zl.number(re.x,se.x,he),Pe=zl.number(re.y,se.y,he),Le=new $c(_e,Pe,se.angleTo(re),Q);return Le._round(),!M||O0(h,Le,D,M,s)?Le:void 0}H+=de}}function Aw(h,s,f,y,w,P,M,D,H){const K=rb(y,P,M),Q=nb(y,w),re=Q*M,se=h[0].x===0||h[0].x===H||h[0].y===0||h[0].y===H;return s-re<s/4&&(s=re+s/4),Pw(h,se?s/2*D%s:(Q/2+2*P)*M*D%s,s,K,f,re,se,!1,H)}function Pw(h,s,f,y,w,P,M,D,H){const K=P/2,Q=k0(h);let re=0,se=s-f,de=[];for(let he=0;he<h.length-1;he++){const _e=h[he],Pe=h[he+1],Le=_e.dist(Pe),tt=Pe.angleTo(_e);for(;se+f<re+Le;){se+=f;const $e=(se-re)/Le,ue=zl.number(_e.x,Pe.x,$e),Te=zl.number(_e.y,Pe.y,$e);if(ue>=0&&ue<H&&Te>=0&&Te<H&&se-K>=0&&se+K<=Q){const Ve=new $c(ue,Te,tt,he);Ve._round(),y&&!O0(h,Ve,P,y,w)||de.push(Ve)}}re+=Le}return D||de.length||M||(de=Pw(h,re/2,f,y,w,P,M,!0,H)),de}Er("Anchor",$c);const wm=So;function Rw(h,s,f,y){const w=[],P=h.image,M=P.pixelRatio,D=P.paddedRect.w-2*wm,H=P.paddedRect.h-2*wm;let K={x1:h.left,y1:h.top,x2:h.right,y2:h.bottom};const Q=P.stretchX||[[0,D]],re=P.stretchY||[[0,H]],se=(Ft,Ar)=>Ft+Ar[1]-Ar[0],de=Q.reduce(se,0),he=re.reduce(se,0),_e=D-de,Pe=H-he;let Le=0,tt=de,$e=0,ue=he,Te=0,Ve=_e,_t=0,Kt=Pe;if(P.content&&y){const Ft=P.content,Ar=Ft[2]-Ft[0],jr=Ft[3]-Ft[1];(P.textFitWidth||P.textFitHeight)&&(K=Zv(h)),Le=ab(Q,0,Ft[0]),$e=ab(re,0,Ft[1]),tt=ab(Q,Ft[0],Ft[2]),ue=ab(re,Ft[1],Ft[3]),Te=Ft[0]-Le,_t=Ft[1]-$e,Ve=Ar-tt,Kt=jr-ue}const Ct=K.x1,zt=K.y1,ir=K.x2-Ct,rr=K.y2-zt,fr=(Ft,Ar,jr,Nr)=>{const kr=sy(Ft.stretch-Le,tt,ir,Ct),Sn=Sm(Ft.fixed-Te,Ve,Ft.stretch,de),ea=sy(Ar.stretch-$e,ue,rr,zt),wa=Sm(Ar.fixed-_t,Kt,Ar.stretch,he),Ua=sy(jr.stretch-Le,tt,ir,Ct),Vo=Sm(jr.fixed-Te,Ve,jr.stretch,de),Yi=sy(Nr.stretch-$e,ue,rr,zt),Ia=Sm(Nr.fixed-_t,Kt,Nr.stretch,he),Da=new I(kr,ea),Ci=new I(Ua,ea),pi=new I(Ua,Yi),Qi=new I(kr,Yi),Ho=new I(Sn/M,wa/M),ss=new I(Vo/M,Ia/M),Ti=s*Math.PI/180;if(Ti){const mi=Math.sin(Ti),Ai=Math.cos(Ti),za=[Ai,-mi,mi,Ai];Da._matMult(za),Ci._matMult(za),Qi._matMult(za),pi._matMult(za)}const Ms=Ft.stretch+Ft.fixed,oi=Ar.stretch+Ar.fixed;return{tl:Da,tr:Ci,bl:Qi,br:pi,tex:{x:P.paddedRect.x+wm+Ms,y:P.paddedRect.y+wm+oi,w:jr.stretch+jr.fixed-Ms,h:Nr.stretch+Nr.fixed-oi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ho,pixelOffsetBR:ss,minFontScaleX:Ve/M/ir,minFontScaleY:Kt/M/rr,isSDF:f}};if(y&&(P.stretchX||P.stretchY)){const Ft=zd(Q,_e,de),Ar=zd(re,Pe,he);for(let jr=0;jr<Ft.length-1;jr++){const Nr=Ft[jr],kr=Ft[jr+1];for(let Sn=0;Sn<Ar.length-1;Sn++)w.push(fr(Nr,Ar[Sn],kr,Ar[Sn+1]))}}else w.push(fr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:H+1}));return w}function ab(h,s,f){let y=0;for(const w of h)y+=Math.max(s,Math.min(f,w[1]))-Math.max(s,Math.min(f,w[0]));return y}function zd(h,s,f){const y=[{fixed:-1,stretch:0}];for(const[w,P]of h){const M=y[y.length-1];y.push({fixed:w-M.stretch,stretch:M.stretch}),y.push({fixed:w-M.stretch,stretch:M.stretch+(P-w)})}return y.push({fixed:s+wm,stretch:f}),y}function sy(h,s,f,y){return h/s*f+y}function Sm(h,s,f,y){return h-s*f/y}class ib{constructor(s,f,y,w,P,M,D,H,K,Q){var re;if(this.boxStartIndex=s.length,K){let se=M.top,de=M.bottom;const he=M.collisionPadding;he&&(se-=he[1],de+=he[3]);let _e=de-se;_e>0&&(_e=Math.max(10,_e),this.circleDiameter=_e)}else{const se=!((re=M.image)===null||re===void 0)&&re.content&&(M.image.textFitWidth||M.image.textFitHeight)?Zv(M):{x1:M.left,y1:M.top,x2:M.right,y2:M.bottom};se.y1=se.y1*D-H[0],se.y2=se.y2*D+H[2],se.x1=se.x1*D-H[3],se.x2=se.x2*D+H[1];const de=M.collisionPadding;if(de&&(se.x1-=de[0]*D,se.y1-=de[1]*D,se.x2+=de[2]*D,se.y2+=de[3]*D),Q){const he=new I(se.x1,se.y1),_e=new I(se.x2,se.y1),Pe=new I(se.x1,se.y2),Le=new I(se.x2,se.y2),tt=Q*Math.PI/180;he._rotate(tt),_e._rotate(tt),Pe._rotate(tt),Le._rotate(tt),se.x1=Math.min(he.x,_e.x,Pe.x,Le.x),se.x2=Math.max(he.x,_e.x,Pe.x,Le.x),se.y1=Math.min(he.y,_e.y,Pe.y,Le.y),se.y2=Math.max(he.y,_e.y,Pe.y,Le.y)}s.emplaceBack(f.x,f.y,se.x1,se.y1,se.x2,se.y2,y,w,P)}this.boxEndIndex=s.length}}class LC{constructor(s=[],f=(y,w)=>y<w?-1:y>w?1:0){if(this.data=s,this.length=this.data.length,this.compare=f,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;const s=this.data[0],f=this.data.pop();return--this.length>0&&(this.data[0]=f,this._down(0)),s}peek(){return this.data[0]}_up(s){const{data:f,compare:y}=this,w=f[s];for(;s>0;){const P=s-1>>1,M=f[P];if(y(w,M)>=0)break;f[s]=M,s=P}f[s]=w}_down(s){const{data:f,compare:y}=this,w=this.length>>1,P=f[s];for(;s<w;){let M=1+(s<<1);const D=M+1;if(D<this.length&&y(f[D],f[M])<0&&(M=D),y(f[M],P)>=0)break;f[s]=f[M],s=M}f[s]=P}}function I0(h,s=1,f=!1){let y=1/0,w=1/0,P=-1/0,M=-1/0;const D=h[0];for(let de=0;de<D.length;de++){const he=D[de];(!de||he.x<y)&&(y=he.x),(!de||he.y<w)&&(w=he.y),(!de||he.x>P)&&(P=he.x),(!de||he.y>M)&&(M=he.y)}const H=Math.min(P-y,M-w);let K=H/2;const Q=new LC([],BC);if(H===0)return new I(y,w);for(let de=y;de<P;de+=H)for(let he=w;he<M;he+=H)Q.push(new os(de+K,he+K,K,h));let re=function(de){let he=0,_e=0,Pe=0;const Le=de[0];for(let tt=0,$e=Le.length,ue=$e-1;tt<$e;ue=tt++){const Te=Le[tt],Ve=Le[ue],_t=Te.x*Ve.y-Ve.x*Te.y;_e+=(Te.x+Ve.x)*_t,Pe+=(Te.y+Ve.y)*_t,he+=3*_t}return new os(_e/he,Pe/he,0,de)}(h),se=Q.length;for(;Q.length;){const de=Q.pop();(de.d>re.d||!re.d)&&(re=de,f&&console.log("found best %d after %d probes",Math.round(1e4*de.d)/1e4,se)),de.max-re.d<=s||(K=de.h/2,Q.push(new os(de.p.x-K,de.p.y-K,K,h)),Q.push(new os(de.p.x+K,de.p.y-K,K,h)),Q.push(new os(de.p.x-K,de.p.y+K,K,h)),Q.push(new os(de.p.x+K,de.p.y+K,K,h)),se+=4)}return f&&(console.log(`num probes: ${se}`),console.log(`best distance: ${re.d}`)),re.p}function BC(h,s){return s.max-h.max}function os(h,s,f,y){this.p=new I(h,s),this.h=f,this.d=function(w,P){let M=!1,D=1/0;for(let H=0;H<P.length;H++){const K=P[H];for(let Q=0,re=K.length,se=re-1;Q<re;se=Q++){const de=K[Q],he=K[se];de.y>w.y!=he.y>w.y&&w.x<(he.x-de.x)*(w.y-de.y)/(he.y-de.y)+de.x&&(M=!M),D=Math.min(D,Y_(w,de,he))}}return(M?1:-1)*Math.sqrt(D)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var Fi;c.aB=void 0,(Fi=c.aB||(c.aB={}))[Fi.center=1]="center",Fi[Fi.left=2]="left",Fi[Fi.right=3]="right",Fi[Fi.top=4]="top",Fi[Fi.bottom=5]="bottom",Fi[Fi["top-left"]=6]="top-left",Fi[Fi["top-right"]=7]="top-right",Fi[Fi["bottom-left"]=8]="bottom-left",Fi[Fi["bottom-right"]=9]="bottom-right";const Ld=7,ob=Number.POSITIVE_INFINITY;function Em(h,s){return s[1]!==ob?function(f,y,w){let P=0,M=0;switch(y=Math.abs(y),w=Math.abs(w),f){case"top-right":case"top-left":case"top":M=w-Ld;break;case"bottom-right":case"bottom-left":case"bottom":M=-w+Ld}switch(f){case"top-right":case"bottom-right":case"right":P=-y;break;case"top-left":case"bottom-left":case"left":P=y}return[P,M]}(h,s[0],s[1]):function(f,y){let w=0,P=0;y<0&&(y=0);const M=y/Math.SQRT2;switch(f){case"top-right":case"top-left":P=M-Ld;break;case"bottom-right":case"bottom-left":P=-M+Ld;break;case"bottom":P=-y+Ld;break;case"top":P=y-Ld}switch(f){case"top-right":case"bottom-right":w=-M;break;case"top-left":case"bottom-left":w=M;break;case"left":w=y;break;case"right":w=-y}return[w,P]}(h,s[0])}function xl(h,s,f){var y;const w=h.layout,P=(y=w.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(s,{},f);if(P){const D=P.values,H=[];for(let K=0;K<D.length;K+=2){const Q=H[K]=D[K],re=D[K+1].map(se=>se*hi);Q.startsWith("top")?re[1]-=Ld:Q.startsWith("bottom")&&(re[1]+=Ld),H[K+1]=re}return new Fa(H)}const M=w.get("text-variable-anchor");if(M){let D;D=h._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[w.get("text-radial-offset").evaluate(s,{},f)*hi,ob]:w.get("text-offset").evaluate(s,{},f).map(K=>K*hi);const H=[];for(const K of M)H.push(K,Em(K,D));return new Fa(H)}return null}function sb(h){switch(h){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function lb(h,s,f,y,w,P,M,D,H,K,Q,re){let se=P.textMaxSize.evaluate(s,{});se===void 0&&(se=M);const de=h.layers[0].layout,he=de.get("icon-offset").evaluate(s,{},Q),_e=Mw(f.horizontal),Pe=M/24,Le=h.tilePixelRatio*Pe,tt=h.tilePixelRatio*se/24,$e=h.tilePixelRatio*D,ue=h.tilePixelRatio*de.get("symbol-spacing"),Te=de.get("text-padding")*h.tilePixelRatio,Ve=function(jr,Nr,kr,Sn=1){const ea=jr.get("icon-padding").evaluate(Nr,{},kr),wa=ea&&ea.values;return[wa[0]*Sn,wa[1]*Sn,wa[2]*Sn,wa[3]*Sn]}(de,s,Q,h.tilePixelRatio),_t=de.get("text-max-angle")/180*Math.PI,Kt=de.get("text-rotation-alignment")!=="viewport"&&de.get("symbol-placement")!=="point",Ct=de.get("icon-rotation-alignment")==="map"&&de.get("symbol-placement")!=="point",zt=de.get("symbol-placement"),ir=ue/2,rr=de.get("icon-text-fit");let fr;y&&rr!=="none"&&(h.allowVerticalPlacement&&f.vertical&&(fr=_w(y,f.vertical,rr,de.get("icon-text-fit-padding"),he,Pe)),_e&&(y=_w(y,_e,rr,de.get("icon-text-fit-padding"),he,Pe)));const Ft=Q?re.line.getGranularityForZoomLevel(Q.z):1,Ar=(jr,Nr)=>{Nr.x<0||Nr.x>=Se||Nr.y<0||Nr.y>=Se||function(kr,Sn,ea,wa,Ua,Vo,Yi,Ia,Da,Ci,pi,Qi,Ho,ss,Ti,Ms,oi,mi,Ai,za,ua,Ws,op,Uc,fb){const u=kr.addToLineVertexArray(Sn,ea);let p,b,T,z,W=0,fe=0,Ee=0,Ke=0,Et=-1,Gt=-1;const Qt={};let Rt=Ss("");if(kr.allowVerticalPlacement&&wa.vertical){const Go=Ia.layout.get("text-rotate").evaluate(ua,{},Uc)+90;T=new ib(Da,Sn,Ci,pi,Qi,wa.vertical,Ho,ss,Ti,Go),Yi&&(z=new ib(Da,Sn,Ci,pi,Qi,Yi,oi,mi,Ti,Go))}if(Ua){const Go=Ia.layout.get("icon-rotate").evaluate(ua,{}),qc=Ia.layout.get("icon-text-fit")!=="none",cy=Rw(Ua,Go,op,qc),Bd=Yi?Rw(Yi,Go,op,qc):void 0;b=new ib(Da,Sn,Ci,pi,Qi,Ua,oi,mi,!1,Go),W=4*cy.length;const uy=kr.iconSizeData;let Gf=null;uy.kind==="source"?(Gf=[Ru*Ia.layout.get("icon-size").evaluate(ua,{})],Gf[0]>Uf&&ur(`${kr.layerIds[0]}: Value for "icon-size" is >= ${ym}. Reduce your "icon-size".`)):uy.kind==="composite"&&(Gf=[Ru*Ws.compositeIconSizes[0].evaluate(ua,{},Uc),Ru*Ws.compositeIconSizes[1].evaluate(ua,{},Uc)],(Gf[0]>Uf||Gf[1]>Uf)&&ur(`${kr.layerIds[0]}: Value for "icon-size" is >= ${ym}. Reduce your "icon-size".`)),kr.addSymbols(kr.icon,cy,Gf,za,Ai,ua,c.al.none,Sn,u.lineStartIndex,u.lineLength,-1,Uc),Et=kr.icon.placedSymbolArray.length-1,Bd&&(fe=4*Bd.length,kr.addSymbols(kr.icon,Bd,Gf,za,Ai,ua,c.al.vertical,Sn,u.lineStartIndex,u.lineLength,-1,Uc),Gt=kr.icon.placedSymbolArray.length-1)}const Ot=Object.keys(wa.horizontal);for(const Go of Ot){const qc=wa.horizontal[Go];if(!p){Rt=Ss(qc.text);const Bd=Ia.layout.get("text-rotate").evaluate(ua,{},Uc);p=new ib(Da,Sn,Ci,pi,Qi,qc,Ho,ss,Ti,Bd)}const cy=qc.positionedLines.length===1;if(Ee+=Mu(kr,Sn,qc,Vo,Ia,Ti,ua,Ms,u,wa.vertical?c.al.horizontal:c.al.horizontalOnly,cy?Ot:[Go],Qt,Et,Ws,Uc),cy)break}wa.vertical&&(Ke+=Mu(kr,Sn,wa.vertical,Vo,Ia,Ti,ua,Ms,u,c.al.vertical,["vertical"],Qt,Gt,Ws,Uc));const pn=p?p.boxStartIndex:kr.collisionBoxArray.length,sn=p?p.boxEndIndex:kr.collisionBoxArray.length,Sa=T?T.boxStartIndex:kr.collisionBoxArray.length,pt=T?T.boxEndIndex:kr.collisionBoxArray.length,ct=b?b.boxStartIndex:kr.collisionBoxArray.length,St=b?b.boxEndIndex:kr.collisionBoxArray.length,nr=z?z.boxStartIndex:kr.collisionBoxArray.length,$r=z?z.boxEndIndex:kr.collisionBoxArray.length;let mn=-1;const Xr=(Go,qc)=>Go&&Go.circleDiameter?Math.max(Go.circleDiameter,qc):qc;mn=Xr(p,mn),mn=Xr(T,mn),mn=Xr(b,mn),mn=Xr(z,mn);const ln=mn>-1?1:0;ln&&(mn*=fb/hi),kr.glyphOffsetArray.length>=_m.MAX_GLYPHS&&ur("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ua.sortKey!==void 0&&kr.addToSortKeyRanges(kr.symbolInstances.length,ua.sortKey);const Co=xl(Ia,ua,Uc),[ta,Hf]=function(Go,qc){const cy=Go.length,Bd=qc==null?void 0:qc.values;if((Bd==null?void 0:Bd.length)>0)for(let uy=0;uy<Bd.length;uy+=2){const Gf=Bd[uy+1];Go.emplaceBack(c.aB[Bd[uy]],Gf[0],Gf[1])}return[cy,Go.length]}(kr.textAnchorOffsets,Co);kr.symbolInstances.emplaceBack(Sn.x,Sn.y,Qt.right>=0?Qt.right:-1,Qt.center>=0?Qt.center:-1,Qt.left>=0?Qt.left:-1,Qt.vertical||-1,Et,Gt,Rt,pn,sn,Sa,pt,ct,St,nr,$r,Ci,Ee,Ke,W,fe,ln,0,Ho,mn,ta,Hf)}(h,Nr,jr,f,y,w,fr,h.layers[0],h.collisionBoxArray,s.index,s.sourceLayerIndex,h.index,Le,[Te,Te,Te,Te],Kt,H,$e,Ve,Ct,he,s,P,K,Q,M)};if(zt==="line")for(const jr of tb(s.geometry,0,0,Se,Se)){const Nr=zf(jr,Ft),kr=Aw(Nr,ue,_t,f.vertical||_e,y,24,tt,h.overscaling,Se);for(const Sn of kr)_e&&FC(h,_e.text,ir,Sn)||Ar(Nr,Sn)}else if(zt==="line-center"){for(const jr of s.geometry)if(jr.length>1){const Nr=zf(jr,Ft),kr=zC(Nr,_t,f.vertical||_e,y,24,tt);kr&&Ar(Nr,kr)}}else if(s.type==="Polygon")for(const jr of Ph(s.geometry,0)){const Nr=I0(jr,16);Ar(zf(jr[0],Ft,!0),new $c(Nr.x,Nr.y,0))}else if(s.type==="LineString")for(const jr of s.geometry){const Nr=zf(jr,Ft);Ar(Nr,new $c(Nr[0].x,Nr[0].y,0))}else if(s.type==="Point")for(const jr of s.geometry)for(const Nr of jr)Ar([Nr],new $c(Nr.x,Nr.y,0))}function Mu(h,s,f,y,w,P,M,D,H,K,Q,re,se,de,he){const _e=function(tt,$e,ue,Te,Ve,_t,Kt,Ct){const zt=Te.layout.get("text-rotate").evaluate(_t,{})*Math.PI/180,ir=[];for(const rr of $e.positionedLines)for(const fr of rr.positionedGlyphs){if(!fr.rect)continue;const Ft=fr.rect||{};let Ar=MC+1,jr=!0,Nr=1,kr=0;const Sn=(Ve||Ct)&&fr.vertical,ea=fr.metrics.advance*fr.scale/2;if(Ct&&$e.verticalizable&&(kr=rr.lineOffset/2-(fr.imageName?-(hi-fr.metrics.width*fr.scale)/2:(fr.scale-1)*hi)),fr.imageName){const mi=Kt[fr.imageName];jr=mi.sdf,Nr=mi.pixelRatio,Ar=So/Nr}const wa=Ve?[fr.x+ea,fr.y]:[0,0];let Ua=Ve?[0,0]:[fr.x+ea+ue[0],fr.y+ue[1]-kr],Vo=[0,0];Sn&&(Vo=Ua,Ua=[0,0]);const Yi=fr.metrics.isDoubleResolution?2:1,Ia=(fr.metrics.left-Ar)*fr.scale-ea+Ua[0],Da=(-fr.metrics.top-Ar)*fr.scale+Ua[1],Ci=Ia+Ft.w/Yi*fr.scale/Nr,pi=Da+Ft.h/Yi*fr.scale/Nr,Qi=new I(Ia,Da),Ho=new I(Ci,Da),ss=new I(Ia,pi),Ti=new I(Ci,pi);if(Sn){const mi=new I(-ea,ea-ey),Ai=-Math.PI/2,za=hi/2-ea,ua=new I(5-ey-za,-(fr.imageName?za:0)),Ws=new I(...Vo);Qi._rotateAround(Ai,mi)._add(ua)._add(Ws),Ho._rotateAround(Ai,mi)._add(ua)._add(Ws),ss._rotateAround(Ai,mi)._add(ua)._add(Ws),Ti._rotateAround(Ai,mi)._add(ua)._add(Ws)}if(zt){const mi=Math.sin(zt),Ai=Math.cos(zt),za=[Ai,-mi,mi,Ai];Qi._matMult(za),Ho._matMult(za),ss._matMult(za),Ti._matMult(za)}const Ms=new I(0,0),oi=new I(0,0);ir.push({tl:Qi,tr:Ho,bl:ss,br:Ti,tex:Ft,writingMode:$e.writingMode,glyphOffset:wa,sectionIndex:fr.sectionIndex,isSDF:jr,pixelOffsetTL:Ms,pixelOffsetBR:oi,minFontScaleX:0,minFontScaleY:0})}return ir}(0,f,D,w,P,M,y,h.allowVerticalPlacement),Pe=h.textSizeData;let Le=null;Pe.kind==="source"?(Le=[Ru*w.layout.get("text-size").evaluate(M,{})],Le[0]>Uf&&ur(`${h.layerIds[0]}: Value for "text-size" is >= ${ym}. Reduce your "text-size".`)):Pe.kind==="composite"&&(Le=[Ru*de.compositeTextSizes[0].evaluate(M,{},he),Ru*de.compositeTextSizes[1].evaluate(M,{},he)],(Le[0]>Uf||Le[1]>Uf)&&ur(`${h.layerIds[0]}: Value for "text-size" is >= ${ym}. Reduce your "text-size".`)),h.addSymbols(h.text,_e,Le,D,P,M,K,s,H.lineStartIndex,H.lineLength,se,he);for(const tt of Q)re[tt]=h.text.placedSymbolArray.length-1;return 4*_e.length}function Mw(h){for(const s in h)return h[s];return null}function FC(h,s,f,y){const w=h.compareText;if(s in w){const P=w[s];for(let M=P.length-1;M>=0;M--)if(y.dist(P[M])<f)return!0}else w[s]=[];return w[s].push(y),!1}const ap=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class cb{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[f,y]=new Uint8Array(s,0,2);if(f!==219)throw new Error("Data does not appear to be in a KDBush format.");const w=y>>4;if(w!==1)throw new Error(`Got v${w} data when expected v1.`);const P=ap[15&y];if(!P)throw new Error("Unrecognized array type.");const[M]=new Uint16Array(s,2,1),[D]=new Uint32Array(s,4,1);return new cb(D,M,P,s)}constructor(s,f=64,y=Float64Array,w){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+f,2),65535),this.ArrayType=y,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;const P=ap.indexOf(this.ArrayType),M=2*s*this.ArrayType.BYTES_PER_ELEMENT,D=s*this.IndexArrayType.BYTES_PER_ELEMENT,H=(8-D%8)%8;if(P<0)throw new Error(`Unexpected typed array class: ${y}.`);w&&w instanceof ArrayBuffer?(this.data=w,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+D+H,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+M+D+H),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+D+H,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+P]),new Uint16Array(this.data,2,1)[0]=f,new Uint32Array(this.data,4,1)[0]=s)}add(s,f){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=s,this.coords[this._pos++]=f,y}finish(){const s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return D0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,f,y,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:P,coords:M,nodeSize:D}=this,H=[0,P.length-1,0],K=[];for(;H.length;){const Q=H.pop()||0,re=H.pop()||0,se=H.pop()||0;if(re-se<=D){for(let Pe=se;Pe<=re;Pe++){const Le=M[2*Pe],tt=M[2*Pe+1];Le>=s&&Le<=y&&tt>=f&&tt<=w&&K.push(P[Pe])}continue}const de=se+re>>1,he=M[2*de],_e=M[2*de+1];he>=s&&he<=y&&_e>=f&&_e<=w&&K.push(P[de]),(Q===0?s<=he:f<=_e)&&(H.push(se),H.push(de-1),H.push(1-Q)),(Q===0?y>=he:w>=_e)&&(H.push(de+1),H.push(re),H.push(1-Q))}return K}within(s,f,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:P,nodeSize:M}=this,D=[0,w.length-1,0],H=[],K=y*y;for(;D.length;){const Q=D.pop()||0,re=D.pop()||0,se=D.pop()||0;if(re-se<=M){for(let Pe=se;Pe<=re;Pe++)kw(P[2*Pe],P[2*Pe+1],s,f)<=K&&H.push(w[Pe]);continue}const de=se+re>>1,he=P[2*de],_e=P[2*de+1];kw(he,_e,s,f)<=K&&H.push(w[de]),(Q===0?s-y<=he:f-y<=_e)&&(D.push(se),D.push(de-1),D.push(1-Q)),(Q===0?s+y>=he:f+y>=_e)&&(D.push(de+1),D.push(re),D.push(1-Q))}return H}}function D0(h,s,f,y,w,P){if(w-y<=f)return;const M=y+w>>1;Ow(h,s,M,y,w,P),D0(h,s,f,y,M-1,1-P),D0(h,s,f,M+1,w,1-P)}function Ow(h,s,f,y,w,P){for(;w>y;){if(w-y>600){const K=w-y+1,Q=f-y+1,re=Math.log(K),se=.5*Math.exp(2*re/3),de=.5*Math.sqrt(re*se*(K-se)/K)*(Q-K/2<0?-1:1);Ow(h,s,f,Math.max(y,Math.floor(f-Q*se/K+de)),Math.min(w,Math.floor(f+(K-Q)*se/K+de)),P)}const M=s[2*f+P];let D=y,H=w;for(ly(h,s,y,f),s[2*w+P]>M&&ly(h,s,y,w);D<H;){for(ly(h,s,D,H),D++,H--;s[2*D+P]<M;)D++;for(;s[2*H+P]>M;)H--}s[2*y+P]===M?ly(h,s,y,H):(H++,ly(h,s,H,w)),H<=f&&(y=H+1),f<=H&&(w=H-1)}}function ly(h,s,f,y){z0(h,f,y),z0(s,2*f,2*y),z0(s,2*f+1,2*y+1)}function z0(h,s,f){const y=h[s];h[s]=h[f],h[f]=y}function kw(h,s,f,y){const w=h-f,P=s-y;return w*w+P*P}var L0;c.co=void 0,(L0=c.co||(c.co={})).create="create",L0.load="load",L0.fullLoad="fullLoad";let ub=null,Cm=[];const Vf=1e3/60,ip="loadTime",db="fullLoadTime",NC={mark(h){performance.mark(h)},frame(h){const s=h;ub!=null&&Cm.push(s-ub),ub=s},clearMetrics(){ub=null,Cm=[],performance.clearMeasures(ip),performance.clearMeasures(db);for(const h in c.co)performance.clearMarks(c.co[h])},getPerformanceMetrics(){performance.measure(ip,c.co.create,c.co.load),performance.measure(db,c.co.create,c.co.fullLoad);const h=performance.getEntriesByName(ip)[0].duration,s=performance.getEntriesByName(db)[0].duration,f=Cm.length,y=1/(Cm.reduce((P,M)=>P+M,0)/f/1e3),w=Cm.filter(P=>P>Vf).reduce((P,M)=>P+(M-Vf)/Vf,0);return{loadTime:h,fullLoadTime:s,fps:y,percentDroppedFrames:w/(f+w)*100,totalFrames:f}}};c.$=qf,c.A=V,c.B=zl,c.C=fa,c.D=xr,c.E=Je,c.F=W_,c.G=function(h){if(Vr==null){const s=h.navigator?h.navigator.userAgent:null;Vr=!!h.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Vr},c.H=class{constructor(h,s){this.target=h,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new DC(()=>this.process()),this.subscription=We(this.target,"message",f=>this.receive(f),!1),this.globalScope=mr(self)?h:window}registerMessageHandler(h,s){this.messageHandlers[h]=s}sendAsync(h,s){return new Promise((f,y)=>{const w=Math.round(1e18*Math.random()).toString(36).substring(0,10),P=s?We(s.signal,"abort",()=>{P==null||P.unsubscribe(),delete this.resolveRejects[w];const H={id:w,type:"<cancel>",origin:location.origin,targetMapId:h.targetMapId,sourceMapId:this.mapId};this.target.postMessage(H)},ny):null;this.resolveRejects[w]={resolve:H=>{P==null||P.unsubscribe(),f(H)},reject:H=>{P==null||P.unsubscribe(),y(H)}};const M=[],D=Object.assign(Object.assign({},h),{id:w,sourceMapId:this.mapId,origin:location.origin,data:wd(h.data,M)});this.target.postMessage(D,{transfer:M})})}receive(h){const s=h.data,f=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[f];const y=this.abortControllers[f];return delete this.abortControllers[f],void(y&&y.abort())}if(mr(self)||s.mustQueue)return this.tasks[f]=s,this.taskQueue.push(f),void this.invoker.trigger();this.processTask(f,s)}}process(){if(this.taskQueue.length===0)return;const h=this.taskQueue.shift(),s=this.tasks[h];delete this.tasks[h],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(h,s)}processTask(h,s){return o(this,void 0,void 0,function*(){if(s.type==="<response>"){const w=this.resolveRejects[h];return delete this.resolveRejects[h],w?void(s.error?w.reject(bu(s.error)):w.resolve(bu(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(h,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const f=bu(s.data),y=new AbortController;this.abortControllers[h]=y;try{const w=yield this.messageHandlers[s.type](s.sourceMapId,f,y);this.completeTask(h,null,w)}catch(w){this.completeTask(h,w)}})}completeTask(h,s,f){const y=[];delete this.abortControllers[h];const w={id:h,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?wd(s):null,data:wd(f,y)};this.target.postMessage(w,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},c.I=Jg,c.J=wr,c.K=function(){var h=new V(16);return V!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h},c.L=function(h,s,f){var y,w,P,M,D,H,K,Q,re,se,de,he,_e=f[0],Pe=f[1],Le=f[2];return s===h?(h[12]=s[0]*_e+s[4]*Pe+s[8]*Le+s[12],h[13]=s[1]*_e+s[5]*Pe+s[9]*Le+s[13],h[14]=s[2]*_e+s[6]*Pe+s[10]*Le+s[14],h[15]=s[3]*_e+s[7]*Pe+s[11]*Le+s[15]):(w=s[1],P=s[2],M=s[3],D=s[4],H=s[5],K=s[6],Q=s[7],re=s[8],se=s[9],de=s[10],he=s[11],h[0]=y=s[0],h[1]=w,h[2]=P,h[3]=M,h[4]=D,h[5]=H,h[6]=K,h[7]=Q,h[8]=re,h[9]=se,h[10]=de,h[11]=he,h[12]=y*_e+D*Pe+re*Le+s[12],h[13]=w*_e+H*Pe+se*Le+s[13],h[14]=P*_e+K*Pe+de*Le+s[14],h[15]=M*_e+Q*Pe+he*Le+s[15]),h},c.M=function(h,s,f){var y=f[0],w=f[1],P=f[2];return h[0]=s[0]*y,h[1]=s[1]*y,h[2]=s[2]*y,h[3]=s[3]*y,h[4]=s[4]*w,h[5]=s[5]*w,h[6]=s[6]*w,h[7]=s[7]*w,h[8]=s[8]*P,h[9]=s[9]*P,h[10]=s[10]*P,h[11]=s[11]*P,h[12]=s[12],h[13]=s[13],h[14]=s[14],h[15]=s[15],h},c.N=function(h,s,f){var y=s[0],w=s[1],P=s[2],M=s[3],D=s[4],H=s[5],K=s[6],Q=s[7],re=s[8],se=s[9],de=s[10],he=s[11],_e=s[12],Pe=s[13],Le=s[14],tt=s[15],$e=f[0],ue=f[1],Te=f[2],Ve=f[3];return h[0]=$e*y+ue*D+Te*re+Ve*_e,h[1]=$e*w+ue*H+Te*se+Ve*Pe,h[2]=$e*P+ue*K+Te*de+Ve*Le,h[3]=$e*M+ue*Q+Te*he+Ve*tt,h[4]=($e=f[4])*y+(ue=f[5])*D+(Te=f[6])*re+(Ve=f[7])*_e,h[5]=$e*w+ue*H+Te*se+Ve*Pe,h[6]=$e*P+ue*K+Te*de+Ve*Le,h[7]=$e*M+ue*Q+Te*he+Ve*tt,h[8]=($e=f[8])*y+(ue=f[9])*D+(Te=f[10])*re+(Ve=f[11])*_e,h[9]=$e*w+ue*H+Te*se+Ve*Pe,h[10]=$e*P+ue*K+Te*de+Ve*Le,h[11]=$e*M+ue*Q+Te*he+Ve*tt,h[12]=($e=f[12])*y+(ue=f[13])*D+(Te=f[14])*re+(Ve=f[15])*_e,h[13]=$e*w+ue*H+Te*se+Ve*Pe,h[14]=$e*P+ue*K+Te*de+Ve*Le,h[15]=$e*M+ue*Q+Te*he+Ve*tt,h},c.O=function(h,s){const f={};for(let y=0;y<s.length;y++){const w=s[y];w in h&&(f[w]=h[w])}return f},c.P=I,c.Q=Dd,c.R=Gs,c.S=Qv,c.T=jg,c.U=ay,c.V=F,c.W=N,c.X=Rr,c.Y=_l,c.Z=Se,c._=o,c.a=Qr,c.a$=function(h,s,f){var y=Math.sin(f),w=Math.cos(f),P=s[4],M=s[5],D=s[6],H=s[7],K=s[8],Q=s[9],re=s[10],se=s[11];return s!==h&&(h[0]=s[0],h[1]=s[1],h[2]=s[2],h[3]=s[3],h[12]=s[12],h[13]=s[13],h[14]=s[14],h[15]=s[15]),h[4]=P*w+K*y,h[5]=M*w+Q*y,h[6]=D*w+re*y,h[7]=H*w+se*y,h[8]=K*w-P*y,h[9]=Q*w-M*y,h[10]=re*w-D*y,h[11]=se*w-H*y,h},c.a0=25,c.a1=Jv,c.a2=h=>{const s=window.document.createElement("video");return s.muted=!0,new Promise(f=>{s.onloadstart=()=>{f(s)};for(const y of h){const w=window.document.createElement("source");Ge(y)||(s.crossOrigin="Anonymous"),w.src=y,s.appendChild(w)}})},c.a3=lt,c.a4=function(){return Nt++},c.a5=De,c.a6=_m,c.a7=_s,c.a8=Ts,c.a9=ma,c.aA=function(h,s,f,y,w=!1){if(!f[0]&&!f[1])return[0,0];const P=w?y==="map"?-h.bearingInRadians:0:y==="viewport"?h.bearingInRadians:0;if(P){const M=Math.sin(P),D=Math.cos(P);f=[f[0]*D-f[1]*M,f[0]*M+f[1]*D]}return[w?f[0]:ze(s,f[0],h.zoom),w?f[1]:ze(s,f[1],h.zoom)]},c.aC=vm,c.aD=sb,c.aE=Hv,c.aF=cb,c.aG=Aa,c.aH=ai,c.aI=Mt,c.aJ=Vn,c.aK=qn,c.aL=ut,c.aM=qt,c.aN=xm,c.aO=function(h,s,f){return h[0]=s[0]*f,h[1]=s[1]*f,h[2]=s[2]*f,h},c.aP=function(h,s,f){return h[0]=s[0]+f[0],h[1]=s[1]+f[1],h[2]=s[2]+f[2],h},c.aQ=function(h){var s=new V(3);return s[0]=h[0],s[1]=h[1],s[2]=h[2],s},c.aR=function(h,s,f){return h[0]=s[0]*f[0],h[1]=s[1]*f[1],h[2]=s[2]*f[2],h[3]=s[3]*f[3],h},c.aS=function(h,s,f){return h[0]=s[0]-f[0],h[1]=s[1]-f[1],h[2]=s[2]-f[2],h},c.aT=function(h,s){var f=s[0],y=s[1],w=s[2],P=f*f+y*y+w*w;return P>0&&(P=1/Math.sqrt(P)),h[0]=s[0]*P,h[1]=s[1]*P,h[2]=s[2]*P,h},c.aU=function(h,s,f){var y=s[0],w=s[1],P=s[2],M=f[0],D=f[1],H=f[2];return h[0]=w*H-P*D,h[1]=P*M-y*H,h[2]=y*D-w*M,h},c.aV=function(h,s){return h[0]*s[0]+h[1]*s[1]+h[2]*s[2]},c.aW=Cw,c.aX=np,c.aY=function(h,s,f,y,w){var P,M=1/Math.tan(s/2);return h[0]=M/f,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=M,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,w!=null&&w!==1/0?(h[10]=(w+y)*(P=1/(y-w)),h[14]=2*w*y*P):(h[10]=-1,h[14]=-2*y),h},c.aZ=function(h){var s=new V(16);return s[0]=h[0],s[1]=h[1],s[2]=h[2],s[3]=h[3],s[4]=h[4],s[5]=h[5],s[6]=h[6],s[7]=h[7],s[8]=h[8],s[9]=h[9],s[10]=h[10],s[11]=h[11],s[12]=h[12],s[13]=h[13],s[14]=h[14],s[15]=h[15],s},c.a_=function(h,s,f){var y=Math.sin(f),w=Math.cos(f),P=s[0],M=s[1],D=s[2],H=s[3],K=s[4],Q=s[5],re=s[6],se=s[7];return s!==h&&(h[8]=s[8],h[9]=s[9],h[10]=s[10],h[11]=s[11],h[12]=s[12],h[13]=s[13],h[14]=s[14],h[15]=s[15]),h[0]=P*w+K*y,h[1]=M*w+Q*y,h[2]=D*w+re*y,h[3]=H*w+se*y,h[4]=K*w-P*y,h[5]=Q*w-M*y,h[6]=re*w-D*y,h[7]=se*w-H*y,h},c.aa=function(h){const s={};if(h.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(f,y,w,P)=>{const M=w||P;return s[y]=!M||M.toLowerCase(),""}),s["max-age"]){const f=parseInt(s["max-age"],10);isNaN(f)?delete s["max-age"]:s["max-age"]=f}return s},c.ab=Ut,c.ac=function(h){return Math.pow(2,h)},c.ad=ne,c.ae=ht,c.af=85.051129,c.ag=P0,c.ah=function(h){return Math.log(h)/Math.LN2},c.ai=function(h){var s=h[0],f=h[1];return s*s+f*f},c.aj=function(h,s){const f=[];for(const y in h)y in s||f.push(y);return f},c.ak=function(h,s){let f=0,y=0;if(h.kind==="constant")y=h.layoutSize;else if(h.kind!=="source"){const{interpolationType:w,minZoom:P,maxZoom:M}=h,D=w?ht(ho.interpolationFactor(w,s,P,M),0,1):0;h.kind==="camera"?y=zl.number(h.minSize,h.maxSize,D):f=D}return{uSizeT:f,uSize:y}},c.am=function(h,{uSize:s,uSizeT:f},{lowerSize:y,upperSize:w}){return h.kind==="source"?y/Ru:h.kind==="composite"?zl.number(y/Ru,w/Ru,f):s},c.an=function(h,s){var f=s[0],y=s[1],w=s[2],P=s[3],M=s[4],D=s[5],H=s[6],K=s[7],Q=s[8],re=s[9],se=s[10],de=s[11],he=s[12],_e=s[13],Pe=s[14],Le=s[15],tt=f*D-y*M,$e=f*H-w*M,ue=f*K-P*M,Te=y*H-w*D,Ve=y*K-P*D,_t=w*K-P*H,Kt=Q*_e-re*he,Ct=Q*Pe-se*he,zt=Q*Le-de*he,ir=re*Pe-se*_e,rr=re*Le-de*_e,fr=se*Le-de*Pe,Ft=tt*fr-$e*rr+ue*ir+Te*zt-Ve*Ct+_t*Kt;return Ft?(h[0]=(D*fr-H*rr+K*ir)*(Ft=1/Ft),h[1]=(w*rr-y*fr-P*ir)*Ft,h[2]=(_e*_t-Pe*Ve+Le*Te)*Ft,h[3]=(se*Ve-re*_t-de*Te)*Ft,h[4]=(H*zt-M*fr-K*Ct)*Ft,h[5]=(f*fr-w*zt+P*Ct)*Ft,h[6]=(Pe*ue-he*_t-Le*$e)*Ft,h[7]=(Q*_t-se*ue+de*$e)*Ft,h[8]=(M*rr-D*zt+K*Kt)*Ft,h[9]=(y*zt-f*rr-P*Kt)*Ft,h[10]=(he*Ve-_e*ue+Le*tt)*Ft,h[11]=(re*ue-Q*Ve-de*tt)*Ft,h[12]=(D*Ct-M*ir-H*Kt)*Ft,h[13]=(f*ir-y*Ct+w*Kt)*Ft,h[14]=(_e*$e-he*Te-Pe*tt)*Ft,h[15]=(Q*Te-re*$e+se*tt)*Ft,h):null},c.ao=ce,c.ap=function(h){return Math.hypot(h[0],h[1])},c.aq=function(h){return h[0]=0,h[1]=0,h},c.ar=function(h,s,f){return h[0]=s[0]*f,h[1]=s[1]*f,h},c.as=ry,c.at=ve,c.au=function(h,s,f,y){const w=s.y-h.y,P=s.x-h.x,M=y.y-f.y,D=y.x-f.x,H=M*P-D*w;if(H===0)return null;const K=(D*(h.y-f.y)-M*(h.x-f.x))/H;return new I(h.x+K*P,h.y+K*w)},c.av=tb,c.aw=xv,c.ax=function(h){let s=1/0,f=1/0,y=-1/0,w=-1/0;for(const P of h)s=Math.min(s,P.x),f=Math.min(f,P.y),y=Math.max(y,P.x),w=Math.max(w,P.y);return[s,f,y,w]},c.ay=hi,c.az=ze,c.b=br,c.b$=class extends be{},c.b0=function(){const h=new Float32Array(16);return ne(h),h},c.b1=function(){const h=new Float64Array(16);return ne(h),h},c.b2=function(){return new Float64Array(16)},c.b3=function(h,s,f){const y=new Float64Array(4);return function(w,P,M,D){var H=.5*Math.PI/180;P*=H,M*=H,D*=H;var K=Math.sin(P),Q=Math.cos(P),re=Math.sin(M),se=Math.cos(M),de=Math.sin(D),he=Math.cos(D);w[0]=K*se*he-Q*re*de,w[1]=Q*re*he+K*se*de,w[2]=Q*se*de-K*re*he,w[3]=Q*se*he+K*re*de}(y,h,s-90,f),y},c.b4=function(h,s,f,y){var w,P,M,D,H,K=s[0],Q=s[1],re=s[2],se=s[3],de=f[0],he=f[1],_e=f[2],Pe=f[3];return(P=K*de+Q*he+re*_e+se*Pe)<0&&(P=-P,de=-de,he=-he,_e=-_e,Pe=-Pe),1-P>G?(w=Math.acos(P),M=Math.sin(w),D=Math.sin((1-y)*w)/M,H=Math.sin(y*w)/M):(D=1-y,H=y),h[0]=D*K+H*de,h[1]=D*Q+H*he,h[2]=D*re+H*_e,h[3]=D*se+H*Pe,h},c.b5=function(h){const s=new Float64Array(9);var f,y,w,P,M,D,H,K,Q,re,se,de,he,_e,Pe,Le,tt,$e;re=(w=(y=h)[0])*(H=w+w),se=(P=y[1])*H,he=(M=y[2])*H,_e=M*(K=P+P),Le=(D=y[3])*H,tt=D*K,$e=D*(Q=M+M),(f=s)[0]=1-(de=P*K)-(Pe=M*Q),f[3]=se-$e,f[6]=he+tt,f[1]=se+$e,f[4]=1-re-Pe,f[7]=_e-Le,f[2]=he-tt,f[5]=_e+Le,f[8]=1-re-de;const ue=qt(-Math.asin(ht(s[2],-1,1)));let Te,Ve;return Math.hypot(s[5],s[8])<.001?(Te=0,Ve=-qt(Math.atan2(s[3],s[4]))):(Te=qt(s[5]===0&&s[8]===0?0:Math.atan2(s[5],s[8])),Ve=qt(s[1]===0&&s[0]===0?0:Math.atan2(s[1],s[0]))),{roll:Te,pitch:ue+90,bearing:Ve}},c.b6=function(h,s){return h.roll==s.roll&&h.pitch==s.pitch&&h.bearing==s.bearing},c.b7=kn,c.b8=Zh,c.b9=Df,c.bA=function(h){if(h.type==="custom")return new IC(h);switch(h.type){case"background":return new Sw(h);case"circle":return new rw(h);case"fill":return new u0(h);case"fill-extrusion":return new ha(h);case"heatmap":return new n0(h);case"hillshade":return new Av(h);case"line":return new Xg(h);case"raster":return new T0(h);case"symbol":return new Kv(h)}},c.bB=$t,c.bC=function(h,s){if(!h)return[{command:"setStyle",args:[s]}];let f=[];try{if(!ft(h.version,s.version))return[{command:"setStyle",args:[s]}];ft(h.center,s.center)||f.push({command:"setCenter",args:[s.center]}),ft(h.state,s.state)||f.push({command:"setGlobalState",args:[s.state]}),ft(h.centerAltitude,s.centerAltitude)||f.push({command:"setCenterAltitude",args:[s.centerAltitude]}),ft(h.zoom,s.zoom)||f.push({command:"setZoom",args:[s.zoom]}),ft(h.bearing,s.bearing)||f.push({command:"setBearing",args:[s.bearing]}),ft(h.pitch,s.pitch)||f.push({command:"setPitch",args:[s.pitch]}),ft(h.roll,s.roll)||f.push({command:"setRoll",args:[s.roll]}),ft(h.sprite,s.sprite)||f.push({command:"setSprite",args:[s.sprite]}),ft(h.glyphs,s.glyphs)||f.push({command:"setGlyphs",args:[s.glyphs]}),ft(h.transition,s.transition)||f.push({command:"setTransition",args:[s.transition]}),ft(h.light,s.light)||f.push({command:"setLight",args:[s.light]}),ft(h.terrain,s.terrain)||f.push({command:"setTerrain",args:[s.terrain]}),ft(h.sky,s.sky)||f.push({command:"setSky",args:[s.sky]}),ft(h.projection,s.projection)||f.push({command:"setProjection",args:[s.projection]});const y={},w=[];(function(M,D,H,K){let Q;for(Q in D=D||{},M=M||{})Object.prototype.hasOwnProperty.call(M,Q)&&(Object.prototype.hasOwnProperty.call(D,Q)||wt(Q,H,K));for(Q in D)Object.prototype.hasOwnProperty.call(D,Q)&&(Object.prototype.hasOwnProperty.call(M,Q)?ft(M[Q],D[Q])||(M[Q].type==="geojson"&&D[Q].type==="geojson"&&qe(M,D,Q)?xt(H,{command:"setGeoJSONSourceData",args:[Q,D[Q].data]}):Me(Q,D,H,K)):dt(Q,D,H))})(h.sources,s.sources,w,y);const P=[];h.layers&&h.layers.forEach(M=>{"source"in M&&y[M.source]?f.push({command:"removeLayer",args:[M.id]}):P.push(M)}),f=f.concat(w),function(M,D,H){D=D||[];const K=(M=M||[]).map(At),Q=D.map(At),re=M.reduce(Lt,{}),se=D.reduce(Lt,{}),de=K.slice(),he=Object.create(null);let _e,Pe,Le,tt,$e;for(let ue=0,Te=0;ue<K.length;ue++)_e=K[ue],Object.prototype.hasOwnProperty.call(se,_e)?Te++:(xt(H,{command:"removeLayer",args:[_e]}),de.splice(de.indexOf(_e,Te),1));for(let ue=0,Te=0;ue<Q.length;ue++)_e=Q[Q.length-1-ue],de[de.length-1-ue]!==_e&&(Object.prototype.hasOwnProperty.call(re,_e)?(xt(H,{command:"removeLayer",args:[_e]}),de.splice(de.lastIndexOf(_e,de.length-Te),1)):Te++,tt=de[de.length-ue],xt(H,{command:"addLayer",args:[se[_e],tt]}),de.splice(de.length-ue,0,_e),he[_e]=!0);for(let ue=0;ue<Q.length;ue++)if(_e=Q[ue],Pe=re[_e],Le=se[_e],!he[_e]&&!ft(Pe,Le))if(ft(Pe.source,Le.source)&&ft(Pe["source-layer"],Le["source-layer"])&&ft(Pe.type,Le.type)){for($e in it(Pe.layout,Le.layout,H,_e,null,"setLayoutProperty"),it(Pe.paint,Le.paint,H,_e,null,"setPaintProperty"),ft(Pe.filter,Le.filter)||xt(H,{command:"setFilter",args:[_e,Le.filter]}),ft(Pe.minzoom,Le.minzoom)&&ft(Pe.maxzoom,Le.maxzoom)||xt(H,{command:"setLayerZoomRange",args:[_e,Le.minzoom,Le.maxzoom]}),Pe)Object.prototype.hasOwnProperty.call(Pe,$e)&&$e!=="layout"&&$e!=="paint"&&$e!=="filter"&&$e!=="metadata"&&$e!=="minzoom"&&$e!=="maxzoom"&&($e.indexOf("paint.")===0?it(Pe[$e],Le[$e],H,_e,$e.slice(6),"setPaintProperty"):ft(Pe[$e],Le[$e])||xt(H,{command:"setLayerProperty",args:[_e,$e,Le[$e]]}));for($e in Le)Object.prototype.hasOwnProperty.call(Le,$e)&&!Object.prototype.hasOwnProperty.call(Pe,$e)&&$e!=="layout"&&$e!=="paint"&&$e!=="filter"&&$e!=="metadata"&&$e!=="minzoom"&&$e!=="maxzoom"&&($e.indexOf("paint.")===0?it(Pe[$e],Le[$e],H,_e,$e.slice(6),"setPaintProperty"):ft(Pe[$e],Le[$e])||xt(H,{command:"setLayerProperty",args:[_e,$e,Le[$e]]}))}else xt(H,{command:"removeLayer",args:[_e]}),tt=de[de.lastIndexOf(_e)+1],xt(H,{command:"addLayer",args:[Le,tt]})}(P,s.layers,f)}catch(y){console.warn("Unable to compute style diff:",y),f=[{command:"setStyle",args:[s]}]}return f},c.bD=function(h){const s=[],f=h.id;return f===void 0&&s.push({message:`layers.${f}: missing required property "id"`}),h.render===void 0&&s.push({message:`layers.${f}: missing required method "render"`}),h.renderingMode&&h.renderingMode!=="2d"&&h.renderingMode!=="3d"&&s.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),s},c.bE=function h(s,f){if(Array.isArray(s)){if(!Array.isArray(f)||s.length!==f.length)return!1;for(let y=0;y<s.length;y++)if(!h(s[y],f[y]))return!1;return!0}if(typeof s=="object"&&s!==null&&f!==null){if(typeof f!="object"||Object.keys(s).length!==Object.keys(f).length)return!1;for(const y in s)if(!h(s[y],f[y]))return!1;return!0}return s===f},c.bF=lr,c.bG=Dt,c.bH=class extends aa{constructor(h,s){super(h,s),this.current=0}set(h){this.current!==h&&(this.current=h,this.gl.uniform1i(this.location,h))}},c.bI=bv,c.bJ=class extends aa{constructor(h,s){super(h,s),this.current=Of}set(h){if(h[12]!==this.current[12]||h[0]!==this.current[0])return this.current=h,void this.gl.uniformMatrix4fv(this.location,!1,h);for(let s=1;s<16;s++)if(h[s]!==this.current[s]){this.current=h,this.gl.uniformMatrix4fv(this.location,!1,h);break}}},c.bK=$g,c.bL=class extends aa{constructor(h,s){super(h,s),this.current=[0,0,0]}set(h){h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]||(this.current=h,this.gl.uniform3f(this.location,h[0],h[1],h[2]))}},c.bM=class extends aa{constructor(h,s){super(h,s),this.current=[0,0]}set(h){h[0]===this.current[0]&&h[1]===this.current[1]||(this.current=h,this.gl.uniform2f(this.location,h[0],h[1]))}},c.bN=ee,c.bO=function(h,s){var f=Math.sin(s),y=Math.cos(s);return h[0]=y,h[1]=f,h[2]=0,h[3]=-f,h[4]=y,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},c.bP=function(h,s,f){var y=s[0],w=s[1],P=s[2];return h[0]=y*f[0]+w*f[3]+P*f[6],h[1]=y*f[1]+w*f[4]+P*f[7],h[2]=y*f[2]+w*f[5]+P*f[8],h},c.bQ=function(h,s,f,y,w,P,M){var D=1/(s-f),H=1/(y-w),K=1/(P-M);return h[0]=-2*D,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*H,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*K,h[11]=0,h[12]=(s+f)*D,h[13]=(w+y)*H,h[14]=(M+P)*K,h[15]=1,h},c.bR=class extends aa{constructor(h,s){super(h,s),this.current=new Array}set(h){if(h!=this.current){this.current=h;const s=new Float32Array(4*h.length);for(let f=0;f<h.length;f++)s[4*f]=h[f].r,s[4*f+1]=h[f].g,s[4*f+2]=h[f].b,s[4*f+3]=h[f].a;this.gl.uniform4fv(this.location,s)}}},c.bS=class extends aa{constructor(h,s){super(h,s),this.current=new Array}set(h){if(h!=this.current){this.current=h;const s=new Float32Array(h);this.gl.uniform1fv(this.location,s)}}},c.bT=class extends A{},c.bU=Nf,c.bV=class extends U{},c.bW=Hg,c.bX=function(h){return h<=1?1:Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))},c.bY=Tv,c.bZ=function(h,s,f){var y=s[0],w=s[1],P=s[2],M=f[3]*y+f[7]*w+f[11]*P+f[15];return h[0]=(f[0]*y+f[4]*w+f[8]*P+f[12])/(M=M||1),h[1]=(f[1]*y+f[5]*w+f[9]*P+f[13])/M,h[2]=(f[2]*y+f[6]*w+f[10]*P+f[14])/M,h},c.b_=class extends Mc{},c.ba=cm,c.bb=Zs,c.bc=je,c.bd=et,c.be=ki,c.bf=function(h,s,f,y,w){return je(y,w,ht((h-s)/(f-s),0,1))},c.bg=ge,c.bh=function(){return new Float64Array(3)},c.bi=function(h,s,f,y){return h[0]=s[0]+f[0]*y,h[1]=s[1]+f[1]*y,h[2]=s[2]+f[2]*y,h},c.bj=we,c.bk=function(){return new Float64Array(4)},c.bl=function(h,s,f,y){var w=[],P=[];return w[0]=s[0]-f[0],w[1]=s[1]-f[1],w[2]=s[2]-f[2],P[0]=w[0]*Math.cos(y)-w[1]*Math.sin(y),P[1]=w[0]*Math.sin(y)+w[1]*Math.cos(y),P[2]=w[2],h[0]=P[0]+f[0],h[1]=P[1]+f[1],h[2]=P[2]+f[2],h},c.bm=function(h,s,f,y){var w=[],P=[];return w[0]=s[0]-f[0],w[1]=s[1]-f[1],w[2]=s[2]-f[2],P[0]=w[0],P[1]=w[1]*Math.cos(y)-w[2]*Math.sin(y),P[2]=w[1]*Math.sin(y)+w[2]*Math.cos(y),h[0]=P[0]+f[0],h[1]=P[1]+f[1],h[2]=P[2]+f[2],h},c.bn=function(h,s,f,y){var w=[],P=[];return w[0]=s[0]-f[0],w[1]=s[1]-f[1],w[2]=s[2]-f[2],P[0]=w[2]*Math.sin(y)+w[0]*Math.cos(y),P[1]=w[1],P[2]=w[2]*Math.cos(y)-w[0]*Math.sin(y),h[0]=P[0]+f[0],h[1]=P[1]+f[1],h[2]=P[2]+f[2],h},c.bo=X,c.bp=function(h,s,f){var y=Math.sin(f),w=Math.cos(f),P=s[0],M=s[1],D=s[2],H=s[3],K=s[8],Q=s[9],re=s[10],se=s[11];return s!==h&&(h[4]=s[4],h[5]=s[5],h[6]=s[6],h[7]=s[7],h[12]=s[12],h[13]=s[13],h[14]=s[14],h[15]=s[15]),h[0]=P*w-K*y,h[1]=M*w-Q*y,h[2]=D*w-re*y,h[3]=H*w-se*y,h[8]=P*y+K*w,h[9]=M*y+Q*w,h[10]=D*y+re*w,h[11]=H*y+se*w,h},c.bq=function(h,s){const f=ge(h,360),y=ge(s,360),w=y-f,P=y>f?w-360:w+360;return Math.abs(w)<Math.abs(P)?w:P},c.br=function(h){return h[0]=0,h[1]=0,h[2]=0,h},c.bs=function(h,s,f,y){const w=Math.sqrt(h*h+s*s),P=Math.sqrt(f*f+y*y);h/=w,s/=w,f/=P,y/=P;const M=Math.acos(h*f+s*y);return-s*f+h*y>0?M:-M},c.bt=function(h,s){return h[0]*s[0]+h[1]*s[1]+h[2]*s[2]+h[3]},c.bu=A0,c.bv=function(h,s){const f=ge(h,2*Math.PI),y=ge(s,2*Math.PI);return Math.min(Math.abs(f-y),Math.abs(f-y+2*Math.PI),Math.abs(f-y-2*Math.PI))},c.bw=function(){const h={},s=Re.$version;for(const f in Re.$root){const y=Re.$root[f];if(y.required){let w=null;w=f==="version"?s:y.type==="array"?[]:{},w!=null&&(h[f]=w)}}return h},c.bx=Yp,c.by=Kr,c.bz=function(h){h=h.slice();const s=Object.create(null);for(let f=0;f<h.length;f++)s[h[f].id]=h[f];for(let f=0;f<h.length;f++)"ref"in h[f]&&(h[f]=ot(h[f],s[h[f].ref]));return h},c.c=Mr,c.c0=function(h,s){return h[0]===s[0]&&h[1]===s[1]&&h[2]===s[2]&&h[3]===s[3]&&h[4]===s[4]&&h[5]===s[5]&&h[6]===s[6]&&h[7]===s[7]&&h[8]===s[8]&&h[9]===s[9]&&h[10]===s[10]&&h[11]===s[11]&&h[12]===s[12]&&h[13]===s[13]&&h[14]===s[14]&&h[15]===s[15]},c.c1=function(h,s){var f=h[0],y=h[1],w=h[2],P=h[3],M=h[4],D=h[5],H=h[6],K=h[7],Q=h[8],re=h[9],se=h[10],de=h[11],he=h[12],_e=h[13],Pe=h[14],Le=h[15],tt=s[0],$e=s[1],ue=s[2],Te=s[3],Ve=s[4],_t=s[5],Kt=s[6],Ct=s[7],zt=s[8],ir=s[9],rr=s[10],fr=s[11],Ft=s[12],Ar=s[13],jr=s[14],Nr=s[15];return Math.abs(f-tt)<=G*Math.max(1,Math.abs(f),Math.abs(tt))&&Math.abs(y-$e)<=G*Math.max(1,Math.abs(y),Math.abs($e))&&Math.abs(w-ue)<=G*Math.max(1,Math.abs(w),Math.abs(ue))&&Math.abs(P-Te)<=G*Math.max(1,Math.abs(P),Math.abs(Te))&&Math.abs(M-Ve)<=G*Math.max(1,Math.abs(M),Math.abs(Ve))&&Math.abs(D-_t)<=G*Math.max(1,Math.abs(D),Math.abs(_t))&&Math.abs(H-Kt)<=G*Math.max(1,Math.abs(H),Math.abs(Kt))&&Math.abs(K-Ct)<=G*Math.max(1,Math.abs(K),Math.abs(Ct))&&Math.abs(Q-zt)<=G*Math.max(1,Math.abs(Q),Math.abs(zt))&&Math.abs(re-ir)<=G*Math.max(1,Math.abs(re),Math.abs(ir))&&Math.abs(se-rr)<=G*Math.max(1,Math.abs(se),Math.abs(rr))&&Math.abs(de-fr)<=G*Math.max(1,Math.abs(de),Math.abs(fr))&&Math.abs(he-Ft)<=G*Math.max(1,Math.abs(he),Math.abs(Ft))&&Math.abs(_e-Ar)<=G*Math.max(1,Math.abs(_e),Math.abs(Ar))&&Math.abs(Pe-jr)<=G*Math.max(1,Math.abs(Pe),Math.abs(jr))&&Math.abs(Le-Nr)<=G*Math.max(1,Math.abs(Le),Math.abs(Nr))},c.c2=function(h,s){return h[0]=s[0],h[1]=s[1],h[2]=s[2],h[3]=s[3],h[4]=s[4],h[5]=s[5],h[6]=s[6],h[7]=s[7],h[8]=s[8],h[9]=s[9],h[10]=s[10],h[11]=s[11],h[12]=s[12],h[13]=s[13],h[14]=s[14],h[15]=s[15],h},c.c3=h=>h.type==="symbol",c.c4=h=>h.type==="circle",c.c5=h=>h.type==="heatmap",c.c6=h=>h.type==="line",c.c7=h=>h.type==="fill",c.c8=h=>h.type==="fill-extrusion",c.c9=h=>h.type==="hillshade",c.cA=Nc,c.cB=Xh,c.cC=Rd,c.cD=Rs,c.cE=class{constructor(h){this._marks={start:[h.url,"start"].join("#"),end:[h.url,"end"].join("#"),measure:h.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let h=performance.getEntriesByName(this._marks.measure);return h.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),h=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),h}},c.cF=function(h,s,f,y,w){return o(this,void 0,void 0,function*(){if(N())try{return yield Rr(h,s,f,y,w)}catch{}return function(P,M,D,H,K){const Q=P.width,re=P.height;Be&&Ye||(Be=new OffscreenCanvas(Q,re),Ye=Be.getContext("2d",{willReadFrequently:!0})),Be.width=Q,Be.height=re,Ye.drawImage(P,0,0,Q,re);const se=Ye.getImageData(M,D,H,K);return Ye.clearRect(0,0,Q,re),se.data}(h,s,f,y,w)})},c.cG=R0,c.cH=g,c.cI=E,c.cJ=um,c.cK=$v,c.cL=wc,c.cM=Gl,c.ca=h=>h.type==="raster",c.cb=h=>h.type==="background",c.cc=h=>h.type==="custom",c.cd=rt,c.ce=function(h,s,f){const y=Ce(s.x-f.x,s.y-f.y),w=Ce(h.x-f.x,h.y-f.y);var P,M;return qt(Math.atan2(y[0]*w[1]-y[1]*w[0],(P=y)[0]*(M=w)[0]+P[1]*M[1]))},c.cf=vt,c.cg=function(h,s){return gr[s]&&(h instanceof MouseEvent||h instanceof WheelEvent)},c.ch=function(h,s){return Ht[s]&&"touches"in h},c.ci=function(h){return Ht[h]||gr[h]},c.cj=function(h,s,f){var y=s[0],w=s[1];return h[0]=f[0]*y+f[4]*w+f[12],h[1]=f[1]*y+f[5]*w+f[13],h},c.ck=function(h,s){const{x:f,y}=qf.fromLngLat(s);return!(h<0||h>25||y<0||y>=1||f<0||f>=1)},c.cl=function(h,s){return h[0]=s[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=s[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=s[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h},c.cm=class extends Ed{},c.cn=NC,c.cp=function(h){return h.message===Tr},c.cq=wn,c.cr=function(h,s){Qr.REGISTERED_PROTOCOLS[h]=s},c.cs=function(h){delete Qr.REGISTERED_PROTOCOLS[h]},c.ct=function(h,s){const f={};for(let w=0;w<h.length;w++){const P=s&&s[h[w].id]||cl(h[w]);s&&(s[h[w].id]=P);let M=f[P];M||(M=f[P]=[]),M.push(h[w])}const y=[];for(const w in f)y.push(f[w]);return y},c.cu=Er,c.cv=oy,c.cw=eb,c.cx=Qh,c.cy=function(h){h.bucket.createArrays(),h.bucket.tilePixelRatio=Se/(512*h.bucket.overscaling),h.bucket.compareText={},h.bucket.iconsNeedLinear=!1;const s=h.bucket.layers[0],f=s.layout,y=s._unevaluatedLayout._values,w={layoutIconSize:y["icon-size"].possiblyEvaluate(new fa(h.bucket.zoom+1),h.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new fa(h.bucket.zoom+1),h.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new fa(18))};if(h.bucket.textSizeData.kind==="composite"){const{minZoom:K,maxZoom:Q}=h.bucket.textSizeData;w.compositeTextSizes=[y["text-size"].possiblyEvaluate(new fa(K),h.canonical),y["text-size"].possiblyEvaluate(new fa(Q),h.canonical)]}if(h.bucket.iconSizeData.kind==="composite"){const{minZoom:K,maxZoom:Q}=h.bucket.iconSizeData;w.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new fa(K),h.canonical),y["icon-size"].possiblyEvaluate(new fa(Q),h.canonical)]}const P=f.get("text-line-height")*hi,M=f.get("text-rotation-alignment")!=="viewport"&&f.get("symbol-placement")!=="point",D=f.get("text-keep-upright"),H=f.get("text-size");for(const K of h.bucket.features){const Q=f.get("text-font").evaluate(K,{},h.canonical).join(","),re=H.evaluate(K,{},h.canonical),se=w.layoutTextSize.evaluate(K,{},h.canonical),de=w.layoutIconSize.evaluate(K,{},h.canonical),he={horizontal:{},vertical:void 0},_e=K.text;let Pe,Le=[0,0];if(_e){const ue=_e.toString(),Te=f.get("text-letter-spacing").evaluate(K,{},h.canonical)*hi,Ve=vv(ue)?Te:0,_t=f.get("text-anchor").evaluate(K,{},h.canonical),Kt=xl(s,K,h.canonical);if(!Kt){const rr=f.get("text-radial-offset").evaluate(K,{},h.canonical);Le=rr?Em(_t,[rr*hi,ob]):f.get("text-offset").evaluate(K,{},h.canonical).map(fr=>fr*hi)}let Ct=M?"center":f.get("text-justify").evaluate(K,{},h.canonical);const zt=f.get("symbol-placement")==="point"?f.get("text-max-width").evaluate(K,{},h.canonical)*hi:1/0,ir=()=>{h.bucket.allowVerticalPlacement&&$h(ue)&&(he.vertical=mm(_e,h.glyphMap,h.glyphPositions,h.imagePositions,Q,zt,P,_t,"left",Ve,Le,c.al.vertical,!0,se,re))};if(!M&&Kt){const rr=new Set;if(Ct==="auto")for(let Ft=0;Ft<Kt.values.length;Ft+=2)rr.add(sb(Kt.values[Ft]));else rr.add(Ct);let fr=!1;for(const Ft of rr)if(!he.horizontal[Ft])if(fr)he.horizontal[Ft]=he.horizontal[0];else{const Ar=mm(_e,h.glyphMap,h.glyphPositions,h.imagePositions,Q,zt,P,"center",Ft,Ve,Le,c.al.horizontal,!1,se,re);Ar&&(he.horizontal[Ft]=Ar,fr=Ar.positionedLines.length===1)}ir()}else{Ct==="auto"&&(Ct=sb(_t));const rr=mm(_e,h.glyphMap,h.glyphPositions,h.imagePositions,Q,zt,P,_t,Ct,Ve,Le,c.al.horizontal,!1,se,re);rr&&(he.horizontal[Ct]=rr),ir(),$h(ue)&&M&&D&&(he.vertical=mm(_e,h.glyphMap,h.glyphPositions,h.imagePositions,Q,zt,P,_t,Ct,Ve,Le,c.al.vertical,!1,se,re))}}let tt=!1;if(K.icon&&K.icon.name){const ue=h.imageMap[K.icon.name];ue&&(Pe=Oa(h.imagePositions[K.icon.name],f.get("icon-offset").evaluate(K,{},h.canonical),f.get("icon-anchor").evaluate(K,{},h.canonical)),tt=!!ue.sdf,h.bucket.sdfIcons===void 0?h.bucket.sdfIcons=tt:h.bucket.sdfIcons!==tt&&ur("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ue.pixelRatio!==h.bucket.pixelRatio||f.get("icon-rotate").constantOr(1)!==0)&&(h.bucket.iconsNeedLinear=!0))}const $e=Mw(he.horizontal)||he.vertical;h.bucket.iconsInText=!!$e&&$e.iconsInText,($e||Pe)&&lb(h.bucket,K,he,Pe,h.imageMap,w,se,de,Le,tt,h.canonical,h.subdivisionGranularity)}h.showCollisionBoxes&&h.bucket.generateCollisionDebugBuffers()},c.cz=ii,c.d=Ge,c.e=Vt,c.f=h=>o(void 0,void 0,void 0,function*(){if(h.byteLength===0)return createImageBitmap(new ImageData(1,1));const s=new Blob([new Uint8Array(h)],{type:"image/png"});try{return createImageBitmap(s)}catch(f){throw new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),c.g=gn,c.h=h=>new Promise((s,f)=>{const y=new Image;y.onload=()=>{s(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=nn})},y.onerror=()=>f(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const w=new Blob([new Uint8Array(h)],{type:"image/png"});y.src=h.byteLength?URL.createObjectURL(w):nn}),c.i=mr,c.j=(h,s)=>en(Vt(h,{type:"json"}),s),c.k=Ne,c.l=Ae,c.m=en,c.n=(h,s)=>en(Vt(h,{type:"arrayBuffer"}),s),c.o=function(h){return new Rs(h).readFields(bl,[])},c.p=kd,c.q=im,c.r=ka,c.s=We,c.t=Fh,c.u=bn,c.v=Re,c.w=ur,c.x=Nh,c.y=Tf,c.z=function([h,s,f]){return s+=90,s*=Math.PI/180,f*=Math.PI/180,{x:h*Math.cos(s)*Math.sin(f),y:h*Math.sin(s)*Math.sin(f),z:h*Math.cos(f)}}}),a("worker",["./shared"],function(c){class o{constructor(me){this.keyCache={},me&&this.replace(me)}replace(me){this._layerConfigs={},this._layers={},this.update(me,[])}update(me,ye){for(const Ne of me){this._layerConfigs[Ne.id]=Ne;const Je=this._layers[Ne.id]=c.bA(Ne);Je._featureFilter=c.a7(Je.filter),this.keyCache[Ne.id]&&delete this.keyCache[Ne.id]}for(const Ne of ye)delete this.keyCache[Ne],delete this._layerConfigs[Ne],delete this._layers[Ne];this.familiesBySource={};const Ae=c.ct(Object.values(this._layerConfigs),this.keyCache);for(const Ne of Ae){const Je=Ne.map(dt=>this._layers[dt.id]),Re=Je[0];if(Re.visibility==="none")continue;const gt=Re.source||"";let ot=this.familiesBySource[gt];ot||(ot=this.familiesBySource[gt]={});const ft=Re.sourceLayer||"_geojsonTileLayer";let xt=ot[ft];xt||(xt=ot[ft]=[]),xt.push(Je)}}}class g{constructor(me){const ye={},Ae=[];for(const gt in me){const ot=me[gt],ft=ye[gt]={};for(const xt in ot){const dt=ot[+xt];if(!dt||dt.bitmap.width===0||dt.bitmap.height===0)continue;const wt={x:0,y:0,w:dt.bitmap.width+2,h:dt.bitmap.height+2};Ae.push(wt),ft[xt]={rect:wt,metrics:dt.metrics}}}const{w:Ne,h:Je}=c.p(Ae),Re=new c.q({width:Ne||1,height:Je||1});for(const gt in me){const ot=me[gt];for(const ft in ot){const xt=ot[+ft];if(!xt||xt.bitmap.width===0||xt.bitmap.height===0)continue;const dt=ye[gt][ft].rect;c.q.copy(xt.bitmap,Re,{x:0,y:0},{x:dt.x+1,y:dt.y+1},xt.bitmap)}}this.image=Re,this.positions=ye}}c.cu("GlyphAtlas",g);class m{constructor(me){this.tileID=new c.Y(me.tileID.overscaledZ,me.tileID.wrap,me.tileID.canonical.z,me.tileID.canonical.x,me.tileID.canonical.y),this.uid=me.uid,this.zoom=me.zoom,this.pixelRatio=me.pixelRatio,this.tileSize=me.tileSize,this.source=me.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=me.showCollisionBoxes,this.collectResourceTiming=!!me.collectResourceTiming,this.returnDependencies=!!me.returnDependencies,this.promoteId=me.promoteId,this.inFlightDependencies=[]}parse(me,ye,Ae,Ne,Je){return c._(this,void 0,void 0,function*(){this.status="parsing",this.data=me,this.collisionBoxArray=new c.a5;const Re=new c.cv(Object.keys(me.layers).sort()),gt=new c.cw(this.tileID,this.promoteId);gt.bucketLayerIDs=[];const ot={},ft={featureIndex:gt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ae,subdivisionGranularity:Je},xt=ye.familiesBySource[this.source];for(const sr in xt){const yt=me.layers[sr];if(!yt)continue;yt.version===1&&c.w(`Vector tile source "${this.source}" layer "${sr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ar=Re.encode(sr),vr=[];for(let tn=0;tn<yt.length;tn++){const fn=yt.feature(tn),Ln=gt.getId(fn,sr);vr.push({feature:fn,id:Ln,index:tn,sourceLayerIndex:ar})}for(const tn of xt[sr]){const fn=tn[0];fn.source!==this.source&&c.w(`layer.source = ${fn.source} does not equal this.source = ${this.source}`),fn.minzoom&&this.zoom<Math.floor(fn.minzoom)||fn.maxzoom&&this.zoom>=fn.maxzoom||fn.visibility!=="none"&&(_(tn,this.zoom,Ae),(ot[fn.id]=fn.createBucket({index:gt.bucketLayerIDs.length,layers:tn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ar,sourceID:this.source})).populate(vr,ft,this.tileID.canonical),gt.bucketLayerIDs.push(tn.map(Ln=>Ln.id)))}}const dt=c.bF(ft.glyphDependencies,sr=>Object.keys(sr).map(Number));this.inFlightDependencies.forEach(sr=>sr==null?void 0:sr.abort()),this.inFlightDependencies=[];let wt=Promise.resolve({});if(Object.keys(dt).length){const sr=new AbortController;this.inFlightDependencies.push(sr),wt=Ne.sendAsync({type:"GG",data:{stacks:dt,source:this.source,tileID:this.tileID,type:"glyphs"}},sr)}const Me=Object.keys(ft.iconDependencies);let qe=Promise.resolve({});if(Me.length){const sr=new AbortController;this.inFlightDependencies.push(sr),qe=Ne.sendAsync({type:"GI",data:{icons:Me,source:this.source,tileID:this.tileID,type:"icons"}},sr)}const it=Object.keys(ft.patternDependencies);let At=Promise.resolve({});if(it.length){const sr=new AbortController;this.inFlightDependencies.push(sr),At=Ne.sendAsync({type:"GI",data:{icons:it,source:this.source,tileID:this.tileID,type:"patterns"}},sr)}const[Lt,lt,Sr]=yield Promise.all([wt,qe,At]),dr=new g(Lt),_r=new c.cx(lt,Sr);for(const sr in ot){const yt=ot[sr];yt instanceof c.a6?(_(yt.layers,this.zoom,Ae),c.cy({bucket:yt,glyphMap:Lt,glyphPositions:dr.positions,imageMap:lt,imagePositions:_r.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:ft.subdivisionGranularity})):yt.hasPattern&&(yt instanceof c.cz||yt instanceof c.cA||yt instanceof c.cB)&&(_(yt.layers,this.zoom,Ae),yt.addFeatures(ft,this.tileID.canonical,_r.patternPositions))}return this.status="done",{buckets:Object.values(ot).filter(sr=>!sr.isEmpty()),featureIndex:gt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:dr.image,imageAtlas:_r,glyphMap:this.returnDependencies?Lt:null,iconMap:this.returnDependencies?lt:null,glyphPositions:this.returnDependencies?dr.positions:null}})}}function _(Ge,me,ye){const Ae=new c.C(me);for(const Ne of Ge)Ne.recalculate(Ae,ye)}class E{constructor(me,ye,Ae){this.actor=me,this.layerIndex=ye,this.availableImages=Ae,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(me,ye){return c._(this,void 0,void 0,function*(){const Ae=yield c.n(me.request,ye);try{return{vectorTile:new c.cC.VectorTile(new c.cD(Ae.data)),rawData:Ae.data,cacheControl:Ae.cacheControl,expires:Ae.expires}}catch(Ne){const Je=new Uint8Array(Ae.data);let Re=`Unable to parse the tile at ${me.request.url}, `;throw Re+=Je[0]===31&&Je[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ne.message}`,new Error(Re)}})}loadTile(me){return c._(this,void 0,void 0,function*(){const ye=me.uid,Ae=!!(me&&me.request&&me.request.collectResourceTiming)&&new c.cE(me.request),Ne=new m(me);this.loading[ye]=Ne;const Je=new AbortController;Ne.abort=Je;try{const Re=yield this.loadVectorTile(me,Je);if(delete this.loading[ye],!Re)return null;const gt=Re.rawData,ot={};Re.expires&&(ot.expires=Re.expires),Re.cacheControl&&(ot.cacheControl=Re.cacheControl);const ft={};if(Ae){const dt=Ae.finish();dt&&(ft.resourceTiming=JSON.parse(JSON.stringify(dt)))}Ne.vectorTile=Re.vectorTile;const xt=Ne.parse(Re.vectorTile,this.layerIndex,this.availableImages,this.actor,me.subdivisionGranularity);this.loaded[ye]=Ne,this.fetching[ye]={rawTileData:gt,cacheControl:ot,resourceTiming:ft};try{const dt=yield xt;return c.e({rawTileData:gt.slice(0)},dt,ot,ft)}finally{delete this.fetching[ye]}}catch(Re){throw delete this.loading[ye],Ne.status="done",this.loaded[ye]=Ne,Re}})}reloadTile(me){return c._(this,void 0,void 0,function*(){const ye=me.uid;if(!this.loaded||!this.loaded[ye])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Ae=this.loaded[ye];if(Ae.showCollisionBoxes=me.showCollisionBoxes,Ae.status==="parsing"){const Ne=yield Ae.parse(Ae.vectorTile,this.layerIndex,this.availableImages,this.actor,me.subdivisionGranularity);let Je;if(this.fetching[ye]){const{rawTileData:Re,cacheControl:gt,resourceTiming:ot}=this.fetching[ye];delete this.fetching[ye],Je=c.e({rawTileData:Re.slice(0)},Ne,gt,ot)}else Je=Ne;return Je}if(Ae.status==="done"&&Ae.vectorTile)return Ae.parse(Ae.vectorTile,this.layerIndex,this.availableImages,this.actor,me.subdivisionGranularity)})}abortTile(me){return c._(this,void 0,void 0,function*(){const ye=this.loading,Ae=me.uid;ye&&ye[Ae]&&ye[Ae].abort&&(ye[Ae].abort.abort(),delete ye[Ae])})}removeTile(me){return c._(this,void 0,void 0,function*(){this.loaded&&this.loaded[me.uid]&&delete this.loaded[me.uid]})}}class R{constructor(){this.loaded={}}loadTile(me){return c._(this,void 0,void 0,function*(){const{uid:ye,encoding:Ae,rawImageData:Ne,redFactor:Je,greenFactor:Re,blueFactor:gt,baseShift:ot}=me,ft=Ne.width+2,xt=Ne.height+2,dt=c.b(Ne)?new c.R({width:ft,height:xt},yield c.cF(Ne,-1,-1,ft,xt)):Ne,wt=new c.cG(ye,dt,Ae,Je,Re,gt,ot);return this.loaded=this.loaded||{},this.loaded[ye]=wt,wt})}removeTile(me){const ye=this.loaded,Ae=me.uid;ye&&ye[Ae]&&delete ye[Ae]}}var O,I,B=function(){if(I)return O;function Ge(ye,Ae){if(ye.length!==0){me(ye[0],Ae);for(var Ne=1;Ne<ye.length;Ne++)me(ye[Ne],!Ae)}}function me(ye,Ae){for(var Ne=0,Je=0,Re=0,gt=ye.length,ot=gt-1;Re<gt;ot=Re++){var ft=(ye[Re][0]-ye[ot][0])*(ye[ot][1]+ye[Re][1]),xt=Ne+ft;Je+=Math.abs(Ne)>=Math.abs(ft)?Ne-xt+ft:ft-xt+Ne,Ne=xt}Ne+Je>=0!=!!Ae&&ye.reverse()}return I=1,O=function ye(Ae,Ne){var Je,Re=Ae&&Ae.type;if(Re==="FeatureCollection")for(Je=0;Je<Ae.features.length;Je++)ye(Ae.features[Je],Ne);else if(Re==="GeometryCollection")for(Je=0;Je<Ae.geometries.length;Je++)ye(Ae.geometries[Je],Ne);else if(Re==="Feature")ye(Ae.geometry,Ne);else if(Re==="Polygon")Ge(Ae.coordinates,Ne);else if(Re==="MultiPolygon")for(Je=0;Je<Ae.coordinates.length;Je++)Ge(Ae.coordinates[Je],Ne);return Ae}}(),$=c.cH(B);const q=c.cC.VectorTileFeature.prototype.toGeoJSON;class j{constructor(me){this._feature=me,this.extent=c.Z,this.type=me.type,this.properties=me.tags,"id"in me&&!isNaN(me.id)&&(this.id=parseInt(me.id,10))}loadGeometry(){if(this._feature.type===1){const me=[];for(const ye of this._feature.geometry)me.push([new c.P(ye[0],ye[1])]);return me}{const me=[];for(const ye of this._feature.geometry){const Ae=[];for(const Ne of ye)Ae.push(new c.P(Ne[0],Ne[1]));me.push(Ae)}return me}}toGeoJSON(me,ye,Ae){return q.call(this,me,ye,Ae)}}class F{constructor(me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.Z,this.length=me.length,this._features=me}feature(me){return new j(this._features[me])}}var N,G,V,ee={exports:{}},ne=function(){if(V)return ee.exports;V=1;var Ge=c.cK(),me=function(){if(G)return N;G=1;var xt=c.cI(),dt=c.cJ().VectorTileFeature;function wt(qe,it){this.options=it||{},this.features=qe,this.length=qe.length}function Me(qe,it){this.id=typeof qe.id=="number"?qe.id:void 0,this.type=qe.type,this.rawGeometry=qe.type===1?[qe.geometry]:qe.geometry,this.properties=qe.tags,this.extent=it||4096}return N=wt,wt.prototype.feature=function(qe){return new Me(this.features[qe],this.options.extent)},Me.prototype.loadGeometry=function(){var qe=this.rawGeometry;this.geometry=[];for(var it=0;it<qe.length;it++){for(var At=qe[it],Lt=[],lt=0;lt<At.length;lt++)Lt.push(new xt(At[lt][0],At[lt][1]));this.geometry.push(Lt)}return this.geometry},Me.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var qe=this.geometry,it=1/0,At=-1/0,Lt=1/0,lt=-1/0,Sr=0;Sr<qe.length;Sr++)for(var dr=qe[Sr],_r=0;_r<dr.length;_r++){var sr=dr[_r];it=Math.min(it,sr.x),At=Math.max(At,sr.x),Lt=Math.min(Lt,sr.y),lt=Math.max(lt,sr.y)}return[it,Lt,At,lt]},Me.prototype.toGeoJSON=dt.prototype.toGeoJSON,N}();function ye(xt){var dt=new Ge;return function(wt,Me){for(var qe in wt.layers)Me.writeMessage(3,Ae,wt.layers[qe])}(xt,dt),dt.finish()}function Ae(xt,dt){var wt;dt.writeVarintField(15,xt.version||1),dt.writeStringField(1,xt.name||""),dt.writeVarintField(5,xt.extent||4096);var Me={keys:[],values:[],keycache:{},valuecache:{}};for(wt=0;wt<xt.length;wt++)Me.feature=xt.feature(wt),dt.writeMessage(2,Ne,Me);var qe=Me.keys;for(wt=0;wt<qe.length;wt++)dt.writeStringField(3,qe[wt]);var it=Me.values;for(wt=0;wt<it.length;wt++)dt.writeMessage(4,ft,it[wt])}function Ne(xt,dt){var wt=xt.feature;wt.id!==void 0&&dt.writeVarintField(1,wt.id),dt.writeMessage(2,Je,xt),dt.writeVarintField(3,wt.type),dt.writeMessage(4,ot,wt)}function Je(xt,dt){var wt=xt.feature,Me=xt.keys,qe=xt.values,it=xt.keycache,At=xt.valuecache;for(var Lt in wt.properties){var lt=wt.properties[Lt],Sr=it[Lt];if(lt!==null){Sr===void 0&&(Me.push(Lt),it[Lt]=Sr=Me.length-1),dt.writeVarint(Sr);var dr=typeof lt;dr!=="string"&&dr!=="boolean"&&dr!=="number"&&(lt=JSON.stringify(lt));var _r=dr+":"+lt,sr=At[_r];sr===void 0&&(qe.push(lt),At[_r]=sr=qe.length-1),dt.writeVarint(sr)}}}function Re(xt,dt){return(dt<<3)+(7&xt)}function gt(xt){return xt<<1^xt>>31}function ot(xt,dt){for(var wt=xt.loadGeometry(),Me=xt.type,qe=0,it=0,At=wt.length,Lt=0;Lt<At;Lt++){var lt=wt[Lt],Sr=1;Me===1&&(Sr=lt.length),dt.writeVarint(Re(1,Sr));for(var dr=Me===3?lt.length-1:lt.length,_r=0;_r<dr;_r++){_r===1&&Me!==1&&dt.writeVarint(Re(2,dr-1));var sr=lt[_r].x-qe,yt=lt[_r].y-it;dt.writeVarint(gt(sr)),dt.writeVarint(gt(yt)),qe+=sr,it+=yt}Me===3&&dt.writeVarint(Re(7,1))}}function ft(xt,dt){var wt=typeof xt;wt==="string"?dt.writeStringField(1,xt):wt==="boolean"?dt.writeBooleanField(7,xt):wt==="number"&&(xt%1!=0?dt.writeDoubleField(3,xt):xt<0?dt.writeSVarintField(6,xt):dt.writeVarintField(5,xt))}return ee.exports=ye,ee.exports.fromVectorTileJs=ye,ee.exports.fromGeojsonVt=function(xt,dt){dt=dt||{};var wt={};for(var Me in xt)wt[Me]=new me(xt[Me].features,dt),wt[Me].name=Me,wt[Me].version=dt.version,wt[Me].extent=dt.extent;return ye({layers:wt})},ee.exports.GeoJSONWrapper=me,ee.exports}(),ae=c.cH(ne);const X={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ge=>Ge},te=Math.fround||(le=new Float32Array(1),Ge=>(le[0]=+Ge,le[0]));var le;const we=3,ve=5,xe=6;class ce{constructor(me){this.options=Object.assign(Object.create(X),me),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(me){const{log:ye,minZoom:Ae,maxZoom:Ne}=this.options;ye&&console.time("total time");const Je=`prepare ${me.length} points`;ye&&console.time(Je),this.points=me;const Re=[];for(let ot=0;ot<me.length;ot++){const ft=me[ot];if(!ft.geometry)continue;const[xt,dt]=ft.geometry.coordinates,wt=te(ze(xt)),Me=te(ge(dt));Re.push(wt,Me,1/0,ot,-1,1),this.options.reduce&&Re.push(0)}let gt=this.trees[Ne+1]=this._createTree(Re);ye&&console.timeEnd(Je);for(let ot=Ne;ot>=Ae;ot--){const ft=+Date.now();gt=this.trees[ot]=this._createTree(this._cluster(gt,ot)),ye&&console.log("z%d: %d clusters in %dms",ot,gt.numItems,+Date.now()-ft)}return ye&&console.timeEnd("total time"),this}getClusters(me,ye){let Ae=((me[0]+180)%360+360)%360-180;const Ne=Math.max(-90,Math.min(90,me[1]));let Je=me[2]===180?180:((me[2]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,me[3]));if(me[2]-me[0]>=360)Ae=-180,Je=180;else if(Ae>Je){const dt=this.getClusters([Ae,Ne,180,Re],ye),wt=this.getClusters([-180,Ne,Je,Re],ye);return dt.concat(wt)}const gt=this.trees[this._limitZoom(ye)],ot=gt.range(ze(Ae),ge(Re),ze(Je),ge(Ne)),ft=gt.data,xt=[];for(const dt of ot){const wt=this.stride*dt;xt.push(ft[wt+ve]>1?Ce(ft,wt,this.clusterProps):this.points[ft[wt+we]])}return xt}getChildren(me){const ye=this._getOriginId(me),Ae=this._getOriginZoom(me),Ne="No cluster with the specified id.",Je=this.trees[Ae];if(!Je)throw new Error(Ne);const Re=Je.data;if(ye*this.stride>=Re.length)throw new Error(Ne);const gt=this.options.radius/(this.options.extent*Math.pow(2,Ae-1)),ot=Je.within(Re[ye*this.stride],Re[ye*this.stride+1],gt),ft=[];for(const xt of ot){const dt=xt*this.stride;Re[dt+4]===me&&ft.push(Re[dt+ve]>1?Ce(Re,dt,this.clusterProps):this.points[Re[dt+we]])}if(ft.length===0)throw new Error(Ne);return ft}getLeaves(me,ye,Ae){const Ne=[];return this._appendLeaves(Ne,me,ye=ye||10,Ae=Ae||0,0),Ne}getTile(me,ye,Ae){const Ne=this.trees[this._limitZoom(me)],Je=Math.pow(2,me),{extent:Re,radius:gt}=this.options,ot=gt/Re,ft=(Ae-ot)/Je,xt=(Ae+1+ot)/Je,dt={features:[]};return this._addTileFeatures(Ne.range((ye-ot)/Je,ft,(ye+1+ot)/Je,xt),Ne.data,ye,Ae,Je,dt),ye===0&&this._addTileFeatures(Ne.range(1-ot/Je,ft,1,xt),Ne.data,Je,Ae,Je,dt),ye===Je-1&&this._addTileFeatures(Ne.range(0,ft,ot/Je,xt),Ne.data,-1,Ae,Je,dt),dt.features.length?dt:null}getClusterExpansionZoom(me){let ye=this._getOriginZoom(me)-1;for(;ye<=this.options.maxZoom;){const Ae=this.getChildren(me);if(ye++,Ae.length!==1)break;me=Ae[0].properties.cluster_id}return ye}_appendLeaves(me,ye,Ae,Ne,Je){const Re=this.getChildren(ye);for(const gt of Re){const ot=gt.properties;if(ot&&ot.cluster?Je+ot.point_count<=Ne?Je+=ot.point_count:Je=this._appendLeaves(me,ot.cluster_id,Ae,Ne,Je):Je<Ne?Je++:me.push(gt),me.length===Ae)break}return Je}_createTree(me){const ye=new c.aF(me.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ae=0;Ae<me.length;Ae+=this.stride)ye.add(me[Ae],me[Ae+1]);return ye.finish(),ye.data=me,ye}_addTileFeatures(me,ye,Ae,Ne,Je,Re){for(const gt of me){const ot=gt*this.stride,ft=ye[ot+ve]>1;let xt,dt,wt;if(ft)xt=Se(ye,ot,this.clusterProps),dt=ye[ot],wt=ye[ot+1];else{const it=this.points[ye[ot+we]];xt=it.properties;const[At,Lt]=it.geometry.coordinates;dt=ze(At),wt=ge(Lt)}const Me={type:1,geometry:[[Math.round(this.options.extent*(dt*Je-Ae)),Math.round(this.options.extent*(wt*Je-Ne))]],tags:xt};let qe;qe=ft||this.options.generateId?ye[ot+we]:this.points[ye[ot+we]].id,qe!==void 0&&(Me.id=qe),Re.features.push(Me)}}_limitZoom(me){return Math.max(this.options.minZoom,Math.min(Math.floor(+me),this.options.maxZoom+1))}_cluster(me,ye){const{radius:Ae,extent:Ne,reduce:Je,minPoints:Re}=this.options,gt=Ae/(Ne*Math.pow(2,ye)),ot=me.data,ft=[],xt=this.stride;for(let dt=0;dt<ot.length;dt+=xt){if(ot[dt+2]<=ye)continue;ot[dt+2]=ye;const wt=ot[dt],Me=ot[dt+1],qe=me.within(ot[dt],ot[dt+1],gt),it=ot[dt+ve];let At=it;for(const Lt of qe){const lt=Lt*xt;ot[lt+2]>ye&&(At+=ot[lt+ve])}if(At>it&&At>=Re){let Lt,lt=wt*it,Sr=Me*it,dr=-1;const _r=((dt/xt|0)<<5)+(ye+1)+this.points.length;for(const sr of qe){const yt=sr*xt;if(ot[yt+2]<=ye)continue;ot[yt+2]=ye;const ar=ot[yt+ve];lt+=ot[yt]*ar,Sr+=ot[yt+1]*ar,ot[yt+4]=_r,Je&&(Lt||(Lt=this._map(ot,dt,!0),dr=this.clusterProps.length,this.clusterProps.push(Lt)),Je(Lt,this._map(ot,yt)))}ot[dt+4]=_r,ft.push(lt/At,Sr/At,1/0,_r,-1,At),Je&&ft.push(dr)}else{for(let Lt=0;Lt<xt;Lt++)ft.push(ot[dt+Lt]);if(At>1)for(const Lt of qe){const lt=Lt*xt;if(!(ot[lt+2]<=ye)){ot[lt+2]=ye;for(let Sr=0;Sr<xt;Sr++)ft.push(ot[lt+Sr])}}}}return ft}_getOriginId(me){return me-this.points.length>>5}_getOriginZoom(me){return(me-this.points.length)%32}_map(me,ye,Ae){if(me[ye+ve]>1){const Re=this.clusterProps[me[ye+xe]];return Ae?Object.assign({},Re):Re}const Ne=this.points[me[ye+we]].properties,Je=this.options.map(Ne);return Ae&&Je===Ne?Object.assign({},Je):Je}}function Ce(Ge,me,ye){return{type:"Feature",id:Ge[me+we],properties:Se(Ge,me,ye),geometry:{type:"Point",coordinates:[(Ae=Ge[me],360*(Ae-.5)),je(Ge[me+1])]}};var Ae}function Se(Ge,me,ye){const Ae=Ge[me+ve],Ne=Ae>=1e4?`${Math.round(Ae/1e3)}k`:Ae>=1e3?Math.round(Ae/100)/10+"k":Ae,Je=Ge[me+xe],Re=Je===-1?{}:Object.assign({},ye[Je]);return Object.assign(Re,{cluster:!0,cluster_id:Ge[me+we],point_count:Ae,point_count_abbreviated:Ne})}function ze(Ge){return Ge/360+.5}function ge(Ge){const me=Math.sin(Ge*Math.PI/180),ye=.5-.25*Math.log((1+me)/(1-me))/Math.PI;return ye<0?0:ye>1?1:ye}function je(Ge){const me=(180-360*Ge)*Math.PI/180;return 360*Math.atan(Math.exp(me))/Math.PI-90}function et(Ge,me,ye,Ae){let Ne=Ae;const Je=me+(ye-me>>1);let Re,gt=ye-me;const ot=Ge[me],ft=Ge[me+1],xt=Ge[ye],dt=Ge[ye+1];for(let wt=me+3;wt<ye;wt+=3){const Me=rt(Ge[wt],Ge[wt+1],ot,ft,xt,dt);if(Me>Ne)Re=wt,Ne=Me;else if(Me===Ne){const qe=Math.abs(wt-Je);qe<gt&&(Re=wt,gt=qe)}}Ne>Ae&&(Re-me>3&&et(Ge,me,Re,Ae),Ge[Re+2]=Ne,ye-Re>3&&et(Ge,Re,ye,Ae))}function rt(Ge,me,ye,Ae,Ne,Je){let Re=Ne-ye,gt=Je-Ae;if(Re!==0||gt!==0){const ot=((Ge-ye)*Re+(me-Ae)*gt)/(Re*Re+gt*gt);ot>1?(ye=Ne,Ae=Je):ot>0&&(ye+=Re*ot,Ae+=gt*ot)}return Re=Ge-ye,gt=me-Ae,Re*Re+gt*gt}function vt(Ge,me,ye,Ae){const Ne={id:Ge??null,type:me,geometry:ye,tags:Ae,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(me==="Point"||me==="MultiPoint"||me==="LineString")ht(Ne,ye);else if(me==="Polygon")ht(Ne,ye[0]);else if(me==="MultiLineString")for(const Je of ye)ht(Ne,Je);else if(me==="MultiPolygon")for(const Je of ye)ht(Ne,Je[0]);return Ne}function ht(Ge,me){for(let ye=0;ye<me.length;ye+=3)Ge.minX=Math.min(Ge.minX,me[ye]),Ge.minY=Math.min(Ge.minY,me[ye+1]),Ge.maxX=Math.max(Ge.maxX,me[ye]),Ge.maxY=Math.max(Ge.maxY,me[ye+1])}function ut(Ge,me,ye,Ae){if(!me.geometry)return;const Ne=me.geometry.coordinates;if(Ne&&Ne.length===0)return;const Je=me.geometry.type,Re=Math.pow(ye.tolerance/((1<<ye.maxZoom)*ye.extent),2);let gt=[],ot=me.id;if(ye.promoteId?ot=me.properties[ye.promoteId]:ye.generateId&&(ot=Ae||0),Je==="Point")Vt(Ne,gt);else if(Je==="MultiPoint")for(const ft of Ne)Vt(ft,gt);else if(Je==="LineString")Nt(Ne,gt,Re,!1);else if(Je==="MultiLineString"){if(ye.lineMetrics){for(const ft of Ne)gt=[],Nt(ft,gt,Re,!1),Ge.push(vt(ot,"LineString",gt,me.properties));return}lr(Ne,gt,Re,!1)}else if(Je==="Polygon")lr(Ne,gt,Re,!0);else{if(Je!=="MultiPolygon"){if(Je==="GeometryCollection"){for(const ft of me.geometry.geometries)ut(Ge,{id:ot,geometry:ft,properties:me.properties},ye,Ae);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const ft of Ne){const xt=[];lr(ft,xt,Re,!0),gt.push(xt)}}Ge.push(vt(ot,Je,gt,me.properties))}function Vt(Ge,me){me.push(Dt(Ge[0]),$t(Ge[1]),0)}function Nt(Ge,me,ye,Ae){let Ne,Je,Re=0;for(let ot=0;ot<Ge.length;ot++){const ft=Dt(Ge[ot][0]),xt=$t(Ge[ot][1]);me.push(ft,xt,0),ot>0&&(Re+=Ae?(Ne*xt-ft*Je)/2:Math.sqrt(Math.pow(ft-Ne,2)+Math.pow(xt-Je,2))),Ne=ft,Je=xt}const gt=me.length-3;me[2]=1,et(me,0,gt,ye),me[gt+2]=1,me.size=Math.abs(Re),me.start=0,me.end=me.size}function lr(Ge,me,ye,Ae){for(let Ne=0;Ne<Ge.length;Ne++){const Je=[];Nt(Ge[Ne],Je,ye,Ae),me.push(Je)}}function Dt(Ge){return Ge/360+.5}function $t(Ge){const me=Math.sin(Ge*Math.PI/180),ye=.5-.25*Math.log((1+me)/(1-me))/Math.PI;return ye<0?0:ye>1?1:ye}function tr(Ge,me,ye,Ae,Ne,Je,Re,gt){if(Ae/=me,Je>=(ye/=me)&&Re<Ae)return Ge;if(Re<ye||Je>=Ae)return null;const ot=[];for(const ft of Ge){const xt=ft.geometry;let dt=ft.type;const wt=Ne===0?ft.minX:ft.minY,Me=Ne===0?ft.maxX:ft.maxY;if(wt>=ye&&Me<Ae){ot.push(ft);continue}if(Me<ye||wt>=Ae)continue;let qe=[];if(dt==="Point"||dt==="MultiPoint")ur(xt,qe,ye,Ae,Ne);else if(dt==="LineString")Xt(xt,qe,ye,Ae,Ne,!1,gt.lineMetrics);else if(dt==="MultiLineString")Vr(xt,qe,ye,Ae,Ne,!1);else if(dt==="Polygon")Vr(xt,qe,ye,Ae,Ne,!0);else if(dt==="MultiPolygon")for(const it of xt){const At=[];Vr(it,At,ye,Ae,Ne,!0),At.length&&qe.push(At)}if(qe.length){if(gt.lineMetrics&&dt==="LineString"){for(const it of qe)ot.push(vt(ft.id,dt,it,ft.tags));continue}dt!=="LineString"&&dt!=="MultiLineString"||(qe.length===1?(dt="LineString",qe=qe[0]):dt="MultiLineString"),dt!=="Point"&&dt!=="MultiPoint"||(dt=qe.length===3?"Point":"MultiPoint"),ot.push(vt(ft.id,dt,qe,ft.tags))}}return ot.length?ot:null}function ur(Ge,me,ye,Ae,Ne){for(let Je=0;Je<Ge.length;Je+=3){const Re=Ge[Je+Ne];Re>=ye&&Re<=Ae&&br(me,Ge[Je],Ge[Je+1],Ge[Je+2])}}function Xt(Ge,me,ye,Ae,Ne,Je,Re){let gt=mr(Ge);const ot=Ne===0?nn:Rr;let ft,xt,dt=Ge.start;for(let At=0;At<Ge.length-3;At+=3){const Lt=Ge[At],lt=Ge[At+1],Sr=Ge[At+2],dr=Ge[At+3],_r=Ge[At+4],sr=Ne===0?Lt:lt,yt=Ne===0?dr:_r;let ar=!1;Re&&(ft=Math.sqrt(Math.pow(Lt-dr,2)+Math.pow(lt-_r,2))),sr<ye?yt>ye&&(xt=ot(gt,Lt,lt,dr,_r,ye),Re&&(gt.start=dt+ft*xt)):sr>Ae?yt<Ae&&(xt=ot(gt,Lt,lt,dr,_r,Ae),Re&&(gt.start=dt+ft*xt)):br(gt,Lt,lt,Sr),yt<ye&&sr>=ye&&(xt=ot(gt,Lt,lt,dr,_r,ye),ar=!0),yt>Ae&&sr<=Ae&&(xt=ot(gt,Lt,lt,dr,_r,Ae),ar=!0),!Je&&ar&&(Re&&(gt.end=dt+ft*xt),me.push(gt),gt=mr(Ge)),Re&&(dt+=ft)}let wt=Ge.length-3;const Me=Ge[wt],qe=Ge[wt+1],it=Ne===0?Me:qe;it>=ye&&it<=Ae&&br(gt,Me,qe,Ge[wt+2]),wt=gt.length-3,Je&&wt>=3&&(gt[wt]!==gt[0]||gt[wt+1]!==gt[1])&&br(gt,gt[0],gt[1],gt[2]),gt.length&&me.push(gt)}function mr(Ge){const me=[];return me.size=Ge.size,me.start=Ge.start,me.end=Ge.end,me}function Vr(Ge,me,ye,Ae,Ne,Je){for(const Re of Ge)Xt(Re,me,ye,Ae,Ne,Je,!1)}function br(Ge,me,ye,Ae){Ge.push(me,ye,Ae)}function nn(Ge,me,ye,Ae,Ne,Je){const Re=(Je-me)/(Ae-me);return br(Ge,Je,ye+(Ne-ye)*Re,1),Re}function Rr(Ge,me,ye,Ae,Ne,Je){const Re=(Je-ye)/(Ne-ye);return br(Ge,me+(Ae-me)*Re,Je,1),Re}function Be(Ge,me){const ye=[];for(let Ae=0;Ae<Ge.length;Ae++){const Ne=Ge[Ae],Je=Ne.type;let Re;if(Je==="Point"||Je==="MultiPoint"||Je==="LineString")Re=Ye(Ne.geometry,me);else if(Je==="MultiLineString"||Je==="Polygon"){Re=[];for(const gt of Ne.geometry)Re.push(Ye(gt,me))}else if(Je==="MultiPolygon"){Re=[];for(const gt of Ne.geometry){const ot=[];for(const ft of gt)ot.push(Ye(ft,me));Re.push(ot)}}ye.push(vt(Ne.id,Je,Re,Ne.tags))}return ye}function Ye(Ge,me){const ye=[];ye.size=Ge.size,Ge.start!==void 0&&(ye.start=Ge.start,ye.end=Ge.end);for(let Ae=0;Ae<Ge.length;Ae+=3)ye.push(Ge[Ae]+me,Ge[Ae+1],Ge[Ae+2]);return ye}function We(Ge,me){if(Ge.transformed)return Ge;const ye=1<<Ge.z,Ae=Ge.x,Ne=Ge.y;for(const Je of Ge.features){const Re=Je.geometry,gt=Je.type;if(Je.geometry=[],gt===1)for(let ot=0;ot<Re.length;ot+=2)Je.geometry.push(Ut(Re[ot],Re[ot+1],me,ye,Ae,Ne));else for(let ot=0;ot<Re.length;ot++){const ft=[];for(let xt=0;xt<Re[ot].length;xt+=2)ft.push(Ut(Re[ot][xt],Re[ot][xt+1],me,ye,Ae,Ne));Je.geometry.push(ft)}}return Ge.transformed=!0,Ge}function Ut(Ge,me,ye,Ae,Ne,Je){return[Math.round(ye*(Ge*Ae-Ne)),Math.round(ye*(me*Ae-Je))]}function qt(Ge,me,ye,Ae,Ne){const Je=me===Ne.maxZoom?0:Ne.tolerance/((1<<me)*Ne.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:Ge.length,source:null,x:ye,y:Ae,z:me,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const gt of Ge)Ht(Re,gt,Je,Ne);return Re}function Ht(Ge,me,ye,Ae){const Ne=me.geometry,Je=me.type,Re=[];if(Ge.minX=Math.min(Ge.minX,me.minX),Ge.minY=Math.min(Ge.minY,me.minY),Ge.maxX=Math.max(Ge.maxX,me.maxX),Ge.maxY=Math.max(Ge.maxY,me.maxY),Je==="Point"||Je==="MultiPoint")for(let gt=0;gt<Ne.length;gt+=3)Re.push(Ne[gt],Ne[gt+1]),Ge.numPoints++,Ge.numSimplified++;else if(Je==="LineString")gr(Re,Ne,Ge,ye,!1,!1);else if(Je==="MultiLineString"||Je==="Polygon")for(let gt=0;gt<Ne.length;gt++)gr(Re,Ne[gt],Ge,ye,Je==="Polygon",gt===0);else if(Je==="MultiPolygon")for(let gt=0;gt<Ne.length;gt++){const ot=Ne[gt];for(let ft=0;ft<ot.length;ft++)gr(Re,ot[ft],Ge,ye,!0,ft===0)}if(Re.length){let gt=me.tags||null;if(Je==="LineString"&&Ae.lineMetrics){gt={};for(const ft in me.tags)gt[ft]=me.tags[ft];gt.mapbox_clip_start=Ne.start/Ne.size,gt.mapbox_clip_end=Ne.end/Ne.size}const ot={geometry:Re,type:Je==="Polygon"||Je==="MultiPolygon"?3:Je==="LineString"||Je==="MultiLineString"?2:1,tags:gt};me.id!==null&&(ot.id=me.id),Ge.features.push(ot)}}function gr(Ge,me,ye,Ae,Ne,Je){const Re=Ae*Ae;if(Ae>0&&me.size<(Ne?Re:Ae))return void(ye.numPoints+=me.length/3);const gt=[];for(let ot=0;ot<me.length;ot+=3)(Ae===0||me[ot+2]>Re)&&(ye.numSimplified++,gt.push(me[ot],me[ot+1])),ye.numPoints++;Ne&&function(ot,ft){let xt=0;for(let dt=0,wt=ot.length,Me=wt-2;dt<wt;Me=dt,dt+=2)xt+=(ot[dt]-ot[Me])*(ot[dt+1]+ot[Me+1]);if(xt>0===ft)for(let dt=0,wt=ot.length;dt<wt/2;dt+=2){const Me=ot[dt],qe=ot[dt+1];ot[dt]=ot[wt-2-dt],ot[dt+1]=ot[wt-1-dt],ot[wt-2-dt]=Me,ot[wt-1-dt]=qe}}(gt,Je),Ge.push(gt)}const Tr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Mr{constructor(me,ye){const Ae=(ye=this.options=function(Je,Re){for(const gt in Re)Je[gt]=Re[gt];return Je}(Object.create(Tr),ye)).debug;if(Ae&&console.time("preprocess data"),ye.maxZoom<0||ye.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ye.promoteId&&ye.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ne=function(Je,Re){const gt=[];if(Je.type==="FeatureCollection")for(let ot=0;ot<Je.features.length;ot++)ut(gt,Je.features[ot],Re,ot);else ut(gt,Je.type==="Feature"?Je:{geometry:Je},Re);return gt}(me,ye);this.tiles={},this.tileCoords=[],Ae&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ye.indexMaxZoom,ye.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ne=function(Je,Re){const gt=Re.buffer/Re.extent;let ot=Je;const ft=tr(Je,1,-1-gt,gt,0,-1,2,Re),xt=tr(Je,1,1-gt,2+gt,0,-1,2,Re);return(ft||xt)&&(ot=tr(Je,1,-gt,1+gt,0,-1,2,Re)||[],ft&&(ot=Be(ft,1).concat(ot)),xt&&(ot=ot.concat(Be(xt,-1)))),ot}(Ne,ye),Ne.length&&this.splitTile(Ne,0,0,0),Ae&&(Ne.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(me,ye,Ae,Ne,Je,Re,gt){const ot=[me,ye,Ae,Ne],ft=this.options,xt=ft.debug;for(;ot.length;){Ne=ot.pop(),Ae=ot.pop(),ye=ot.pop(),me=ot.pop();const dt=1<<ye,wt=Qr(ye,Ae,Ne);let Me=this.tiles[wt];if(!Me&&(xt>1&&console.time("creation"),Me=this.tiles[wt]=qt(me,ye,Ae,Ne,ft),this.tileCoords.push({z:ye,x:Ae,y:Ne}),xt)){xt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ye,Ae,Ne,Me.numFeatures,Me.numPoints,Me.numSimplified),console.timeEnd("creation"));const ar=`z${ye}`;this.stats[ar]=(this.stats[ar]||0)+1,this.total++}if(Me.source=me,Je==null){if(ye===ft.indexMaxZoom||Me.numPoints<=ft.indexMaxPoints)continue}else{if(ye===ft.maxZoom||ye===Je)continue;if(Je!=null){const ar=Je-ye;if(Ae!==Re>>ar||Ne!==gt>>ar)continue}}if(Me.source=null,me.length===0)continue;xt>1&&console.time("clipping");const qe=.5*ft.buffer/ft.extent,it=.5-qe,At=.5+qe,Lt=1+qe;let lt=null,Sr=null,dr=null,_r=null,sr=tr(me,dt,Ae-qe,Ae+At,0,Me.minX,Me.maxX,ft),yt=tr(me,dt,Ae+it,Ae+Lt,0,Me.minX,Me.maxX,ft);me=null,sr&&(lt=tr(sr,dt,Ne-qe,Ne+At,1,Me.minY,Me.maxY,ft),Sr=tr(sr,dt,Ne+it,Ne+Lt,1,Me.minY,Me.maxY,ft),sr=null),yt&&(dr=tr(yt,dt,Ne-qe,Ne+At,1,Me.minY,Me.maxY,ft),_r=tr(yt,dt,Ne+it,Ne+Lt,1,Me.minY,Me.maxY,ft),yt=null),xt>1&&console.timeEnd("clipping"),ot.push(lt||[],ye+1,2*Ae,2*Ne),ot.push(Sr||[],ye+1,2*Ae,2*Ne+1),ot.push(dr||[],ye+1,2*Ae+1,2*Ne),ot.push(_r||[],ye+1,2*Ae+1,2*Ne+1)}}getTile(me,ye,Ae){me=+me,ye=+ye,Ae=+Ae;const Ne=this.options,{extent:Je,debug:Re}=Ne;if(me<0||me>24)return null;const gt=1<<me,ot=Qr(me,ye=ye+gt&gt-1,Ae);if(this.tiles[ot])return We(this.tiles[ot],Je);Re>1&&console.log("drilling down to z%d-%d-%d",me,ye,Ae);let ft,xt=me,dt=ye,wt=Ae;for(;!ft&&xt>0;)xt--,dt>>=1,wt>>=1,ft=this.tiles[Qr(xt,dt,wt)];return ft&&ft.source?(Re>1&&(console.log("found parent tile z%d-%d-%d",xt,dt,wt),console.time("drilling down")),this.splitTile(ft.source,xt,dt,wt,me,ye,Ae),Re>1&&console.timeEnd("drilling down"),this.tiles[ot]?We(this.tiles[ot],Je):null):null}}function Qr(Ge,me,ye){return 32*((1<<Ge)*ye+me)+Ge}function gn(Ge,me){return me?Ge.properties[me]:Ge.id}function wr(Ge,me){if(Ge==null)return!0;if(Ge.type==="Feature")return gn(Ge,me)!=null;if(Ge.type==="FeatureCollection"){const ye=new Set;for(const Ae of Ge.features){const Ne=gn(Ae,me);if(Ne==null||ye.has(Ne))return!1;ye.add(Ne)}return!0}return!1}function wn(Ge,me){const ye=new Map;if(Ge!=null)if(Ge.type==="Feature")ye.set(gn(Ge,me),Ge);else for(const Ae of Ge.features)ye.set(gn(Ae,me),Ae);return ye}class Kr extends E{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(me,ye){return c._(this,void 0,void 0,function*(){const Ae=me.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Ne=this._geoJSONIndex.getTile(Ae.z,Ae.x,Ae.y);if(!Ne)return null;const Je=new F(Ne.features);let Re=ae(Je);return Re.byteOffset===0&&Re.byteLength===Re.buffer.byteLength||(Re=new Uint8Array(Re)),{vectorTile:Je,rawData:Re.buffer}})}loadData(me){return c._(this,void 0,void 0,function*(){var ye;(ye=this._pendingRequest)===null||ye===void 0||ye.abort();const Ae=!!(me&&me.request&&me.request.collectResourceTiming)&&new c.cE(me.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(me,this._pendingRequest),this._geoJSONIndex=me.cluster?new ce(function({superclusterOptions:Re,clusterProperties:gt}){if(!gt||!Re)return Re;const ot={},ft={},xt={accumulated:null,zoom:0},dt={properties:null},wt=Object.keys(gt);for(const Me of wt){const[qe,it]=gt[Me],At=c.cL(it),Lt=c.cL(typeof qe=="string"?[qe,["accumulated"],["get",Me]]:qe);ot[Me]=At.value,ft[Me]=Lt.value}return Re.map=Me=>{dt.properties=Me;const qe={};for(const it of wt)qe[it]=ot[it].evaluate(xt,dt);return qe},Re.reduce=(Me,qe)=>{dt.properties=qe;for(const it of wt)xt.accumulated=Me[it],Me[it]=ft[it].evaluate(xt,dt)},Re}(me)).load((yield this._pendingData).features):(Ne=yield this._pendingData,new Mr(Ne,me.geojsonVtOptions)),this.loaded={};const Je={};if(Ae){const Re=Ae.finish();Re&&(Je.resourceTiming={},Je.resourceTiming[me.source]=JSON.parse(JSON.stringify(Re)))}return Je}catch(Je){if(delete this._pendingRequest,c.cp(Je))return{abandoned:!0};throw Je}var Ne})}getData(){return c._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(me){const ye=this.loaded;return ye&&ye[me.uid]?super.reloadTile(me):this.loadTile(me)}loadAndProcessGeoJSON(me,ye){return c._(this,void 0,void 0,function*(){let Ae=yield this.loadGeoJSON(me,ye);if(delete this._pendingRequest,typeof Ae!="object")throw new Error(`Input data given to '${me.source}' is not a valid GeoJSON object.`);if($(Ae,!0),me.filter){const Ne=c.cL(me.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ne.result==="error")throw new Error(Ne.value.map(Re=>`${Re.key}: ${Re.message}`).join(", "));Ae={type:"FeatureCollection",features:Ae.features.filter(Re=>Ne.value.evaluate({zoom:0},Re))}}return Ae})}loadGeoJSON(me,ye){return c._(this,void 0,void 0,function*(){const{promoteId:Ae}=me;if(me.request){const Ne=yield c.j(me.request,ye);return this._dataUpdateable=wr(Ne.data,Ae)?wn(Ne.data,Ae):void 0,Ne.data}if(typeof me.data=="string")try{const Ne=JSON.parse(me.data);return this._dataUpdateable=wr(Ne,Ae)?wn(Ne,Ae):void 0,Ne}catch{throw new Error(`Input data given to '${me.source}' is not a valid GeoJSON object.`)}if(!me.dataDiff)throw new Error(`Input data given to '${me.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${me.source}`);return function(Ne,Je,Re){var gt,ot,ft,xt;if(Je.removeAll&&Ne.clear(),Je.remove)for(const dt of Je.remove)Ne.delete(dt);if(Je.add)for(const dt of Je.add){const wt=gn(dt,Re);wt!=null&&Ne.set(wt,dt)}if(Je.update)for(const dt of Je.update){let wt=Ne.get(dt.id);if(wt==null)continue;const Me=!dt.removeAllProperties&&(((gt=dt.removeProperties)===null||gt===void 0?void 0:gt.length)>0||((ot=dt.addOrUpdateProperties)===null||ot===void 0?void 0:ot.length)>0);if((dt.newGeometry||dt.removeAllProperties||Me)&&(wt=Object.assign({},wt),Ne.set(dt.id,wt),Me&&(wt.properties=Object.assign({},wt.properties))),dt.newGeometry&&(wt.geometry=dt.newGeometry),dt.removeAllProperties)wt.properties={};else if(((ft=dt.removeProperties)===null||ft===void 0?void 0:ft.length)>0)for(const qe of dt.removeProperties)Object.prototype.hasOwnProperty.call(wt.properties,qe)&&delete wt.properties[qe];if(((xt=dt.addOrUpdateProperties)===null||xt===void 0?void 0:xt.length)>0)for(const{key:qe,value:it}of dt.addOrUpdateProperties)wt.properties[qe]=it}}(this._dataUpdateable,me.dataDiff,Ae),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(me){return c._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(me){return this._geoJSONIndex.getClusterExpansionZoom(me.clusterId)}getClusterChildren(me){return this._geoJSONIndex.getChildren(me.clusterId)}getClusterLeaves(me){return this._geoJSONIndex.getLeaves(me.clusterId,me.limit,me.offset)}}class en{constructor(me){this.self=me,this.actor=new c.H(me),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ye,Ae)=>{if(this.externalWorkerSourceTypes[ye])throw new Error(`Worker source with name "${ye}" already registered.`);this.externalWorkerSourceTypes[ye]=Ae},this.self.addProtocol=c.cr,this.self.removeProtocol=c.cs,this.self.registerRTLTextPlugin=ye=>{c.cM.setMethods(ye)},this.actor.registerMessageHandler("LDT",(ye,Ae)=>this._getDEMWorkerSource(ye,Ae.source).loadTile(Ae)),this.actor.registerMessageHandler("RDT",(ye,Ae)=>c._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ye,Ae.source).removeTile(Ae)})),this.actor.registerMessageHandler("GCEZ",(ye,Ae)=>c._(this,void 0,void 0,function*(){return this._getWorkerSource(ye,Ae.type,Ae.source).getClusterExpansionZoom(Ae)})),this.actor.registerMessageHandler("GCC",(ye,Ae)=>c._(this,void 0,void 0,function*(){return this._getWorkerSource(ye,Ae.type,Ae.source).getClusterChildren(Ae)})),this.actor.registerMessageHandler("GCL",(ye,Ae)=>c._(this,void 0,void 0,function*(){return this._getWorkerSource(ye,Ae.type,Ae.source).getClusterLeaves(Ae)})),this.actor.registerMessageHandler("LD",(ye,Ae)=>this._getWorkerSource(ye,Ae.type,Ae.source).loadData(Ae)),this.actor.registerMessageHandler("GD",(ye,Ae)=>this._getWorkerSource(ye,Ae.type,Ae.source).getData()),this.actor.registerMessageHandler("LT",(ye,Ae)=>this._getWorkerSource(ye,Ae.type,Ae.source).loadTile(Ae)),this.actor.registerMessageHandler("RT",(ye,Ae)=>this._getWorkerSource(ye,Ae.type,Ae.source).reloadTile(Ae)),this.actor.registerMessageHandler("AT",(ye,Ae)=>this._getWorkerSource(ye,Ae.type,Ae.source).abortTile(Ae)),this.actor.registerMessageHandler("RMT",(ye,Ae)=>this._getWorkerSource(ye,Ae.type,Ae.source).removeTile(Ae)),this.actor.registerMessageHandler("RS",(ye,Ae)=>c._(this,void 0,void 0,function*(){if(!this.workerSources[ye]||!this.workerSources[ye][Ae.type]||!this.workerSources[ye][Ae.type][Ae.source])return;const Ne=this.workerSources[ye][Ae.type][Ae.source];delete this.workerSources[ye][Ae.type][Ae.source],Ne.removeSource!==void 0&&Ne.removeSource(Ae)})),this.actor.registerMessageHandler("RM",ye=>c._(this,void 0,void 0,function*(){delete this.layerIndexes[ye],delete this.availableImages[ye],delete this.workerSources[ye],delete this.demWorkerSources[ye]})),this.actor.registerMessageHandler("SR",(ye,Ae)=>c._(this,void 0,void 0,function*(){this.referrer=Ae})),this.actor.registerMessageHandler("SRPS",(ye,Ae)=>this._syncRTLPluginState(ye,Ae)),this.actor.registerMessageHandler("IS",(ye,Ae)=>c._(this,void 0,void 0,function*(){this.self.importScripts(Ae)})),this.actor.registerMessageHandler("SI",(ye,Ae)=>this._setImages(ye,Ae)),this.actor.registerMessageHandler("UL",(ye,Ae)=>c._(this,void 0,void 0,function*(){this._getLayerIndex(ye).update(Ae.layers,Ae.removedIds)})),this.actor.registerMessageHandler("SL",(ye,Ae)=>c._(this,void 0,void 0,function*(){this._getLayerIndex(ye).replace(Ae)}))}_setImages(me,ye){return c._(this,void 0,void 0,function*(){this.availableImages[me]=ye;for(const Ae in this.workerSources[me]){const Ne=this.workerSources[me][Ae];for(const Je in Ne)Ne[Je].availableImages=ye}})}_syncRTLPluginState(me,ye){return c._(this,void 0,void 0,function*(){return yield c.cM.syncState(ye,this.self.importScripts)})}_getAvailableImages(me){let ye=this.availableImages[me];return ye||(ye=[]),ye}_getLayerIndex(me){let ye=this.layerIndexes[me];return ye||(ye=this.layerIndexes[me]=new o),ye}_getWorkerSource(me,ye,Ae){if(this.workerSources[me]||(this.workerSources[me]={}),this.workerSources[me][ye]||(this.workerSources[me][ye]={}),!this.workerSources[me][ye][Ae]){const Ne={sendAsync:(Je,Re)=>(Je.targetMapId=me,this.actor.sendAsync(Je,Re))};switch(ye){case"vector":this.workerSources[me][ye][Ae]=new E(Ne,this._getLayerIndex(me),this._getAvailableImages(me));break;case"geojson":this.workerSources[me][ye][Ae]=new Kr(Ne,this._getLayerIndex(me),this._getAvailableImages(me));break;default:this.workerSources[me][ye][Ae]=new this.externalWorkerSourceTypes[ye](Ne,this._getLayerIndex(me),this._getAvailableImages(me))}}return this.workerSources[me][ye][Ae]}_getDEMWorkerSource(me,ye){return this.demWorkerSources[me]||(this.demWorkerSources[me]={}),this.demWorkerSources[me][ye]||(this.demWorkerSources[me][ye]=new R),this.demWorkerSources[me][ye]}}return c.i(self)&&(self.worker=new en(self)),en}),a("index",["exports","./shared"],function(c,o){var g="5.5.0";function m(){var C=new o.A(4);return o.A!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C}let _,E;const R={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(C,i,d){const v=requestAnimationFrame(A=>{x(),i(A)}),{unsubscribe:x}=o.s(C.signal,"abort",()=>{x(),cancelAnimationFrame(v),d(o.c())},!1)},frameAsync(C){return new Promise((i,d)=>{this.frame(C,i,d)})},getImageData(C,i=0){return this.getImageCanvasContext(C).getImageData(-i,-i,C.width+2*i,C.height+2*i)},getImageCanvasContext(C){const i=window.document.createElement("canvas"),d=i.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return i.width=C.width,i.height=C.height,d.drawImage(C,0,0,C.width,C.height),d},resolveURL:C=>(_||(_=document.createElement("a")),_.href=C,_.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(E==null&&(E=matchMedia("(prefers-reduced-motion: reduce)")),E.matches)}};class O{static testProp(i){if(!O.docStyle)return i[0];for(let d=0;d<i.length;d++)if(i[d]in O.docStyle)return i[d];return i[0]}static create(i,d,v){const x=window.document.createElement(i);return d!==void 0&&(x.className=d),v&&v.appendChild(x),x}static createNS(i,d){return window.document.createElementNS(i,d)}static disableDrag(){O.docStyle&&O.selectProp&&(O.userSelect=O.docStyle[O.selectProp],O.docStyle[O.selectProp]="none")}static enableDrag(){O.docStyle&&O.selectProp&&(O.docStyle[O.selectProp]=O.userSelect)}static setTransform(i,d){i.style[O.transformProp]=d}static addEventListener(i,d,v,x={}){i.addEventListener(d,v,"passive"in x?x:x.capture)}static removeEventListener(i,d,v,x={}){i.removeEventListener(d,v,"passive"in x?x:x.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",O.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",O.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",O.suppressClickInternal,!0)},0)}static getScale(i){const d=i.getBoundingClientRect();return{x:d.width/i.offsetWidth||1,y:d.height/i.offsetHeight||1,boundingClientRect:d}}static getPoint(i,d,v){const x=d.boundingClientRect;return new o.P((v.clientX-x.left)/d.x-i.clientLeft,(v.clientY-x.top)/d.y-i.clientTop)}static mousePos(i,d){const v=O.getScale(i);return O.getPoint(i,v,d)}static touchPos(i,d){const v=[],x=O.getScale(i);for(let A=0;A<d.length;A++)v.push(O.getPoint(i,x,d[A]));return v}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}static sanitize(i){const d=new DOMParser().parseFromString(i,"text/html").body||document.createElement("body"),v=d.querySelectorAll("script");for(const x of v)x.remove();return O.clean(d),d.innerHTML}static isPossiblyDangerous(i,d){const v=d.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(i)||!v.includes("javascript:")&&!v.includes("data:"))||!!i.startsWith("on")||void 0}static clean(i){const d=i.children;for(const v of d)O.removeAttributes(v),O.clean(v)}static removeAttributes(i){for(const{name:d,value:v}of i.attributes)O.isPossiblyDangerous(d,v)&&i.removeAttribute(d)}}O.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,O.selectProp=O.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),O.transformProp=O.testProp(["transform","WebkitTransform"]);const I={supported:!1,testSupport:function(C){!q&&$&&(j?F(C):B=C)}};let B,$,q=!1,j=!1;function F(C){const i=C.createTexture();C.bindTexture(C.TEXTURE_2D,i);try{if(C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,$),C.isContextLost())return;I.supported=!0}catch{}C.deleteTexture(i),q=!0}var N;typeof document<"u"&&($=document.createElement("img"),$.onload=()=>{B&&F(B),B=null,j=!0},$.onerror=()=>{q=!0,B=null},$.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(C){let i,d,v,x;C.resetRequestQueue=()=>{i=[],d=0,v=0,x={}},C.addThrottleControl=Z=>{const Y=v++;return x[Y]=Z,Y},C.removeThrottleControl=Z=>{delete x[Z],k()},C.getImage=(Z,Y,J=!0)=>new Promise((oe,ie)=>{I.supported&&(Z.headers||(Z.headers={}),Z.headers.accept="image/webp,*/*"),o.e(Z,{type:"image"}),i.push({abortController:Y,requestParameters:Z,supportImageRefresh:J,state:"queued",onError:pe=>{ie(pe)},onSuccess:pe=>{oe(pe)}}),k()});const A=Z=>o._(this,void 0,void 0,function*(){Z.state="running";const{requestParameters:Y,supportImageRefresh:J,onError:oe,onSuccess:ie,abortController:pe}=Z,be=J===!1&&!o.i(self)&&!o.g(Y.url)&&(!Y.headers||Object.keys(Y.headers).reduce((De,Ue)=>De&&Ue==="accept",!0));d++;const Ie=be?U(Y,pe):o.m(Y,pe);try{const De=yield Ie;delete Z.abortController,Z.state="completed",De.data instanceof HTMLImageElement||o.b(De.data)?ie(De):De.data&&ie({data:yield(ke=De.data,typeof createImageBitmap=="function"?o.f(ke):o.h(ke)),cacheControl:De.cacheControl,expires:De.expires})}catch(De){delete Z.abortController,oe(De)}finally{d--,k()}var ke}),k=()=>{const Z=(()=>{for(const Y of Object.keys(x))if(x[Y]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let Y=d;Y<Z&&i.length>0;Y++){const J=i.shift();J.abortController.signal.aborted?Y--:A(J)}},U=(Z,Y)=>new Promise((J,oe)=>{const ie=new Image,pe=Z.url,be=Z.credentials;be&&be==="include"?ie.crossOrigin="use-credentials":(be&&be==="same-origin"||!o.d(pe))&&(ie.crossOrigin="anonymous"),Y.signal.addEventListener("abort",()=>{ie.src="",oe(o.c())}),ie.fetchPriority="high",ie.onload=()=>{ie.onerror=ie.onload=null,J({data:ie})},ie.onerror=()=>{ie.onerror=ie.onload=null,Y.signal.aborted||oe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},ie.src=pe})}(N||(N={})),N.resetRequestQueue();class G{constructor(i){this._transformRequestFn=i}transformRequest(i,d){return this._transformRequestFn&&this._transformRequestFn(i,d)||{url:i}}setTransformRequest(i){this._transformRequestFn=i}}function V(C){const i=[];if(typeof C=="string")i.push({id:"default",url:C});else if(C&&C.length>0){const d=[];for(const{id:v,url:x}of C){const A=`${v}${x}`;d.indexOf(A)===-1&&(d.push(A),i.push({id:v,url:x}))}}return i}function ee(C,i,d){try{const v=new URL(C);return v.pathname+=`${i}${d}`,v.toString()}catch{throw new Error(`Invalid sprite URL "${C}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class ne{constructor(i,d,v,x){this.context=i,this.format=v,this.texture=i.gl.createTexture(),this.update(d,x)}update(i,d,v){const{width:x,height:A}=i,k=!(this.size&&this.size[0]===x&&this.size[1]===A||v),{context:U}=this,{gl:Z}=U;if(this.useMipmap=!!(d&&d.useMipmap),Z.bindTexture(Z.TEXTURE_2D,this.texture),U.pixelStoreUnpackFlipY.set(!1),U.pixelStoreUnpack.set(1),U.pixelStoreUnpackPremultiplyAlpha.set(this.format===Z.RGBA&&(!d||d.premultiply!==!1)),k)this.size=[x,A],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||o.b(i)?Z.texImage2D(Z.TEXTURE_2D,0,this.format,this.format,Z.UNSIGNED_BYTE,i):Z.texImage2D(Z.TEXTURE_2D,0,this.format,x,A,0,this.format,Z.UNSIGNED_BYTE,i.data);else{const{x:Y,y:J}=v||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||o.b(i)?Z.texSubImage2D(Z.TEXTURE_2D,0,Y,J,Z.RGBA,Z.UNSIGNED_BYTE,i):Z.texSubImage2D(Z.TEXTURE_2D,0,Y,J,x,A,Z.RGBA,Z.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Z.generateMipmap(Z.TEXTURE_2D),U.pixelStoreUnpackFlipY.setDefault(),U.pixelStoreUnpack.setDefault(),U.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(i,d,v){const{context:x}=this,{gl:A}=x;A.bindTexture(A.TEXTURE_2D,this.texture),v!==A.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=A.LINEAR),i!==this.filter&&(A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,i),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,v||i),this.filter=i),d!==this.wrap&&(A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,d),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function ae(C){const{userImage:i}=C;return!!(i&&i.render&&i.render())&&(C.data.replace(new Uint8Array(i.data.buffer)),!0)}class X extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:d,promiseResolve:v}of this.requestors)v(this._getImagesForIds(d));this.requestors=[]}}getImage(i){const d=this.images[i];if(d&&!d.data&&d.spriteData){const v=d.spriteData;d.data=new o.R({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),d.spriteData=null}return d}addImage(i,d){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,d)&&(this.images[i]=d)}_validate(i,d){let v=!0;const x=d.data||d.spriteData;return this._validateStretch(d.stretchX,x&&x.width)||(this.fire(new o.k(new Error(`Image "${i}" has invalid "stretchX" value`))),v=!1),this._validateStretch(d.stretchY,x&&x.height)||(this.fire(new o.k(new Error(`Image "${i}" has invalid "stretchY" value`))),v=!1),this._validateContent(d.content,d)||(this.fire(new o.k(new Error(`Image "${i}" has invalid "content" value`))),v=!1),v}_validateStretch(i,d){if(!i)return!0;let v=0;for(const x of i){if(x[0]<v||x[1]<x[0]||d<x[1])return!1;v=x[1]}return!0}_validateContent(i,d){if(!i)return!0;if(i.length!==4)return!1;const v=d.spriteData,x=v&&v.width||d.data.width,A=v&&v.height||d.data.height;return!(i[0]<0||x<i[0]||i[1]<0||A<i[1]||i[2]<0||x<i[2]||i[3]<0||A<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,d,v=!0){const x=this.getImage(i);if(v&&(x.data.width!==d.data.width||x.data.height!==d.data.height))throw new Error(`size mismatch between old image (${x.data.width}x${x.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=x.version+1,this.images[i]=d,this.updatedImages[i]=!0}removeImage(i){const d=this.images[i];delete this.images[i],delete this.patterns[i],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i){return new Promise((d,v)=>{let x=!0;if(!this.isLoaded())for(const A of i)this.images[A]||(x=!1);this.isLoaded()||x?d(this._getImagesForIds(i)):this.requestors.push({ids:i,promiseResolve:d})})}_getImagesForIds(i){const d={};for(const v of i){let x=this.getImage(v);x||(this.fire(new o.l("styleimagemissing",{id:v})),x=this.getImage(v)),x?d[v]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,textFitWidth:x.textFitWidth,textFitHeight:x.textFitHeight,hasRenderCallback:!!(x.userImage&&x.userImage.render)}:o.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){const{width:i,height:d}=this.atlasImage;return{width:i,height:d}}getPattern(i){const d=this.patterns[i],v=this.getImage(i);if(!v)return null;if(d&&d.position.version===v.version)return d.position;if(d)d.position.version=v.version;else{const x={w:v.data.width+2,h:v.data.height+2,x:0,y:0},A=new o.I(x,v);this.patterns[i]={bin:x,position:A}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const d=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ne(i,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const A in this.patterns)i.push(this.patterns[A].bin);const{w:d,h:v}=o.p(i),x=this.atlasImage;x.resize({width:d||1,height:v||1});for(const A in this.patterns){const{bin:k}=this.patterns[A],U=k.x+1,Z=k.y+1,Y=this.getImage(A).data,J=Y.width,oe=Y.height;o.R.copy(Y,x,{x:0,y:0},{x:U,y:Z},{width:J,height:oe}),o.R.copy(Y,x,{x:0,y:oe-1},{x:U,y:Z-1},{width:J,height:1}),o.R.copy(Y,x,{x:0,y:0},{x:U,y:Z+oe},{width:J,height:1}),o.R.copy(Y,x,{x:J-1,y:0},{x:U-1,y:Z},{width:1,height:oe}),o.R.copy(Y,x,{x:0,y:0},{x:U+J,y:Z},{width:1,height:oe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const d of i){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const v=this.getImage(d);v||o.w(`Image with ID: "${d}" was not found`),ae(v)&&this.updateImage(d,v)}}}const te=1e20;function le(C,i,d,v,x,A,k,U,Z){for(let Y=i;Y<i+v;Y++)we(C,d*A+Y,A,x,k,U,Z);for(let Y=d;Y<d+x;Y++)we(C,Y*A+i,1,v,k,U,Z)}function we(C,i,d,v,x,A,k){A[0]=0,k[0]=-1e20,k[1]=te,x[0]=C[i];for(let U=1,Z=0,Y=0;U<v;U++){x[U]=C[i+U*d];const J=U*U;do{const oe=A[Z];Y=(x[U]-x[oe]+J-oe*oe)/(U-oe)/2}while(Y<=k[Z]&&--Z>-1);Z++,A[Z]=U,k[Z]=Y,k[Z+1]=te}for(let U=0,Z=0;U<v;U++){for(;k[Z+1]<U;)Z++;const Y=A[Z],J=U-Y;C[i+U*d]=x[Y]+J*J}}class ve{constructor(i,d){this.requestManager=i,this.localIdeographFontFamily=d,this.entries={}}setURL(i){this.url=i}getGlyphs(i){return o._(this,void 0,void 0,function*(){const d=[];for(const A in i)for(const k of i[A])d.push(this._getAndCacheGlyphsPromise(A,k));const v=yield Promise.all(d),x={};for(const{stack:A,id:k,glyph:U}of v)x[A]||(x[A]={}),x[A][k]=U&&{id:U.id,bitmap:U.bitmap.clone(),metrics:U.metrics};return x})}_getAndCacheGlyphsPromise(i,d){return o._(this,void 0,void 0,function*(){let v=this.entries[i];v||(v=this.entries[i]={glyphs:{},requests:{},ranges:{}});let x=v.glyphs[d];if(x!==void 0)return{stack:i,id:d,glyph:x};if(x=this._tinySDF(v,i,d),x)return v.glyphs[d]=x,{stack:i,id:d,glyph:x};const A=Math.floor(d/256);if(256*A>65535)throw new Error("glyphs > 65535 not supported");if(v.ranges[A])return{stack:i,id:d,glyph:x};if(!this.url)throw new Error("glyphsUrl is not set");if(!v.requests[A]){const U=ve.loadGlyphRange(i,A,this.url,this.requestManager);v.requests[A]=U}const k=yield v.requests[A];for(const U in k)this._doesCharSupportLocalGlyph(+U)||(v.glyphs[+U]=k[+U]);return v.ranges[A]=!0,{stack:i,id:d,glyph:k[d]||null}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(i))||o.u["CJK Unified Ideographs"](i)||o.u["Hangul Syllables"](i)||o.u.Hiragana(i)||o.u.Katakana(i)||o.u["CJK Symbols and Punctuation"](i)||o.u["Halfwidth and Fullwidth Forms"](i))}_tinySDF(i,d,v){const x=this.localIdeographFontFamily;if(!x||!this._doesCharSupportLocalGlyph(v))return;let A=i.tinySDF;if(!A){let U="400";/bold/i.test(d)?U="900":/medium/i.test(d)?U="500":/light/i.test(d)&&(U="200"),A=i.tinySDF=new ve.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:x,fontWeight:U})}const k=A.draw(String.fromCharCode(v));return{id:v,bitmap:new o.q({width:k.width||60,height:k.height||60},k.data),metrics:{width:k.glyphWidth/2||24,height:k.glyphHeight/2||24,left:k.glyphLeft/2+.5||0,top:k.glyphTop/2-27.5||-8,advance:k.glyphAdvance/2||24,isDoubleResolution:!0}}}}ve.loadGlyphRange=function(C,i,d,v){return o._(this,void 0,void 0,function*(){const x=256*i,A=x+255,k=v.transformRequest(d.replace("{fontstack}",C).replace("{range}",`${x}-${A}`),"Glyphs"),U=yield o.n(k,new AbortController);if(!U||!U.data)throw new Error(`Could not load glyph range. range: ${i}, ${x}-${A}`);const Z={};for(const Y of o.o(U.data))Z[Y.id]=Y;return Z})},ve.TinySDF=class{constructor({fontSize:C=24,buffer:i=3,radius:d=8,cutoff:v=.25,fontFamily:x="sans-serif",fontWeight:A="normal",fontStyle:k="normal"}={}){this.buffer=i,this.cutoff=v,this.radius=d;const U=this.size=C+4*i,Z=this._createCanvas(U),Y=this.ctx=Z.getContext("2d",{willReadFrequently:!0});Y.font=`${k} ${A} ${C}px ${x}`,Y.textBaseline="alphabetic",Y.textAlign="left",Y.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Uint16Array(U)}_createCanvas(C){const i=document.createElement("canvas");return i.width=i.height=C,i}draw(C){const{width:i,actualBoundingBoxAscent:d,actualBoundingBoxDescent:v,actualBoundingBoxLeft:x,actualBoundingBoxRight:A}=this.ctx.measureText(C),k=Math.ceil(d),U=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(A-x))),Z=Math.min(this.size-this.buffer,k+Math.ceil(v)),Y=U+2*this.buffer,J=Z+2*this.buffer,oe=Math.max(Y*J,0),ie=new Uint8ClampedArray(oe),pe={data:ie,width:Y,height:J,glyphWidth:U,glyphHeight:Z,glyphTop:k,glyphLeft:0,glyphAdvance:i};if(U===0||Z===0)return pe;const{ctx:be,buffer:Ie,gridInner:ke,gridOuter:De}=this;be.clearRect(Ie,Ie,U,Z),be.fillText(C,Ie,Ie+k);const Ue=be.getImageData(Ie,Ie,U,Z);De.fill(te,0,oe),ke.fill(0,0,oe);for(let Ze=0;Ze<Z;Ze++)for(let He=0;He<U;He++){const Xe=Ue.data[4*(Ze*U+He)+3]/255;if(Xe===0)continue;const nt=(Ze+Ie)*Y+He+Ie;if(Xe===1)De[nt]=0,ke[nt]=te;else{const Qe=.5-Xe;De[nt]=Qe>0?Qe*Qe:0,ke[nt]=Qe<0?Qe*Qe:0}}le(De,0,0,Y,J,Y,this.f,this.v,this.z),le(ke,Ie,Ie,U,Z,Y,this.f,this.v,this.z);for(let Ze=0;Ze<oe;Ze++){const He=Math.sqrt(De[Ze])-Math.sqrt(ke[Ze]);ie[Ze]=Math.round(255-255*(He/this.radius+this.cutoff))}return pe}};class xe{constructor(){this.specification=o.v.light.position}possiblyEvaluate(i,d){return o.z(i.expression.evaluate(d))}interpolate(i,d,v){return{x:o.B.number(i.x,d.x,v),y:o.B.number(i.y,d.y,v),z:o.B.number(i.z,d.z,v)}}}let ce;class Ce extends o.E{constructor(i){super(),ce=ce||new o.r({anchor:new o.D(o.v.light.anchor),position:new xe,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(ce),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,d={}){if(!this._validate(o.t,i,d))for(const v in i){const x=i[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),x):this._transitionable.setValue(v,x)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,d,v){return(!v||v.validate!==!1)&&o.x(this,i.call(o.y,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}const Se=new o.r({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class ze extends o.E{constructor(i){super(),this._transitionable=new o.T(Se),this.setSky(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0))}setSky(i,d={}){if(!this._validate(o.F,i,d)){i||(i={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const v in i){const x=i[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),x):this._transitionable.setValue(v,x)}}}getSky(){return this._transitionable.serialize()}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,d,v={}){return(v==null?void 0:v.validate)!==!1&&o.x(this,i.call(o.y,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(i){return i<60?0:i<70?(i-60)/10:1}}class ge{constructor(i,d){this.width=i,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,d){const v=i.join(",")+String(d);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(i,d)),this.dashEntry[v]}getDashRanges(i,d,v){const x=[];let A=i.length%2==1?-i[i.length-1]*v:0,k=i[0]*v,U=!0;x.push({left:A,right:k,isDash:U,zeroLength:i[0]===0});let Z=i[0];for(let Y=1;Y<i.length;Y++){U=!U;const J=i[Y];A=Z*v,Z+=J,k=Z*v,x.push({left:A,right:k,isDash:U,zeroLength:J===0})}return x}addRoundDash(i,d,v){const x=d/2;for(let A=-v;A<=v;A++){const k=this.width*(this.nextRow+v+A);let U=0,Z=i[U];for(let Y=0;Y<this.width;Y++){Y/Z.right>1&&(Z=i[++U]);const J=Math.abs(Y-Z.left),oe=Math.abs(Y-Z.right),ie=Math.min(J,oe);let pe;const be=A/v*(x+1);if(Z.isDash){const Ie=x-Math.abs(be);pe=Math.sqrt(ie*ie+Ie*Ie)}else pe=x-Math.sqrt(ie*ie+be*be);this.data[k+Y]=Math.max(0,Math.min(255,pe+128))}}}addRegularDash(i){for(let U=i.length-1;U>=0;--U){const Z=i[U],Y=i[U+1];Z.zeroLength?i.splice(U,1):Y&&Y.isDash===Z.isDash&&(Y.left=Z.left,i.splice(U,1))}const d=i[0],v=i[i.length-1];d.isDash===v.isDash&&(d.left=v.left-this.width,v.right=d.right+this.width);const x=this.width*this.nextRow;let A=0,k=i[A];for(let U=0;U<this.width;U++){U/k.right>1&&(k=i[++A]);const Z=Math.abs(U-k.left),Y=Math.abs(U-k.right),J=Math.min(Z,Y);this.data[x+U]=Math.max(0,Math.min(255,(k.isDash?J:-J)+128))}}addDash(i,d){const v=d?7:0,x=2*v+1;if(this.nextRow+x>this.height)return o.w("LineAtlas out of space"),null;let A=0;for(let U=0;U<i.length;U++)A+=i[U];if(A!==0){const U=this.width/A,Z=this.getDashRanges(i,this.width,U);d?this.addRoundDash(Z,U,v):this.addRegularDash(Z)}const k={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:A};return this.nextRow+=x,this.dirty=!0,k}bind(i){const d=i.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}const je="maplibre_preloaded_worker_pool";class et{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<et.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[je]}numActive(){return Object.keys(this.active).length}}const rt=Math.floor(R.hardwareConcurrency/2);let vt,ht;function ut(){return vt||(vt=new et),vt}et.workerCount=o.G(globalThis)?Math.max(Math.min(rt,3),1):1;class Vt{constructor(i,d){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=d;const v=this.workerPool.acquire(d);for(let x=0;x<v.length;x++){const A=new o.H(v[x],d);A.name=`Worker ${x}`,this.actors.push(A)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,d){const v=[];for(const x of this.actors)v.push(x.sendAsync({type:i,data:d}));return Promise.all(v)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}registerMessageHandler(i,d){for(const v of this.actors)v.registerMessageHandler(i,d)}}function Nt(){return ht||(ht=new Vt(ut(),o.J),ht.registerMessageHandler("GR",(C,i,d)=>o.m(i,d))),ht}function lr(C,i){const d=o.K();return o.L(d,d,[1,1,0]),o.M(d,d,[.5*C.width,.5*C.height,1]),C.calculatePosMatrix?o.N(d,d,C.calculatePosMatrix(i.toUnwrapped())):d}function Dt(C,i,d,v,x,A,k){var U;const Z=function(ie,pe,be){if(ie)for(const Ie of ie){const ke=pe[Ie];if(ke&&ke.source===be&&ke.type==="fill-extrusion")return!0}else for(const Ie in pe){const ke=pe[Ie];if(ke.source===be&&ke.type==="fill-extrusion")return!0}return!1}((U=x==null?void 0:x.layers)!==null&&U!==void 0?U:null,i,C.id),Y=A.maxPitchScaleFactor(),J=C.tilesIn(v,Y,Z);J.sort($t);const oe=[];for(const ie of J)oe.push({wrappedTileID:ie.tileID.wrapped().key,queryResults:ie.tile.queryRenderedFeatures(i,d,C._state,ie.queryGeometry,ie.cameraQueryGeometry,ie.scale,x,A,Y,lr(C.transform,ie.tileID),k?(pe,be)=>k(ie.tileID,pe,be):void 0)});return function(ie,pe){for(const be in ie)for(const Ie of ie[be])tr(Ie,pe);return ie}(function(ie){const pe={},be={};for(const Ie of ie){const ke=Ie.queryResults,De=Ie.wrappedTileID,Ue=be[De]=be[De]||{};for(const Ze in ke){const He=ke[Ze],Xe=Ue[Ze]=Ue[Ze]||{},nt=pe[Ze]=pe[Ze]||[];for(const Qe of He)Xe[Qe.featureIndex]||(Xe[Qe.featureIndex]=!0,nt.push(Qe))}}return pe}(oe),C)}function $t(C,i){const d=C.tileID,v=i.tileID;return d.overscaledZ-v.overscaledZ||d.canonical.y-v.canonical.y||d.wrap-v.wrap||d.canonical.x-v.canonical.x}function tr(C,i){const d=C.feature,v=i.getFeatureState(d.layer["source-layer"],d.id);d.source=d.layer.source,d.layer["source-layer"]&&(d.sourceLayer=d.layer["source-layer"]),d.state=v}function ur(C,i,d){return o._(this,void 0,void 0,function*(){let v=C;if(C.url?v=(yield o.j(i.transformRequest(C.url,"Source"),d)).data:yield R.frameAsync(d),!v)return null;const x=o.O(o.e(v,C),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in v&&v.vector_layers&&(x.vectorLayerIds=v.vector_layers.map(A=>A.id)),x})}class Xt{constructor(i,d){i&&(d?this.setSouthWest(i).setNorthEast(d):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof o.Q?new o.Q(i.lng,i.lat):o.Q.convert(i),this}setSouthWest(i){return this._sw=i instanceof o.Q?new o.Q(i.lng,i.lat):o.Q.convert(i),this}extend(i){const d=this._sw,v=this._ne;let x,A;if(i instanceof o.Q)x=i,A=i;else{if(!(i instanceof Xt))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(Xt.convert(i)):this.extend(o.Q.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(o.Q.convert(i)):this;if(x=i._sw,A=i._ne,!x||!A)return this}return d||v?(d.lng=Math.min(x.lng,d.lng),d.lat=Math.min(x.lat,d.lat),v.lng=Math.max(A.lng,v.lng),v.lat=Math.max(A.lat,v.lat)):(this._sw=new o.Q(x.lng,x.lat),this._ne=new o.Q(A.lng,A.lat)),this}getCenter(){return new o.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.Q(this.getWest(),this.getNorth())}getSouthEast(){return new o.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:d,lat:v}=o.Q.convert(i);let x=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(x=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&x}static convert(i){return i instanceof Xt?i:i&&new Xt(i)}static fromLngLat(i,d=0){const v=360*d/40075017,x=v/Math.cos(Math.PI/180*i.lat);return new Xt(new o.Q(i.lng-x,i.lat-v),new o.Q(i.lng+x,i.lat+v))}adjustAntiMeridian(){const i=new o.Q(this._sw.lng,this._sw.lat),d=new o.Q(this._ne.lng,this._ne.lat);return new Xt(i,i.lng>d.lng?new o.Q(d.lng+360,d.lat):d)}}class mr{constructor(i,d,v){this.bounds=Xt.convert(this.validateBounds(i)),this.minzoom=d||0,this.maxzoom=v||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const d=Math.pow(2,i.z),v=Math.floor(o.U(this.bounds.getWest())*d),x=Math.floor(o.S(this.bounds.getNorth())*d),A=Math.ceil(o.U(this.bounds.getEast())*d),k=Math.ceil(o.S(this.bounds.getSouth())*d);return i.x>=v&&i.x<A&&i.y>=x&&i.y<k}}class Vr extends o.E{constructor(i,d,v,x){if(super(),this.id=i,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.O(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield ur(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i&&(o.e(this,i),i.bounds&&(this.tileBounds=new mr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new o.k(i))}})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.abort(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(i){return o._(this,void 0,void 0,function*(){const d=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(d,"Tile"),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};v.request.collectResourceTiming=this._collectResourceTiming;let x="RT";if(i.actor&&i.state!=="expired"){if(i.state==="loading")return new Promise((A,k)=>{i.reloadPromise={resolve:A,reject:k}})}else i.actor=this.dispatcher.getActor(),x="LT";i.abortController=new AbortController;try{const A=yield i.actor.sendAsync({type:x,data:v},i.abortController);if(delete i.abortController,i.aborted)return;this._afterTileLoadWorkerResponse(i,A)}catch(A){if(delete i.abortController,i.aborted)return;if(A&&A.status!==404)throw A;this._afterTileLoadWorkerResponse(i,null)}})}_afterTileLoadWorkerResponse(i,d){if(d&&d.resourceTiming&&(i.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&i.setExpiryData(d),i.loadVectorData(d,this.map.painter),i.reloadPromise){const v=i.reloadPromise;i.reloadPromise=null,this.loadTile(i).then(v.resolve).catch(v.reject)}}abortTile(i){return o._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.actor&&(yield i.actor.sendAsync({type:"AT",data:{uid:i.uid,type:this.type,source:this.id}}))})}unloadTile(i){return o._(this,void 0,void 0,function*(){i.unloadVectorData(),i.actor&&(yield i.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class br extends o.E{constructor(i,d,v,x){super(),this.id=i,this.dispatcher=v,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.O(d,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,function*(i=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const d=yield ur(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,d&&(o.e(this,d),d.bounds&&(this.tileBounds=new mr(d.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:i})))}catch(d){this._tileJSONRequest=null,this.fire(new o.k(d))}})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),i(),this.load(!0)}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}serialize(){return o.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i){return o._(this,void 0,void 0,function*(){const d=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.abortController=new AbortController;try{const v=yield N.getImage(this.map._requestManager.transformRequest(d,"Tile"),i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(v&&v.data){this.map._refreshExpiredTiles&&(v.cacheControl||v.expires)&&i.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const x=this.map.painter.context,A=x.gl,k=v.data;i.texture=this.map.painter.getTileTexture(k.width),i.texture?i.texture.update(k,{useMipmap:!0}):(i.texture=new ne(x,k,A.RGBA,{useMipmap:!0}),i.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE,A.LINEAR_MIPMAP_NEAREST)),i.state="loaded"}}catch(v){if(delete i.abortController,i.aborted)i.state="unloaded";else if(v)throw i.state="errored",v}})}abortTile(i){return o._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController)})}unloadTile(i){return o._(this,void 0,void 0,function*(){i.texture&&this.map.painter.saveTileTexture(i.texture)})}hasTransition(){return!1}}class nn extends br{constructor(i,d,v,x){super(i,d,v,x),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(i){return o._(this,void 0,void 0,function*(){const d=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(d,"Tile");i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.abortController=new AbortController;try{const x=yield N.getImage(v,i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(x&&x.data){const A=x.data;this.map._refreshExpiredTiles&&(x.cacheControl||x.expires)&&i.setExpiryData({cacheControl:x.cacheControl,expires:x.expires});const k=o.b(A)&&o.V()?A:yield this.readImageNow(A),U={type:this.type,uid:i.uid,source:this.id,rawImageData:k,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!i.actor||i.state==="expired"){i.actor=this.dispatcher.getActor();const Z=yield i.actor.sendAsync({type:"LDT",data:U});i.dem=Z,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded"}}}catch(x){if(delete i.abortController,i.aborted)i.state="unloaded";else if(x)throw i.state="errored",x}})}readImageNow(i){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.W()){const d=i.width+2,v=i.height+2;try{return new o.R({width:d,height:v},yield o.X(i,-1,-1,d,v))}catch{}}return R.getImageData(i,1)})}_getNeighboringTiles(i){const d=i.canonical,v=Math.pow(2,d.z),x=(d.x-1+v)%v,A=d.x===0?i.wrap-1:i.wrap,k=(d.x+1+v)%v,U=d.x+1===v?i.wrap+1:i.wrap,Z={};return Z[new o.Y(i.overscaledZ,A,d.z,x,d.y).key]={backfilled:!1},Z[new o.Y(i.overscaledZ,U,d.z,k,d.y).key]={backfilled:!1},d.y>0&&(Z[new o.Y(i.overscaledZ,A,d.z,x,d.y-1).key]={backfilled:!1},Z[new o.Y(i.overscaledZ,i.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},Z[new o.Y(i.overscaledZ,U,d.z,k,d.y-1).key]={backfilled:!1}),d.y+1<v&&(Z[new o.Y(i.overscaledZ,A,d.z,x,d.y+1).key]={backfilled:!1},Z[new o.Y(i.overscaledZ,i.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},Z[new o.Y(i.overscaledZ,U,d.z,k,d.y+1).key]={backfilled:!1}),Z}unloadTile(i){return o._(this,void 0,void 0,function*(){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&(yield i.actor.sendAsync({type:"RDT",data:{type:this.type,uid:i.uid,source:this.id}}))})}}class Rr extends o.E{constructor(i,d,v,x){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(x),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId,d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(d.buffer!==void 0?d.buffer:128),tolerance:this._pixelsToTileUnits(d.tolerance!==void 0?d.tolerance:.375),extent:o.Z,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.Z,radius:this._pixelsToTileUnits(d.clusterRadius||50),log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(i){return i*(o.Z/this.tileSize)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}getData(){return o._(this,void 0,void 0,function*(){const i=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:i})})}getCoordinatesFromGeometry(i){return i.type==="GeometryCollection"?i.geometries.map(d=>d.coordinates).flat(1/0):i.coordinates.flat(1/0)}getBounds(){return o._(this,void 0,void 0,function*(){const i=new Xt,d=yield this.getData();let v;switch(d.type){case"FeatureCollection":v=d.features.map(x=>this.getCoordinatesFromGeometry(x.geometry)).flat(1/0);break;case"Feature":v=this.getCoordinatesFromGeometry(d.geometry);break;default:v=this.getCoordinatesFromGeometry(d)}if(v.length==0)return i;for(let x=0;x<v.length-1;x+=2)i.extend([v[x],v[x+1]]);return i})}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(i.clusterRadius)),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:i,source:this.id}})}getClusterChildren(i){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:i,source:this.id}})}getClusterLeaves(i,d,v){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:i,limit:d,offset:v}})}_updateWorkerData(i){return o._(this,void 0,void 0,function*(){const d=o.e({type:this.type},this.workerOptions);i?d.dataDiff=i:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(R.resolveURL(this._data),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.l("dataloading",{dataType:"source"}));try{const v=yield this.actor.sendAsync({type:"LD",data:d});if(this._pendingLoads--,this._removed||v.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));let x=null;v.resourceTiming&&v.resourceTiming[this.id]&&(x=v.resourceTiming[this.id].slice(0));const A={dataType:"source"};this._collectResourceTiming&&x&&x.length>0&&o.e(A,{resourceTiming:x}),this.fire(new o.l("data",Object.assign(Object.assign({},A),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},A),{sourceDataType:"content"})))}catch(v){if(this._pendingLoads--,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(v))}})}loaded(){return this._pendingLoads===0}loadTile(i){return o._(this,void 0,void 0,function*(){const d=i.actor?"RT":"LT";i.actor=this.actor;const v={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};i.abortController=new AbortController;const x=yield this.actor.sendAsync({type:d,data:v},i.abortController);delete i.abortController,i.unloadVectorData(),i.aborted||i.loadVectorData(x,this.map.painter,d==="RT")})}abortTile(i){return o._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.aborted=!0})}unloadTile(i){return o._(this,void 0,void 0,function*(){i.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Be extends o.E{constructor(i,d,v,x){super(),this.flippedWindingOrder=!1,this.id=i,this.dispatcher=v,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=d}load(i){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const d=yield N.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,i&&(this.coordinates=i),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,this.fire(new o.k(d))}})}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=i.url,this.load(i.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(i){this.coordinates=i;const d=i.map(o.$.fromLngLat);var v;return this.tileID=function(x){let A=1/0,k=1/0,U=-1/0,Z=-1/0;for(const ie of x)A=Math.min(A,ie.x),k=Math.min(k,ie.y),U=Math.max(U,ie.x),Z=Math.max(Z,ie.y);const Y=Math.max(U-A,Z-k),J=Math.max(0,Math.floor(-Math.log(Y)/Math.LN2)),oe=Math.pow(2,J);return new o.a1(J,Math.floor((A+U)/2*oe),Math.floor((k+Z)/2*oe))}(d),this.terrainTileRanges=this._getOverlappingTileRanges(d),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=d.map(x=>this.tileID.getTilePoint(x)._round()),this.flippedWindingOrder=((v=this.tileCoords)[1].x-v[0].x)*(v[2].y-v[0].y)-(v[1].y-v[0].y)*(v[2].x-v[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,d=i.gl;this.texture||(this.texture=new ne(i,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let v=!1;for(const x in this.tiles){const A=this.tiles[x];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture,v=!0)}v&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={}):i.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(i){let d=1/0,v=1/0,x=-1/0,A=-1/0;for(const U of i)d=Math.min(d,U.x),v=Math.min(v,U.y),x=Math.max(x,U.x),A=Math.max(A,U.y);const k={};for(let U=0;U<=o.a0;U++){const Z=Math.pow(2,U),Y=Math.floor(d*Z),J=Math.floor(v*Z),oe=Math.floor(x*Z),ie=Math.floor(A*Z);k[U]={minTileX:Y,minTileY:J,maxTileX:oe,maxTileY:ie}}return k}}class Ye extends Be{constructor(i,d,v,x){super(i,d,v,x),this.roundZoom=!0,this.type="video",this.options=d}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;const i=this.options;this.urls=[];for(const d of i.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{const d=yield o.a2(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new o.k(d))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const d=this.video.seekable;i<d.start(0)||i>d.end(0)?this.fire(new o.k(new o.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,d=i.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new ne(i,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let v=!1;for(const x in this.tiles){const A=this.tiles[x];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture,v=!0)}v&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class We extends Be{constructor(i,d,v,x){super(i,d,v,x),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(A=>!Array.isArray(A)||A.length!==2||A.some(k=>typeof k!="number"))||this.fire(new o.k(new o.a3(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.k(new o.a3(`sources.${i}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.k(new o.a3(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.a3(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.k(new o.a3(`sources.${i}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context,v=d.gl;this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ne(d,this.canvas,v.RGBA,{premultiply:!0});let x=!1;for(const A in this.tiles){const k=this.tiles[A];k.state!=="loaded"&&(k.state="loaded",k.texture=this.texture,x=!0)}x&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const Ut={},qt=C=>{switch(C){case"geojson":return Rr;case"image":return Be;case"raster":return br;case"raster-dem":return nn;case"vector":return Vr;case"video":return Ye;case"canvas":return We}return Ut[C]},Ht="RTLPluginLoaded";class gr extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Nt()}_syncState(i){return this.status=i,this.dispatcher.broadcast("SRPS",{pluginStatus:i,pluginURL:this.url}).catch(d=>{throw this.status="error",d})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(i){return o._(this,arguments,void 0,function*(d,v=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=R.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!v)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(Ht))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Tr=null;function Mr(){return Tr||(Tr=new gr),Tr}class Qr{constructor(i,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=o.a4(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const d=i+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,d,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(x,A){const k={};if(!A)return k;for(const U of x){const Z=U.layerIds.map(Y=>A.getLayer(Y)).filter(Boolean);if(Z.length!==0){U.layers=Z,U.stateDependentLayerIds&&(U.stateDependentLayers=U.stateDependentLayerIds.map(Y=>Z.filter(J=>J.id===Y)[0]));for(const Y of Z)k[Y.id]=U}}return k}(i.buckets,d==null?void 0:d.style),this.hasSymbolBuckets=!1;for(const x in this.buckets){const A=this.buckets[x];if(A instanceof o.a6){if(this.hasSymbolBuckets=!0,!v)break;A.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const x in this.buckets){const A=this.buckets[x];if(A instanceof o.a6&&A.hasRTLText){this.hasRTLText=!0,Mr().lazyLoad();break}}this.queryPadding=0;for(const x in this.buckets){const A=this.buckets[x];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(x).queryRadius(A))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const v in this.buckets){const x=this.buckets[v];x.uploadPending()&&x.upload(i)}const d=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ne(i,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ne(i,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,d,v,x,A,k,U,Z,Y,J,oe){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:x,cameraQueryGeometry:A,scale:k,tileSize:this.tileSize,pixelPosMatrix:J,transform:Z,params:U,queryPadding:this.queryPadding*Y,getElevation:oe},i,d,v):{}}querySourceFeatures(i,d){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const x=v.loadVTLayers(),A=d&&d.sourceLayer?d.sourceLayer:"",k=x._geojsonTileLayer||x[A];if(!k)return;const U=o.a7(d&&d.filter),{z:Z,x:Y,y:J}=this.tileID.canonical,oe={z:Z,x:Y,y:J};for(let ie=0;ie<k.length;ie++){const pe=k.feature(ie);if(U.needGeometry){const ke=o.a8(pe,!0);if(!U.filter(new o.C(this.tileID.overscaledZ),ke,this.tileID.canonical))continue}else if(!U.filter(new o.C(this.tileID.overscaledZ),pe))continue;const be=v.getId(pe,A),Ie=new o.a9(pe,Z,Y,J,be);Ie.tile=oe,i.push(Ie)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const d=this.expirationTime;if(i.cacheControl){const v=o.aa(i.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const v=Date.now();let x=!1;if(this.expirationTime>v)x=!1;else if(d)if(this.expirationTime<d)x=!0;else{const A=this.expirationTime-d;A?this.expirationTime=v+Math.max(A,3e4):x=!0}else x=!0;x?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const x in this.buckets){if(!d.style.hasLayer(x))continue;const A=this.buckets[x],k=A.layers[0].sourceLayer||"_geojsonTileLayer",U=v[k],Z=i[k];if(!U||!Z||Object.keys(Z).length===0)continue;A.update(Z,U,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Y=d&&d.style&&d.style.getLayer(x);Y&&(this.queryPadding=Math.max(this.queryPadding,Y.queryRadius(A)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<R.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=R.now()+i}setDependencies(i,d){const v={};for(const x of d)v[x]=!0;this.dependencies[i]=v}hasDependency(i,d){for(const v of i){const x=this.dependencies[v];if(x){for(const A of d)if(x[A])return!0}}return!1}}class gn{constructor(i,d){this.max=i,this.onRemove=d,this.reset()}reset(){for(const i in this.data)for(const d of this.data[i])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(i,d,v){const x=i.wrapped().key;this.data[x]===void 0&&(this.data[x]=[]);const A={value:d,timeout:void 0};if(v!==void 0&&(A.timeout=setTimeout(()=>{this.remove(i,A)},v)),this.data[x].push(A),this.order.push(x),this.order.length>this.max){const k=this._getAndRemoveByKey(this.order[0]);k&&this.onRemove(k)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const d=this.data[i].shift();return d.timeout&&clearTimeout(d.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),d.value}getByKey(i){const d=this.data[i];return d?d[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,d){if(!this.has(i))return this;const v=i.wrapped().key,x=d===void 0?0:this.data[v].indexOf(d),A=this.data[v][x];return this.data[v].splice(x,1),A.timeout&&clearTimeout(A.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(A.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(i){const d=[];for(const v in this.data)for(const x of this.data[v])i(x.value)||d.push(x);for(const v of d)this.remove(v.value.tileID,v)}}class wr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,d,v){const x=String(d);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][x]=this.stateChanges[i][x]||{},o.e(this.stateChanges[i][x],v),this.deletedStates[i]===null){this.deletedStates[i]={};for(const A in this.state[i])A!==x&&(this.deletedStates[i][A]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][x]===null){this.deletedStates[i][x]={};for(const A in this.state[i][x])v[A]||(this.deletedStates[i][x][A]=null)}else for(const A in v)this.deletedStates[i]&&this.deletedStates[i][x]&&this.deletedStates[i][x][A]===null&&delete this.deletedStates[i][x][A]}removeFeatureState(i,d,v){if(this.deletedStates[i]===null)return;const x=String(d);if(this.deletedStates[i]=this.deletedStates[i]||{},v&&d!==void 0)this.deletedStates[i][x]!==null&&(this.deletedStates[i][x]=this.deletedStates[i][x]||{},this.deletedStates[i][x][v]=null);else if(d!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][x])for(v in this.deletedStates[i][x]={},this.stateChanges[i][x])this.deletedStates[i][x][v]=null;else this.deletedStates[i][x]=null;else this.deletedStates[i]=null}getState(i,d){const v=String(d),x=o.e({},(this.state[i]||{})[v],(this.stateChanges[i]||{})[v]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const A=this.deletedStates[i][d];if(A===null)return{};for(const k in A)delete x[k]}return x}initializeTileState(i,d){i.setFeatureState(this.state,d)}coalesceChanges(i,d){const v={};for(const x in this.stateChanges){this.state[x]=this.state[x]||{};const A={};for(const k in this.stateChanges[x])this.state[x][k]||(this.state[x][k]={}),o.e(this.state[x][k],this.stateChanges[x][k]),A[k]=this.state[x][k];v[x]=A}for(const x in this.deletedStates){this.state[x]=this.state[x]||{};const A={};if(this.deletedStates[x]===null)for(const k in this.state[x])A[k]={},this.state[x][k]={};else for(const k in this.deletedStates[x]){if(this.deletedStates[x][k]===null)this.state[x][k]={};else for(const U of Object.keys(this.deletedStates[x][k]))delete this.state[x][k][U];A[k]=this.state[x][k]}v[x]=v[x]||{},o.e(v[x],A)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const x in i)i[x].setFeatureState(v,d)}}const wn=89.25;function Kr(C,i){const d=o.ae(i.lat,-85.051129,o.af);return new o.P(o.U(i.lng)*C,o.S(d)*C)}function en(C,i){return new o.$(i.x/C,i.y/C).toLngLat()}function Ge(C){return C.cameraToCenterDistance*Math.min(.85*Math.tan(o.ab(90-C.pitch)),Math.tan(o.ab(wn-C.pitch)))}function me(C,i){const d=C.canonical,v=i/o.ac(d.z),x=d.x+Math.pow(2,d.z)*C.wrap,A=o.ad(new Float64Array(16));return o.L(A,A,[x*v,d.y*v,0]),o.M(A,A,[v/o.Z,v/o.Z,1]),A}function ye(C,i,d,v,x){const A=o.$.fromLngLat(C,i),k=x*o.ag(1,C.lat),U=k*Math.cos(o.ab(d)),Z=Math.sqrt(k*k-U*U),Y=Z*Math.sin(o.ab(-v)),J=Z*Math.cos(o.ab(-v));return new o.$(A.x+Y,A.y+J,A.z+U)}function Ae(C,i,d){const v=i.intersectsFrustum(C);if(!d)return v;const x=i.intersectsPlane(d);return v===0||x===0?0:v===2&&x===2?2:1}function Ne(C,i,d){let v=0;const x=(d-i)/10;for(let A=0;A<10;A++)v+=x*Math.pow(Math.cos(i+(A+.5)/10*(d-i)),C);return v}function Je(C,i){return function(d,v,x,A,k){const U=2*((C-1)/o.ah(Math.cos(o.ab(wn-k))/Math.cos(o.ab(wn)))-1),Z=Math.acos(x/A),Y=2*Ne(U-1,0,o.ab(k/2)),J=Math.min(o.ab(wn),Z+o.ab(k/2)),oe=Ne(U-1,Math.min(J,Z-o.ab(k/2)),J),ie=Math.atan(v/x),pe=Math.hypot(v,x);let be=d;return be+=o.ah(A/pe/Math.max(.5,Math.cos(o.ab(k/2)))),be+=U*o.ah(Math.cos(ie))/2,be-=o.ah(Math.max(1,oe/Y/i))/2,be}}const Re=Je(9.314,3);function gt(C,i){const d=(i.roundZoom?Math.round:Math.floor)(C.zoom+o.ah(C.tileSize/i.tileSize));return Math.max(0,d)}function ot(C,i){const d=C.getCameraFrustum(),v=C.getClippingPlane(),x=C.screenPointToMercatorCoordinate(C.getCameraPoint()),A=o.$.fromLngLat(C.center,C.elevation);x.z=A.z+Math.cos(C.pitchInRadians)*C.cameraToCenterDistance/C.worldSize;const k=C.getCoveringTilesDetailsProvider(),U=k.allowVariableZoom(C,i),Z=gt(C,i),Y=i.minzoom||0,J=i.maxzoom!==void 0?i.maxzoom:C.maxZoom,oe=Math.min(Math.max(0,Z),J),ie=Math.pow(2,oe),pe=[ie*x.x,ie*x.y,0],be=[ie*A.x,ie*A.y,0],Ie=Math.hypot(A.x-x.x,A.y-x.y),ke=Math.abs(A.z-x.z),De=Math.hypot(Ie,ke),Ue=Xe=>({zoom:0,x:0,y:0,wrap:Xe,fullyVisible:!1}),Ze=[],He=[];if(C.renderWorldCopies&&k.allowWorldCopies())for(let Xe=1;Xe<=3;Xe++)Ze.push(Ue(-Xe)),Ze.push(Ue(Xe));for(Ze.push(Ue(0));Ze.length>0;){const Xe=Ze.pop(),nt=Xe.x,Qe=Xe.y;let bt=Xe.fullyVisible;const Bt={x:nt,y:Qe,z:Xe.zoom},Pt=k.getTileAABB(Bt,Xe.wrap,C.elevation,i);if(!bt){const hr=Ae(d,Pt,v);if(hr===0)continue;bt=hr===2}const Tt=k.distanceToTile2d(x.x,x.y,Bt,Pt);let Mt=Z;U&&(Mt=(i.calculateTileZoom||Re)(C.zoom+o.ah(C.tileSize/i.tileSize),Tt,ke,De,C.fov)),Mt=(i.roundZoom?Math.round:Math.floor)(Mt),Mt=Math.max(0,Mt);const yr=Math.min(Mt,J);if(Xe.wrap=k.getWrap(A,Bt,Xe.wrap),Xe.zoom>=yr){if(Xe.zoom<Y)continue;const hr=oe-Xe.zoom,Wt=pe[0]-.5-(nt<<hr),Or=pe[1]-.5-(Qe<<hr),vn=i.reparseOverscaled?Math.max(Xe.zoom,Mt):Xe.zoom;He.push({tileID:new o.Y(Xe.zoom===J?vn:Xe.zoom,Xe.wrap,Xe.zoom,nt,Qe),distanceSq:o.ai([be[0]-.5-nt,be[1]-.5-Qe]),tileDistanceToCamera:Math.sqrt(Wt*Wt+Or*Or)})}else for(let hr=0;hr<4;hr++)Ze.push({zoom:Xe.zoom+1,x:(nt<<1)+hr%2,y:(Qe<<1)+(hr>>1),wrap:Xe.wrap,fullyVisible:bt})}return He.sort((Xe,nt)=>Xe.distanceSq-nt.distanceSq).map(Xe=>Xe.tileID)}class ft extends o.E{constructor(i,d,v){super(),this.id=i,this.dispatcher=v,this.on("data",x=>this._dataHandler(x)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((x,A,k,U)=>{const Z=new(qt(A.type))(x,A,k,U);if(Z.id!==x)throw new Error(`Expected Source id to be ${x} instead of ${Z.id}`);return Z})(i,d,v,this),this._tiles={},this._cache=new gn(0,x=>this._unloadTile(x)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new wr,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const d=this._tiles[i];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,d,v){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(i),this._tileLoaded(i,d,v)}catch(x){i.state="errored",x.status!==404?this._source.fire(new o.k(x,{tile:i})):this.update(this.transform,this.terrain)}})}_unloadTile(i){this._source.unloadTile&&this._source.unloadTile(i)}_abortTile(i){this._source.abortTile&&this._source.abortTile(i),this._source.fire(new o.l("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const v=this._tiles[d];v.upload(i),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(xt).map(i=>i.key)}getRenderableIds(i){const d=[];for(const v in this._tiles)this._isIdRenderable(v,i)&&d.push(this._tiles[v]);return i?d.sort((v,x)=>{const A=v.tileID,k=x.tileID,U=new o.P(A.canonical.x,A.canonical.y)._rotate(-this.transform.bearingInRadians),Z=new o.P(k.canonical.x,k.canonical.y)._rotate(-this.transform.bearingInRadians);return A.overscaledZ-k.overscaledZ||Z.y-U.y||Z.x-U.x}).map(v=>v.tileID.key):d.map(v=>v.tileID).sort(xt).map(v=>v.key)}hasRenderableParent(i){const d=this.findLoadedParent(i,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(i,d){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(d||!this._tiles[i].holdingForFade())}reload(i){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const d in this._tiles)(i||this._tiles[d].state!=="errored")&&this._reloadTile(d,"reloading")}}_reloadTile(i,d){return o._(this,void 0,void 0,function*(){const v=this._tiles[i];v&&(v.state!=="loading"&&(v.state=d),yield this._loadTile(v,i,d))})}_tileLoaded(i,d,v){i.timeAdded=R.now(),v==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(d,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const d=this.getRenderableIds();for(let x=0;x<d.length;x++){const A=d[x];if(i.neighboringTiles&&i.neighboringTiles[A]){const k=this.getTileByID(A);v(i,k),v(k,i)}}function v(x,A){x.needsHillshadePrepare=!0,x.needsTerrainPrepare=!0;let k=A.tileID.canonical.x-x.tileID.canonical.x;const U=A.tileID.canonical.y-x.tileID.canonical.y,Z=Math.pow(2,x.tileID.canonical.z),Y=A.tileID.key;k===0&&U===0||Math.abs(U)>1||(Math.abs(k)>1&&(Math.abs(k+Z)===1?k+=Z:Math.abs(k-Z)===1&&(k-=Z)),A.dem&&x.dem&&(x.dem.backfillBorder(A.dem,k,U),x.neighboringTiles&&x.neighboringTiles[Y]&&(x.neighboringTiles[Y].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,d,v,x){for(const A in this._tiles){let k=this._tiles[A];if(x[A]||!k.hasData()||k.tileID.overscaledZ<=d||k.tileID.overscaledZ>v)continue;let U=k.tileID;for(;k&&k.tileID.overscaledZ>d+1;){const Y=k.tileID.scaledTo(k.tileID.overscaledZ-1);k=this._tiles[Y.key],k&&k.hasData()&&(U=Y)}let Z=U;for(;Z.overscaledZ>d;)if(Z=Z.scaledTo(Z.overscaledZ-1),i[Z.key]||i[Z.canonical.key]){x[U.key]=U;break}}}findLoadedParent(i,d){if(i.key in this._loadedParentTiles){const v=this._loadedParentTiles[i.key];return v&&v.tileID.overscaledZ>=d?v:null}for(let v=i.overscaledZ-1;v>=d;v--){const x=i.scaledTo(v),A=this._getLoadedTile(x);if(A)return A}}findLoadedSibling(i){return this._getLoadedTile(i)}_getLoadedTile(i){const d=this._tiles[i.key];return d&&d.hasData()?d:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const d=Math.ceil(i.width/this._source.tileSize)+1,v=Math.ceil(i.height/this._source.tileSize)+1,x=Math.floor(d*v*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),A=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(A)}handleWrapJump(i){const d=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,d){const v={};for(const x in this._tiles){const A=this._tiles[x];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+d),v[A.tileID.key]=A}this._tiles=v;for(const x in this._timers)clearTimeout(this._timers[x]),delete this._timers[x];for(const x in this._tiles)this._setTileReloadTimer(x,this._tiles[x])}}_updateCoveredAndRetainedTiles(i,d,v,x,A,k){const U={},Z={},Y=Object.keys(i),J=R.now();for(const oe of Y){const ie=i[oe],pe=this._tiles[oe];if(!pe||pe.fadeEndTime!==0&&pe.fadeEndTime<=J)continue;const be=this.findLoadedParent(ie,d),Ie=this.findLoadedSibling(ie),ke=be||Ie||null;ke&&(this._addTile(ke.tileID),U[ke.tileID.key]=ke.tileID),Z[oe]=ie}this._retainLoadedChildren(Z,x,v,i);for(const oe in U)i[oe]||(this._coveredTiles[oe]=!0,i[oe]=U[oe]);if(k){const oe={},ie={};for(const pe of A)this._tiles[pe.key].hasData()?oe[pe.key]=pe:ie[pe.key]=pe;for(const pe in ie){const be=ie[pe].children(this._source.maxzoom);this._tiles[be[0].key]&&this._tiles[be[1].key]&&this._tiles[be[2].key]&&this._tiles[be[3].key]&&(oe[be[0].key]=i[be[0].key]=be[0],oe[be[1].key]=i[be[1].key]=be[1],oe[be[2].key]=i[be[2].key]=be[2],oe[be[3].key]=i[be[3].key]=be[3],delete ie[pe])}for(const pe in ie){const be=ie[pe],Ie=this.findLoadedParent(be,this._source.minzoom),ke=this.findLoadedSibling(be),De=Ie||ke||null;if(De){oe[De.tileID.key]=i[De.tileID.key]=De.tileID;for(const Ue in oe)oe[Ue].isChildOf(De.tileID)&&delete oe[Ue]}}for(const pe in this._tiles)oe[pe]||(this._coveredTiles[pe]=!0)}}update(i,d){if(!this._sourceLoaded||this._paused)return;let v;this.transform=i,this.terrain=d,this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(J=>new o.Y(J.canonical.z,J.wrap,J.canonical.z,J.canonical.x,J.canonical.y)):(v=ot(i,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(v=v.filter(J=>this._source.hasTile(J)))):v=[];const x=gt(i,this._source),A=Math.max(x-ft.maxOverzooming,this._source.minzoom),k=Math.max(x+ft.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const J={};for(const oe of v)if(oe.canonical.z>this._source.minzoom){const ie=oe.scaledTo(oe.canonical.z-1);J[ie.key]=ie;const pe=oe.scaledTo(Math.max(this._source.minzoom,Math.min(oe.canonical.z,5)));J[pe.key]=pe}v=v.concat(Object.values(J))}const U=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,U&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const Z=this._updateRetainedTiles(v,x);dt(this._source.type)&&this._updateCoveredAndRetainedTiles(Z,A,k,x,v,d);for(const J in Z)this._tiles[J].clearFadeHold();const Y=o.aj(this._tiles,Z);for(const J of Y){const oe=this._tiles[J];oe.hasSymbolBuckets&&!oe.holdingForFade()?oe.setHoldDuration(this.map._fadeDuration):oe.hasSymbolBuckets&&!oe.symbolFadeFinished()||this._removeTile(J)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,d){var v;const x={},A={},k=Math.max(d-ft.maxOverzooming,this._source.minzoom),U=Math.max(d+ft.maxUnderzooming,this._source.minzoom),Z={};for(const Y of i){const J=this._addTile(Y);x[Y.key]=Y,J.hasData()||d<this._source.maxzoom&&(Z[Y.key]=Y)}this._retainLoadedChildren(Z,d,U,x);for(const Y of i){let J=this._tiles[Y.key];if(J.hasData())continue;if(d+1>this._source.maxzoom){const ie=Y.children(this._source.maxzoom)[0],pe=this.getTile(ie);if(pe&&pe.hasData()){x[ie.key]=ie;continue}}else{const ie=Y.children(this._source.maxzoom);if(x[ie[0].key]&&x[ie[1].key]&&x[ie[2].key]&&x[ie[3].key])continue}let oe=J.wasRequested();for(let ie=Y.overscaledZ-1;ie>=k;--ie){const pe=Y.scaledTo(ie);if(A[pe.key])break;if(A[pe.key]=!0,J=this.getTile(pe),!J&&oe&&(J=this._addTile(pe)),J){const be=J.hasData();if((be||!(!((v=this.map)===null||v===void 0)&&v.cancelPendingTileRequestsWhileZooming)||oe)&&(x[pe.key]=pe),oe=J.wasRequested(),be)break}}}return x}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const d=[];let v,x=this._tiles[i].tileID;for(;x.overscaledZ>0;){if(x.key in this._loadedParentTiles){v=this._loadedParentTiles[x.key];break}d.push(x.key);const A=x.scaledTo(x.overscaledZ-1);if(v=this._getLoadedTile(A),v)break;x=A}for(const A of d)this._loadedParentTiles[A]=v}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const i in this._tiles){const d=this._tiles[i].tileID,v=this._getLoadedTile(d);this._loadedSiblingTiles[d.key]=v}}_addTile(i){let d=this._tiles[i.key];if(d)return d;d=this._cache.getAndRemove(i),d&&(this._setTileReloadTimer(i.key,d),d.tileID=i,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,d)));const v=d;return d||(d=new Qr(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(d,i.key,d.state)),d.uses++,this._tiles[i.key]=d,v||this._source.fire(new o.l("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(i,d){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const v=d.getExpiryTimeout();v&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},v))}refreshTiles(i){for(const d in this._tiles)this._isIdRenderable(d)&&i.some(v=>v.equals(this._tiles[d].tileID.canonical))&&this._reloadTile(d,"expired")}_removeTile(i){const d=this._tiles[i];d&&(d.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(i){const d=i.sourceDataType;i.dataType==="source"&&d==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&i.dataType==="source"&&d==="content"&&(this.reload(i.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,d,v){const x=[],A=this.transform;if(!A)return x;const k=v?A.getCameraQueryGeometry(i):i,U=i.map(be=>A.screenPointToMercatorCoordinate(be,this.terrain)),Z=k.map(be=>A.screenPointToMercatorCoordinate(be,this.terrain)),Y=this.getIds();let J=1/0,oe=1/0,ie=-1/0,pe=-1/0;for(const be of Z)J=Math.min(J,be.x),oe=Math.min(oe,be.y),ie=Math.max(ie,be.x),pe=Math.max(pe,be.y);for(let be=0;be<Y.length;be++){const Ie=this._tiles[Y[be]];if(Ie.holdingForFade())continue;const ke=A.getCoveringTilesDetailsProvider().allowWorldCopies()?Ie.tileID:Ie.tileID.unwrapTo(0),De=Math.pow(2,A.zoom-Ie.tileID.overscaledZ),Ue=d*Ie.queryPadding*o.Z/Ie.tileSize/De,Ze=[ke.getTilePoint(new o.$(J,oe)),ke.getTilePoint(new o.$(ie,pe))];if(Ze[0].x-Ue<o.Z&&Ze[0].y-Ue<o.Z&&Ze[1].x+Ue>=0&&Ze[1].y+Ue>=0){const He=U.map(nt=>ke.getTilePoint(nt)),Xe=Z.map(nt=>ke.getTilePoint(nt));x.push({tile:Ie,tileID:ke,queryGeometry:He,cameraQueryGeometry:Xe,scale:De})}}return x}getVisibleCoordinates(i){const d=this.getRenderableIds(i).map(v=>this._tiles[v].tileID);return this.transform&&this.transform.populateCache(d),d}hasTransition(){if(this._source.hasTransition())return!0;if(dt(this._source.type)){const i=R.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=i)return!0}return!1}setFeatureState(i,d,v){this._state.updateState(i=i||"_geojsonTileLayer",d,v)}removeFeatureState(i,d,v){this._state.removeFeatureState(i=i||"_geojsonTileLayer",d,v)}getFeatureState(i,d){return this._state.getState(i=i||"_geojsonTileLayer",d)}setDependencies(i,d,v){const x=this._tiles[i];x&&x.setDependencies(d,v)}reloadTilesForDependencies(i,d){for(const v in this._tiles)this._tiles[v].hasDependency(i,d)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(i,d))}}function xt(C,i){const d=Math.abs(2*C.wrap)-+(C.wrap<0),v=Math.abs(2*i.wrap)-+(i.wrap<0);return C.overscaledZ-i.overscaledZ||v-d||i.canonical.y-C.canonical.y||i.canonical.x-C.canonical.x}function dt(C){return C==="raster"||C==="image"||C==="video"}ft.maxOverzooming=10,ft.maxUnderzooming=3;class wt{constructor(i,d){this.reset(i,d)}reset(i,d){this.points=i||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=o.ae(i,0,1);let d=1,v=this._distances[d];const x=i*this.paddedLength+this.padding;for(;v<x&&d<this._distances.length;)v=this._distances[++d];const A=d-1,k=this._distances[A],U=v-k,Z=U>0?(x-k)/U:0;return this.points[A].mult(1-Z).add(this.points[d].mult(Z))}}function Me(C,i){let d=!0;return C==="always"||C!=="never"&&i!=="never"||(d=!1),d}class qe{constructor(i,d,v){const x=this.boxCells=[],A=this.circleCells=[];this.xCellCount=Math.ceil(i/v),this.yCellCount=Math.ceil(d/v);for(let k=0;k<this.xCellCount*this.yCellCount;k++)x.push([]),A.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=d,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,d,v,x,A){this._forEachCell(d,v,x,A,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(d),this.bboxes.push(v),this.bboxes.push(x),this.bboxes.push(A)}insertCircle(i,d,v,x){this._forEachCell(d-x,v-x,d+x,v+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(d),this.circles.push(v),this.circles.push(x)}_insertBoxCell(i,d,v,x,A,k){this.boxCells[A].push(k)}_insertCircleCell(i,d,v,x,A,k){this.circleCells[A].push(k)}_query(i,d,v,x,A,k,U){if(v<0||i>this.width||x<0||d>this.height)return[];const Z=[];if(i<=0&&d<=0&&this.width<=v&&this.height<=x){if(A)return[{key:null,x1:i,y1:d,x2:v,y2:x}];for(let Y=0;Y<this.boxKeys.length;Y++)Z.push({key:this.boxKeys[Y],x1:this.bboxes[4*Y],y1:this.bboxes[4*Y+1],x2:this.bboxes[4*Y+2],y2:this.bboxes[4*Y+3]});for(let Y=0;Y<this.circleKeys.length;Y++){const J=this.circles[3*Y],oe=this.circles[3*Y+1],ie=this.circles[3*Y+2];Z.push({key:this.circleKeys[Y],x1:J-ie,y1:oe-ie,x2:J+ie,y2:oe+ie})}}else this._forEachCell(i,d,v,x,this._queryCell,Z,{hitTest:A,overlapMode:k,seenUids:{box:{},circle:{}}},U);return Z}query(i,d,v,x){return this._query(i,d,v,x,!1,null)}hitTest(i,d,v,x,A,k){return this._query(i,d,v,x,!0,A,k).length>0}hitTestCircle(i,d,v,x,A){const k=i-v,U=i+v,Z=d-v,Y=d+v;if(U<0||k>this.width||Y<0||Z>this.height)return!1;const J=[];return this._forEachCell(k,Z,U,Y,this._queryCellCircle,J,{hitTest:!0,overlapMode:x,circle:{x:i,y:d,radius:v},seenUids:{box:{},circle:{}}},A),J.length>0}_queryCell(i,d,v,x,A,k,U,Z){const{seenUids:Y,hitTest:J,overlapMode:oe}=U,ie=this.boxCells[A];if(ie!==null){const be=this.bboxes;for(const Ie of ie)if(!Y.box[Ie]){Y.box[Ie]=!0;const ke=4*Ie,De=this.boxKeys[Ie];if(i<=be[ke+2]&&d<=be[ke+3]&&v>=be[ke+0]&&x>=be[ke+1]&&(!Z||Z(De))&&(!J||!Me(oe,De.overlapMode))&&(k.push({key:De,x1:be[ke],y1:be[ke+1],x2:be[ke+2],y2:be[ke+3]}),J))return!0}}const pe=this.circleCells[A];if(pe!==null){const be=this.circles;for(const Ie of pe)if(!Y.circle[Ie]){Y.circle[Ie]=!0;const ke=3*Ie,De=this.circleKeys[Ie];if(this._circleAndRectCollide(be[ke],be[ke+1],be[ke+2],i,d,v,x)&&(!Z||Z(De))&&(!J||!Me(oe,De.overlapMode))){const Ue=be[ke],Ze=be[ke+1],He=be[ke+2];if(k.push({key:De,x1:Ue-He,y1:Ze-He,x2:Ue+He,y2:Ze+He}),J)return!0}}}return!1}_queryCellCircle(i,d,v,x,A,k,U,Z){const{circle:Y,seenUids:J,overlapMode:oe}=U,ie=this.boxCells[A];if(ie!==null){const be=this.bboxes;for(const Ie of ie)if(!J.box[Ie]){J.box[Ie]=!0;const ke=4*Ie,De=this.boxKeys[Ie];if(this._circleAndRectCollide(Y.x,Y.y,Y.radius,be[ke+0],be[ke+1],be[ke+2],be[ke+3])&&(!Z||Z(De))&&!Me(oe,De.overlapMode))return k.push(!0),!0}}const pe=this.circleCells[A];if(pe!==null){const be=this.circles;for(const Ie of pe)if(!J.circle[Ie]){J.circle[Ie]=!0;const ke=3*Ie,De=this.circleKeys[Ie];if(this._circlesCollide(be[ke],be[ke+1],be[ke+2],Y.x,Y.y,Y.radius)&&(!Z||Z(De))&&!Me(oe,De.overlapMode))return k.push(!0),!0}}}_forEachCell(i,d,v,x,A,k,U,Z){const Y=this._convertToXCellCoord(i),J=this._convertToYCellCoord(d),oe=this._convertToXCellCoord(v),ie=this._convertToYCellCoord(x);for(let pe=Y;pe<=oe;pe++)for(let be=J;be<=ie;be++)if(A.call(this,i,d,v,x,this.xCellCount*be+pe,k,U,Z))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,d,v,x,A,k){const U=x-i,Z=A-d,Y=v+k;return Y*Y>U*U+Z*Z}_circleAndRectCollide(i,d,v,x,A,k,U){const Z=(k-x)/2,Y=Math.abs(i-(x+Z));if(Y>Z+v)return!1;const J=(U-A)/2,oe=Math.abs(d-(A+J));if(oe>J+v)return!1;if(Y<=Z||oe<=J)return!0;const ie=Y-Z,pe=oe-J;return ie*ie+pe*pe<=v*v}}function it(C,i,d){const v=o.K();if(!C){const{vecSouth:oe,vecEast:ie}=Lt(i),pe=m();pe[0]=ie[0],pe[1]=ie[1],pe[2]=oe[0],pe[3]=oe[1],x=pe,(J=(k=(A=pe)[0])*(Y=A[3])-(Z=A[2])*(U=A[1]))&&(x[0]=Y*(J=1/J),x[1]=-U*J,x[2]=-Z*J,x[3]=k*J),v[0]=pe[0],v[1]=pe[1],v[4]=pe[2],v[5]=pe[3]}var x,A,k,U,Z,Y,J;return o.M(v,v,[1/d,1/d,1]),v}function At(C,i,d,v){if(C){const x=o.K();if(!i){const{vecSouth:A,vecEast:k}=Lt(d);x[0]=k[0],x[1]=k[1],x[4]=A[0],x[5]=A[1]}return o.M(x,x,[v,v,1]),x}return d.pixelsToClipSpaceMatrix}function Lt(C){const i=Math.cos(C.rollInRadians),d=Math.sin(C.rollInRadians),v=Math.cos(C.pitchInRadians),x=Math.cos(C.bearingInRadians),A=Math.sin(C.bearingInRadians),k=o.ao();k[0]=-x*v*d-A*i,k[1]=-A*v*d+x*i;const U=o.ap(k);U<1e-9?o.aq(k):o.ar(k,k,1/U);const Z=o.ao();Z[0]=x*v*i-A*d,Z[1]=A*v*i+x*d;const Y=o.ap(Z);return Y<1e-9?o.aq(Z):o.ar(Z,Z,1/Y),{vecEast:Z,vecSouth:k}}function lt(C,i,d,v){let x;v?(x=[C,i,v(C,i),1],o.at(x,x,d)):(x=[C,i,0,1],es(x,x,d));const A=x[3];return{point:new o.P(x[0]/A,x[1]/A),signedDistanceFromCamera:A,isOccluded:!1}}function Sr(C,i){return .5+C/i*.5}function dr(C,i){return C.x>=-i[0]&&C.x<=i[0]&&C.y>=-i[1]&&C.y<=i[1]}function _r(C,i,d,v,x,A,k,U,Z,Y,J,oe,ie){const pe=d?C.textSizeData:C.iconSizeData,be=o.ak(pe,i.transform.zoom),Ie=[256/i.width*2+1,256/i.height*2+1],ke=d?C.text.dynamicLayoutVertexArray:C.icon.dynamicLayoutVertexArray;ke.clear();const De=C.lineVertexArray,Ue=d?C.text.placedSymbolArray:C.icon.placedSymbolArray,Ze=i.transform.width/i.transform.height;let He=!1;for(let Xe=0;Xe<Ue.length;Xe++){const nt=Ue.get(Xe);if(nt.hidden||nt.writingMode===o.al.vertical&&!He){Ya(nt.numGlyphs,ke);continue}He=!1;const Qe=new o.P(nt.anchorX,nt.anchorY),bt={getElevation:ie,pitchedLabelPlaneMatrix:v,lineVertexArray:De,pitchWithMap:A,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:i.transform,tileAnchorPoint:Qe,unwrappedTileID:Z,width:Y,height:J,translation:oe},Bt=Pr(nt.anchorX,nt.anchorY,bt);if(!dr(Bt.point,Ie)){Ya(nt.numGlyphs,ke);continue}const Pt=Sr(i.transform.cameraToCenterDistance,Bt.signedDistanceFromCamera),Tt=o.am(pe,be,nt),Mt=A?Tt*i.transform.getPitchedTextCorrection(nt.anchorX,nt.anchorY,Z)/Pt:Tt*Pt,yr=ar({projectionContext:bt,pitchedLabelPlaneMatrixInverse:x,symbol:nt,fontSize:Mt,flip:!1,keepUpright:k,glyphOffsetArray:C.glyphOffsetArray,dynamicLayoutVertexArray:ke,aspectRatio:Ze,rotateToLine:U});He=yr.useVertical,(yr.notEnoughRoom||He||yr.needsFlipping&&ar({projectionContext:bt,pitchedLabelPlaneMatrixInverse:x,symbol:nt,fontSize:Mt,flip:!0,keepUpright:k,glyphOffsetArray:C.glyphOffsetArray,dynamicLayoutVertexArray:ke,aspectRatio:Ze,rotateToLine:U}).notEnoughRoom)&&Ya(nt.numGlyphs,ke)}d?C.text.dynamicLayoutVertexBuffer.updateData(ke):C.icon.dynamicLayoutVertexBuffer.updateData(ke)}function sr(C,i,d,v,x,A,k,U){const Z=A.glyphStartIndex+A.numGlyphs,Y=A.lineStartIndex,J=A.lineStartIndex+A.lineLength,oe=i.getoffsetX(A.glyphStartIndex),ie=i.getoffsetX(Z-1),pe=ci(C*oe,d,v,x,A.segment,Y,J,U,k);if(!pe)return null;const be=ci(C*ie,d,v,x,A.segment,Y,J,U,k);return be?U.projectionCache.anyProjectionOccluded?null:{first:pe,last:be}:null}function yt(C,i,d,v){return C===o.al.horizontal&&Math.abs(d.y-i.y)>Math.abs(d.x-i.x)*v?{useVertical:!0}:(C===o.al.vertical?i.y<d.y:i.x>d.x)?{needsFlipping:!0}:null}function ar(C){const{projectionContext:i,pitchedLabelPlaneMatrixInverse:d,symbol:v,fontSize:x,flip:A,keepUpright:k,glyphOffsetArray:U,dynamicLayoutVertexArray:Z,aspectRatio:Y,rotateToLine:J}=C,oe=x/24,ie=v.lineOffsetX*oe,pe=v.lineOffsetY*oe;let be;if(v.numGlyphs>1){const Ie=v.glyphStartIndex+v.numGlyphs,ke=v.lineStartIndex,De=v.lineStartIndex+v.lineLength,Ue=sr(oe,U,ie,pe,A,v,J,i);if(!Ue)return{notEnoughRoom:!0};const Ze=Ln(Ue.first.point.x,Ue.first.point.y,i,d),He=Ln(Ue.last.point.x,Ue.last.point.y,i,d);if(k&&!A){const Xe=yt(v.writingMode,Ze,He,Y);if(Xe)return Xe}be=[Ue.first];for(let Xe=v.glyphStartIndex+1;Xe<Ie-1;Xe++)be.push(ci(oe*U.getoffsetX(Xe),ie,pe,A,v.segment,ke,De,i,J));be.push(Ue.last)}else{if(k&&!A){const ke=fn(i.tileAnchorPoint.x,i.tileAnchorPoint.y,i).point,De=v.lineStartIndex+v.segment+1,Ue=new o.P(i.lineVertexArray.getx(De),i.lineVertexArray.gety(De)),Ze=fn(Ue.x,Ue.y,i),He=Ze.signedDistanceFromCamera>0?Ze.point:vr(i.tileAnchorPoint,Ue,ke,1,i),Xe=Ln(ke.x,ke.y,i,d),nt=Ln(He.x,He.y,i,d),Qe=yt(v.writingMode,Xe,nt,Y);if(Qe)return Qe}const Ie=ci(oe*U.getoffsetX(v.glyphStartIndex),ie,pe,A,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,i,J);if(!Ie||i.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};be=[Ie]}for(const Ie of be)o.as(Z,Ie.point,Ie.angle);return{}}function vr(C,i,d,v,x){const A=C.add(C.sub(i)._unit()),k=fn(A.x,A.y,x).point,U=d.sub(k);return d.add(U._mult(v/U.mag()))}function tn(C,i,d){const v=i.projectionCache;if(v.projections[C])return v.projections[C];const x=new o.P(i.lineVertexArray.getx(C),i.lineVertexArray.gety(C)),A=fn(x.x,x.y,i);if(A.signedDistanceFromCamera>0)return v.projections[C]=A.point,v.anyProjectionOccluded=v.anyProjectionOccluded||A.isOccluded,A.point;const k=C-d.direction;return vr(d.distanceFromAnchor===0?i.tileAnchorPoint:new o.P(i.lineVertexArray.getx(k),i.lineVertexArray.gety(k)),x,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,i)}function fn(C,i,d){const v=C+d.translation[0],x=i+d.translation[1];let A;return d.pitchWithMap?(A=lt(v,x,d.pitchedLabelPlaneMatrix,d.getElevation),A.isOccluded=!1):(A=d.transform.projectTileCoordinates(v,x,d.unwrappedTileID,d.getElevation),A.point.x=(.5*A.point.x+.5)*d.width,A.point.y=(.5*-A.point.y+.5)*d.height),A}function Ln(C,i,d,v){if(d.pitchWithMap){const x=[C,i,0,1];return o.at(x,x,v),d.transform.projectTileCoordinates(x[0]/x[3],x[1]/x[3],d.unwrappedTileID,d.getElevation).point}return{x:C/d.width*2-1,y:i/d.height*2-1}}function Pr(C,i,d){return d.transform.projectTileCoordinates(C,i,d.unwrappedTileID,d.getElevation)}function Cn(C,i,d){return C._unit()._perp()._mult(i*d)}function Bs(C,i,d,v,x,A,k,U,Z){if(U.projectionCache.offsets[C])return U.projectionCache.offsets[C];const Y=d.add(i);if(C+Z.direction<v||C+Z.direction>=x)return U.projectionCache.offsets[C]=Y,Y;const J=tn(C+Z.direction,U,Z),oe=Cn(J.sub(d),k,Z.direction),ie=d.add(oe),pe=J.add(oe);return U.projectionCache.offsets[C]=o.au(A,Y,ie,pe)||Y,U.projectionCache.offsets[C]}function ci(C,i,d,v,x,A,k,U,Z){const Y=v?C-i:C+i;let J=Y>0?1:-1,oe=0;v&&(J*=-1,oe=Math.PI),J<0&&(oe+=Math.PI);let ie,pe=J>0?A+x:A+x+1;U.projectionCache.cachedAnchorPoint?ie=U.projectionCache.cachedAnchorPoint:(ie=fn(U.tileAnchorPoint.x,U.tileAnchorPoint.y,U).point,U.projectionCache.cachedAnchorPoint=ie);let be,Ie,ke=ie,De=ie,Ue=0,Ze=0;const He=Math.abs(Y),Xe=[];let nt;for(;Ue+Ze<=He;){if(pe+=J,pe<A||pe>=k)return null;Ue+=Ze,De=ke,Ie=be;const Bt={absOffsetX:He,direction:J,distanceFromAnchor:Ue,previousVertex:De};if(ke=tn(pe,U,Bt),d===0)Xe.push(De),nt=ke.sub(De);else{let Pt;const Tt=ke.sub(De);Pt=Tt.mag()===0?Cn(tn(pe+J,U,Bt).sub(ke),d,J):Cn(Tt,d,J),Ie||(Ie=De.add(Pt)),be=Bs(pe,Pt,ke,A,k,Ie,d,U,Bt),Xe.push(Ie),nt=be.sub(Ie)}Ze=nt.mag()}const Qe=nt._mult((He-Ue)/Ze)._add(Ie||De),bt=oe+Math.atan2(ke.y-De.y,ke.x-De.x);return Xe.push(Qe),{point:Qe,angle:Z?bt:0,path:Xe}}const fo=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ya(C,i){for(let d=0;d<C;d++){const v=i.length;i.resize(v+4),i.float32.set(fo,3*v)}}function es(C,i,d){const v=i[0],x=i[1];return C[0]=d[0]*v+d[4]*x+d[12],C[1]=d[1]*v+d[5]*x+d[13],C[3]=d[3]*v+d[7]*x+d[15],C}const oa=100;class Gi{constructor(i,d=new qe(i.width+200,i.height+200,25),v=new qe(i.width+200,i.height+200,25)){this.transform=i,this.grid=d,this.ignoredGrid=v,this.pitchFactor=Math.cos(i.pitch*Math.PI/180)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+oa,this.screenBottomBoundary=i.height+oa,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,d,v,x,A,k,U,Z,Y,J,oe,ie){const pe=this.projectAndGetPerspectiveRatio(i.anchorPointX+Z[0],i.anchorPointY+Z[1],A,J,ie),be=v*pe.perspectiveRatio;let Ie;if(k||U)Ie=this._projectCollisionBox(i,be,x,A,k,U,Z,pe,J,oe,ie);else{const nt=pe.x+(oe?oe.x*be:0),Qe=pe.y+(oe?oe.y*be:0);Ie={allPointsOccluded:!1,box:[nt+i.x1*be,Qe+i.y1*be,nt+i.x2*be,Qe+i.y2*be]}}const[ke,De,Ue,Ze]=Ie.box,He=k?Ie.allPointsOccluded:pe.isOccluded;let Xe=He;return Xe||(Xe=pe.perspectiveRatio<this.perspectiveRatioCutoff),Xe||(Xe=!this.isInsideGrid(ke,De,Ue,Ze)),Xe||d!=="always"&&this.grid.hitTest(ke,De,Ue,Ze,d,Y)?{box:[ke,De,Ue,Ze],placeable:!1,offscreen:!1,occluded:He}:{box:[ke,De,Ue,Ze],placeable:!0,offscreen:this.isOffscreen(ke,De,Ue,Ze),occluded:He}}placeCollisionCircles(i,d,v,x,A,k,U,Z,Y,J,oe,ie,pe,be){const Ie=[],ke=new o.P(d.anchorX,d.anchorY),De=this.getPerspectiveRatio(ke.x,ke.y,k,be),Ue=(Y?A*this.transform.getPitchedTextCorrection(d.anchorX,d.anchorY,k)/De:A*De)/o.ay,Ze={getElevation:be,pitchedLabelPlaneMatrix:U,lineVertexArray:v,pitchWithMap:Y,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:ke,unwrappedTileID:k,width:this.transform.width,height:this.transform.height,translation:pe},He=sr(Ue,x,d.lineOffsetX*Ue,d.lineOffsetY*Ue,!1,d,!1,Ze);let Xe=!1,nt=!1,Qe=!0;if(He){const bt=.5*oe*De+ie,Bt=new o.P(-100,-100),Pt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Tt=new wt,Mt=He.first,yr=He.last;let hr=[];for(let vn=Mt.path.length-1;vn>=1;vn--)hr.push(Mt.path[vn]);for(let vn=1;vn<yr.path.length;vn++)hr.push(yr.path[vn]);const Wt=2.5*bt;if(Y){const vn=this.projectPathToScreenSpace(hr,Ze);hr=vn.some(Mn=>Mn.signedDistanceFromCamera<=0)?[]:vn.map(Mn=>Mn.point)}let Or=[];if(hr.length>0){const vn=hr[0].clone(),Mn=hr[0].clone();for(let Ra=1;Ra<hr.length;Ra++)vn.x=Math.min(vn.x,hr[Ra].x),vn.y=Math.min(vn.y,hr[Ra].y),Mn.x=Math.max(Mn.x,hr[Ra].x),Mn.y=Math.max(Mn.y,hr[Ra].y);Or=vn.x>=Bt.x&&Mn.x<=Pt.x&&vn.y>=Bt.y&&Mn.y<=Pt.y?[hr]:Mn.x<Bt.x||vn.x>Pt.x||Mn.y<Bt.y||vn.y>Pt.y?[]:o.av([hr],Bt.x,Bt.y,Pt.x,Pt.y)}for(const vn of Or){Tt.reset(vn,.25*bt);let Mn=0;Mn=Tt.length<=.5*bt?1:Math.ceil(Tt.paddedLength/Wt)+1;for(let Ra=0;Ra<Mn;Ra++){const na=Ra/Math.max(Mn-1,1),Ma=Tt.lerp(na),xa=Ma.x+oa,la=Ma.y+oa;Ie.push(xa,la,bt,0);const qn=xa-bt,ui=la-bt,Ei=xa+bt,Li=la+bt;if(Qe=Qe&&this.isOffscreen(qn,ui,Ei,Li),nt=nt||this.isInsideGrid(qn,ui,Ei,Li),i!=="always"&&this.grid.hitTestCircle(xa,la,bt,i,J)&&(Xe=!0,!Z))return{circles:[],offscreen:!1,collisionDetected:Xe}}}}return{circles:!Z&&Xe||!nt||De<this.perspectiveRatioCutoff?[]:Ie,offscreen:Qe,collisionDetected:Xe}}projectPathToScreenSpace(i,d){const v=function(x,A){const k=o.K();return o.an(k,A.pitchedLabelPlaneMatrix),x.map(U=>{const Z=lt(U.x,U.y,k,A.getElevation),Y=A.transform.projectTileCoordinates(Z.point.x,Z.point.y,A.unwrappedTileID,A.getElevation);return Y.point.x=(.5*Y.point.x+.5)*A.width,Y.point.y=(.5*-Y.point.y+.5)*A.height,Y})}(i,d);return function(x){let A=0,k=0,U=0,Z=0;for(let Y=0;Y<x.length;Y++)x[Y].isOccluded?(U=Y+1,Z=0):(Z++,Z>k&&(k=Z,A=U));return x.slice(A,A+k)}(v)}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let v=1/0,x=1/0,A=-1/0,k=-1/0;for(const J of i){const oe=new o.P(J.x+oa,J.y+oa);v=Math.min(v,oe.x),x=Math.min(x,oe.y),A=Math.max(A,oe.x),k=Math.max(k,oe.y),d.push(oe)}const U=this.grid.query(v,x,A,k).concat(this.ignoredGrid.query(v,x,A,k)),Z={},Y={};for(const J of U){const oe=J.key;if(Z[oe.bucketInstanceId]===void 0&&(Z[oe.bucketInstanceId]={}),Z[oe.bucketInstanceId][oe.featureIndex])continue;const ie=[new o.P(J.x1,J.y1),new o.P(J.x2,J.y1),new o.P(J.x2,J.y2),new o.P(J.x1,J.y2)];o.aw(d,ie)&&(Z[oe.bucketInstanceId][oe.featureIndex]=!0,Y[oe.bucketInstanceId]===void 0&&(Y[oe.bucketInstanceId]=[]),Y[oe.bucketInstanceId].push(oe.featureIndex))}return Y}insertCollisionBox(i,d,v,x,A,k){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:A,collisionGroupID:k,overlapMode:d},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,d,v,x,A,k){const U=v?this.ignoredGrid:this.grid,Z={bucketInstanceId:x,featureIndex:A,collisionGroupID:k,overlapMode:d};for(let Y=0;Y<i.length;Y+=4)U.insertCircle(Z,i[Y],i[Y+1],i[Y+2])}projectAndGetPerspectiveRatio(i,d,v,x,A){if(A){let k;x?(k=[i,d,x(i,d),1],o.at(k,k,A)):(k=[i,d,0,1],es(k,k,A));const U=k[3];return{x:(k[0]/U+1)/2*this.transform.width+oa,y:(-k[1]/U+1)/2*this.transform.height+oa,perspectiveRatio:.5+this.transform.cameraToCenterDistance/U*.5,isOccluded:!1,signedDistanceFromCamera:U}}{const k=this.transform.projectTileCoordinates(i,d,v,x);return{x:(k.point.x+1)/2*this.transform.width+oa,y:(1-k.point.y)/2*this.transform.height+oa,perspectiveRatio:.5+this.transform.cameraToCenterDistance/k.signedDistanceFromCamera*.5,isOccluded:k.isOccluded,signedDistanceFromCamera:k.signedDistanceFromCamera}}}getPerspectiveRatio(i,d,v,x){const A=this.transform.projectTileCoordinates(i,d,v,x);return .5+this.transform.cameraToCenterDistance/A.signedDistanceFromCamera*.5}isOffscreen(i,d,v,x){return v<oa||i>=this.screenRightBoundary||x<oa||d>this.screenBottomBoundary}isInsideGrid(i,d,v,x){return v>=0&&i<this.gridRightBoundary&&x>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const i=o.ad([]);return o.L(i,i,[-100,-100,0]),i}_projectCollisionBox(i,d,v,x,A,k,U,Z,Y,J,oe){let ie=1,pe=0,be=0,Ie=1;const ke=i.anchorPointX+U[0],De=i.anchorPointY+U[1];if(k&&!A){const hr=this.projectAndGetPerspectiveRatio(ke+1,De,x,Y,oe),Wt=hr.x-Z.x,Or=Math.atan((hr.y-Z.y)/Wt)+(Wt<0?Math.PI:0),vn=Math.sin(Or),Mn=Math.cos(Or);ie=Mn,pe=vn,be=-vn,Ie=Mn}else if(!k&&A){const hr=Lt(this.transform);ie=hr.vecEast[0],pe=hr.vecEast[1],be=hr.vecSouth[0],Ie=hr.vecSouth[1]}let Ue=Z.x,Ze=Z.y,He=d;A&&(Ue=ke,Ze=De,He=Math.pow(2,-(this.transform.zoom-v.overscaledZ)),He*=this.transform.getPitchedTextCorrection(ke,De,x),J||(He*=o.ae(.5+Z.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),J&&(Ue+=ie*J.x*He+be*J.y*He,Ze+=pe*J.x*He+Ie*J.y*He);const Xe=i.x1*He,nt=i.x2*He,Qe=(Xe+nt)/2,bt=i.y1*He,Bt=i.y2*He,Pt=(bt+Bt)/2,Tt=[{offsetX:Xe,offsetY:bt},{offsetX:Qe,offsetY:bt},{offsetX:nt,offsetY:bt},{offsetX:nt,offsetY:Pt},{offsetX:nt,offsetY:Bt},{offsetX:Qe,offsetY:Bt},{offsetX:Xe,offsetY:Bt},{offsetX:Xe,offsetY:Pt}];let Mt=[];for(const{offsetX:hr,offsetY:Wt}of Tt)Mt.push(new o.P(Ue+ie*hr+be*Wt,Ze+pe*hr+Ie*Wt));let yr=!1;if(A){const hr=Mt.map(Wt=>this.projectAndGetPerspectiveRatio(Wt.x,Wt.y,x,Y,oe));yr=hr.some(Wt=>!Wt.isOccluded),Mt=hr.map(Wt=>new o.P(Wt.x,Wt.y))}else yr=!0;return{box:o.ax(Mt),allPointsOccluded:!yr}}}class Bn{constructor(i,d,v,x){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?d:-d))):x&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class ys{constructor(i,d,v,x,A){this.text=new Bn(i?i.text:null,d,v,A),this.icon=new Bn(i?i.icon:null,d,x,A)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class _n{constructor(i,d,v){this.text=i,this.icon=d,this.skipFade=v}}class Oi{constructor(i,d,v,x,A){this.bucketInstanceId=i,this.featureIndex=d,this.sourceLayerIndex=v,this.bucketIndex=x,this.tileID=A}}class Zi{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const d=++this.maxGroupID;this.collisionGroups[i]={ID:d,predicate:v=>v.collisionGroupID===d}}return this.collisionGroups[i]}}function xi(C,i,d,v,x){const{horizontalAlign:A,verticalAlign:k}=o.aE(C);return new o.P(-(A-.5)*i+v[0]*x,-(k-.5)*d+v[1]*x)}class ou{constructor(i,d,v,x,A){this.transform=i.clone(),this.terrain=d,this.collisionIndex=new Gi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Zi(x),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=A,A&&(A.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(i){const d=this.terrain;return d?(v,x)=>d.getElevation(i,v,x):null}getBucketParts(i,d,v,x){const A=v.getBucket(d),k=v.latestFeatureIndex;if(!A||!k||d.id!==A.layerIds[0])return;const U=v.collisionBoxArray,Z=A.layers[0].layout,Y=A.layers[0].paint,J=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),oe=v.tileSize/o.Z,ie=v.tileID.toUnwrapped(),pe=Z.get("text-rotation-alignment")==="map",be=o.az(v,1,this.transform.zoom),Ie=o.aA(this.collisionIndex.transform,v,Y.get("text-translate"),Y.get("text-translate-anchor")),ke=o.aA(this.collisionIndex.transform,v,Y.get("icon-translate"),Y.get("icon-translate-anchor")),De=it(pe,this.transform,be);this.retainedQueryData[A.bucketInstanceId]=new Oi(A.bucketInstanceId,k,A.sourceLayerIndex,A.index,v.tileID);const Ue={bucket:A,layout:Z,translationText:Ie,translationIcon:ke,unwrappedTileID:ie,pitchedLabelPlaneMatrix:De,scale:J,textPixelRatio:oe,holdingForFade:v.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:o.ak(A.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(A.sourceID)};if(x)for(const Ze of A.sortKeyRanges){const{sortKey:He,symbolInstanceStart:Xe,symbolInstanceEnd:nt}=Ze;i.push({sortKey:He,symbolInstanceStart:Xe,symbolInstanceEnd:nt,parameters:Ue})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:A.symbolInstances.length,parameters:Ue})}attemptAnchorPlacement(i,d,v,x,A,k,U,Z,Y,J,oe,ie,pe,be,Ie,ke,De,Ue,Ze,He){const Xe=o.aB[i.textAnchor],nt=[i.textOffset0,i.textOffset1],Qe=xi(Xe,v,x,nt,A),bt=this.collisionIndex.placeCollisionBox(d,ie,Z,Y,J,U,k,ke,oe.predicate,Ze,Qe,He);if((!Ue||this.collisionIndex.placeCollisionBox(Ue,ie,Z,Y,J,U,k,De,oe.predicate,Ze,Qe,He).placeable)&&bt.placeable){let Bt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[pe.crossTileID]&&this.prevPlacement.placements[pe.crossTileID]&&this.prevPlacement.placements[pe.crossTileID].text&&(Bt=this.prevPlacement.variableOffsets[pe.crossTileID].anchor),pe.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[pe.crossTileID]={textOffset:nt,width:v,height:x,anchor:Xe,textBoxScale:A,prevAnchor:Bt},this.markUsedJustification(be,Xe,pe,Ie),be.allowVerticalPlacement&&(this.markUsedOrientation(be,Ie,pe),this.placedOrientations[pe.crossTileID]=Ie),{shift:Qe,placedGlyphBoxes:bt}}}placeLayerBucketPart(i,d,v){const{bucket:x,layout:A,translationText:k,translationIcon:U,unwrappedTileID:Z,pitchedLabelPlaneMatrix:Y,textPixelRatio:J,holdingForFade:oe,collisionBoxArray:ie,partiallyEvaluatedTextSize:pe,collisionGroup:be}=i.parameters,Ie=A.get("text-optional"),ke=A.get("icon-optional"),De=o.aC(A,"text-overlap","text-allow-overlap"),Ue=De==="always",Ze=o.aC(A,"icon-overlap","icon-allow-overlap"),He=Ze==="always",Xe=A.get("text-rotation-alignment")==="map",nt=A.get("text-pitch-alignment")==="map",Qe=A.get("icon-text-fit")!=="none",bt=A.get("symbol-z-order")==="viewport-y",Bt=Ue&&(He||!x.hasIconData()||ke),Pt=He&&(Ue||!x.hasTextData()||Ie);!x.collisionArrays&&ie&&x.deserializeCollisionBoxes(ie);const Tt=this.retainedQueryData[x.bucketInstanceId].tileID,Mt=this._getTerrainElevationFunc(Tt),yr=this.transform.getFastPathSimpleProjectionMatrix(Tt),hr=(Wt,Or,vn)=>{var Mn,Ra;if(d[Wt.crossTileID])return;if(oe)return void(this.placements[Wt.crossTileID]=new _n(!1,!1,!1));let na=!1,Ma=!1,xa=!0,la=null,qn={box:null,placeable:!1,offscreen:null,occluded:!1},ui={placeable:!1},Ei=null,Li=null,Vn=null,Kl=0,ml=0,Oc=0;Or.textFeatureIndex?Kl=Or.textFeatureIndex:Wt.useRuntimeCollisionCircles&&(Kl=Wt.featureIndex),Or.verticalTextFeatureIndex&&(ml=Or.verticalTextFeatureIndex);const kc=Or.textBox;if(kc){const ws=ja=>{let di=o.al.horizontal;if(x.allowVerticalPlacement&&!ja&&this.prevPlacement){const bo=this.prevPlacement.placedOrientations[Wt.crossTileID];bo&&(this.placedOrientations[Wt.crossTileID]=bo,di=bo,this.markUsedOrientation(x,di,Wt))}return di},Dc=(ja,di)=>{if(x.allowVerticalPlacement&&Wt.numVerticalGlyphVertices>0&&Or.verticalTextBox){for(const bo of x.writingModes)if(bo===o.al.vertical?(qn=di(),ui=qn):qn=ja(),qn&&qn.placeable)break}else qn=ja()},Ss=Wt.textAnchorOffsetStartIndex,Xl=Wt.textAnchorOffsetEndIndex;if(Xl===Ss){const ja=(di,bo)=>{const aa=this.collisionIndex.placeCollisionBox(di,De,J,Tt,Z,nt,Xe,k,be.predicate,Mt,void 0,yr);return aa&&aa.placeable&&(this.markUsedOrientation(x,bo,Wt),this.placedOrientations[Wt.crossTileID]=bo),aa};Dc(()=>ja(kc,o.al.horizontal),()=>{const di=Or.verticalTextBox;return x.allowVerticalPlacement&&Wt.numVerticalGlyphVertices>0&&di?ja(di,o.al.vertical):{box:null,offscreen:null}}),ws(qn&&qn.placeable)}else{let ja=o.aB[(Ra=(Mn=this.prevPlacement)===null||Mn===void 0?void 0:Mn.variableOffsets[Wt.crossTileID])===null||Ra===void 0?void 0:Ra.anchor];const di=(aa,Zh,$g)=>{const bv=aa.x2-aa.x1,Of=aa.y2-aa.y1,Td=Wt.textBoxScale,wu=Qe&&Ze==="never"?Zh:null;let _o=null,Es=De==="never"?1:2,Cs="never";ja&&Es++;for(let Yl=0;Yl<Es;Yl++){for(let zc=Ss;zc<Xl;zc++){const Lc=x.textAnchorOffsets.get(zc);if(ja&&Lc.textAnchor!==ja)continue;const is=this.attemptAnchorPlacement(Lc,aa,bv,Of,Td,Xe,nt,J,Tt,Z,be,Cs,Wt,x,$g,k,U,wu,Mt);if(is&&(_o=is.placedGlyphBoxes,_o&&_o.placeable))return na=!0,la=is.shift,_o}ja?ja=null:Cs=De}return v&&!_o&&(_o={box:this.collisionIndex.placeCollisionBox(kc,"always",J,Tt,Z,nt,Xe,k,be.predicate,Mt,void 0,yr).box,offscreen:!1,placeable:!1,occluded:!1}),_o};Dc(()=>di(kc,Or.iconBox,o.al.horizontal),()=>{const aa=Or.verticalTextBox;return x.allowVerticalPlacement&&(!qn||!qn.placeable)&&Wt.numVerticalGlyphVertices>0&&aa?di(aa,Or.verticalIconBox,o.al.vertical):{box:null,occluded:!0,offscreen:null}}),qn&&(na=qn.placeable,xa=qn.offscreen);const bo=ws(qn&&qn.placeable);if(!na&&this.prevPlacement){const aa=this.prevPlacement.variableOffsets[Wt.crossTileID];aa&&(this.variableOffsets[Wt.crossTileID]=aa,this.markUsedJustification(x,aa.anchor,Wt,bo))}}}if(Ei=qn,na=Ei&&Ei.placeable,xa=Ei&&Ei.offscreen,Wt.useRuntimeCollisionCircles){const ws=x.text.placedSymbolArray.get(Wt.centerJustifiedTextSymbolIndex),Dc=o.am(x.textSizeData,pe,ws),Ss=A.get("text-padding");Li=this.collisionIndex.placeCollisionCircles(De,ws,x.lineVertexArray,x.glyphOffsetArray,Dc,Z,Y,v,nt,be.predicate,Wt.collisionCircleDiameter,Ss,k,Mt),Li.circles.length&&Li.collisionDetected&&!v&&o.w("Collisions detected, but collision boxes are not shown"),na=Ue||Li.circles.length>0&&!Li.collisionDetected,xa=xa&&Li.offscreen}if(Or.iconFeatureIndex&&(Oc=Or.iconFeatureIndex),Or.iconBox){const ws=Dc=>this.collisionIndex.placeCollisionBox(Dc,Ze,J,Tt,Z,nt,Xe,U,be.predicate,Mt,Qe&&la?la:void 0,yr);ui&&ui.placeable&&Or.verticalIconBox?(Vn=ws(Or.verticalIconBox),Ma=Vn.placeable):(Vn=ws(Or.iconBox),Ma=Vn.placeable),xa=xa&&Vn.offscreen}const Mf=Ie||Wt.numHorizontalGlyphVertices===0&&Wt.numVerticalGlyphVertices===0,Ic=ke||Wt.numIconVertices===0;Mf||Ic?Ic?Mf||(Ma=Ma&&na):na=Ma&&na:Ma=na=Ma&&na;const Cd=Ma&&Vn.placeable;if(na&&Ei.placeable&&this.collisionIndex.insertCollisionBox(Ei.box,De,A.get("text-ignore-placement"),x.bucketInstanceId,ui&&ui.placeable&&ml?ml:Kl,be.ID),Cd&&this.collisionIndex.insertCollisionBox(Vn.box,Ze,A.get("icon-ignore-placement"),x.bucketInstanceId,Oc,be.ID),Li&&na&&this.collisionIndex.insertCollisionCircles(Li.circles,De,A.get("text-ignore-placement"),x.bucketInstanceId,Kl,be.ID),v&&this.storeCollisionData(x.bucketInstanceId,vn,Or,Ei,Vn,Li),Wt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(x.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Wt.crossTileID]=new _n((na||Bt)&&!(Ei!=null&&Ei.occluded),(Ma||Pt)&&!(Vn!=null&&Vn.occluded),xa||x.justReloaded),d[Wt.crossTileID]=!0};if(bt){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Wt=x.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Or=Wt.length-1;Or>=0;--Or){const vn=Wt[Or];hr(x.symbolInstances.get(vn),x.collisionArrays[vn],vn)}}else for(let Wt=i.symbolInstanceStart;Wt<i.symbolInstanceEnd;Wt++)hr(x.symbolInstances.get(Wt),x.collisionArrays[Wt],Wt);x.justReloaded=!1}storeCollisionData(i,d,v,x,A,k){if(v.textBox||v.iconBox){let U,Z;this.collisionBoxArrays.has(i)?U=this.collisionBoxArrays.get(i):(U=new Map,this.collisionBoxArrays.set(i,U)),U.has(d)?Z=U.get(d):(Z={text:null,icon:null},U.set(d,Z)),v.textBox&&(Z.text=x.box),v.iconBox&&(Z.icon=A.box)}if(k){let U=this.collisionCircleArrays[i];U===void 0&&(U=this.collisionCircleArrays[i]=[]);for(let Z=0;Z<k.circles.length;Z+=4)U.push(k.circles[Z+0]-oa),U.push(k.circles[Z+1]-oa),U.push(k.circles[Z+2]),U.push(k.collisionDetected?1:0)}}markUsedJustification(i,d,v,x){let A;A=x===o.al.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[o.aD(d)];const k=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const U of k)U>=0&&(i.text.placedSymbolArray.get(U).crossTileID=A>=0&&U!==A?0:v.crossTileID)}markUsedOrientation(i,d,v){const x=d===o.al.horizontal||d===o.al.horizontalOnly?d:0,A=d===o.al.vertical?d:0,k=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const U of k)i.text.placedSymbolArray.get(U).placedOrientation=x;v.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=A)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let v=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const x=d?d.symbolFadeChange(i):1,A=d?d.opacities:{},k=d?d.variableOffsets:{},U=d?d.placedOrientations:{};for(const Z in this.placements){const Y=this.placements[Z],J=A[Z];J?(this.opacities[Z]=new ys(J,x,Y.text,Y.icon),v=v||Y.text!==J.text.placed||Y.icon!==J.icon.placed):(this.opacities[Z]=new ys(null,x,Y.text,Y.icon,Y.skipFade),v=v||Y.text||Y.icon)}for(const Z in A){const Y=A[Z];if(!this.opacities[Z]){const J=new ys(Y,x,!1,!1);J.isHidden()||(this.opacities[Z]=J,v=v||Y.text.placed||Y.icon.placed)}}for(const Z in k)this.variableOffsets[Z]||!this.opacities[Z]||this.opacities[Z].isHidden()||(this.variableOffsets[Z]=k[Z]);for(const Z in U)this.placedOrientations[Z]||!this.opacities[Z]||this.opacities[Z].isHidden()||(this.placedOrientations[Z]=U[Z]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:i)}updateLayerOpacities(i,d){const v={};for(const x of d){const A=x.getBucket(i);A&&x.latestFeatureIndex&&i.id===A.layerIds[0]&&this.updateBucketOpacities(A,x.tileID,v,x.collisionBoxArray)}}updateBucketOpacities(i,d,v,x){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const A=i.layers[0],k=A.layout,U=new ys(null,0,!1,!1,!0),Z=k.get("text-allow-overlap"),Y=k.get("icon-allow-overlap"),J=A._unevaluatedLayout.hasValue("text-variable-anchor")||A._unevaluatedLayout.hasValue("text-variable-anchor-offset"),oe=k.get("text-rotation-alignment")==="map",ie=k.get("text-pitch-alignment")==="map",pe=k.get("icon-text-fit")!=="none",be=new ys(null,0,Z&&(Y||!i.hasIconData()||k.get("icon-optional")),Y&&(Z||!i.hasTextData()||k.get("text-optional")),!0);!i.collisionArrays&&x&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(x);const Ie=(De,Ue,Ze)=>{for(let He=0;He<Ue/4;He++)De.opacityVertexArray.emplaceBack(Ze);De.hasVisibleVertices=De.hasVisibleVertices||Ze!==Xu},ke=this.collisionBoxArrays.get(i.bucketInstanceId);for(let De=0;De<i.symbolInstances.length;De++){const Ue=i.symbolInstances.get(De),{numHorizontalGlyphVertices:Ze,numVerticalGlyphVertices:He,crossTileID:Xe}=Ue;let nt=this.opacities[Xe];v[Xe]?nt=U:nt||(nt=be,this.opacities[Xe]=nt),v[Xe]=!0;const Qe=Ue.numIconVertices>0,bt=this.placedOrientations[Ue.crossTileID],Bt=bt===o.al.vertical,Pt=bt===o.al.horizontal||bt===o.al.horizontalOnly;if(Ze>0||He>0){const Mt=af(nt.text);Ie(i.text,Ze,Bt?Xu:Mt),Ie(i.text,He,Pt?Xu:Mt);const yr=nt.text.isHidden();[Ue.rightJustifiedTextSymbolIndex,Ue.centerJustifiedTextSymbolIndex,Ue.leftJustifiedTextSymbolIndex].forEach(Or=>{Or>=0&&(i.text.placedSymbolArray.get(Or).hidden=yr||Bt?1:0)}),Ue.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(Ue.verticalPlacedTextSymbolIndex).hidden=yr||Pt?1:0);const hr=this.variableOffsets[Ue.crossTileID];hr&&this.markUsedJustification(i,hr.anchor,Ue,bt);const Wt=this.placedOrientations[Ue.crossTileID];Wt&&(this.markUsedJustification(i,"left",Ue,Wt),this.markUsedOrientation(i,Wt,Ue))}if(Qe){const Mt=af(nt.icon),yr=!(pe&&Ue.verticalPlacedIconSymbolIndex&&Bt);Ue.placedIconSymbolIndex>=0&&(Ie(i.icon,Ue.numIconVertices,yr?Mt:Xu),i.icon.placedSymbolArray.get(Ue.placedIconSymbolIndex).hidden=nt.icon.isHidden()),Ue.verticalPlacedIconSymbolIndex>=0&&(Ie(i.icon,Ue.numVerticalIconVertices,yr?Xu:Mt),i.icon.placedSymbolArray.get(Ue.verticalPlacedIconSymbolIndex).hidden=nt.icon.isHidden())}const Tt=ke&&ke.has(De)?ke.get(De):{text:null,icon:null};if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const Mt=i.collisionArrays[De];if(Mt){let yr=new o.P(0,0);if(Mt.textBox||Mt.verticalTextBox){let hr=!0;if(J){const Wt=this.variableOffsets[Xe];Wt?(yr=xi(Wt.anchor,Wt.width,Wt.height,Wt.textOffset,Wt.textBoxScale),oe&&yr._rotate(ie?-this.transform.bearingInRadians:this.transform.bearingInRadians)):hr=!1}if(Mt.textBox||Mt.verticalTextBox){let Wt;Mt.textBox&&(Wt=Bt),Mt.verticalTextBox&&(Wt=Pt),ba(i.textCollisionBox.collisionVertexArray,nt.text.placed,!hr||Wt,Tt.text,yr.x,yr.y)}}if(Mt.iconBox||Mt.verticalIconBox){const hr=!!(!Pt&&Mt.verticalIconBox);let Wt;Mt.iconBox&&(Wt=hr),Mt.verticalIconBox&&(Wt=!hr),ba(i.iconCollisionBox.collisionVertexArray,nt.icon.placed,Wt,Tt.icon,pe?yr.x:0,pe?yr.y:0)}}}}if(i.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);i.bucketInstanceId in this.collisionCircleArrays&&(i.collisionCircleArray=this.collisionCircleArrays[i.bucketInstanceId],delete this.collisionCircleArrays[i.bucketInstanceId])}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,d){const v=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*v>i}setStale(){this.stale=!0}}function ba(C,i,d,v,x,A){v&&v.length!==0||(v=[0,0,0,0]);const k=v[0]-oa,U=v[1]-oa,Z=v[2]-oa,Y=v[3]-oa;C.emplaceBack(i?1:0,d?1:0,x||0,A||0,k,U),C.emplaceBack(i?1:0,d?1:0,x||0,A||0,Z,U),C.emplaceBack(i?1:0,d?1:0,x||0,A||0,Z,Y),C.emplaceBack(i?1:0,d?1:0,x||0,A||0,k,Y)}const gc=Math.pow(2,25),Il=Math.pow(2,24),Lo=Math.pow(2,17),iv=Math.pow(2,16),U_=Math.pow(2,9),Pp=Math.pow(2,8),wg=Math.pow(2,1);function af(C){if(C.opacity===0&&!C.placed)return 0;if(C.opacity===1&&C.placed)return 4294967295;const i=C.placed?1:0,d=Math.floor(127*C.opacity);return d*gc+i*Il+d*Lo+i*iv+d*U_+i*Pp+d*wg+i}const Xu=0;class ts{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,d,v,x,A){const k=this._bucketParts;for(;this._currentTileIndex<i.length;)if(d.getBucketParts(k,x,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,A())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,k.sort((U,Z)=>U.sortKey-Z.sortKey));this._currentPartIndex<k.length;)if(d.placeLayerBucketPart(k[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,A())return!0;return!1}}class Rp{constructor(i,d,v,x,A,k,U,Z){this.placement=new ou(i,d,k,U,Z),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=A,this._done=!1}isDone(){return this._done}continuePlacement(i,d,v){const x=R.now(),A=()=>!this._forceFullPlacement&&R.now()-x>2;for(;this._currentPlacementIndex>=0;){const k=d[i[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if(k.type==="symbol"&&(!k.minzoom||k.minzoom<=U)&&(!k.maxzoom||k.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new ts(k)),this._inProgressLayer.continuePlacement(v[k.source],this.placement,this._showCollisionBoxes,k,A))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const su=512/o.Z/2;class Eh{constructor(i,d,v){this.tileID=i,this.bucketInstanceId=v,this._symbolsByKey={};const x=new Map;for(let A=0;A<d.length;A++){const k=d.get(A),U=k.key,Z=x.get(U);Z?Z.push(k):x.set(U,[k])}for(const[A,k]of x){const U={positions:k.map(Z=>({x:Math.floor(Z.anchorX*su),y:Math.floor(Z.anchorY*su)})),crossTileIDs:k.map(Z=>Z.crossTileID)};if(U.positions.length>128){const Z=new o.aF(U.positions.length,16,Uint16Array);for(const{x:Y,y:J}of U.positions)Z.add(Y,J);Z.finish(),delete U.positions,U.index=Z}this._symbolsByKey[A]=U}}getScaledCoordinates(i,d){const{x:v,y:x,z:A}=this.tileID.canonical,{x:k,y:U,z:Z}=d.canonical,Y=su/Math.pow(2,Z-A),J=(U*o.Z+i.anchorY)*Y,oe=x*o.Z*su;return{x:Math.floor((k*o.Z+i.anchorX)*Y-v*o.Z*su),y:Math.floor(J-oe)}}findMatches(i,d,v){const x=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let A=0;A<i.length;A++){const k=i.get(A);if(k.crossTileID)continue;const U=this._symbolsByKey[k.key];if(!U)continue;const Z=this.getScaledCoordinates(k,d);if(U.index){const Y=U.index.range(Z.x-x,Z.y-x,Z.x+x,Z.y+x).sort();for(const J of Y){const oe=U.crossTileIDs[J];if(!v[oe]){v[oe]=!0,k.crossTileID=oe;break}}}else if(U.positions)for(let Y=0;Y<U.positions.length;Y++){const J=U.positions[Y],oe=U.crossTileIDs[Y];if(Math.abs(J.x-Z.x)<=x&&Math.abs(J.y-Z.y)<=x&&!v[oe]){v[oe]=!0,k.crossTileID=oe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class of{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class sf{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const d=Math.round((i-this.lng)/360);if(d!==0)for(const v in this.indexes){const x=this.indexes[v],A={};for(const k in x){const U=x[k];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+d),A[U.tileID.key]=U}this.indexes[v]=A}this.lng=i}addBucket(i,d,v){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let A=0;A<d.symbolInstances.length;A++)d.symbolInstances.get(A).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const x=this.usedCrossTileIDs[i.overscaledZ];for(const A in this.indexes){const k=this.indexes[A];if(Number(A)>i.overscaledZ)for(const U in k){const Z=k[U];Z.tileID.isChildOf(i)&&Z.findMatches(d.symbolInstances,i,x)}else{const U=k[i.scaledTo(Number(A)).key];U&&U.findMatches(d.symbolInstances,i,x)}}for(let A=0;A<d.symbolInstances.length;A++){const k=d.symbolInstances.get(A);k.crossTileID||(k.crossTileID=v.generate(),x[k.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new Eh(i,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(i,d){for(const v of d.getCrossTileIDsLists())for(const x of v)delete this.usedCrossTileIDs[i][x]}removeStaleBuckets(i){let d=!1;for(const v in this.indexes){const x=this.indexes[v];for(const A in x)i[x[A].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,x[A]),delete x[A],d=!0)}return d}}class lf{constructor(){this.layerIndexes={},this.crossTileIDs=new of,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,d,v){let x=this.layerIndexes[i.id];x===void 0&&(x=this.layerIndexes[i.id]=new sf);let A=!1;const k={};x.handleWrapJump(v);for(const U of d){const Z=U.getBucket(i);Z&&i.id===Z.layerIds[0]&&(Z.bucketInstanceId||(Z.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(U.tileID,Z,this.crossTileIDs)&&(A=!0),k[Z.bucketInstanceId]=!0)}return x.removeStaleBuckets(k)&&(A=!0),A}pruneUnusedLayers(i){const d={};i.forEach(v=>{d[v]=!0});for(const v in this.layerIndexes)d[v]||delete this.layerIndexes[v]}}var lu="void main() {fragColor=vec4(1.0);}";const Bo={prelude:Dn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Dn("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Dn("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Dn(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Dn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Dn(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Dn(lu,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Dn(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Dn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Dn("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Dn("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Dn(lu,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Dn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Dn(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Dn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Dn(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Dn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Dn(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:
basic_hillshade(deriv);break;case COMBINED:
combined_hillshade(deriv);break;case IGOR:
igor_hillshade(deriv);break;case MULTIDIRECTIONAL:
multidirectional_hillshade(deriv);break;case STANDARD:
default:
standard_hillshade(deriv);break;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Dn(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Dn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Dn(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Dn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Dn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Dn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Dn("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Dn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Dn("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Dn(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Dn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Dn(C,i){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=i.match(/in ([\w]+) ([\w]+)/g),x=C.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),A=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),k=A?A.concat(x):x,U={};return{fragmentSource:C=C.replace(d,(Z,Y,J,oe,ie)=>(U[ie]=!0,Y==="define"?`
#ifndef HAS_UNIFORM_u_${ie}
in ${J} ${oe} ${ie};
#else
uniform ${J} ${oe} u_${ie};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ie}
    ${J} ${oe} ${ie} = u_${ie};
#endif
`)),vertexSource:i=i.replace(d,(Z,Y,J,oe,ie)=>{const pe=oe==="float"?"vec2":"vec4",be=ie.match(/color/)?"color":pe;return U[ie]?Y==="define"?`
#ifndef HAS_UNIFORM_u_${ie}
uniform lowp float u_${ie}_t;
in ${J} ${pe} a_${ie};
out ${J} ${oe} ${ie};
#else
uniform ${J} ${oe} u_${ie};
#endif
`:be==="vec4"?`
#ifndef HAS_UNIFORM_u_${ie}
    ${ie} = a_${ie};
#else
    ${J} ${oe} ${ie} = u_${ie};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ie}
    ${ie} = unpack_mix_${be}(a_${ie}, u_${ie}_t);
#else
    ${J} ${oe} ${ie} = u_${ie};
#endif
`:Y==="define"?`
#ifndef HAS_UNIFORM_u_${ie}
uniform lowp float u_${ie}_t;
in ${J} ${pe} a_${ie};
#else
uniform ${J} ${oe} u_${ie};
#endif
`:be==="vec4"?`
#ifndef HAS_UNIFORM_u_${ie}
    ${J} ${oe} ${ie} = a_${ie};
#else
    ${J} ${oe} ${ie} = u_${ie};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ie}
    ${J} ${oe} ${ie} = unpack_mix_${be}(a_${ie}, u_${ie}_t);
#else
    ${J} ${oe} ${ie} = u_${ie};
#endif
`}),staticAttributes:v,staticUniforms:k}}class Yu{constructor(i,d,v){this.vertexBuffer=i,this.indexBuffer=d,this.segments=v}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Wi=o.aG([{name:"a_pos",type:"Int16",components:2}]);const Qu="#define PROJECTION_MERCATOR",kn="mercator";class cu{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return kn}get shaderDefine(){return Qu}get shaderPreludeCode(){return Bo.projectionMercator}get vertexShaderPreludeCode(){return Bo.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aH.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(i){}getMeshFromTileID(i,d,v,x,A){if(this._cachedMesh)return this._cachedMesh;const k=new o.aI;k.emplaceBack(0,0),k.emplaceBack(o.Z,0),k.emplaceBack(0,o.Z),k.emplaceBack(o.Z,o.Z);const U=i.createVertexBuffer(k,Wi.members),Z=o.aJ.simpleSegment(0,0,4,2),Y=new o.aK;Y.emplaceBack(1,0,2),Y.emplaceBack(1,2,3);const J=i.createIndexBuffer(Y);return this._cachedMesh=new Yu(U,J,Z),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(i){}}class Ju{constructor(i=0,d=0,v=0,x=0){if(isNaN(i)||i<0||isNaN(d)||d<0||isNaN(v)||v<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=d,this.left=v,this.right=x}interpolate(i,d,v){return d.top!=null&&i.top!=null&&(this.top=o.B.number(i.top,d.top,v)),d.bottom!=null&&i.bottom!=null&&(this.bottom=o.B.number(i.bottom,d.bottom,v)),d.left!=null&&i.left!=null&&(this.left=o.B.number(i.left,d.left,v)),d.right!=null&&i.right!=null&&(this.right=o.B.number(i.right,d.right,v)),this}getCenter(i,d){const v=o.ae((this.left+i-this.right)/2,0,i),x=o.ae((this.top+d-this.bottom)/2,0,d);return new o.P(v,x)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new Ju(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function uu(C,i){if(!C.renderWorldCopies||C.lngRange)return;const d=i.lng-C.center.lng;i.lng+=d>180?-360:d<-180?360:0}function wi(C){return Math.max(0,Math.floor(C))}class Qa{constructor(i,d,v,x,A,k){this._callbacks=i,this._tileSize=512,this._renderWorldCopies=k===void 0||!!k,this._minZoom=d||0,this._maxZoom=v||22,this._minPitch=x??0,this._maxPitch=A??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=wi(this._zoom),this._scale=o.ac(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Ju,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(i,d,v){this._latRange=i.latRange,this._lngRange=i.lngRange,this._width=i.width,this._height=i.height,this._center=i.center,this._elevation=i.elevation,this._minElevationForCurrentTile=i.minElevationForCurrentTile,this._zoom=i.zoom,this._tileZoom=wi(this._zoom),this._scale=o.ac(this._zoom),this._bearingInRadians=i.bearingInRadians,this._fovInRadians=i.fovInRadians,this._pitchInRadians=i.pitchInRadians,this._rollInRadians=i.rollInRadians,this._unmodified=i.unmodified,this._edgeInsets=new Ju(i.padding.top,i.padding.bottom,i.padding.left,i.padding.right),this._minZoom=i.minZoom,this._maxZoom=i.maxZoom,this._minPitch=i.minPitch,this._maxPitch=i.maxPitch,this._renderWorldCopies=i.renderWorldCopies,this._cameraToCenterDistance=i.cameraToCenterDistance,this._nearZ=i.nearZ,this._farZ=i.farZ,this._autoCalculateNearFarZ=!v&&i.autoCalculateNearFarZ,d&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(i){this._minElevationForCurrentTile=i}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(i){this._minZoom!==i&&(this._minZoom=i,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(i){this._minPitch!==i&&(this._minPitch=i,this.setPitch(Math.max(this.pitch,i)))}get maxPitch(){return this._maxPitch}setMaxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.setPitch(Math.min(this.pitch,i)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(i){const d=o.aL(i,-180,180)*Math.PI/180;var v,x,A,k,U,Z,Y,J,oe;this._bearingInRadians!==d&&(this._unmodified=!1,this._bearingInRadians=d,this._calcMatrices(),this._rotationMatrix=m(),v=this._rotationMatrix,A=-this._bearingInRadians,k=(x=this._rotationMatrix)[0],U=x[1],Z=x[2],Y=x[3],J=Math.sin(A),oe=Math.cos(A),v[0]=k*oe+Z*J,v[1]=U*oe+Y*J,v[2]=k*-J+Z*oe,v[3]=U*-J+Y*oe)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(i){const d=o.ae(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==d&&(this._unmodified=!1,this._pitchInRadians=d,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(i){const d=i/180*Math.PI;this._rollInRadians!==d&&(this._unmodified=!1,this._rollInRadians=d,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aM(this._fovInRadians)}setFov(i){i=o.ae(i,.1,150),this.fov!==i&&(this._unmodified=!1,this._fovInRadians=o.ab(i),this._calcMatrices())}get zoom(){return this._zoom}setZoom(i){const d=this.getConstrained(this._center,i).zoom;this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this._tileZoom=Math.max(0,Math.floor(d)),this._scale=o.ac(d),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(i,d){this._autoCalculateNearFarZ=!1,this._nearZ=i,this._farZ=d,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,d,v){this._unmodified=!1,this._edgeInsets.interpolate(i,d,v),this._constrain(),this._calcMatrices()}resize(i,d,v=!0){this._width=i,this._height=d,v&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Xt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(i){i?(this._lngRange=[i.getWest(),i.getEast()],this._latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,o.af])}getConstrained(i,d){return this._callbacks.getConstrained(i,d)}getCameraQueryGeometry(i,d){if(d.length===1)return[d[0],i];{let v=i.x,x=i.y,A=i.x,k=i.y;for(const U of d)v=Math.min(v,U.x),x=Math.min(x,U.y),A=Math.max(A,U.x),k=Math.max(k,U.y);return[new o.P(v,x),new o.P(A,x),new o.P(A,k),new o.P(v,k),new o.P(v,x)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const i=this._unmodified,{center:d,zoom:v}=this.getConstrained(this.center,this.zoom);this.setCenter(d),this.setZoom(v),this._unmodified=i,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let i=o.ad(new Float64Array(16));o.M(i,i,[this._width/2,-this._height/2,1]),o.L(i,i,[1,-1,0]),this._clipSpaceToPixelsMatrix=i,i=o.ad(new Float64Array(16)),o.M(i,i,[1,-1,1]),o.L(i,i,[-1,-1,0]),o.M(i,i,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=i,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(i,d,v,x){const A=v!==void 0?v:this.bearing,k=x=x!==void 0?x:this.pitch,U=o.$.fromLngLat(i,d),Z=-Math.cos(o.ab(k)),Y=Math.sin(o.ab(k)),J=Y*Math.sin(o.ab(A)),oe=-Y*Math.cos(o.ab(A));let ie=this.elevation;const pe=d-ie;let be;Z*pe>=0||Math.abs(Z)<.1?(be=1e4,ie=d+be*Z):be=-pe/Z;let Ie,ke,De=o.aN(1,U.y),Ue=0;do{if(Ue+=1,Ue>10)break;ke=be/De,Ie=new o.$(U.x+J*ke,U.y+oe*ke),De=1/Ie.meterInMercatorCoordinateUnits()}while(Math.abs(be-ke*De)>1e-12);return{center:Ie.toLngLat(),elevation:ie,zoom:o.ah(this.height/2/Math.tan(this.fovInRadians/2)/ke/this.tileSize)}}recalculateZoomAndCenter(i){if(this.elevation-i==0)return;const d=o.ag(1,this.center.lat)*this.worldSize,v=this.cameraToCenterDistance/d,x=o.$.fromLngLat(this.center,this.elevation),A=ye(this.center,this.elevation,this.pitch,this.bearing,v);this._elevation=i;const k=this.calculateCenterFromCameraLngLatAlt(A.toLngLat(),o.aN(A.z,x.y),this.bearing,this.pitch);this._elevation=k.elevation,this._center=k.center,this.setZoom(k.zoom)}getCameraPoint(){const i=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(i*Math.sin(this.rollInRadians),i*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const i=o.ag(1,this.center.lat)*this.worldSize;return ye(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/i).toLngLat()}getMercatorTileCoordinates(i){if(!i)return[0,0,1,1];const d=i.canonical.z>=0?1<<i.canonical.z:Math.pow(2,i.canonical.z);return[i.canonical.x/d,i.canonical.y/d,1/d/o.Z,1/d/o.Z]}}class Ja{constructor(i,d){this.min=i,this.max=d,this.center=o.aO([],o.aP([],this.min,this.max),.5)}quadrant(i){const d=[i%2==0,i<2],v=o.aQ(this.min),x=o.aQ(this.max);for(let A=0;A<d.length;A++)v[A]=d[A]?this.min[A]:this.center[A],x[A]=d[A]?this.center[A]:this.max[A];return x[2]=this.max[2],new Ja(v,x)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersectsFrustum(i){let d=!0;for(let v=0;v<i.planes.length;v++){const x=this.intersectsPlane(i.planes[v]);if(x===0)return 0;x===1&&(d=!1)}return d?2:i.aabb.min[0]>this.max[0]||i.aabb.min[1]>this.max[1]||i.aabb.min[2]>this.max[2]||i.aabb.max[0]<this.min[0]||i.aabb.max[1]<this.min[1]||i.aabb.max[2]<this.min[2]?0:1}intersectsPlane(i){let d=i[3],v=i[3];for(let x=0;x<3;x++)i[x]>0?(d+=i[x]*this.min[x],v+=i[x]*this.max[x]):(v+=i[x]*this.min[x],d+=i[x]*this.max[x]);return d>=0?2:v<0?0:1}}class Si{distanceToTile2d(i,d,v,x){const A=x.distanceX([i,d]),k=x.distanceY([i,d]);return Math.hypot(A,k)}getWrap(i,d,v){return v}getTileAABB(i,d,v,x){var A,k;let U=v,Z=v;if(x.terrain){const J=new o.Y(i.z,d,i.z,i.x,i.y),oe=x.terrain.getMinMaxElevation(J);U=(A=oe.minElevation)!==null&&A!==void 0?A:v,Z=(k=oe.maxElevation)!==null&&k!==void 0?k:v}const Y=1<<i.z;return new Ja([d+i.x/Y,i.y/Y,U],[d+(i.x+1)/Y,(i.y+1)/Y,Z])}allowVariableZoom(i,d){const v=i.fov*(Math.abs(Math.cos(i.rollInRadians))*i.height+Math.abs(Math.sin(i.rollInRadians))*i.width)/i.height,x=o.ae(78.5-v/2,0,60);return!!d.terrain||i.pitch>x}allowWorldCopies(){return!0}recalculateCache(){}}class da{constructor(i,d,v){this.points=i,this.planes=d,this.aabb=v}static fromInvProjectionMatrix(i,d=1,v=0){const x=Math.pow(2,v),A=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Y=>{const J=1/(Y=o.at([],Y,i))[3]/d*x;return o.aR(Y,Y,[J,J,1/Y[3],J])}),k=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Y=>{const J=o.aS([],A[Y[0]],A[Y[1]]),oe=o.aS([],A[Y[2]],A[Y[1]]),ie=o.aT([],o.aU([],J,oe)),pe=-o.aV(ie,A[Y[1]]);return ie.concat(pe)}),U=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],Z=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Y of A)for(let J=0;J<3;J++)U[J]=Math.min(U[J],Y[J]),Z[J]=Math.max(Z[J],Y[J]);return new da(A,k,new Ja(U,Z))}}class Dl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,d,v){return this._helper.interpolatePadding(i,d,v)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,d,v=!0){this._helper.resize(i,d,v)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,d){this._helper.overrideNearFarZ(i,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(i,d){}constructor(i,d,v,x,A){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Qa({calcMatrices:()=>{this._calcMatrices()},getConstrained:(k,U)=>this.getConstrained(k,U)},i,d,v,x,A),this._coveringTilesDetailsProvider=new Si}clone(){const i=new Dl;return i.apply(this),i}apply(i,d,v){this._helper.apply(i,d,v)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(i){const d=[new o.aW(0,i)];if(this._helper._renderWorldCopies){const v=this.screenPointToMercatorCoordinate(new o.P(0,0)),x=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),A=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),k=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),U=Math.floor(Math.min(v.x,x.x,A.x,k.x)),Z=Math.floor(Math.max(v.x,x.x,A.x,k.x)),Y=1;for(let J=U-Y;J<=Z+Y;J++)J!==0&&d.push(new o.aW(J,i))}return d}getCameraFrustum(){return da.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(i){const d=this.screenPointToLocation(this.centerPoint,i),v=i?i.getElevationForLngLatZoom(d,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(v)}setLocationAtPoint(i,d){const v=o.ag(this.elevation,this.center.lat),x=this.screenPointToMercatorCoordinateAtZ(d,v),A=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,v),k=o.$.fromLngLat(i),U=new o.$(k.x-(x.x-A.x),k.y-(x.y-A.y));this.setCenter(U==null?void 0:U.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(i,d){return d?this.coordinatePoint(o.$.fromLngLat(i),d.getElevationForLngLatZoom(i,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(o.$.fromLngLat(i))}screenPointToLocation(i,d){var v;return(v=this.screenPointToMercatorCoordinate(i,d))===null||v===void 0?void 0:v.toLngLat()}screenPointToMercatorCoordinate(i,d){if(d){const v=d.pointCoordinate(i);if(v!=null)return v}return this.screenPointToMercatorCoordinateAtZ(i)}screenPointToMercatorCoordinateAtZ(i,d){const v=d||0,x=[i.x,i.y,0,1],A=[i.x,i.y,1,1];o.at(x,x,this._pixelMatrixInverse),o.at(A,A,this._pixelMatrixInverse);const k=x[3],U=A[3],Z=x[1]/k,Y=A[1]/U,J=x[2]/k,oe=A[2]/U,ie=J===oe?0:(v-J)/(oe-J);return new o.$(o.B.number(x[0]/k,A[0]/U,ie)/this.worldSize,o.B.number(Z,Y,ie)/this.worldSize,v)}coordinatePoint(i,d=0,v=this._pixelMatrix){const x=[i.x*this.worldSize,i.y*this.worldSize,d,1];return o.at(x,x,v),new o.P(x[0]/x[3],x[1]/x[3])}getBounds(){const i=Math.max(0,this._helper._height/2-Ge(this));return new Xt().extend(this.screenPointToLocation(new o.P(0,i))).extend(this.screenPointToLocation(new o.P(this._helper._width,i))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(i,d){return d?d.pointCoordinate(i)!=null:i.y>this.height/2-Ge(this)}calculatePosMatrix(i,d=!1,v){var x;const A=(x=i.key)!==null&&x!==void 0?x:o.aX(i.wrap,i.canonical.z,i.canonical.z,i.canonical.x,i.canonical.y),k=d?this._alignedPosMatrixCache:this._posMatrixCache;if(k.has(A)){const Y=k.get(A);return v?Y.f32:Y.f64}const U=me(i,this.worldSize);o.N(U,d?this._alignedProjMatrix:this._viewProjMatrix,U);const Z={f64:U,f32:new Float32Array(U)};return k.set(A,Z),v?Z.f32:Z.f64}calculateFogMatrix(i){const d=i.key,v=this._fogMatrixCacheF32;if(v.has(d))return v.get(d);const x=me(i,this.worldSize);return o.N(x,this._fogMatrix,x),v.set(d,new Float32Array(x)),v.get(d)}getConstrained(i,d){d=o.ae(+d,this.minZoom,this.maxZoom);const v={center:new o.Q(i.lng,i.lat),zoom:d};let x=this._helper._lngRange;this._helper._renderWorldCopies||x!==null||(x=[-179.9999999999,180-1e-10]);const A=this.tileSize*o.ac(v.zoom);let k=0,U=A,Z=0,Y=A,J=0,oe=0;const{x:ie,y:pe}=this.size;if(this._helper._latRange){const Ze=this._helper._latRange;k=o.S(Ze[1])*A,U=o.S(Ze[0])*A,U-k<pe&&(J=pe/(U-k))}x&&(Z=o.aL(o.U(x[0])*A,0,A),Y=o.aL(o.U(x[1])*A,0,A),Y<Z&&(Y+=A),Y-Z<ie&&(oe=ie/(Y-Z)));const{x:be,y:Ie}=Kr(A,i);let ke,De;const Ue=Math.max(oe||0,J||0);if(Ue){const Ze=new o.P(oe?(Y+Z)/2:be,J?(U+k)/2:Ie);return v.center=en(A,Ze).wrap(),v.zoom+=o.ah(Ue),v}if(this._helper._latRange){const Ze=pe/2;Ie-Ze<k&&(De=k+Ze),Ie+Ze>U&&(De=U-Ze)}if(x){const Ze=(Z+Y)/2;let He=be;this._helper._renderWorldCopies&&(He=o.aL(be,Ze-A/2,Ze+A/2));const Xe=ie/2;He-Xe<Z&&(ke=Z+Xe),He+Xe>Y&&(ke=Y-Xe)}if(ke!==void 0||De!==void 0){const Ze=new o.P(ke??be,De??Ie);v.center=en(A,Ze).wrap()}return v}calculateCenterFromCameraLngLatAlt(i,d,v,x){return this._helper.calculateCenterFromCameraLngLatAlt(i,d,v,x)}_calculateNearFarZIfNeeded(i,d,v){if(!this._helper.autoCalculateNearFarZ)return;const x=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),A=i-x*this._helper._pixelPerMeter/Math.cos(d),k=x<0?A:i,U=Math.PI/2+this.pitchInRadians,Z=o.ab(this.fov)*(Math.abs(Math.cos(o.ab(this.roll)))*this.height+Math.abs(Math.sin(o.ab(this.roll)))*this.width)/this.height*(.5+v.y/this.height),Y=Math.sin(Z)*k/Math.sin(o.ae(Math.PI-U-Z,.01,Math.PI-.01)),J=Ge(this),oe=Math.atan(J/this._helper.cameraToCenterDistance),ie=o.ab(.75),pe=oe>ie?2*oe*(.5+v.y/(2*J)):ie,be=Math.sin(pe)*k/Math.sin(o.ae(Math.PI-U-pe,.01,Math.PI-.01)),Ie=Math.min(Y,be);this._helper._farZ=1.01*(Math.cos(Math.PI/2-d)*Ie+k),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const i=this.centerOffset,d=Kr(this.worldSize,this.center),v=d.x,x=d.y;this._helper._pixelPerMeter=o.ag(1,this.center.lat)*this.worldSize;const A=o.ab(Math.min(this.pitch,wn)),k=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(A));let U;this._calculateNearFarZIfNeeded(k,A,i),U=new Float64Array(16),o.aY(U,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.an(this._invProjMatrix,U),U[8]=2*-i.x/this._helper._width,U[9]=2*i.y/this._helper._height,this._projectionMatrix=o.aZ(U),o.M(U,U,[1,-1,1]),o.L(U,U,[0,0,-this._helper.cameraToCenterDistance]),o.a_(U,U,-this.rollInRadians),o.a$(U,U,this.pitchInRadians),o.a_(U,U,-this.bearingInRadians),o.L(U,U,[-v,-x,0]),this._mercatorMatrix=o.M([],U,[this.worldSize,this.worldSize,this.worldSize]),o.M(U,U,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,U),o.L(U,U,[0,0,-this.elevation]),this._viewProjMatrix=U,this._invViewProjMatrix=o.an([],U);const Z=[0,0,-1,1];o.at(Z,Z,this._invViewProjMatrix),this._cameraPosition=[Z[0]/Z[3],Z[1]/Z[3],Z[2]/Z[3]],this._fogMatrix=new Float64Array(16),o.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,k,this._helper._farZ),this._fogMatrix[8]=2*-i.x/this.width,this._fogMatrix[9]=2*i.y/this.height,o.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.L(this._fogMatrix,this._fogMatrix,[-v,-x,0]),o.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,U);const Y=this._helper._width%2/2,J=this._helper._height%2/2,oe=Math.cos(this.bearingInRadians),ie=Math.sin(-this.bearingInRadians),pe=v-Math.round(v)+oe*Y+ie*J,be=x-Math.round(x)+oe*J+ie*Y,Ie=new Float64Array(U);if(o.L(Ie,Ie,[pe>.5?pe-1:pe,be>.5?be-1:be,0]),this._alignedProjMatrix=Ie,U=o.an(new Float64Array(16),this._pixelMatrix),!U)throw new Error("failed to invert matrix");this._pixelMatrixInverse=U,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const i=this.screenPointToMercatorCoordinate(new o.P(0,0)),d=[i.x*this.worldSize,i.y*this.worldSize,0,1];return o.at(d,d,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const i=o.ag(1,this.center.lat)*this.worldSize;return ye(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/i).toLngLat()}lngLatToCameraDepth(i,d){const v=o.$.fromLngLat(i),x=[v.x*this.worldSize,v.y*this.worldSize,d,1];return o.at(x,x,this._viewProjMatrix),x[2]/x[3]}getProjectionData(i){const{overscaledTileID:d,aligned:v,applyTerrainMatrix:x}=i,A=this._helper.getMercatorTileCoordinates(d),k=d?this.calculatePosMatrix(d,v,!0):null;let U;return U=d&&d.terrainRttPosMatrix32f&&x?d.terrainRttPosMatrix32f:k||o.b0(),{mainMatrix:U,tileMercatorCoords:A,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:U}}isLocationOccluded(i){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(i,d,v){return 1}transformLightDirection(i){return o.aQ(i)}getRayDirectionFromPixel(i){throw new Error("Not implemented.")}projectTileCoordinates(i,d,v,x){const A=this.calculatePosMatrix(v);let k;x?(k=[i,d,x(i,d),1],o.at(k,k,A)):(k=[i,d,0,1],es(k,k,A));const U=k[3];return{point:new o.P(k[0]/U,k[1]/U),signedDistanceFromCamera:U,isOccluded:!1}}populateCache(i){for(const d of i)this.calculatePosMatrix(d)}getMatrixForModel(i,d){const v=o.$.fromLngLat(i,d),x=v.meterInMercatorCoordinateUnits(),A=o.b1();return o.L(A,A,[v.x,v.y,v.z]),o.a_(A,A,Math.PI),o.a$(A,A,Math.PI/2),o.M(A,A,[-x,x,x]),A}getProjectionDataForCustomLayer(i=!0){const d=new o.Y(0,0,0,0,0),v=this.getProjectionData({overscaledTileID:d,applyGlobeMatrix:i}),x=me(d,this.worldSize);o.N(x,this._viewProjMatrix,x),v.tileMercatorCoords=[0,0,1,1];const A=[o.Z,o.Z,this.worldSize/this._helper.pixelsPerMeter],k=o.b2();return o.M(k,x,A),v.fallbackMatrix=k,v.mainMatrix=k,v}getFastPathSimpleProjectionMatrix(i){return this.calculatePosMatrix(i)}}function Fa(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Fo(C){if(C.useSlerp)if(C.k<1){const i=o.b3(C.startEulerAngles.roll,C.startEulerAngles.pitch,C.startEulerAngles.bearing),d=o.b3(C.endEulerAngles.roll,C.endEulerAngles.pitch,C.endEulerAngles.bearing),v=new Float64Array(4);o.b4(v,i,d,C.k);const x=o.b5(v);C.tr.setRoll(x.roll),C.tr.setPitch(x.pitch),C.tr.setBearing(x.bearing)}else C.tr.setRoll(C.endEulerAngles.roll),C.tr.setPitch(C.endEulerAngles.pitch),C.tr.setBearing(C.endEulerAngles.bearing);else C.tr.setRoll(o.B.number(C.startEulerAngles.roll,C.endEulerAngles.roll,C.k)),C.tr.setPitch(o.B.number(C.startEulerAngles.pitch,C.endEulerAngles.pitch,C.k)),C.tr.setBearing(o.B.number(C.startEulerAngles.bearing,C.endEulerAngles.bearing,C.k))}function ki(C,i,d,v,x){const A=x.padding,k=Kr(x.worldSize,d.getNorthWest()),U=Kr(x.worldSize,d.getNorthEast()),Z=Kr(x.worldSize,d.getSouthEast()),Y=Kr(x.worldSize,d.getSouthWest()),J=o.ab(-v),oe=k.rotate(J),ie=U.rotate(J),pe=Z.rotate(J),be=Y.rotate(J),Ie=new o.P(Math.max(oe.x,ie.x,be.x,pe.x),Math.max(oe.y,ie.y,be.y,pe.y)),ke=new o.P(Math.min(oe.x,ie.x,be.x,pe.x),Math.min(oe.y,ie.y,be.y,pe.y)),De=Ie.sub(ke),Ue=(x.width-(A.left+A.right+i.left+i.right))/De.x,Ze=(x.height-(A.top+A.bottom+i.top+i.bottom))/De.y;if(Ze<0||Ue<0)return void Fa();const He=Math.min(o.ah(x.scale*Math.min(Ue,Ze)),C.maxZoom),Xe=o.P.convert(C.offset),nt=new o.P((i.left-i.right)/2,(i.top-i.bottom)/2).rotate(o.ab(v)),Qe=Xe.add(nt).mult(x.scale/o.ac(He));return{center:en(x.worldSize,k.add(Z).div(2).sub(Qe)),zoom:He,bearing:v}}class Fs{get useGlobeControls(){return!1}handlePanInertia(i,d){return{easingOffset:i,easingCenter:d.center}}handleMapControlsRollPitchBearingZoom(i,d){i.bearingDelta&&d.setBearing(d.bearing+i.bearingDelta),i.pitchDelta&&d.setPitch(d.pitch+i.pitchDelta),i.rollDelta&&d.setRoll(d.roll+i.rollDelta),i.zoomDelta&&d.setZoom(d.zoom+i.zoomDelta)}handleMapControlsPan(i,d,v){i.around.distSqr(d.centerPoint)<.01||d.setLocationAtPoint(v,i.around)}cameraForBoxAndBearing(i,d,v,x,A){return ki(i,d,v,x,A)}handleJumpToCenterZoom(i,d){i.zoom!==(d.zoom!==void 0?+d.zoom:i.zoom)&&i.setZoom(+d.zoom),d.center!==void 0&&i.setCenter(o.Q.convert(d.center))}handleEaseTo(i,d){const v=i.zoom,x=i.padding,A={roll:i.roll,pitch:i.pitch,bearing:i.bearing},k={roll:d.roll===void 0?i.roll:d.roll,pitch:d.pitch===void 0?i.pitch:d.pitch,bearing:d.bearing===void 0?i.bearing:d.bearing},U=d.zoom!==void 0,Z=!i.isPaddingEqual(d.padding);let Y=!1;const J=U?+d.zoom:i.zoom;let oe=i.centerPoint.add(d.offsetAsPoint);const ie=i.screenPointToLocation(oe),{center:pe,zoom:be}=i.getConstrained(o.Q.convert(d.center||ie),J??v);uu(i,pe);const Ie=Kr(i.worldSize,ie),ke=Kr(i.worldSize,pe).sub(Ie),De=o.ac(be-v);return Y=be!==v,{easeFunc:Ue=>{if(Y&&i.setZoom(o.B.number(v,be,Ue)),o.b6(A,k)||Fo({startEulerAngles:A,endEulerAngles:k,tr:i,k:Ue,useSlerp:A.roll!=k.roll}),Z&&(i.interpolatePadding(x,d.padding,Ue),oe=i.centerPoint.add(d.offsetAsPoint)),d.around)i.setLocationAtPoint(d.around,d.aroundPoint);else{const Ze=o.ac(i.zoom-v),He=be>v?Math.min(2,De):Math.max(.5,De),Xe=Math.pow(He,1-Ue),nt=en(i.worldSize,Ie.add(ke.mult(Ue*Xe)).mult(Ze));i.setLocationAtPoint(i.renderWorldCopies?nt.wrap():nt,oe)}},isZooming:Y,elevationCenter:pe}}handleFlyTo(i,d){const v=d.zoom!==void 0,x=i.zoom,A=i.getConstrained(o.Q.convert(d.center||d.locationAtOffset),v?+d.zoom:x),k=A.center,U=A.zoom;uu(i,k);const Z=Kr(i.worldSize,d.locationAtOffset),Y=Kr(i.worldSize,k).sub(Z),J=Y.mag(),oe=o.ac(U-x);let ie;if(d.minZoom!==void 0){const pe=Math.min(+d.minZoom,x,U),be=i.getConstrained(k,pe).zoom;ie=o.ac(be-x)}return{easeFunc:(pe,be,Ie,ke)=>{i.setZoom(pe===1?U:x+o.ah(be));const De=pe===1?k:en(i.worldSize,Z.add(Y.mult(Ie)).mult(be));i.setLocationAtPoint(i.renderWorldCopies?De.wrap():De,ke)},scaleOfZoom:oe,targetCenter:k,scaleOfMinZoom:ie,pixelPathLength:J}}}class Kn{constructor(i,d,v){this.blendFunction=i,this.blendColor=d,this.mask=v}}Kn.Replace=[1,0],Kn.disabled=new Kn(Kn.Replace,o.b7.transparent,[!1,!1,!1,!1]),Kn.unblended=new Kn(Kn.Replace,o.b7.transparent,[!0,!0,!0,!0]),Kn.alphaBlended=new Kn([1,771],o.b7.transparent,[!0,!0,!0,!0]);const _a=2305;class Pn{constructor(i,d,v){this.enable=i,this.mode=d,this.frontFace=v}}Pn.disabled=new Pn(!1,1029,_a),Pn.backCCW=new Pn(!0,1029,_a),Pn.frontCCW=new Pn(!0,1028,_a);class an{constructor(i,d,v){this.func=i,this.mask=d,this.range=v}}an.ReadOnly=!1,an.ReadWrite=!0,an.disabled=new an(519,an.ReadOnly,[0,1]);const yc=7680;class yn{constructor(i,d,v,x,A,k){this.test=i,this.ref=d,this.mask=v,this.fail=x,this.depthFail=A,this.pass=k}}yn.disabled=new yn({func:519,mask:0},0,0,yc,yc,yc);const Ki=new WeakMap;function ei(C){var i;if(Ki.has(C))return Ki.get(C);{const d=(i=C.getParameter(C.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return Ki.set(C,d),d}}class cf{get awaitingQuery(){return!!this._readbackQueue}constructor(i){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=i;const d=i.context,v=d.gl;this._texFormat=v.RGBA,this._texType=v.UNSIGNED_BYTE;const x=new o.aI;x.emplaceBack(-1,-1),x.emplaceBack(2,-1),x.emplaceBack(-1,2);const A=new o.aK;A.emplaceBack(0,1,2),this._fullscreenTriangle=new Yu(d.createVertexBuffer(x,Wi.members),d.createIndexBuffer(A),o.aJ.simpleSegment(0,0,x.length,A.length)),this._resultBuffer=new Uint8Array(4),d.activeTexture.set(v.TEXTURE1);const k=v.createTexture();v.bindTexture(v.TEXTURE_2D,k),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST),v.texImage2D(v.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=d.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(k),ei(v)&&(this._pbo=v.createBuffer(),v.bindBuffer(v.PIXEL_PACK_BUFFER,this._pbo),v.bufferData(v.PIXEL_PACK_BUFFER,4,v.STREAM_READ),v.bindBuffer(v.PIXEL_PACK_BUFFER,null))}destroy(){const i=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),i.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(i,d){const v=this._updateCount;return this._readbackQueue?v>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():v>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(i,d),this._updateCount++,this._measuredError}_bindFramebuffer(){const i=this._cachedRenderContext.context,d=i.gl;i.activeTexture.set(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this._fbo.colorAttachment.get()),i.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(i,d){const v=this._cachedRenderContext.context,x=v.gl;if(this._bindFramebuffer(),v.viewport.set([0,0,this._texWidth,this._texHeight]),v.clear({color:o.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(v,x.TRIANGLES,an.disabled,yn.disabled,Kn.unblended,Pn.disabled,((A,k)=>({u_input:A,u_output_expected:k}))(i,d),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&ei(x)){x.bindBuffer(x.PIXEL_PACK_BUFFER,this._pbo),x.readBuffer(x.COLOR_ATTACHMENT0),x.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),x.bindBuffer(x.PIXEL_PACK_BUFFER,null);const A=x.fenceSync(x.SYNC_GPU_COMMANDS_COMPLETE,0);x.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:A}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const i=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&ei(i)){const d=i.clientWaitSync(this._readbackQueue.sync,0,0);if(d===i.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(d===i.TIMEOUT_EXPIRED)return;i.bindBuffer(i.PIXEL_PACK_BUFFER,this._pbo),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),i.bindBuffer(i.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),i.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=cf._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(i){let d=0;return d+=i[0]/256,d+=i[1]/65536,d+=i[2]/16777216,i[3]<127&&(d=-d),d/128}}const ed=o.Z/128;function Ch(C,i){const d=C.granularity!==void 0?Math.max(C.granularity,1):1,v=d+(C.generateBorders?2:0),x=d+(C.extendToNorthPole||C.generateBorders?1:0)+(C.extendToSouthPole||C.generateBorders?1:0),A=v+1,k=x+1,U=C.generateBorders?-1:0,Z=C.generateBorders||C.extendToNorthPole?-1:0,Y=d+(C.generateBorders?1:0),J=d+(C.generateBorders||C.extendToSouthPole?1:0),oe=A*k,ie=v*x*6,pe=A*k>65536;if(pe&&i==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const be=pe||i==="32bit",Ie=new Int16Array(2*oe);let ke=0;for(let Ze=Z;Ze<=J;Ze++)for(let He=U;He<=Y;He++){let Xe=He/d*o.Z;He===-1&&(Xe=-64),He===d+1&&(Xe=o.Z+ed);let nt=Ze/d*o.Z;Ze===-1&&(nt=C.extendToNorthPole?o.b9:-64),Ze===d+1&&(nt=C.extendToSouthPole?o.ba:o.Z+ed),Ie[ke++]=Xe,Ie[ke++]=nt}const De=be?new Uint32Array(ie):new Uint16Array(ie);let Ue=0;for(let Ze=0;Ze<x;Ze++)for(let He=0;He<v;He++){const Xe=He+1+Ze*A,nt=He+(Ze+1)*A,Qe=He+1+(Ze+1)*A;De[Ue++]=He+Ze*A,De[Ue++]=nt,De[Ue++]=Xe,De[Ue++]=Xe,De[Ue++]=nt,De[Ue++]=Qe}return{vertices:Ie.buffer.slice(0),indices:De.buffer.slice(0),uses32bitIndices:be}}const du=new o.aH({fill:new o.bb(128,2),line:new o.bb(512,0),tile:new o.bb(128,32),stencil:new o.bb(128,1),circle:3});class td{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Bo.projectionGlobe}get vertexShaderPreludeCode(){return Bo.projectionMercator.vertexSource}get subdivisionGranularity(){return du}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(i){this._errorMeasurement||(this._errorMeasurement=new cf(i));const d=o.S(this._errorQueryLatitudeDegrees),v=2*Math.atan(Math.exp(Math.PI-d*Math.PI*2))-.5*Math.PI,x=this._errorMeasurement.updateErrorLoop(d,v),A=R.now();x!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=x,this._errorMeasurementLastChangeTime=A);const k=Math.min(Math.max((A-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bd(k))}_getMeshKey(i){return`${i.granularity.toString(36)}_${i.generateBorders?"b":""}${i.extendToNorthPole?"n":""}${i.extendToSouthPole?"s":""}`}getMeshFromTileID(i,d,v,x,A){const k=(A==="stencil"?du.stencil:du.tile).getGranularityForZoomLevel(d.z);return this._getMesh(i,{granularity:k,generateBorders:v,extendToNorthPole:d.y===0&&x,extendToSouthPole:d.y===(1<<d.z)-1&&x})}_getMesh(i,d){const v=this._getMeshKey(d);if(v in this._tileMeshCache)return this._tileMeshCache[v];const x=function(A,k){const U=Ch(k,"16bit"),Z=o.aI.deserialize({arrayBuffer:U.vertices,length:U.vertices.byteLength/2/2}),Y=o.aK.deserialize({arrayBuffer:U.indices,length:U.indices.byteLength/2/3});return new Yu(A.createVertexBuffer(Z,Wi.members),A.createIndexBuffer(Y),o.aJ.simpleSegment(0,0,Z.length,Y.length))}(i,d);return this._tileMeshCache[v]=x,x}recalculate(i){}hasTransition(){const i=R.now();let d=!1;return d=d||(i-this._errorMeasurementLastChangeTime)/1e3<.7,d=d||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,d}setErrorQueryLatitudeDegrees(i){this._errorQueryLatitudeDegrees=i}}const rd=new o.r({type:new o.D(o.v.projection.type)});class nd extends o.E{constructor(i){super(),this._transitionable=new o.T(rd),this.setProjection(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0)),this._mercatorProjection=new cu,this._verticalPerspectiveProjection=new td}get transitionState(){const i=this.properties.get("type");if(typeof i=="string"&&i==="mercator")return 0;if(typeof i=="string"&&i==="vertical-perspective")return 1;if(i instanceof o.be){if(i.from==="vertical-perspective"&&i.to==="mercator")return 1-i.transition;if(i.from==="mercator"&&i.to==="vertical-perspective")return i.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(i){this._mercatorProjection.updateGPUdependent(i),this._verticalPerspectiveProjection.updateGPUdependent(i)}getMeshFromTileID(i,d,v,x,A){return this.currentProjection.getMeshFromTileID(i,d,v,x,A)}setProjection(i){this._transitionable.setValue("type",(i==null?void 0:i.type)||"mercator")}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}setErrorQueryLatitudeDegrees(i){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(i),this._mercatorProjection.setErrorQueryLatitudeDegrees(i)}}function uf(C){const i=id(C.worldSize,C.center.lat);return 2*Math.PI*i}function ad(C,i,d,v,x){const A=1/(1<<x),k=i/o.Z*A+v*A,U=o.bg((C/o.Z*A+d*A)*Math.PI*2+Math.PI,2*Math.PI),Z=2*Math.atan(Math.exp(Math.PI-k*Math.PI*2))-.5*Math.PI,Y=Math.cos(Z),J=new Float64Array(3);return J[0]=Math.sin(U)*Y,J[1]=Math.sin(Z),J[2]=Math.cos(U)*Y,J}function Ii(C){return function(i,d){const v=Math.cos(d),x=new Float64Array(3);return x[0]=Math.sin(i)*v,x[1]=Math.sin(d),x[2]=Math.cos(i)*v,x}(C.lng*Math.PI/180,C.lat*Math.PI/180)}function id(C,i){return C/(2*Math.PI)/Math.cos(i*Math.PI/180)}function od(C){const i=Math.asin(C[1])/Math.PI*180,d=Math.sqrt(C[0]*C[0]+C[2]*C[2]);if(d>1e-6){const v=C[0]/d,x=Math.acos(C[2]/d),A=(v>0?x:-x)/Math.PI*180;return new o.Q(o.aL(A,-180,180),i)}return new o.Q(0,i)}function fu(C){return Math.cos(C*Math.PI/180)}function Di(C,i){const d=fu(C),v=fu(i);return o.ah(v/d)}function Mp(C,i){const d=C.rotate(i.bearingInRadians),v=i.zoom+Di(i.center.lat,0),x=o.bc(1/fu(i.center.lat),1/fu(Math.min(Math.abs(i.center.lat),60)),o.bf(v,7,3,0,1)),A=360/uf({worldSize:i.worldSize,center:{lat:i.center.lat}});return new o.Q(i.center.lng-d.x*A*x,o.ae(i.center.lat+d.y*A,-85.051129,o.af))}function Op(C){const i=.5*C,d=Math.sin(i),v=Math.cos(i);return Math.log(d+v)-Math.log(v-d)}function ov(C,i,d,v){const x=C.lat+d*v;if(Math.abs(d)>1){const A=(Math.sign(C.lat+d)!==Math.sign(C.lat)?-Math.abs(C.lat):Math.abs(C.lat))*Math.PI/180,k=Math.abs(C.lat+d)*Math.PI/180,U=Op(A+v*(k-A)),Z=Op(A),Y=Op(k);return new o.Q(C.lng+i*((U-Z)/(Y-Z)),x)}return new o.Q(C.lng+i*v,x)}class sv{constructor(i){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=i}recalculateCache(){if(!this._hadAnyChanges)return;const i=this._cachePrevious;this._cachePrevious=this._cache,this._cache=i,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(i,d,v,x){const A=`${i.z}_${i.x}_${i.y}`,k=this._cache.get(A);if(k)return k;const U=this._cachePrevious.get(A);if(U)return this._cache.set(A,U),U;const Z=this._aabbFactory(i,d,v,x);return this._cache.set(A,Z),this._hadAnyChanges=!0,Z}}function ho(C,i,d){const v=C-i;return v<0?-v:Math.max(0,v-d)}function Th(C,i,d,v,x){const A=C-d;let k;return k=A<0?Math.min(-A,1+A-x):A>1?Math.min(Math.max(A-x,0),1-A):0,Math.max(k,ho(i,v,x))}class zl{constructor(){this._aabbCache=new sv(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(i,d,v,x){const A=1<<v.z,k=1/A,U=v.x/A,Z=v.y/A;let Y=2;return Y=Math.min(Y,Th(i,d,U,Z,k)),Y=Math.min(Y,Th(i,d,U+.5,-Z-k,k)),Y=Math.min(Y,Th(i,d,U+.5,2-Z-k,k)),Y}getWrap(i,d,v){const x=1<<d.z,A=1/x,k=d.x/x,U=ho(i.x,k,A),Z=ho(i.x,k-1,A),Y=ho(i.x,k+1,A),J=Math.min(U,Z,Y);return J===Y?1:J===Z?-1:0}allowVariableZoom(i,d){return gt(i,d)>4}allowWorldCopies(){return!1}getTileAABB(i,d,v,x){return this._aabbCache.getTileAABB(i,d,v,x)}_computeTileAABB(i,d,v,x){if(i.z<=0)return new Ja([-1,-1,-1],[1,1,1]);if(i.z===1)return new Ja([i.x===0?-1:0,i.y===0?0:-1,-1],[i.x===0?0:1,i.y===0?1:0,1]);{const A=[ad(0,0,i.x,i.y,i.z),ad(o.Z,0,i.x,i.y,i.z),ad(o.Z,o.Z,i.x,i.y,i.z),ad(0,o.Z,i.x,i.y,i.z)],k=[1,1,1],U=[-1,-1,-1];for(const Z of A)for(let Y=0;Y<3;Y++)k[Y]=Math.min(k[Y],Z[Y]),U[Y]=Math.max(U[Y],Z[Y]);if(i.y===0||i.y===(1<<i.z)-1){const Z=[0,i.y===0?1:-1,0];for(let Y=0;Y<3;Y++)k[Y]=Math.min(k[Y],Z[Y]),U[Y]=Math.max(U[Y],Z[Y])}return new Ja(k,U)}}}class sd{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,d,v){return this._helper.interpolatePadding(i,d,v)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,d){this._helper.resize(i,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,d){this._helper.overrideNearFarZ(i,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(i){}constructor(){this._cachedClippingPlane=o.bk(),this._projectionMatrix=o.b1(),this._globeViewProjMatrix32f=o.b0(),this._globeViewProjMatrixNoCorrection=o.b1(),this._globeViewProjMatrixNoCorrectionInverted=o.b1(),this._globeProjMatrixInverted=o.b1(),this._cameraPosition=o.bh(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Qa({calcMatrices:()=>{this._calcMatrices()},getConstrained:(i,d)=>this.getConstrained(i,d)}),this._coveringTilesDetailsProvider=new zl}clone(){const i=new sd;return i.apply(this),i}apply(i,d){this._globeLatitudeErrorCorrectionRadians=d||0,this._helper.apply(i)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const i=o.bh();return i[0]=this._cameraPosition[0],i[1]=this._cameraPosition[1],i[2]=this._cameraPosition[2],i}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(i){const{overscaledTileID:d,applyGlobeMatrix:v}=i,x=this._helper.getMercatorTileCoordinates(d);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:x,clippingPlane:this._cachedClippingPlane,projectionTransition:v?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(i){const d=this.pitchInRadians,v=this.cameraToCenterDistance/i,x=Math.sin(d)*v,A=Math.cos(d)*v+1,k=1/Math.sqrt(x*x+A*A)*1;let U=-x,Z=A;const Y=Math.sqrt(U*U+Z*Z);U/=Y,Z/=Y;const J=[0,U,Z];o.bl(J,J,[0,0,0],-this.bearingInRadians),o.bm(J,J,[0,0,0],-1*this.center.lat*Math.PI/180),o.bn(J,J,[0,0,0],this.center.lng*Math.PI/180);const oe=1/o.bo(J);return o.aO(J,J,oe),[...J,-k*oe]}isLocationOccluded(i){return!this.isSurfacePointVisible(Ii(i))}transformLightDirection(i){const d=this._helper._center.lng*Math.PI/180,v=this._helper._center.lat*Math.PI/180,x=Math.cos(v),A=[Math.sin(d)*x,Math.sin(v),Math.cos(d)*x],k=[A[2],0,-A[0]],U=[0,0,0];o.aU(U,k,A),o.aT(k,k),o.aT(U,U);const Z=[0,0,0];return o.aT(Z,[k[0]*i[0]+U[0]*i[1]+A[0]*i[2],k[1]*i[0]+U[1]*i[1]+A[1]*i[2],k[2]*i[0]+U[2]*i[1]+A[2]*i[2]]),Z}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(i,d,v){const x=function(U,Z,Y){const J=1/(1<<Y.z);return new o.$(U/o.Z*J+Y.x*J,Z/o.Z*J+Y.y*J)}(i,d,v.canonical),A=(k=x.y,[o.bg(x.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-k*Math.PI*2))-.5*Math.PI]);var k;return this.getCircleRadiusCorrection()/Math.cos(A[1])}projectTileCoordinates(i,d,v,x){const A=v.canonical,k=ad(i,d,A.x,A.y,A.z),U=1+(x?x(i,d):0)/o.bu,Z=[k[0]*U,k[1]*U,k[2]*U,1];o.at(Z,Z,this._globeViewProjMatrixNoCorrection);const Y=this._cachedClippingPlane,J=Y[0]*k[0]+Y[1]*k[1]+Y[2]*k[2]+Y[3]<0;return{point:new o.P(Z[0]/Z[3],Z[1]/Z[3]),signedDistanceFromCamera:Z[3],isOccluded:J}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const i=id(this.worldSize,this.center.lat),d=o.b2(),v=o.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*i),o.aY(d,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const x=this.centerOffset;d[8]=2*-x.x/this._helper._width,d[9]=2*x.y/this._helper._height,this._projectionMatrix=o.aZ(d),this._globeProjMatrixInverted=o.b2(),o.an(this._globeProjMatrixInverted,d),o.L(d,d,[0,0,-this.cameraToCenterDistance]),o.a_(d,d,this.rollInRadians),o.a$(d,d,-this.pitchInRadians),o.a_(d,d,this.bearingInRadians),o.L(d,d,[0,0,-i]);const A=o.bh();A[0]=i,A[1]=i,A[2]=i,o.a$(v,d,this.center.lat*Math.PI/180),o.bp(v,v,-this.center.lng*Math.PI/180),o.M(v,v,A),this._globeViewProjMatrixNoCorrection=v,o.a$(d,d,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bp(d,d,-this.center.lng*Math.PI/180),o.M(d,d,A),this._globeViewProjMatrix32f=new Float32Array(d),this._globeViewProjMatrixNoCorrectionInverted=o.b2(),o.an(this._globeViewProjMatrixNoCorrectionInverted,v);const k=o.bh();this._cameraPosition=o.bh(),this._cameraPosition[2]=this.cameraToCenterDistance/i,o.bl(this._cameraPosition,this._cameraPosition,k,-this.rollInRadians),o.bm(this._cameraPosition,this._cameraPosition,k,this.pitchInRadians),o.bl(this._cameraPosition,this._cameraPosition,k,-this.bearingInRadians),o.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bm(this._cameraPosition,this._cameraPosition,k,-this.center.lat*Math.PI/180),o.bn(this._cameraPosition,this._cameraPosition,k,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(i);const U=o.aZ(this._globeViewProjMatrixNoCorrectionInverted);o.M(U,U,[1,1,-1]),this._cachedFrustum=da.fromInvProjectionMatrix(U)}calculateFogMatrix(i){o.w("calculateFogMatrix is not supported on globe projection.");const d=o.b2();return o.ad(d),d}getVisibleUnwrappedCoordinates(i){return[new o.aW(0,i)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(i){i&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(i,d){if(!this._globeViewProjMatrixNoCorrection)return 1;const v=Ii(i);o.aO(v,v,1+d/o.bu);const x=o.bk();return o.at(x,[v[0],v[1],v[2],1],this._globeViewProjMatrixNoCorrection),x[2]/x[3]}populateCache(i){}getBounds(){const i=.5*this.width,d=.5*this.height,v=[new o.P(0,0),new o.P(i,0),new o.P(this.width,0),new o.P(this.width,d),new o.P(this.width,this.height),new o.P(i,this.height),new o.P(0,this.height),new o.P(0,d)],x=[];for(const oe of v)x.push(this.unprojectScreenPoint(oe));let A=0,k=0,U=0,Z=0;const Y=this.center;for(const oe of x){const ie=o.bq(Y.lng,oe.lng),pe=o.bq(Y.lat,oe.lat);ie<k&&(k=ie),ie>A&&(A=ie),pe<Z&&(Z=pe),pe>U&&(U=pe)}const J=[Y.lng+k,Y.lat+Z,Y.lng+A,Y.lat+U];return this.isSurfacePointOnScreen([0,1,0])&&(J[3]=90,J[0]=-180,J[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(J[1]=-90,J[0]=-180,J[2]=180),new Xt(J)}getConstrained(i,d){const v=o.ae(i.lat,-85.051129,o.af),x=o.ae(+d,this.minZoom+Di(0,v),this.maxZoom);return{center:new o.Q(i.lng,v),zoom:x}}calculateCenterFromCameraLngLatAlt(i,d,v,x){return this._helper.calculateCenterFromCameraLngLatAlt(i,d,v,x)}setLocationAtPoint(i,d){const v=Ii(this.unprojectScreenPoint(d)),x=Ii(i),A=o.bh();o.br(A);const k=o.bh();o.bn(k,v,A,-this.center.lng*Math.PI/180),o.bm(k,k,A,this.center.lat*Math.PI/180);const U=x[0]*x[0]+x[2]*x[2],Z=k[0]*k[0];if(U<Z)return;const Y=Math.sqrt(U-Z),J=-Y,oe=o.bs(x[0],x[2],k[0],Y),ie=o.bs(x[0],x[2],k[0],J),pe=o.bh();o.bn(pe,x,A,-oe);const be=o.bs(pe[1],pe[2],k[1],k[2]),Ie=o.bh();o.bn(Ie,x,A,-ie);const ke=o.bs(Ie[1],Ie[2],k[1],k[2]),De=.5*Math.PI,Ue=be>=-De&&be<=De,Ze=ke>=-De&&ke<=De;let He,Xe;if(Ue&&Ze){const Bt=this.center.lng*Math.PI/180,Pt=this.center.lat*Math.PI/180;o.bv(oe,Bt)+o.bv(be,Pt)<o.bv(ie,Bt)+o.bv(ke,Pt)?(He=oe,Xe=be):(He=ie,Xe=ke)}else if(Ue)He=oe,Xe=be;else{if(!Ze)return;He=ie,Xe=ke}const nt=He/Math.PI*180,Qe=Xe/Math.PI*180,bt=this.center.lat;this.setCenter(new o.Q(nt,o.ae(Qe,-90,90))),this.setZoom(this.zoom+Di(bt,this.center.lat))}locationToScreenPoint(i,d){const v=Ii(i);if(d){const x=d.getElevationForLngLatZoom(i,this._helper._tileZoom);o.aO(v,v,1+x/o.bu)}return this._projectSurfacePointToScreen(v)}_projectSurfacePointToScreen(i){const d=o.bk();return o.at(d,[...i,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],new o.P((.5*d[0]+.5)*this.width,(.5*-d[1]+.5)*this.height)}screenPointToMercatorCoordinate(i,d){if(d){const v=d.pointCoordinate(i);if(v)return v}return o.$.fromLngLat(this.unprojectScreenPoint(i))}screenPointToLocation(i,d){var v;return(v=this.screenPointToMercatorCoordinate(i,d))===null||v===void 0?void 0:v.toLngLat()}isPointOnMapSurface(i,d){const v=this._cameraPosition,x=this.getRayDirectionFromPixel(i);return!!this.rayPlanetIntersection(v,x)}getRayDirectionFromPixel(i){const d=o.bk();d[0]=i.x/this.width*2-1,d[1]=-1*(i.y/this.height*2-1),d[2]=1,d[3]=1,o.at(d,d,this._globeViewProjMatrixNoCorrectionInverted),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3];const v=o.bh();v[0]=d[0]-this._cameraPosition[0],v[1]=d[1]-this._cameraPosition[1],v[2]=d[2]-this._cameraPosition[2];const x=o.bh();return o.aT(x,v),x}isSurfacePointVisible(i){const d=this._cachedClippingPlane;return d[0]*i[0]+d[1]*i[1]+d[2]*i[2]+d[3]>=0}isSurfacePointOnScreen(i){if(!this.isSurfacePointVisible(i))return!1;const d=o.bk();return o.at(d,[...i,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3],d[0]>-1&&d[0]<1&&d[1]>-1&&d[1]<1&&d[2]>-1&&d[2]<1}rayPlanetIntersection(i,d){const v=o.aV(i,d),x=o.bh(),A=o.bh();o.aO(A,d,v),o.aS(x,i,A);const k=1-o.aV(x,x);if(k<0)return null;const U=o.aV(i,i)-1,Z=-v+(v<0?1:-1)*Math.sqrt(k),Y=U/Z,J=Z;return{tMin:Math.min(Y,J),tMax:Math.max(Y,J)}}unprojectScreenPoint(i){const d=this._cameraPosition,v=this.getRayDirectionFromPixel(i),x=this.rayPlanetIntersection(d,v);if(x){const J=o.bh();o.aP(J,d,[v[0]*x.tMin,v[1]*x.tMin,v[2]*x.tMin]);const oe=o.bh();return o.aT(oe,J),od(oe)}const A=this._cachedClippingPlane,k=A[0]*v[0]+A[1]*v[1]+A[2]*v[2],U=-o.bt(A,d)/k,Z=o.bh();if(U>0)o.aP(Z,d,[v[0]*U,v[1]*U,v[2]*U]);else{const J=o.bh();o.aP(J,d,[2*v[0],2*v[1],2*v[2]]);const oe=o.bt(this._cachedClippingPlane,J);o.aS(Z,J,[this._cachedClippingPlane[0]*oe,this._cachedClippingPlane[1]*oe,this._cachedClippingPlane[2]*oe])}const Y=function(J){const oe=o.bh();return oe[0]=J[0]*-J[3],oe[1]=J[1]*-J[3],oe[2]=J[2]*-J[3],{center:oe,radius:Math.sqrt(1-J[3]*J[3])}}(A);return od(function(J,oe,ie){const pe=o.bh();o.aS(pe,ie,J);const be=o.bh();return o.bi(be,J,pe,oe/o.bj(pe)),be}(Y.center,Y.radius,Z))}getMatrixForModel(i,d){const v=o.Q.convert(i),x=1/o.bu,A=o.b1();return o.bp(A,A,v.lng/180*Math.PI),o.a$(A,A,-v.lat/180*Math.PI),o.L(A,A,[0,0,1+d/o.bu]),o.a$(A,A,.5*Math.PI),o.M(A,A,[x,x,x]),A}getProjectionDataForCustomLayer(i=!0){const d=this.getProjectionData({overscaledTileID:new o.Y(0,0,0,0,0),applyGlobeMatrix:i});return d.tileMercatorCoords=[0,0,1,1],d}getFastPathSimpleProjectionMatrix(i){}}class ld{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,d,v){return this._helper.interpolatePadding(i,d,v)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,d,v=!0){this._helper.resize(i,d,v)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,d){this._helper.overrideNearFarZ(i,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(i,d){this._globeness=i,this._globeLatitudeErrorCorrectionRadians=d,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Qa({calcMatrices:()=>{this._calcMatrices()},getConstrained:(i,d)=>this.getConstrained(i,d)}),this._globeness=1,this._mercatorTransform=new Dl,this._verticalPerspectiveTransform=new sd}clone(){const i=new ld;return i._globeness=this._globeness,i._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,i.apply(this),i}apply(i){this._helper.apply(i),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(i){const d=this._mercatorTransform.getProjectionData(i),v=this._verticalPerspectiveTransform.getProjectionData(i);return{mainMatrix:this.isGlobeRendering?v.mainMatrix:d.mainMatrix,clippingPlane:v.clippingPlane,tileMercatorCoords:v.tileMercatorCoords,projectionTransition:i.applyGlobeMatrix?this._globeness:0,fallbackMatrix:d.fallbackMatrix}}isLocationOccluded(i){return this.currentTransform.isLocationOccluded(i)}transformLightDirection(i){return this.currentTransform.transformLightDirection(i)}getPixelScale(){return o.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(i,d,v){const x=this._mercatorTransform.getPitchedTextCorrection(i,d,v),A=this._verticalPerspectiveTransform.getPitchedTextCorrection(i,d,v);return o.bc(x,A,this._globeness)}projectTileCoordinates(i,d,v,x){return this.currentTransform.projectTileCoordinates(i,d,v,x)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(i){return this.currentTransform.calculateFogMatrix(i)}getVisibleUnwrappedCoordinates(i){return this.currentTransform.getVisibleUnwrappedCoordinates(i)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(i){this._mercatorTransform.recalculateZoomAndCenter(i),this._verticalPerspectiveTransform.recalculateZoomAndCenter(i)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(i,d){return this.currentTransform.lngLatToCameraDepth(i,d)}populateCache(i){this._mercatorTransform.populateCache(i),this._verticalPerspectiveTransform.populateCache(i)}getBounds(){return this.currentTransform.getBounds()}getConstrained(i,d){return this.currentTransform.getConstrained(i,d)}calculateCenterFromCameraLngLatAlt(i,d,v,x){return this._helper.calculateCenterFromCameraLngLatAlt(i,d,v,x)}setLocationAtPoint(i,d){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(i,d),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(i,d),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(i,d){return this.currentTransform.locationToScreenPoint(i,d)}screenPointToMercatorCoordinate(i,d){return this.currentTransform.screenPointToMercatorCoordinate(i,d)}screenPointToLocation(i,d){return this.currentTransform.screenPointToLocation(i,d)}isPointOnMapSurface(i,d){return this.currentTransform.isPointOnMapSurface(i,d)}getRayDirectionFromPixel(i){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(i)}getMatrixForModel(i,d){return this.currentTransform.getMatrixForModel(i,d)}getProjectionDataForCustomLayer(i=!0){const d=this._mercatorTransform.getProjectionDataForCustomLayer(i);if(!this.isGlobeRendering)return d;const v=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(i);return v.fallbackMatrix=d.mainMatrix,v}getFastPathSimpleProjectionMatrix(i){return this.currentTransform.getFastPathSimpleProjectionMatrix(i)}}class Ns{get useGlobeControls(){return!0}handlePanInertia(i,d){const v=Mp(i,d);return Math.abs(v.lng-d.center.lng)>180&&(v.lng=d.center.lng+179.5*Math.sign(v.lng-d.center.lng)),{easingCenter:v,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(i,d){const v=i.around,x=d.screenPointToLocation(v);i.bearingDelta&&d.setBearing(d.bearing+i.bearingDelta),i.pitchDelta&&d.setPitch(d.pitch+i.pitchDelta),i.rollDelta&&d.setRoll(d.roll+i.rollDelta);const A=d.zoom;i.zoomDelta&&d.setZoom(d.zoom+i.zoomDelta);const k=d.zoom-A;if(k===0)return;const U=o.bq(d.center.lng,x.lng),Z=U/(Math.abs(U/180)+1),Y=o.bq(d.center.lat,x.lat),J=d.getRayDirectionFromPixel(v),oe=d.cameraPosition,ie=-1*o.aV(oe,J),pe=o.bh();o.aP(pe,oe,[J[0]*ie,J[1]*ie,J[2]*ie]);const be=o.bo(pe)-1,Ie=Math.exp(.5*-Math.max(be-.3,0)),ke=id(d.worldSize,d.center.lat)/Math.min(d.width,d.height),De=o.bf(ke,.9,.5,1,.25),Ue=(1-o.ac(-k))*Math.min(Ie,De),Ze=d.center.lat,He=d.zoom,Xe=new o.Q(d.center.lng+Z*Ue,o.ae(d.center.lat+Y*Ue,-85.051129,o.af));d.setLocationAtPoint(x,v);const nt=d.center,Qe=o.bf(Math.abs(U),45,85,0,1),bt=o.bf(ke,.75,.35,0,1),Bt=Math.pow(Math.max(Qe,bt),.25),Pt=o.bq(nt.lng,Xe.lng),Tt=o.bq(nt.lat,Xe.lat);d.setCenter(new o.Q(nt.lng+Pt*Bt,nt.lat+Tt*Bt).wrap()),d.setZoom(He+Di(Ze,d.center.lat))}handleMapControlsPan(i,d,v){if(!i.panDelta)return;const x=d.center.lat,A=d.zoom;d.setCenter(Mp(i.panDelta,d).wrap()),d.setZoom(A+Di(x,d.center.lat))}cameraForBoxAndBearing(i,d,v,x,A){const k=ki(i,d,v,x,A),U=d.left/A.width*2-1,Z=(A.width-d.right)/A.width*2-1,Y=d.top/A.height*-2+1,J=(A.height-d.bottom)/A.height*-2+1,oe=o.bq(v.getWest(),v.getEast())<0,ie=oe?v.getEast():v.getWest(),pe=oe?v.getWest():v.getEast(),be=Math.max(v.getNorth(),v.getSouth()),Ie=Math.min(v.getNorth(),v.getSouth()),ke=ie+.5*o.bq(ie,pe),De=be+.5*o.bq(be,Ie),Ue=A.clone();Ue.setCenter(k.center),Ue.setBearing(k.bearing),Ue.setPitch(0),Ue.setRoll(0),Ue.setZoom(k.zoom);const Ze=Ue.modelViewProjectionMatrix,He=[Ii(v.getNorthWest()),Ii(v.getNorthEast()),Ii(v.getSouthWest()),Ii(v.getSouthEast()),Ii(new o.Q(pe,De)),Ii(new o.Q(ie,De)),Ii(new o.Q(ke,be)),Ii(new o.Q(ke,Ie))],Xe=Ii(k.center);let nt=Number.POSITIVE_INFINITY;for(const Qe of He)U<0&&(nt=Ns.getLesserNonNegativeNonNull(nt,Ns.solveVectorScale(Qe,Xe,Ze,"x",U))),Z>0&&(nt=Ns.getLesserNonNegativeNonNull(nt,Ns.solveVectorScale(Qe,Xe,Ze,"x",Z))),Y>0&&(nt=Ns.getLesserNonNegativeNonNull(nt,Ns.solveVectorScale(Qe,Xe,Ze,"y",Y))),J<0&&(nt=Ns.getLesserNonNegativeNonNull(nt,Ns.solveVectorScale(Qe,Xe,Ze,"y",J)));if(Number.isFinite(nt)&&nt!==0)return k.zoom=Ue.zoom+o.ah(nt),k;Fa()}handleJumpToCenterZoom(i,d){const v=i.center.lat,x=i.getConstrained(d.center?o.Q.convert(d.center):i.center,i.zoom).center;i.setCenter(x.wrap());const A=d.zoom!==void 0?+d.zoom:i.zoom+Di(v,x.lat);i.zoom!==A&&i.setZoom(A)}handleEaseTo(i,d){const v=i.zoom,x=i.center,A=i.padding,k={roll:i.roll,pitch:i.pitch,bearing:i.bearing},U={roll:d.roll===void 0?i.roll:d.roll,pitch:d.pitch===void 0?i.pitch:d.pitch,bearing:d.bearing===void 0?i.bearing:d.bearing},Z=d.zoom!==void 0,Y=!i.isPaddingEqual(d.padding);let J=!1;const oe=d.center?o.Q.convert(d.center):x,ie=i.getConstrained(oe,v).center;uu(i,ie);const pe=i.clone();pe.setCenter(ie),pe.setZoom(Z?+d.zoom:v+Di(x.lat,oe.lat)),pe.setBearing(d.bearing);const be=new o.P(o.ae(i.centerPoint.x+d.offsetAsPoint.x,0,i.width),o.ae(i.centerPoint.y+d.offsetAsPoint.y,0,i.height));pe.setLocationAtPoint(ie,be);const Ie=(d.offset&&d.offsetAsPoint.mag())>0?pe.center:ie,ke=Z?+d.zoom:v+Di(x.lat,Ie.lat),De=v+Di(x.lat,0),Ue=ke+Di(Ie.lat,0),Ze=o.bq(x.lng,Ie.lng),He=o.bq(x.lat,Ie.lat),Xe=o.ac(Ue-De);return J=ke!==v,{easeFunc:nt=>{if(o.b6(k,U)||Fo({startEulerAngles:k,endEulerAngles:U,tr:i,k:nt,useSlerp:k.roll!=U.roll}),Y&&i.interpolatePadding(A,d.padding,nt),d.around)o.w("Easing around a point is not supported under globe projection."),i.setLocationAtPoint(d.around,d.aroundPoint);else{const Qe=Ue>De?Math.min(2,Xe):Math.max(.5,Xe),bt=Math.pow(Qe,1-nt),Bt=ov(x,Ze,He,nt*bt);i.setCenter(Bt.wrap())}if(J){const Qe=o.B.number(De,Ue,nt)+Di(0,i.center.lat);i.setZoom(Qe)}},isZooming:J,elevationCenter:Ie}}handleFlyTo(i,d){const v=d.zoom!==void 0,x=i.center,A=i.zoom,k=i.padding,U=!i.isPaddingEqual(d.padding),Z=i.getConstrained(o.Q.convert(d.center||d.locationAtOffset),A).center,Y=v?+d.zoom:i.zoom+Di(i.center.lat,Z.lat),J=i.clone();J.setCenter(Z),J.setZoom(Y),J.setBearing(d.bearing);const oe=new o.P(o.ae(i.centerPoint.x+d.offsetAsPoint.x,0,i.width),o.ae(i.centerPoint.y+d.offsetAsPoint.y,0,i.height));J.setLocationAtPoint(Z,oe);const ie=J.center;uu(i,ie);const pe=function(He,Xe,nt){const Qe=Ii(Xe),bt=Ii(nt),Bt=o.aV(Qe,bt),Pt=Math.acos(Bt),Tt=uf(He);return Pt/(2*Math.PI)*Tt}(i,x,ie),be=A+Di(x.lat,0),Ie=Y+Di(ie.lat,0),ke=o.ac(Ie-be);let De;if(typeof d.minZoom=="number"){const He=+d.minZoom+Di(ie.lat,0),Xe=Math.min(He,be,Ie)+Di(0,ie.lat),nt=i.getConstrained(ie,Xe).zoom+Di(ie.lat,0);De=o.ac(nt-be)}const Ue=o.bq(x.lng,ie.lng),Ze=o.bq(x.lat,ie.lat);return{easeFunc:(He,Xe,nt,Qe)=>{const bt=ov(x,Ue,Ze,nt);U&&i.interpolatePadding(k,d.padding,He);const Bt=He===1?ie:bt;i.setCenter(Bt.wrap());const Pt=be+o.ah(Xe);i.setZoom(He===1?Y:Pt+Di(0,Bt.lat))},scaleOfZoom:ke,targetCenter:ie,scaleOfMinZoom:De,pixelPathLength:pe}}static solveVectorScale(i,d,v,x,A){const k=x==="x"?[v[0],v[4],v[8],v[12]]:[v[1],v[5],v[9],v[13]],U=[v[3],v[7],v[11],v[15]],Z=i[0]*k[0]+i[1]*k[1]+i[2]*k[2],Y=i[0]*U[0]+i[1]*U[1]+i[2]*U[2],J=d[0]*k[0]+d[1]*k[1]+d[2]*k[2],oe=d[0]*U[0]+d[1]*U[1]+d[2]*U[2];return J+A*Y===Z+A*oe||U[3]*(Z-J)+k[3]*(oe-Y)+Z*oe==J*Y?null:(J+k[3]-A*oe-A*U[3])/(J-Z-A*oe+A*Y)}static getLesserNonNegativeNonNull(i,d){return d!==null&&d>=0&&d<i?d:i}}class cd{constructor(i){this._globe=i,this._mercatorCameraHelper=new Fs,this._verticalPerspectiveCameraHelper=new Ns}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(i,d){return this.currentHelper.handlePanInertia(i,d)}handleMapControlsRollPitchBearingZoom(i,d){return this.currentHelper.handleMapControlsRollPitchBearingZoom(i,d)}handleMapControlsPan(i,d,v){this.currentHelper.handleMapControlsPan(i,d,v)}cameraForBoxAndBearing(i,d,v,x,A){return this.currentHelper.cameraForBoxAndBearing(i,d,v,x,A)}handleJumpToCenterZoom(i,d){this.currentHelper.handleJumpToCenterZoom(i,d)}handleEaseTo(i,d){return this.currentHelper.handleEaseTo(i,d)}handleFlyTo(i,d){return this.currentHelper.handleFlyTo(i,d)}}const kp=(C,i)=>o.x(C,i&&i.filter(d=>d.identifier!=="source.canvas")),lv=o.bw();class Sg extends o.E{constructor(i,d={}){super(),this._rtlPluginLoaded=()=>{for(const v in this.sourceCaches){const x=this.sourceCaches[v].getSource().type;x!=="vector"&&x!=="geojson"||this.sourceCaches[v].reload()}},this.map=i,this.dispatcher=new Vt(ut(),i._getMapId()),this.dispatcher.registerMessageHandler("GG",(v,x)=>this.getGlyphs(v,x)),this.dispatcher.registerMessageHandler("GI",(v,x)=>this.getImages(v,x)),this.imageManager=new X,this.imageManager.setEventedParent(this),this.glyphManager=new ve(i._requestManager,d.localIdeographFontFamily),this.lineAtlas=new ge(256,512),this.crossTileSymbolIndex=new lf,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.bx,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.by()),Mr().on(Ht,this._rtlPluginLoaded),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const x=this.sourceCaches[v.sourceId];if(!x)return;const A=x.getSource();if(A&&A.vectorLayerIds)for(const k in this._layers){const U=this._layers[k];U.source===A.id&&this._validateLayer(U)}})}loadURL(i,d={},v){this.fire(new o.l("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const x=this.map._requestManager.transformRequest(i,"Style");this._loadStyleRequest=new AbortController;const A=this._loadStyleRequest;o.j(x,this._loadStyleRequest).then(k=>{this._loadStyleRequest=null,this._load(k.data,d,v)}).catch(k=>{this._loadStyleRequest=null,k&&!A.signal.aborted&&this.fire(new o.k(k))})}loadJSON(i,d={},v){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,R.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(i,d,v)}).catch(()=>{})}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(lv,{validate:!1})}_load(i,d,v){var x,A;const k=d.transformStyle?d.transformStyle(v,i):i;if(!d.validate||!kp(this,o.y(k))){this._loaded=!0,this.stylesheet=k;for(const U in k.sources)this.addSource(U,k.sources[U],{validate:!1});k.sprite?this._loadSprite(k.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(k.glyphs),this._createLayers(),this.light=new Ce(this.stylesheet.light),this._setProjectionInternal(((x=this.stylesheet.projection)===null||x===void 0?void 0:x.type)||"mercator"),this.sky=new ze(this.stylesheet.sky),this.map.setTerrain((A=this.stylesheet.terrain)!==null&&A!==void 0?A:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){const i=o.bz(this.stylesheet.layers);this.dispatcher.broadcast("SL",i),this._order=i.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of i){const v=o.bA(d);v.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=v}}_loadSprite(i,d=!1,v=void 0){let x;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(A,k,U,Z){return o._(this,void 0,void 0,function*(){const Y=V(A),J=U>1?"@2x":"",oe={},ie={};for(const{id:pe,url:be}of Y){const Ie=k.transformRequest(ee(be,J,".json"),"SpriteJSON");oe[pe]=o.j(Ie,Z);const ke=k.transformRequest(ee(be,J,".png"),"SpriteImage");ie[pe]=N.getImage(ke,Z)}return yield Promise.all([...Object.values(oe),...Object.values(ie)]),function(pe,be){return o._(this,void 0,void 0,function*(){const Ie={};for(const ke in pe){Ie[ke]={};const De=R.getImageCanvasContext((yield be[ke]).data),Ue=(yield pe[ke]).data;for(const Ze in Ue){const{width:He,height:Xe,x:nt,y:Qe,sdf:bt,pixelRatio:Bt,stretchX:Pt,stretchY:Tt,content:Mt,textFitWidth:yr,textFitHeight:hr}=Ue[Ze];Ie[ke][Ze]={data:null,pixelRatio:Bt,sdf:bt,stretchX:Pt,stretchY:Tt,content:Mt,textFitWidth:yr,textFitHeight:hr,spriteData:{width:He,height:Xe,x:nt,y:Qe,context:De}}}}return Ie})}(oe,ie)})}(i,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(A=>{if(this._spriteRequest=null,A)for(const k in A){this._spritesImagesIds[k]=[];const U=this._spritesImagesIds[k]?this._spritesImagesIds[k].filter(Z=>!(Z in A)):[];for(const Z of U)this.imageManager.removeImage(Z),this._changedImages[Z]=!0;for(const Z in A[k]){const Y=k==="default"?Z:`${k}:${Z}`;this._spritesImagesIds[k].push(Y),Y in this.imageManager.images?this.imageManager.updateImage(Y,A[k][Z],!1):this.imageManager.addImage(Y,A[k][Z]),d&&(this._changedImages[Y]=!0)}}}).catch(A=>{this._spriteRequest=null,x=A,this.fire(new o.k(x))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),v&&v(x)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(i){const d=this.sourceCaches[i.source];if(!d)return;const v=i.sourceLayer;if(!v)return;const x=d.getSource();(x.type==="geojson"||x.vectorLayerIds&&x.vectorLayerIds.indexOf(v)===-1)&&this.fire(new o.k(new Error(`Source layer "${v}" does not exist on source "${x.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i,d=!1){const v=this._serializedAllLayers();if(!i||i.length===0)return Object.values(d?o.bB(v):v);const x=[];for(const A of i)if(v[A]){const k=d?o.bB(v[A]):v[A];x.push(k)}return x}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const d=Object.keys(this._layers);for(const v of d){const x=this._layers[v];x.type!=="custom"&&(i[v]=x.serialize())}return i}hasTransitions(){var i,d,v;if(!((i=this.light)===null||i===void 0)&&i.hasTransition()||!((d=this.sky)===null||d===void 0)&&d.hasTransition()||!((v=this.projection)===null||v===void 0)&&v.hasTransition())return!0;for(const x in this.sourceCaches)if(this.sourceCaches[x].hasTransition())return!0;for(const x in this._layers)if(this._layers[x].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const d=this._changed;if(d){const x=Object.keys(this._updatedLayers),A=Object.keys(this._removedLayers);(x.length||A.length)&&this._updateWorkerLayers(x,A);for(const k in this._updatedSources){const U=this._updatedSources[k];if(U==="reload")this._reloadSource(k);else{if(U!=="clear")throw new Error(`Invalid action ${U}`);this._clearSource(k)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const k in this._updatedPaintProps)this._layers[k].updateTransitions(i);this.light.updateTransitions(i),this.sky.updateTransitions(i),this._resetUpdates()}const v={};for(const x in this.sourceCaches){const A=this.sourceCaches[x];v[x]=A.used,A.used=!1}for(const x of this._order){const A=this._layers[x];A.recalculate(i,this._availableImages),!A.isHidden(i.zoom)&&A.source&&(this.sourceCaches[A.source].used=!0)}for(const x in v){const A=this.sourceCaches[x];!!v[x]!=!!A.used&&A.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:x}))}this.light.recalculate(i),this.sky.recalculate(i),this.projection.recalculate(i),this.z=i.zoom,d&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(i,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,d={}){var v;this._checkLoaded();const x=this.serialize();if(i=d.transformStyle?d.transformStyle(x,i):i,((v=d.validate)===null||v===void 0||v)&&kp(this,o.y(i)))return!1;(i=o.bB(i)).layers=o.bz(i.layers);const A=o.bC(x,i),k=this._getOperationsToPerform(A);if(k.unimplemented.length>0)throw new Error(`Unimplemented: ${k.unimplemented.join(", ")}.`);if(k.operations.length===0)return!1;for(const U of k.operations)U();return this.stylesheet=i,this._serializedLayers=null,!0}_getOperationsToPerform(i){const d=[],v=[];for(const x of i)switch(x.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":d.push(()=>this.addLayer.apply(this,x.args));break;case"removeLayer":d.push(()=>this.removeLayer.apply(this,x.args));break;case"setPaintProperty":d.push(()=>this.setPaintProperty.apply(this,x.args));break;case"setLayoutProperty":d.push(()=>this.setLayoutProperty.apply(this,x.args));break;case"setFilter":d.push(()=>this.setFilter.apply(this,x.args));break;case"addSource":d.push(()=>this.addSource.apply(this,x.args));break;case"removeSource":d.push(()=>this.removeSource.apply(this,x.args));break;case"setLayerZoomRange":d.push(()=>this.setLayerZoomRange.apply(this,x.args));break;case"setLight":d.push(()=>this.setLight.apply(this,x.args));break;case"setGeoJSONSourceData":d.push(()=>this.setGeoJSONSourceData.apply(this,x.args));break;case"setGlyphs":d.push(()=>this.setGlyphs.apply(this,x.args));break;case"setSprite":d.push(()=>this.setSprite.apply(this,x.args));break;case"setTerrain":d.push(()=>this.map.setTerrain.apply(this,x.args));break;case"setSky":d.push(()=>this.setSky.apply(this,x.args));break;case"setProjection":this.setProjection.apply(this,x.args);break;case"setTransition":d.push(()=>{});break;default:v.push(x.command)}return{operations:d,unimplemented:v}}addImage(i,d){if(this.getImage(i))return this.fire(new o.k(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,d),this._afterImageUpdated(i)}updateImage(i,d){this.imageManager.updateImage(i,d)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new o.k(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,d,v={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.y.source,`sources.${i}`,d,null,v))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const x=this.sourceCaches[i]=new ft(i,d,this.dispatcher);x.style=this,x.setEventedParent(this,()=>({isSourceLoaded:x.loaded(),source:x.serialize(),sourceId:i})),x.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===i)return this.fire(new o.k(new Error(`Source "${i}" cannot be removed while layer "${v}" is using it.`)));const d=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],d.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,d){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const v=this.sourceCaches[i].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(d),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,d,v={}){this._checkLoaded();const x=i.id;if(this.getLayer(x))return void this.fire(new o.k(new Error(`Layer "${x}" already exists on this map.`)));let A;if(i.type==="custom"){if(kp(this,o.bD(i)))return;A=o.bA(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(x,i.source),i=o.bB(i),i=o.e(i,{source:x})),this._validate(o.y.layer,`layers.${x}`,i,{arrayIndex:-1},v))return;A=o.bA(i),this._validateLayer(A),A.setEventedParent(this,{layer:{id:x}})}const k=d?this._order.indexOf(d):this._order.length;if(d&&k===-1)this.fire(new o.k(new Error(`Cannot add layer "${x}" before non-existing layer "${d}".`)));else{if(this._order.splice(k,0,x),this._layerOrderChanged=!0,this._layers[x]=A,this._removedLayers[x]&&A.source&&A.type!=="custom"){const U=this._removedLayers[x];delete this._removedLayers[x],U.type!==A.type?this._updatedSources[A.source]="clear":(this._updatedSources[A.source]="reload",this.sourceCaches[A.source].pause())}this._updateLayer(A),A.onAdd&&A.onAdd(this.map)}}moveLayer(i,d){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new o.k(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===d)return;const v=this._order.indexOf(i);this._order.splice(v,1);const x=d?this._order.indexOf(d):this._order.length;d&&x===-1?this.fire(new o.k(new Error(`Cannot move layer "${i}" before non-existing layer "${d}".`))):(this._order.splice(x,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const d=this._layers[i];if(!d)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${i}".`)));d.setEventedParent(null);const v=this._order.indexOf(i);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=d,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],d.onRemove&&d.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,d,v){this._checkLoaded();const x=this.getLayer(i);x?x.minzoom===d&&x.maxzoom===v||(d!=null&&(x.minzoom=d),v!=null&&(x.maxzoom=v),this._updateLayer(x)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,d,v={}){this._checkLoaded();const x=this.getLayer(i);if(x){if(!o.bE(x.filter,d))return d==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(o.y.filter,`layers.${x.id}.filter`,d,null,v)||(x.filter=o.bB(d),this._updateLayer(x)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return o.bB(this.getLayer(i).filter)}setLayoutProperty(i,d,v,x={}){this._checkLoaded();const A=this.getLayer(i);A?o.bE(A.getLayoutProperty(d),v)||(A.setLayoutProperty(d,v,x),this._updateLayer(A)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,d){const v=this.getLayer(i);if(v)return v.getLayoutProperty(d);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,d,v,x={}){this._checkLoaded();const A=this.getLayer(i);A?o.bE(A.getPaintProperty(d),v)||(A.setPaintProperty(d,v,x)&&this._updateLayer(A),this._changed=!0,this._updatedPaintProps[i]=!0,this._serializedLayers=null):this.fire(new o.k(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,d){return this.getLayer(i).getPaintProperty(d)}setFeatureState(i,d){this._checkLoaded();const v=i.source,x=i.sourceLayer,A=this.sourceCaches[v];if(A===void 0)return void this.fire(new o.k(new Error(`The source '${v}' does not exist in the map's style.`)));const k=A.getSource().type;k==="geojson"&&x?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):k!=="vector"||x?(i.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),A.setFeatureState(x,i.id,d)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,d){this._checkLoaded();const v=i.source,x=this.sourceCaches[v];if(x===void 0)return void this.fire(new o.k(new Error(`The source '${v}' does not exist in the map's style.`)));const A=x.getSource().type,k=A==="vector"?i.sourceLayer:void 0;A!=="vector"||k?d&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):x.removeFeatureState(k,i.id,d):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const d=i.source,v=i.sourceLayer,x=this.sourceCaches[d];if(x!==void 0)return x.getSource().type!=="vector"||v?(i.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),x.getFeatureState(v,i.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=o.bF(this.sourceCaches,A=>A.serialize()),d=this._serializeByIds(this._order,!0),v=this.map.getTerrain()||void 0,x=this.stylesheet;return o.bG({version:x.version,name:x.name,metadata:x.metadata,light:x.light,sky:x.sky,center:x.center,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch,sprite:x.sprite,glyphs:x.glyphs,transition:x.transition,projection:x.projection,sources:i,layers:d,terrain:v},A=>A!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const d=k=>this._layers[k].type==="fill-extrusion",v={},x=[];for(let k=this._order.length-1;k>=0;k--){const U=this._order[k];if(d(U)){v[U]=k;for(const Z of i){const Y=Z[U];if(Y)for(const J of Y)x.push(J)}}}x.sort((k,U)=>U.intersectionZ-k.intersectionZ);const A=[];for(let k=this._order.length-1;k>=0;k--){const U=this._order[k];if(d(U))for(let Z=x.length-1;Z>=0;Z--){const Y=x[Z].feature;if(v[Y.layer.id]<k)break;A.push(Y),x.pop()}else for(const Z of i){const Y=Z[U];if(Y)for(const J of Y)A.push(J.feature)}}return A}queryRenderedFeatures(i,d,v){d&&d.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",d.filter,null,d);const x={};if(d&&d.layers){if(!(Array.isArray(d.layers)||d.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const Y of d.layers){const J=this._layers[Y];if(!J)return this.fire(new o.k(new Error(`The layer '${Y}' does not exist in the map's style and cannot be queried for features.`))),[];x[J.source]=!0}}const A=[];d.availableImages=this._availableImages;const k=this._serializedAllLayers(),U=d.layers instanceof Set?d.layers:Array.isArray(d.layers)?new Set(d.layers):null,Z=Object.assign(Object.assign({},d),{layers:U});for(const Y in this.sourceCaches)d.layers&&!x[Y]||A.push(Dt(this.sourceCaches[Y],this._layers,k,i,Z,v,this.map.terrain?(J,oe,ie)=>this.map.terrain.getElevation(J,oe,ie):void 0));return this.placement&&A.push(function(Y,J,oe,ie,pe,be,Ie){const ke={},De=be.queryRenderedSymbols(ie),Ue=[];for(const Ze of Object.keys(De).map(Number))Ue.push(Ie[Ze]);Ue.sort($t);for(const Ze of Ue){const He=Ze.featureIndex.lookupSymbolFeatures(De[Ze.bucketInstanceId],J,Ze.bucketIndex,Ze.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,Y);for(const Xe in He){const nt=ke[Xe]=ke[Xe]||[],Qe=He[Xe];Qe.sort((bt,Bt)=>{const Pt=Ze.featureSortOrder;if(Pt){const Tt=Pt.indexOf(bt.featureIndex);return Pt.indexOf(Bt.featureIndex)-Tt}return Bt.featureIndex-bt.featureIndex});for(const bt of Qe)nt.push(bt)}}return function(Ze,He,Xe){for(const nt in Ze)for(const Qe of Ze[nt])tr(Qe,Xe[He[nt].source]);return Ze}(ke,Y,oe)}(this._layers,k,this.sourceCaches,i,Z,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(A)}querySourceFeatures(i,d){d&&d.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",d.filter,null,d);const v=this.sourceCaches[i];return v?function(x,A){const k=x.getRenderableIds().map(Y=>x.getTileByID(Y)),U=[],Z={};for(let Y=0;Y<k.length;Y++){const J=k[Y],oe=J.tileID.canonical.key;Z[oe]||(Z[oe]=!0,J.querySourceFeatures(U,A))}return U}(v,d):[]}getLight(){return this.light.getLight()}setLight(i,d={}){this._checkLoaded();const v=this.light.getLight();let x=!1;for(const k in i)if(!o.bE(i[k],v[k])){x=!0;break}if(!x)return;const A={now:R.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,d),this.light.updateTransitions(A)}getProjection(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.projection}setProjection(i){if(this._checkLoaded(),this.projection){if(this.projection.name===i.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=i,this._setProjectionInternal(i.type)}getSky(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.sky}setSky(i,d={}){this._checkLoaded();const v=this.getSky();let x=!1;if(!i&&!v)return;if(i&&!v)x=!0;else if(!i&&v)x=!0;else for(const k in i)if(!o.bE(i[k],v[k])){x=!0;break}if(!x)return;const A={now:R.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=i,this.sky.setSky(i,d),this.sky.updateTransitions(A)}_setProjectionInternal(i){const d=function(v){if(Array.isArray(v)){const x=new nd({type:v});return{projection:x,transform:new ld,cameraHelper:new cd(x)}}switch(v){case"mercator":return{projection:new cu,transform:new Dl,cameraHelper:new Fs};case"globe":{const x=new nd({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:x,transform:new ld,cameraHelper:new cd(x)}}case"vertical-perspective":return{projection:new td,transform:new sd,cameraHelper:new Ns};default:return o.w(`Unknown projection name: ${v}. Falling back to mercator projection.`),{projection:new cu,transform:new Dl,cameraHelper:new Fs}}}(i);this.projection=d.projection,this.map.migrateProjection(d.transform,d.cameraHelper);for(const v in this.sourceCaches)this.sourceCaches[v].reload()}_validate(i,d,v,x,A={}){return(!A||A.validate!==!1)&&kp(this,i.call(o.y,o.e({key:d,style:this.serialize(),value:v,styleSpec:o.v},x)))}_remove(i=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Mr().off(Ht,this._rtlPluginLoaded);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const v=this.sourceCaches[d];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),i&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const d in this.sourceCaches)this.sourceCaches[d].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,d,v,x,A=!1){let k=!1,U=!1;const Z={};for(const Y of this._order){const J=this._layers[Y];if(J.type!=="symbol")continue;if(!Z[J.source]){const ie=this.sourceCaches[J.source];Z[J.source]=ie.getRenderableIds(!0).map(pe=>ie.getTileByID(pe)).sort((pe,be)=>be.tileID.overscaledZ-pe.tileID.overscaledZ||(pe.tileID.isLessThan(be.tileID)?-1:1))}const oe=this.crossTileSymbolIndex.addLayer(J,Z[J.source],i.center.lng);k=k||oe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((A=A||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(R.now(),i.zoom))&&(this.pauseablePlacement=new Rp(i,this.map.terrain,this._order,A,d,v,x,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Z),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(R.now()),U=!0),k&&this.pauseablePlacement.placement.setStale()),U||k)for(const Y of this._order){const J=this._layers[Y];J.type==="symbol"&&this.placement.updateLayerOpacities(J,Z[J.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(R.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,d){return o._(this,void 0,void 0,function*(){const v=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();const x=this.sourceCaches[d.source];return x&&x.setDependencies(d.tileID.key,d.type,d.icons),v})}getGlyphs(i,d){return o._(this,void 0,void 0,function*(){const v=yield this.glyphManager.getGlyphs(d.stacks),x=this.sourceCaches[d.source];return x&&x.setDependencies(d.tileID.key,d.type,[""]),v})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,d={}){this._checkLoaded(),i&&this._validate(o.y.glyphs,"glyphs",i,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,d,v={},x){this._checkLoaded();const A=[{id:i,url:d}],k=[...V(this.stylesheet.sprite),...A];this._validate(o.y.sprite,"sprite",k,null,v)||(this.stylesheet.sprite=k,this._loadSprite(A,!0,x))}removeSprite(i){this._checkLoaded();const d=V(this.stylesheet.sprite);if(d.find(v=>v.id===i)){if(this._spritesImagesIds[i])for(const v of this._spritesImagesIds[i])this.imageManager.removeImage(v),this._changedImages[v]=!0;d.splice(d.findIndex(v=>v.id===i),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return V(this.stylesheet.sprite)}setSprite(i,d={},v){this._checkLoaded(),i&&this._validate(o.y.sprite,"sprite",i,null,d)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,v):(this._unloadSprite(),v&&v(null)))}}var q_=o.aG([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class V_{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,d,v,x,A,k,U,Z,Y){this.context=i;let J=this.boundPaintVertexBuffers.length!==x.length;for(let oe=0;!J&&oe<x.length;oe++)this.boundPaintVertexBuffers[oe]!==x[oe]&&(J=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==v||J||this.boundIndexBuffer!==A||this.boundVertexOffset!==k||this.boundDynamicVertexBuffer!==U||this.boundDynamicVertexBuffer2!==Z||this.boundDynamicVertexBuffer3!==Y?this.freshBind(d,v,x,A,k,U,Z,Y):(i.bindVertexArray.set(this.vao),U&&U.bind(),A&&A.dynamicDraw&&A.bind(),Z&&Z.bind(),Y&&Y.bind())}freshBind(i,d,v,x,A,k,U,Z){const Y=i.numAttributes,J=this.context,oe=J.gl;this.vao&&this.destroy(),this.vao=J.createVertexArray(),J.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=x,this.boundVertexOffset=A,this.boundDynamicVertexBuffer=k,this.boundDynamicVertexBuffer2=U,this.boundDynamicVertexBuffer3=Z,d.enableAttributes(oe,i);for(const ie of v)ie.enableAttributes(oe,i);k&&k.enableAttributes(oe,i),U&&U.enableAttributes(oe,i),Z&&Z.enableAttributes(oe,i),d.bind(),d.setVertexAttribPointers(oe,i,A);for(const ie of v)ie.bind(),ie.setVertexAttribPointers(oe,i,A);k&&(k.bind(),k.setVertexAttribPointers(oe,i,A)),x&&x.bind(),U&&(U.bind(),U.setVertexAttribPointers(oe,i,A)),Z&&(Z.bind(),Z.setVertexAttribPointers(oe,i,A)),J.currentNumAttributes=Y}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const H_=(C,i,d,v,x)=>({u_texture:0,u_ele_delta:C,u_fog_matrix:i,u_fog_color:d?d.properties.get("fog-color"):o.b7.white,u_fog_ground_blend:d?d.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:x?0:d?d.calculateFogBlendOpacity(v):0,u_horizon_color:d?d.properties.get("horizon-color"):o.b7.white,u_horizon_fog_blend:d?d.properties.get("horizon-fog-blend"):1,u_is_globe_mode:x?1:0}),Ip={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function df(C){const i=[];for(let d=0;d<C.length;d++){if(C[d]===null)continue;const v=C[d].split(" ");i.push(v.pop())}return i}class Dp{constructor(i,d,v,x,A,k,U,Z,Y=[]){const J=i.gl;this.program=J.createProgram();const oe=df(d.staticAttributes),ie=v?v.getBinderAttributes():[],pe=oe.concat(ie),be=Bo.prelude.staticUniforms?df(Bo.prelude.staticUniforms):[],Ie=U.staticUniforms?df(U.staticUniforms):[],ke=d.staticUniforms?df(d.staticUniforms):[],De=v?v.getBinderUniforms():[],Ue=be.concat(Ie).concat(ke).concat(De),Ze=[];for(const Pt of Ue)Ze.indexOf(Pt)<0&&Ze.push(Pt);const He=v?v.defines():[];ei(J)&&He.unshift("#version 300 es"),A&&He.push("#define OVERDRAW_INSPECTOR;"),k&&He.push("#define TERRAIN3D;"),Z&&He.push(Z),Y&&He.push(...Y);let Xe=He.concat(Bo.prelude.fragmentSource,U.fragmentSource,d.fragmentSource).join(`
`),nt=He.concat(Bo.prelude.vertexSource,U.vertexSource,d.vertexSource).join(`
`);ei(J)||(Xe=function(Pt){return Pt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Xe),nt=function(Pt){return Pt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(nt));const Qe=J.createShader(J.FRAGMENT_SHADER);if(J.isContextLost())return void(this.failedToCreate=!0);if(J.shaderSource(Qe,Xe),J.compileShader(Qe),!J.getShaderParameter(Qe,J.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${J.getShaderInfoLog(Qe)}`);J.attachShader(this.program,Qe);const bt=J.createShader(J.VERTEX_SHADER);if(J.isContextLost())return void(this.failedToCreate=!0);if(J.shaderSource(bt,nt),J.compileShader(bt),!J.getShaderParameter(bt,J.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${J.getShaderInfoLog(bt)}`);J.attachShader(this.program,bt),this.attributes={};const Bt={};this.numAttributes=pe.length;for(let Pt=0;Pt<this.numAttributes;Pt++)pe[Pt]&&(J.bindAttribLocation(this.program,Pt,pe[Pt]),this.attributes[pe[Pt]]=Pt);if(J.linkProgram(this.program),!J.getProgramParameter(this.program,J.LINK_STATUS))throw new Error(`Program failed to link: ${J.getProgramInfoLog(this.program)}`);J.deleteShader(bt),J.deleteShader(Qe);for(let Pt=0;Pt<Ze.length;Pt++){const Tt=Ze[Pt];if(Tt&&!Bt[Tt]){const Mt=J.getUniformLocation(this.program,Tt);Mt&&(Bt[Tt]=Mt)}}this.fixedUniforms=x(i,Bt),this.terrainUniforms=((Pt,Tt)=>({u_depth:new o.bH(Pt,Tt.u_depth),u_terrain:new o.bH(Pt,Tt.u_terrain),u_terrain_dim:new o.b8(Pt,Tt.u_terrain_dim),u_terrain_matrix:new o.bJ(Pt,Tt.u_terrain_matrix),u_terrain_unpack:new o.bK(Pt,Tt.u_terrain_unpack),u_terrain_exaggeration:new o.b8(Pt,Tt.u_terrain_exaggeration)}))(i,Bt),this.projectionUniforms=((Pt,Tt)=>({u_projection_matrix:new o.bJ(Pt,Tt.u_projection_matrix),u_projection_tile_mercator_coords:new o.bK(Pt,Tt.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.bK(Pt,Tt.u_projection_clipping_plane),u_projection_transition:new o.b8(Pt,Tt.u_projection_transition),u_projection_fallback_matrix:new o.bJ(Pt,Tt.u_projection_fallback_matrix)}))(i,Bt),this.binderUniforms=v?v.getUniforms(i,Bt):[]}draw(i,d,v,x,A,k,U,Z,Y,J,oe,ie,pe,be,Ie,ke,De,Ue,Ze){const He=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(v),i.setStencilMode(x),i.setColorMode(A),i.setCullFace(k),Z){i.activeTexture.set(He.TEXTURE2),He.bindTexture(He.TEXTURE_2D,Z.depthTexture),i.activeTexture.set(He.TEXTURE3),He.bindTexture(He.TEXTURE_2D,Z.texture);for(const nt in this.terrainUniforms)this.terrainUniforms[nt].set(Z[nt])}if(Y)for(const nt in Y)this.projectionUniforms[Ip[nt]].set(Y[nt]);if(U)for(const nt in this.fixedUniforms)this.fixedUniforms[nt].set(U[nt]);ke&&ke.setUniforms(i,this.binderUniforms,be,{zoom:Ie});let Xe=0;switch(d){case He.LINES:Xe=2;break;case He.TRIANGLES:Xe=3;break;case He.LINE_STRIP:Xe=1}for(const nt of pe.get()){const Qe=nt.vaos||(nt.vaos={});(Qe[J]||(Qe[J]=new V_)).bind(i,this,oe,ke?ke.getPaintVertexBuffers():[],ie,nt.vertexOffset,De,Ue,Ze),He.drawElements(d,nt.primitiveLength*Xe,He.UNSIGNED_SHORT,nt.primitiveOffset*Xe*2)}}}function zp(C,i,d){const v=1/o.az(d,1,i.transform.tileZoom),x=Math.pow(2,d.tileID.overscaledZ),A=d.tileSize*Math.pow(2,i.transform.tileZoom)/x,k=A*(d.tileID.canonical.x+d.tileID.wrap*x),U=A*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[v,C.fromScale,C.toScale],u_fade:C.t,u_pixel_coord_upper:[k>>16,U>>16],u_pixel_coord_lower:[65535&k,65535&U]}}const Lp=(C,i,d,v)=>{const x=C.style.light,A=x.properties.get("position"),k=[A.x,A.y,A.z],U=o.bN();x.properties.get("anchor")==="viewport"&&o.bO(U,C.transform.bearingInRadians),o.bP(k,k,U);const Z=C.transform.transformLightDirection(k),Y=x.properties.get("color");return{u_lightpos:k,u_lightpos_globe:Z,u_lightintensity:x.properties.get("intensity"),u_lightcolor:[Y.r,Y.g,Y.b],u_vertical_gradient:+i,u_opacity:d,u_fill_translate:v}},js=(C,i,d,v,x,A,k)=>o.e(Lp(C,i,d,v),zp(A,C,k),{u_height_factor:-Math.pow(2,x.overscaledZ)/k.tileSize/8}),ff=(C,i,d,v)=>o.e(zp(i,C,d),{u_fill_translate:v}),Eg=(C,i)=>({u_world:C,u_fill_translate:i}),hf=(C,i,d,v,x)=>o.e(ff(C,i,d,x),{u_world:v}),pf=(C,i,d,v,x)=>{const A=C.transform;let k,U,Z=0;if(d.paint.get("circle-pitch-alignment")==="map"){const Y=o.az(i,1,A.zoom);k=!0,U=[Y,Y],Z=Y/(o.Z*Math.pow(2,i.tileID.overscaledZ))*2*Math.PI*x}else k=!1,U=A.pixelsToGLUnits;return{u_camera_to_center_distance:A.cameraToCenterDistance,u_scale_with_map:+(d.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+k,u_device_pixel_ratio:C.pixelRatio,u_extrude_scale:U,u_globe_extrude_scale:Z,u_translate:v}},cv=C=>({u_pixel_extrude_scale:[1/C.width,1/C.height]}),Ah=C=>({u_viewport_size:[C.width,C.height]}),Cg=(C,i=1)=>({u_color:C,u_overlay:0,u_overlay_scale:i}),$s=(C,i,d,v)=>{const x=o.az(C,1,i)/(o.Z*Math.pow(2,C.tileID.overscaledZ))*2*Math.PI*v;return{u_extrude_scale:o.az(C,1,i),u_intensity:d,u_globe_extrude_scale:x}},uv=(C,i,d,v)=>{const x=o.K();o.bQ(x,0,C.width,C.height,0,0,1);const A=C.context.gl;return{u_matrix:x,u_world:[A.drawingBufferWidth,A.drawingBufferHeight],u_image:d,u_color_ramp:v,u_opacity:i.paint.get("heatmap-opacity")}},dv=(C,i,d)=>{const v=d.paint.get("hillshade-accent-color");let x;switch(d.paint.get("hillshade-method")){case"basic":x=4;break;case"combined":x=1;break;case"igor":x=2;break;case"multidirectional":x=3;break;default:x=0}const A=d.getIlluminationProperties();for(let k=0;k<A.directionRadians.length;k++)d.paint.get("hillshade-illumination-anchor")==="viewport"&&(A.directionRadians[k]+=C.transform.bearingInRadians);return{u_image:0,u_latrange:Tg(0,i.tileID),u_exaggeration:d.paint.get("hillshade-exaggeration"),u_altitudes:A.altitudeRadians,u_azimuths:A.directionRadians,u_accent:v,u_method:x,u_highlights:A.highlightColor,u_shadows:A.shadowColor}},G_=(C,i)=>{const d=i.stride,v=o.K();return o.bQ(v,0,o.Z,-8192,0,0,1),o.L(v,v,[0,-8192,0]),{u_matrix:v,u_image:1,u_dimension:[d,d],u_zoom:C.overscaledZ,u_unpack:i.getUnpackVector()}};function Tg(C,i){const d=Math.pow(2,i.canonical.z),v=i.canonical.y;return[new o.$(0,v/d).toLngLat().lat,new o.$(0,(v+1)/d).toLngLat().lat]}const mf=(C,i,d,v)=>{const x=C.transform;return{u_translation:vc(C,i,d),u_ratio:v/o.az(i,1,x.zoom),u_device_pixel_ratio:C.pixelRatio,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},gf=(C,i,d,v,x)=>o.e(mf(C,i,d,v),{u_image:0,u_image_height:x}),yf=(C,i,d,v,x)=>{const A=C.transform,k=vf(i,A);return{u_translation:vc(C,i,d),u_texsize:i.imageAtlasTexture.size,u_ratio:v/o.az(i,1,A.zoom),u_device_pixel_ratio:C.pixelRatio,u_image:0,u_scale:[k,x.fromScale,x.toScale],u_fade:x.t,u_units_to_pixels:[1/A.pixelsToGLUnits[0],1/A.pixelsToGLUnits[1]]}},fv=(C,i,d,v,x,A)=>{const k=C.lineAtlas,U=vf(i,C.transform),Z=d.layout.get("line-cap")==="round",Y=k.getDash(x.from,Z),J=k.getDash(x.to,Z),oe=Y.width*A.fromScale,ie=J.width*A.toScale;return o.e(mf(C,i,d,v),{u_patternscale_a:[U/oe,-Y.height/2],u_patternscale_b:[U/ie,-J.height/2],u_sdfgamma:k.width/(256*Math.min(oe,ie)*C.pixelRatio)/2,u_image:0,u_tex_y_a:Y.y,u_tex_y_b:J.y,u_mix:A.t})};function vf(C,i){return 1/o.az(C,1,i.tileZoom)}function vc(C,i,d){return o.aA(C.transform,i,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Ag=(C,i,d,v,x)=>{return{u_tl_parent:C,u_scale_parent:i,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(k=v.paint.get("raster-saturation"),k>0?1-1/(1.001-k):-k),u_contrast_factor:(A=v.paint.get("raster-contrast"),A>0?1/(1-A):1+A),u_spin_weights:Bp(v.paint.get("raster-hue-rotate")),u_coords_top:[x[0].x,x[0].y,x[1].x,x[1].y],u_coords_bottom:[x[3].x,x[3].y,x[2].x,x[2].y]};var A,k};function Bp(C){C*=Math.PI/180;const i=Math.sin(C),d=Math.cos(C);return[(2*d+1)/3,(-Math.sqrt(3)*i-d+1)/3,(Math.sqrt(3)*i-d+1)/3]}const hu=(C,i,d,v,x,A,k,U,Z,Y,J,oe,ie)=>{const pe=k.transform;return{u_is_size_zoom_constant:+(C==="constant"||C==="source"),u_is_size_feature_constant:+(C==="constant"||C==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:pe.cameraToCenterDistance,u_pitch:pe.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:pe.width/pe.height,u_fade_change:k.options.fadeDuration?k.symbolFadeChange:1,u_label_plane_matrix:U,u_coord_matrix:Z,u_is_text:+J,u_pitch_with_map:+v,u_is_along_line:x,u_is_variable_anchor:A,u_texsize:oe,u_texture:0,u_translation:Y,u_pitched_scale:ie}},Pg=(C,i,d,v,x,A,k,U,Z,Y,J,oe,ie,pe)=>{const be=k.transform;return o.e(hu(C,i,d,v,x,A,k,U,Z,Y,J,oe,pe),{u_gamma_scale:v?Math.cos(be.pitch*Math.PI/180)*be.cameraToCenterDistance:1,u_device_pixel_ratio:k.pixelRatio,u_is_halo:1})},Ph=(C,i,d,v,x,A,k,U,Z,Y,J,oe,ie)=>o.e(Pg(C,i,d,v,x,A,k,U,Z,Y,!0,J,0,ie),{u_texsize_icon:oe,u_texture_icon:1}),hv=(C,i)=>({u_opacity:C,u_color:i}),Z_=(C,i,d,v,x)=>o.e(function(A,k,U,Z){const Y=U.imageManager.getPattern(A.from.toString()),J=U.imageManager.getPattern(A.to.toString()),{width:oe,height:ie}=U.imageManager.getPixelSize(),pe=Math.pow(2,Z.tileID.overscaledZ),be=Z.tileSize*Math.pow(2,U.transform.tileZoom)/pe,Ie=be*(Z.tileID.canonical.x+Z.tileID.wrap*pe),ke=be*Z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Y.tl,u_pattern_br_a:Y.br,u_pattern_tl_b:J.tl,u_pattern_br_b:J.br,u_texsize:[oe,ie],u_mix:k.t,u_pattern_size_a:Y.displaySize,u_pattern_size_b:J.displaySize,u_scale_a:k.fromScale,u_scale_b:k.toScale,u_tile_units_to_pixels:1/o.az(Z,1,U.transform.tileZoom),u_pixel_coord_upper:[Ie>>16,ke>>16],u_pixel_coord_lower:[65535&Ie,65535&ke]}}(d,x,i,v),{u_opacity:C}),Rg=(C,i)=>{},pv={fillExtrusion:(C,i)=>({u_lightpos:new o.bL(C,i.u_lightpos),u_lightpos_globe:new o.bL(C,i.u_lightpos_globe),u_lightintensity:new o.b8(C,i.u_lightintensity),u_lightcolor:new o.bL(C,i.u_lightcolor),u_vertical_gradient:new o.b8(C,i.u_vertical_gradient),u_opacity:new o.b8(C,i.u_opacity),u_fill_translate:new o.bM(C,i.u_fill_translate)}),fillExtrusionPattern:(C,i)=>({u_lightpos:new o.bL(C,i.u_lightpos),u_lightpos_globe:new o.bL(C,i.u_lightpos_globe),u_lightintensity:new o.b8(C,i.u_lightintensity),u_lightcolor:new o.bL(C,i.u_lightcolor),u_vertical_gradient:new o.b8(C,i.u_vertical_gradient),u_height_factor:new o.b8(C,i.u_height_factor),u_opacity:new o.b8(C,i.u_opacity),u_fill_translate:new o.bM(C,i.u_fill_translate),u_image:new o.bH(C,i.u_image),u_texsize:new o.bM(C,i.u_texsize),u_pixel_coord_upper:new o.bM(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(C,i.u_pixel_coord_lower),u_scale:new o.bL(C,i.u_scale),u_fade:new o.b8(C,i.u_fade)}),fill:(C,i)=>({u_fill_translate:new o.bM(C,i.u_fill_translate)}),fillPattern:(C,i)=>({u_image:new o.bH(C,i.u_image),u_texsize:new o.bM(C,i.u_texsize),u_pixel_coord_upper:new o.bM(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(C,i.u_pixel_coord_lower),u_scale:new o.bL(C,i.u_scale),u_fade:new o.b8(C,i.u_fade),u_fill_translate:new o.bM(C,i.u_fill_translate)}),fillOutline:(C,i)=>({u_world:new o.bM(C,i.u_world),u_fill_translate:new o.bM(C,i.u_fill_translate)}),fillOutlinePattern:(C,i)=>({u_world:new o.bM(C,i.u_world),u_image:new o.bH(C,i.u_image),u_texsize:new o.bM(C,i.u_texsize),u_pixel_coord_upper:new o.bM(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(C,i.u_pixel_coord_lower),u_scale:new o.bL(C,i.u_scale),u_fade:new o.b8(C,i.u_fade),u_fill_translate:new o.bM(C,i.u_fill_translate)}),circle:(C,i)=>({u_camera_to_center_distance:new o.b8(C,i.u_camera_to_center_distance),u_scale_with_map:new o.bH(C,i.u_scale_with_map),u_pitch_with_map:new o.bH(C,i.u_pitch_with_map),u_extrude_scale:new o.bM(C,i.u_extrude_scale),u_device_pixel_ratio:new o.b8(C,i.u_device_pixel_ratio),u_globe_extrude_scale:new o.b8(C,i.u_globe_extrude_scale),u_translate:new o.bM(C,i.u_translate)}),collisionBox:(C,i)=>({u_pixel_extrude_scale:new o.bM(C,i.u_pixel_extrude_scale)}),collisionCircle:(C,i)=>({u_viewport_size:new o.bM(C,i.u_viewport_size)}),debug:(C,i)=>({u_color:new o.bI(C,i.u_color),u_overlay:new o.bH(C,i.u_overlay),u_overlay_scale:new o.b8(C,i.u_overlay_scale)}),depth:Rg,clippingMask:Rg,heatmap:(C,i)=>({u_extrude_scale:new o.b8(C,i.u_extrude_scale),u_intensity:new o.b8(C,i.u_intensity),u_globe_extrude_scale:new o.b8(C,i.u_globe_extrude_scale)}),heatmapTexture:(C,i)=>({u_matrix:new o.bJ(C,i.u_matrix),u_world:new o.bM(C,i.u_world),u_image:new o.bH(C,i.u_image),u_color_ramp:new o.bH(C,i.u_color_ramp),u_opacity:new o.b8(C,i.u_opacity)}),hillshade:(C,i)=>({u_image:new o.bH(C,i.u_image),u_latrange:new o.bM(C,i.u_latrange),u_exaggeration:new o.b8(C,i.u_exaggeration),u_altitudes:new o.bS(C,i.u_altitudes),u_azimuths:new o.bS(C,i.u_azimuths),u_accent:new o.bI(C,i.u_accent),u_method:new o.bH(C,i.u_method),u_shadows:new o.bR(C,i.u_shadows),u_highlights:new o.bR(C,i.u_highlights)}),hillshadePrepare:(C,i)=>({u_matrix:new o.bJ(C,i.u_matrix),u_image:new o.bH(C,i.u_image),u_dimension:new o.bM(C,i.u_dimension),u_zoom:new o.b8(C,i.u_zoom),u_unpack:new o.bK(C,i.u_unpack)}),line:(C,i)=>({u_translation:new o.bM(C,i.u_translation),u_ratio:new o.b8(C,i.u_ratio),u_device_pixel_ratio:new o.b8(C,i.u_device_pixel_ratio),u_units_to_pixels:new o.bM(C,i.u_units_to_pixels)}),lineGradient:(C,i)=>({u_translation:new o.bM(C,i.u_translation),u_ratio:new o.b8(C,i.u_ratio),u_device_pixel_ratio:new o.b8(C,i.u_device_pixel_ratio),u_units_to_pixels:new o.bM(C,i.u_units_to_pixels),u_image:new o.bH(C,i.u_image),u_image_height:new o.b8(C,i.u_image_height)}),linePattern:(C,i)=>({u_translation:new o.bM(C,i.u_translation),u_texsize:new o.bM(C,i.u_texsize),u_ratio:new o.b8(C,i.u_ratio),u_device_pixel_ratio:new o.b8(C,i.u_device_pixel_ratio),u_image:new o.bH(C,i.u_image),u_units_to_pixels:new o.bM(C,i.u_units_to_pixels),u_scale:new o.bL(C,i.u_scale),u_fade:new o.b8(C,i.u_fade)}),lineSDF:(C,i)=>({u_translation:new o.bM(C,i.u_translation),u_ratio:new o.b8(C,i.u_ratio),u_device_pixel_ratio:new o.b8(C,i.u_device_pixel_ratio),u_units_to_pixels:new o.bM(C,i.u_units_to_pixels),u_patternscale_a:new o.bM(C,i.u_patternscale_a),u_patternscale_b:new o.bM(C,i.u_patternscale_b),u_sdfgamma:new o.b8(C,i.u_sdfgamma),u_image:new o.bH(C,i.u_image),u_tex_y_a:new o.b8(C,i.u_tex_y_a),u_tex_y_b:new o.b8(C,i.u_tex_y_b),u_mix:new o.b8(C,i.u_mix)}),raster:(C,i)=>({u_tl_parent:new o.bM(C,i.u_tl_parent),u_scale_parent:new o.b8(C,i.u_scale_parent),u_buffer_scale:new o.b8(C,i.u_buffer_scale),u_fade_t:new o.b8(C,i.u_fade_t),u_opacity:new o.b8(C,i.u_opacity),u_image0:new o.bH(C,i.u_image0),u_image1:new o.bH(C,i.u_image1),u_brightness_low:new o.b8(C,i.u_brightness_low),u_brightness_high:new o.b8(C,i.u_brightness_high),u_saturation_factor:new o.b8(C,i.u_saturation_factor),u_contrast_factor:new o.b8(C,i.u_contrast_factor),u_spin_weights:new o.bL(C,i.u_spin_weights),u_coords_top:new o.bK(C,i.u_coords_top),u_coords_bottom:new o.bK(C,i.u_coords_bottom)}),symbolIcon:(C,i)=>({u_is_size_zoom_constant:new o.bH(C,i.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(C,i.u_is_size_feature_constant),u_size_t:new o.b8(C,i.u_size_t),u_size:new o.b8(C,i.u_size),u_camera_to_center_distance:new o.b8(C,i.u_camera_to_center_distance),u_pitch:new o.b8(C,i.u_pitch),u_rotate_symbol:new o.bH(C,i.u_rotate_symbol),u_aspect_ratio:new o.b8(C,i.u_aspect_ratio),u_fade_change:new o.b8(C,i.u_fade_change),u_label_plane_matrix:new o.bJ(C,i.u_label_plane_matrix),u_coord_matrix:new o.bJ(C,i.u_coord_matrix),u_is_text:new o.bH(C,i.u_is_text),u_pitch_with_map:new o.bH(C,i.u_pitch_with_map),u_is_along_line:new o.bH(C,i.u_is_along_line),u_is_variable_anchor:new o.bH(C,i.u_is_variable_anchor),u_texsize:new o.bM(C,i.u_texsize),u_texture:new o.bH(C,i.u_texture),u_translation:new o.bM(C,i.u_translation),u_pitched_scale:new o.b8(C,i.u_pitched_scale)}),symbolSDF:(C,i)=>({u_is_size_zoom_constant:new o.bH(C,i.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(C,i.u_is_size_feature_constant),u_size_t:new o.b8(C,i.u_size_t),u_size:new o.b8(C,i.u_size),u_camera_to_center_distance:new o.b8(C,i.u_camera_to_center_distance),u_pitch:new o.b8(C,i.u_pitch),u_rotate_symbol:new o.bH(C,i.u_rotate_symbol),u_aspect_ratio:new o.b8(C,i.u_aspect_ratio),u_fade_change:new o.b8(C,i.u_fade_change),u_label_plane_matrix:new o.bJ(C,i.u_label_plane_matrix),u_coord_matrix:new o.bJ(C,i.u_coord_matrix),u_is_text:new o.bH(C,i.u_is_text),u_pitch_with_map:new o.bH(C,i.u_pitch_with_map),u_is_along_line:new o.bH(C,i.u_is_along_line),u_is_variable_anchor:new o.bH(C,i.u_is_variable_anchor),u_texsize:new o.bM(C,i.u_texsize),u_texture:new o.bH(C,i.u_texture),u_gamma_scale:new o.b8(C,i.u_gamma_scale),u_device_pixel_ratio:new o.b8(C,i.u_device_pixel_ratio),u_is_halo:new o.bH(C,i.u_is_halo),u_translation:new o.bM(C,i.u_translation),u_pitched_scale:new o.b8(C,i.u_pitched_scale)}),symbolTextAndIcon:(C,i)=>({u_is_size_zoom_constant:new o.bH(C,i.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(C,i.u_is_size_feature_constant),u_size_t:new o.b8(C,i.u_size_t),u_size:new o.b8(C,i.u_size),u_camera_to_center_distance:new o.b8(C,i.u_camera_to_center_distance),u_pitch:new o.b8(C,i.u_pitch),u_rotate_symbol:new o.bH(C,i.u_rotate_symbol),u_aspect_ratio:new o.b8(C,i.u_aspect_ratio),u_fade_change:new o.b8(C,i.u_fade_change),u_label_plane_matrix:new o.bJ(C,i.u_label_plane_matrix),u_coord_matrix:new o.bJ(C,i.u_coord_matrix),u_is_text:new o.bH(C,i.u_is_text),u_pitch_with_map:new o.bH(C,i.u_pitch_with_map),u_is_along_line:new o.bH(C,i.u_is_along_line),u_is_variable_anchor:new o.bH(C,i.u_is_variable_anchor),u_texsize:new o.bM(C,i.u_texsize),u_texsize_icon:new o.bM(C,i.u_texsize_icon),u_texture:new o.bH(C,i.u_texture),u_texture_icon:new o.bH(C,i.u_texture_icon),u_gamma_scale:new o.b8(C,i.u_gamma_scale),u_device_pixel_ratio:new o.b8(C,i.u_device_pixel_ratio),u_is_halo:new o.bH(C,i.u_is_halo),u_translation:new o.bM(C,i.u_translation),u_pitched_scale:new o.b8(C,i.u_pitched_scale)}),background:(C,i)=>({u_opacity:new o.b8(C,i.u_opacity),u_color:new o.bI(C,i.u_color)}),backgroundPattern:(C,i)=>({u_opacity:new o.b8(C,i.u_opacity),u_image:new o.bH(C,i.u_image),u_pattern_tl_a:new o.bM(C,i.u_pattern_tl_a),u_pattern_br_a:new o.bM(C,i.u_pattern_br_a),u_pattern_tl_b:new o.bM(C,i.u_pattern_tl_b),u_pattern_br_b:new o.bM(C,i.u_pattern_br_b),u_texsize:new o.bM(C,i.u_texsize),u_mix:new o.b8(C,i.u_mix),u_pattern_size_a:new o.bM(C,i.u_pattern_size_a),u_pattern_size_b:new o.bM(C,i.u_pattern_size_b),u_scale_a:new o.b8(C,i.u_scale_a),u_scale_b:new o.b8(C,i.u_scale_b),u_pixel_coord_upper:new o.bM(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(C,i.u_pixel_coord_lower),u_tile_units_to_pixels:new o.b8(C,i.u_tile_units_to_pixels)}),terrain:(C,i)=>({u_texture:new o.bH(C,i.u_texture),u_ele_delta:new o.b8(C,i.u_ele_delta),u_fog_matrix:new o.bJ(C,i.u_fog_matrix),u_fog_color:new o.bI(C,i.u_fog_color),u_fog_ground_blend:new o.b8(C,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.b8(C,i.u_fog_ground_blend_opacity),u_horizon_color:new o.bI(C,i.u_horizon_color),u_horizon_fog_blend:new o.b8(C,i.u_horizon_fog_blend),u_is_globe_mode:new o.b8(C,i.u_is_globe_mode)}),terrainDepth:(C,i)=>({u_ele_delta:new o.b8(C,i.u_ele_delta)}),terrainCoords:(C,i)=>({u_texture:new o.bH(C,i.u_texture),u_terrain_coords_id:new o.b8(C,i.u_terrain_coords_id),u_ele_delta:new o.b8(C,i.u_ele_delta)}),projectionErrorMeasurement:(C,i)=>({u_input:new o.b8(C,i.u_input),u_output_expected:new o.b8(C,i.u_output_expected)}),atmosphere:(C,i)=>({u_sun_pos:new o.bL(C,i.u_sun_pos),u_atmosphere_blend:new o.b8(C,i.u_atmosphere_blend),u_globe_position:new o.bL(C,i.u_globe_position),u_globe_radius:new o.b8(C,i.u_globe_radius),u_inv_proj_matrix:new o.bJ(C,i.u_inv_proj_matrix)}),sky:(C,i)=>({u_sky_color:new o.bI(C,i.u_sky_color),u_horizon_color:new o.bI(C,i.u_horizon_color),u_horizon:new o.bM(C,i.u_horizon),u_horizon_normal:new o.bM(C,i.u_horizon_normal),u_sky_horizon_blend:new o.b8(C,i.u_sky_horizon_blend),u_sky_blend:new o.b8(C,i.u_sky_blend)})};class mv{constructor(i,d,v){this.context=i;const x=i.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Mg={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class rs{constructor(i,d,v,x){this.length=d.length,this.attributes=v,this.itemSize=d.bytesPerElement,this.dynamicDraw=x,this.context=i;const A=i.gl;this.buffer=A.createBuffer(),i.bindVertexBuffer.set(this.buffer),A.bufferData(A.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?A.DYNAMIC_DRAW:A.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,d){for(let v=0;v<this.attributes.length;v++){const x=d.attributes[this.attributes[v].name];x!==void 0&&i.enableVertexAttribArray(x)}}setVertexAttribPointers(i,d,v){for(let x=0;x<this.attributes.length;x++){const A=this.attributes[x],k=d.attributes[A.name];k!==void 0&&i.vertexAttribPointer(k,A.components,i[Mg[A.type]],!1,this.itemSize,A.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Rn{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ll extends Rn{getDefault(){return o.b7.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Fp extends Rn{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class Np extends Rn{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class jp extends Rn{getDefault(){return[!0,!0,!0,!0]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class $p extends Rn{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class Og extends Rn{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class Us extends Rn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const d=this.current;(i.func!==d.func||i.ref!==d.ref||i.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Rh extends Rn{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class Mh extends Rn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=i,this.dirty=!1}}class kg extends Rn{getDefault(){return[0,1]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class gv extends Rn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=i,this.dirty=!1}}class ud extends Rn{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class dd extends Rn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.BLEND):d.disable(d.BLEND),this.current=i,this.dirty=!1}}class Ig extends Rn{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class Dg extends Rn{getDefault(){return o.b7.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Bl extends Rn{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class Oh extends Rn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=i,this.dirty=!1}}class kh extends Rn{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class Up extends Rn{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class fd extends Rn{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class qp extends Rn{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class bf extends Rn{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class vs extends Rn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class zg extends Rn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Vp extends Rn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class bs extends Rn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class pu extends Rn{getDefault(){return null}set(i){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class No extends Rn{getDefault(){return null}set(i){var d;if(i===this.current&&!this.dirty)return;const v=this.gl;ei(v)?v.bindVertexArray(i):(d=v.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class jo extends Rn{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class Fl extends Rn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class _f extends Rn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class hd extends Rn{constructor(i,d){super(i),this.context=i,this.parent=d}getDefault(){return null}}class bc extends hd{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class mu extends hd{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class pd extends hd{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}const Ih="Framebuffer is not complete";class xn{constructor(i,d,v,x,A){this.context=i,this.width=d,this.height=v;const k=i.gl,U=this.framebuffer=k.createFramebuffer();if(this.colorAttachment=new bc(i,U),x)this.depthAttachment=A?new pd(i,U):new mu(i,U);else if(A)throw new Error("Stencil cannot be set without depth");if(k.checkFramebufferStatus(k.FRAMEBUFFER)!==k.FRAMEBUFFER_COMPLETE)throw new Error(Ih)}destroy(){const i=this.context.gl,d=this.colorAttachment.get();if(d&&i.deleteTexture(d),this.depthAttachment){const v=this.depthAttachment.get();v&&i.deleteRenderbuffer(v)}i.deleteFramebuffer(this.framebuffer)}}class _c{constructor(i){var d,v;if(this.gl=i,this.clearColor=new Ll(this),this.clearDepth=new Fp(this),this.clearStencil=new Np(this),this.colorMask=new jp(this),this.depthMask=new $p(this),this.stencilMask=new Og(this),this.stencilFunc=new Us(this),this.stencilOp=new Rh(this),this.stencilTest=new Mh(this),this.depthRange=new kg(this),this.depthTest=new gv(this),this.depthFunc=new ud(this),this.blend=new dd(this),this.blendFunc=new Ig(this),this.blendColor=new Dg(this),this.blendEquation=new Bl(this),this.cullFace=new Oh(this),this.cullFaceSide=new kh(this),this.frontFace=new Up(this),this.program=new fd(this),this.activeTexture=new qp(this),this.viewport=new bf(this),this.bindFramebuffer=new vs(this),this.bindRenderbuffer=new zg(this),this.bindTexture=new Vp(this),this.bindVertexBuffer=new bs(this),this.bindElementBuffer=new pu(this),this.bindVertexArray=new No(this),this.pixelStoreUnpack=new jo(this),this.pixelStoreUnpackPremultiplyAlpha=new Fl(this),this.pixelStoreUnpackFlipY=new _f(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),ei(i)){this.HALF_FLOAT=i.HALF_FLOAT;const x=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=i.RGBA16F)!==null&&d!==void 0?d:x==null?void 0:x.RGBA16F_EXT,this.RGB16F=(v=i.RGB16F)!==null&&v!==void 0?v:x==null?void 0:x.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const x=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=x==null?void 0:x.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,d){return new mv(this,i,d)}createVertexBuffer(i,d,v){return new rs(this,i,d,v)}createRenderbuffer(i,d,v){const x=this.gl,A=x.createRenderbuffer();return this.bindRenderbuffer.set(A),x.renderbufferStorage(x.RENDERBUFFER,i,d,v),this.bindRenderbuffer.set(null),A}createFramebuffer(i,d,v,x){return new xn(this,i,d,v,x)}clear({color:i,depth:d,stencil:v}){const x=this.gl;let A=0;i&&(A|=x.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(A|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),v!==void 0&&(A|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),x.clear(A)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){o.bE(i.blendFunction,Kn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return ei(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var d;return ei(this.gl)?this.gl.deleteVertexArray(i):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}let Hp;function $o(C,i,d,v,x){const A=C.context,k=C.transform,U=A.gl,Z=C.useProgram("collisionBox"),Y=[];let J=0,oe=0;for(let De=0;De<v.length;De++){const Ue=v[De],Ze=i.getTile(Ue).getBucket(d);if(!Ze)continue;const He=x?Ze.textCollisionBox:Ze.iconCollisionBox,Xe=Ze.collisionCircleArray;Xe.length>0&&(Y.push({circleArray:Xe,circleOffset:oe,coord:Ue}),J+=Xe.length/4,oe=J),He&&Z.draw(A,U.LINES,an.disabled,yn.disabled,C.colorModeForRenderPass(),Pn.disabled,cv(C.transform),C.style.map.terrain&&C.style.map.terrain.getTerrainData(Ue),k.getProjectionData({overscaledTileID:Ue,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),d.id,He.layoutVertexBuffer,He.indexBuffer,He.segments,null,C.transform.zoom,null,null,He.collisionVertexBuffer)}if(!x||!Y.length)return;const ie=C.useProgram("collisionCircle"),pe=new o.bT;pe.resize(4*J),pe._trim();let be=0;for(const De of Y)for(let Ue=0;Ue<De.circleArray.length/4;Ue++){const Ze=4*Ue,He=De.circleArray[Ze+0],Xe=De.circleArray[Ze+1],nt=De.circleArray[Ze+2],Qe=De.circleArray[Ze+3];pe.emplace(be++,He,Xe,nt,Qe,0),pe.emplace(be++,He,Xe,nt,Qe,1),pe.emplace(be++,He,Xe,nt,Qe,2),pe.emplace(be++,He,Xe,nt,Qe,3)}(!Hp||Hp.length<2*J)&&(Hp=function(De){const Ue=2*De,Ze=new o.bV;Ze.resize(Ue),Ze._trim();for(let He=0;He<Ue;He++){const Xe=6*He;Ze.uint16[Xe+0]=4*He+0,Ze.uint16[Xe+1]=4*He+1,Ze.uint16[Xe+2]=4*He+2,Ze.uint16[Xe+3]=4*He+2,Ze.uint16[Xe+4]=4*He+3,Ze.uint16[Xe+5]=4*He+0}return Ze}(J));const Ie=A.createIndexBuffer(Hp,!0),ke=A.createVertexBuffer(pe,o.bU.members,!0);for(const De of Y){const Ue=Ah(C.transform);ie.draw(A,U.TRIANGLES,an.disabled,yn.disabled,C.colorModeForRenderPass(),Pn.disabled,Ue,C.style.map.terrain&&C.style.map.terrain.getTerrainData(De.coord),null,d.id,ke,Ie,o.aJ.simpleSegment(0,2*De.circleOffset,De.circleArray.length,De.circleArray.length/2),null,C.transform.zoom,null,null,null)}ke.destroy(),Ie.destroy()}const md=o.ad(new Float32Array(16));function xc(C,i,d,v,x,A){const{horizontalAlign:k,verticalAlign:U}=o.aE(C);return new o.P((-(k-.5)*i/x+v[0])*A,(-(U-.5)*d/x+v[1])*A)}function yv(C,i,d,v,x,A){const k=i.tileAnchorPoint.add(new o.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let U=v.mult(A);d||(U=U.rotate(-x));const Z=k.add(U);return lt(Z.x,Z.y,i.pitchedLabelPlaneMatrix,i.getElevation).point}if(d){const U=fn(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(C),Z=Math.atan(U.y/U.x)+(U.x<0?Math.PI:0);return C.add(v.rotate(Z))}return C.add(v)}function Dh(C,i,d,v,x,A,k,U,Z,Y,J,oe){const ie=C.text.placedSymbolArray,pe=C.text.dynamicLayoutVertexArray,be=C.icon.dynamicLayoutVertexArray,Ie={};pe.clear();for(let ke=0;ke<ie.length;ke++){const De=ie.get(ke),Ue=De.hidden||!De.crossTileID||C.allowVerticalPlacement&&!De.placedOrientation?null:v[De.crossTileID];if(Ue){const Ze=new o.P(De.anchorX,De.anchorY),He={getElevation:oe,width:x.width,height:x.height,pitchedLabelPlaneMatrix:A,pitchWithMap:d,transform:x,tileAnchorPoint:Ze,translation:Y,unwrappedTileID:J},Xe=d?Pr(Ze.x,Ze.y,He):fn(Ze.x,Ze.y,He),nt=Sr(x.cameraToCenterDistance,Xe.signedDistanceFromCamera);let Qe=o.am(C.textSizeData,U,De)*nt/o.ay;d&&(Qe*=C.tilePixelRatio/k);const{width:bt,height:Bt,anchor:Pt,textOffset:Tt,textBoxScale:Mt}=Ue,yr=xc(Pt,bt,Bt,Tt,Mt,Qe),hr=x.getPitchedTextCorrection(Ze.x+Y[0],Ze.y+Y[1],J),Wt=yv(Xe.point,He,i,yr,-x.bearingInRadians,hr),Or=C.allowVerticalPlacement&&De.placedOrientation===o.al.vertical?Math.PI/2:0;for(let vn=0;vn<De.numGlyphs;vn++)o.as(pe,Wt,Or);Z&&De.associatedIconIndex>=0&&(Ie[De.associatedIconIndex]={shiftedAnchor:Wt,angle:Or})}else Ya(De.numGlyphs,pe)}if(Z){be.clear();const ke=C.icon.placedSymbolArray;for(let De=0;De<ke.length;De++){const Ue=ke.get(De);if(Ue.hidden)Ya(Ue.numGlyphs,be);else{const Ze=Ie[De];if(Ze)for(let He=0;He<Ue.numGlyphs;He++)o.as(be,Ze.shiftedAnchor,Ze.angle);else Ya(Ue.numGlyphs,be)}}C.icon.dynamicLayoutVertexBuffer.updateData(be)}C.text.dynamicLayoutVertexBuffer.updateData(pe)}function gd(C,i,d){return d.iconsInText&&i?"symbolTextAndIcon":C?"symbolSDF":"symbolIcon"}function xf(C,i,d,v,x,A,k,U,Z,Y,J,oe,ie){const pe=C.context,be=pe.gl,Ie=C.transform,ke=U==="map",De=Z==="map",Ue=U!=="viewport"&&d.layout.get("symbol-placement")!=="point",Ze=ke&&!De&&!Ue,He=!d.layout.get("symbol-sort-key").isConstant();let Xe=!1;const nt=C.getDepthModeForSublayer(0,an.ReadOnly),Qe=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),bt=[],Bt=Ie.getCircleRadiusCorrection();for(const Pt of v){const Tt=i.getTile(Pt),Mt=Tt.getBucket(d);if(!Mt)continue;const yr=x?Mt.text:Mt.icon;if(!yr||!yr.segments.get().length||!yr.hasVisibleVertices)continue;const hr=yr.programConfigurations.get(d.id),Wt=x||Mt.sdfIcons,Or=x?Mt.textSizeData:Mt.iconSizeData,vn=De||Ie.pitch!==0,Mn=C.useProgram(gd(Wt,x,Mt),hr),Ra=o.ak(Or,Ie.zoom),na=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Pt);let Ma,xa,la,qn,ui=[0,0],Ei=null;if(x)xa=Tt.glyphAtlasTexture,la=be.LINEAR,Ma=Tt.glyphAtlasTexture.size,Mt.iconsInText&&(ui=Tt.imageAtlasTexture.size,Ei=Tt.imageAtlasTexture,qn=vn||C.options.rotating||C.options.zooming||Or.kind==="composite"||Or.kind==="camera"?be.LINEAR:be.NEAREST);else{const ja=d.layout.get("icon-size").constantOr(0)!==1||Mt.iconsNeedLinear;xa=Tt.imageAtlasTexture,la=Wt||C.options.rotating||C.options.zooming||ja||vn?be.LINEAR:be.NEAREST,Ma=Tt.imageAtlasTexture.size}const Li=o.az(Tt,1,C.transform.zoom),Vn=it(ke,C.transform,Li),Kl=o.K();o.an(Kl,Vn);const ml=At(De,ke,C.transform,Li),Oc=o.aA(Ie,Tt,A,k),kc=Ie.getProjectionData({overscaledTileID:Pt,applyGlobeMatrix:!ie,applyTerrainMatrix:!0}),Mf=Qe&&Mt.hasTextData(),Ic=d.layout.get("icon-text-fit")!=="none"&&Mf&&Mt.hasIconData();if(Ue){const ja=C.style.map.terrain?(bo,aa)=>C.style.map.terrain.getElevation(Pt,bo,aa):null,di=d.layout.get("text-rotation-alignment")==="map";_r(Mt,C,x,Vn,Kl,De,Y,di,Pt.toUnwrapped(),Ie.width,Ie.height,Oc,ja)}const Cd=x&&Qe||Ic,ws=Ue||Cd?md:De?Vn:C.transform.clipSpaceToPixelsMatrix,Dc=Wt&&d.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ss;Ss=Wt?Mt.iconsInText?Ph(Or.kind,Ra,Ze,De,Ue,Cd,C,ws,ml,Oc,Ma,ui,Bt):Pg(Or.kind,Ra,Ze,De,Ue,Cd,C,ws,ml,Oc,x,Ma,0,Bt):hu(Or.kind,Ra,Ze,De,Ue,Cd,C,ws,ml,Oc,x,Ma,Bt);const Xl={program:Mn,buffers:yr,uniformValues:Ss,projectionData:kc,atlasTexture:xa,atlasTextureIcon:Ei,atlasInterpolation:la,atlasInterpolationIcon:qn,isSDF:Wt,hasHalo:Dc};if(He&&Mt.canOverlap){Xe=!0;const ja=yr.segments.get();for(const di of ja)bt.push({segments:new o.aJ([di]),sortKey:di.sortKey,state:Xl,terrainData:na})}else bt.push({segments:yr.segments,sortKey:0,state:Xl,terrainData:na})}Xe&&bt.sort((Pt,Tt)=>Pt.sortKey-Tt.sortKey);for(const Pt of bt){const Tt=Pt.state;if(pe.activeTexture.set(be.TEXTURE0),Tt.atlasTexture.bind(Tt.atlasInterpolation,be.CLAMP_TO_EDGE),Tt.atlasTextureIcon&&(pe.activeTexture.set(be.TEXTURE1),Tt.atlasTextureIcon&&Tt.atlasTextureIcon.bind(Tt.atlasInterpolationIcon,be.CLAMP_TO_EDGE)),Tt.isSDF){const Mt=Tt.uniformValues;Tt.hasHalo&&(Mt.u_is_halo=1,yd(Tt.buffers,Pt.segments,d,C,Tt.program,nt,J,oe,Mt,Tt.projectionData,Pt.terrainData)),Mt.u_is_halo=0}yd(Tt.buffers,Pt.segments,d,C,Tt.program,nt,J,oe,Tt.uniformValues,Tt.projectionData,Pt.terrainData)}}function yd(C,i,d,v,x,A,k,U,Z,Y,J){const oe=v.context;x.draw(oe,oe.gl.TRIANGLES,A,k,U,Pn.backCCW,Z,J,Y,d.id,C.layoutVertexBuffer,C.indexBuffer,i,d.paint,v.transform.zoom,C.programConfigurations.get(d.id),C.dynamicLayoutVertexBuffer,C.opacityVertexBuffer)}function wc(C,i,d,v,x){const A=C.context,k=A.gl,U=yn.disabled,Z=new Kn([k.ONE,k.ONE],o.b7.transparent,[!0,!0,!0,!0]),Y=i.getBucket(d);if(!Y)return;const J=v.key;let oe=d.heatmapFbos.get(J);oe||(oe=vd(A,i.tileSize,i.tileSize),d.heatmapFbos.set(J,oe)),A.bindFramebuffer.set(oe.framebuffer),A.viewport.set([0,0,i.tileSize,i.tileSize]),A.clear({color:o.b7.transparent});const ie=Y.programConfigurations.get(d.id),pe=C.useProgram("heatmap",ie,!x),be=C.transform.getProjectionData({overscaledTileID:i.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ie=C.style.map.terrain.getTerrainData(v);pe.draw(A,k.TRIANGLES,an.disabled,U,Z,Pn.disabled,$s(i,C.transform.zoom,d.paint.get("heatmap-intensity"),1),Ie,be,d.id,Y.layoutVertexBuffer,Y.indexBuffer,Y.segments,d.paint,C.transform.zoom,ie)}function gu(C,i,d,v,x){const A=C.context,k=A.gl,U=C.transform;A.setColorMode(C.colorModeForRenderPass());const Z=wf(A,i),Y=d.key,J=i.heatmapFbos.get(Y);if(!J)return;A.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,J.colorAttachment.get()),A.activeTexture.set(k.TEXTURE1),Z.bind(k.LINEAR,k.CLAMP_TO_EDGE);const oe=U.getProjectionData({overscaledTileID:d,applyTerrainMatrix:x,applyGlobeMatrix:!v});C.useProgram("heatmapTexture").draw(A,k.TRIANGLES,an.disabled,yn.disabled,C.colorModeForRenderPass(),Pn.disabled,uv(C,i,0,1),null,oe,i.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments,i.paint,U.zoom),J.destroy(),i.heatmapFbos.delete(Y)}function vd(C,i,d){var v,x;const A=C.gl,k=A.createTexture();A.bindTexture(A.TEXTURE_2D,k),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.LINEAR);const U=(v=C.HALF_FLOAT)!==null&&v!==void 0?v:A.UNSIGNED_BYTE,Z=(x=C.RGBA16F)!==null&&x!==void 0?x:A.RGBA;A.texImage2D(A.TEXTURE_2D,0,Z,i,d,0,A.RGBA,U,null);const Y=C.createFramebuffer(i,d,!1,!1);return Y.colorAttachment.set(k),Y}function wf(C,i){return i.colorRampTexture||(i.colorRampTexture=new ne(C,i.colorRamp,C.gl.RGBA)),i.colorRampTexture}function po(C,i,d,v,x){if(!d||!v||!v.imageAtlas)return;const A=v.imageAtlas.patternPositions;let k=A[d.to.toString()],U=A[d.from.toString()];if(!k&&U&&(k=U),!U&&k&&(U=k),!k||!U){const Z=x.getPaintProperty(i);k=A[Z],U=A[Z]}k&&U&&C.setConstantPatternPositions(k,U)}function mo(C,i,d,v,x,A,k,U){const Z=C.context.gl,Y="fill-pattern",J=d.paint.get(Y),oe=J&&J.constantOr(1),ie=d.getCrossfadeParameters();let pe,be,Ie,ke,De;const Ue=C.transform,Ze=d.paint.get("fill-translate"),He=d.paint.get("fill-translate-anchor");k?(be=oe&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",pe=Z.LINES):(be=oe?"fillPattern":"fill",pe=Z.TRIANGLES);const Xe=J.constantOr(null);for(const nt of v){const Qe=i.getTile(nt);if(oe&&!Qe.patternsLoaded())continue;const bt=Qe.getBucket(d);if(!bt)continue;const Bt=bt.programConfigurations.get(d.id),Pt=C.useProgram(be,Bt),Tt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(nt);oe&&(C.context.activeTexture.set(Z.TEXTURE0),Qe.imageAtlasTexture.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),Bt.updatePaintBuffers(ie)),po(Bt,Y,Xe,Qe,d);const Mt=Ue.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!U,applyTerrainMatrix:!0}),yr=o.aA(Ue,Qe,Ze,He);if(k){ke=bt.indexBuffer2,De=bt.segments2;const Wt=[Z.drawingBufferWidth,Z.drawingBufferHeight];Ie=be==="fillOutlinePattern"&&oe?hf(C,ie,Qe,Wt,yr):Eg(Wt,yr)}else ke=bt.indexBuffer,De=bt.segments,Ie=oe?ff(C,ie,Qe,yr):{u_fill_translate:yr};const hr=C.stencilModeForClipping(nt);Pt.draw(C.context,pe,x,hr,A,Pn.backCCW,Ie,Tt,Mt,d.id,bt.layoutVertexBuffer,ke,De,d.paint,C.transform.zoom,Bt)}}function sl(C,i,d,v,x,A,k,U){const Z=C.context,Y=Z.gl,J="fill-extrusion-pattern",oe=d.paint.get(J),ie=oe.constantOr(1),pe=d.getCrossfadeParameters(),be=d.paint.get("fill-extrusion-opacity"),Ie=oe.constantOr(null),ke=C.transform;for(const De of v){const Ue=i.getTile(De),Ze=Ue.getBucket(d);if(!Ze)continue;const He=C.style.map.terrain&&C.style.map.terrain.getTerrainData(De),Xe=Ze.programConfigurations.get(d.id),nt=C.useProgram(ie?"fillExtrusionPattern":"fillExtrusion",Xe);ie&&(C.context.activeTexture.set(Y.TEXTURE0),Ue.imageAtlasTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),Xe.updatePaintBuffers(pe));const Qe=ke.getProjectionData({overscaledTileID:De,applyGlobeMatrix:!U,applyTerrainMatrix:!0});po(Xe,J,Ie,Ue,d);const bt=o.aA(ke,Ue,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Bt=d.paint.get("fill-extrusion-vertical-gradient"),Pt=ie?js(C,Bt,be,bt,De,pe,Ue):Lp(C,Bt,be,bt);nt.draw(Z,Z.gl.TRIANGLES,x,A,k,Pn.backCCW,Pt,He,Qe,d.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,d.paint,C.transform.zoom,Xe,C.style.map.terrain&&Ze.centroidVertexBuffer)}}function ll(C,i,d,v,x,A,k,U,Z){var Y;const J=C.style.projection,oe=C.context,ie=C.transform,pe=oe.gl,be=[`#define NUM_ILLUMINATION_SOURCES ${d.paint.get("hillshade-highlight-color").values.length}`],Ie=C.useProgram("hillshade",null,!1,be),ke=!C.options.moving;for(const De of v){const Ue=i.getTile(De),Ze=Ue.fbo;if(!Ze)continue;const He=J.getMeshFromTileID(oe,De.canonical,U,!0,"raster"),Xe=(Y=C.style.map.terrain)===null||Y===void 0?void 0:Y.getTerrainData(De);oe.activeTexture.set(pe.TEXTURE0),pe.bindTexture(pe.TEXTURE_2D,Ze.colorAttachment.get());const nt=ie.getProjectionData({overscaledTileID:De,aligned:ke,applyGlobeMatrix:!Z,applyTerrainMatrix:!0});Ie.draw(oe,pe.TRIANGLES,A,x[De.overscaledZ],k,Pn.backCCW,dv(C,Ue,d),Xe,nt,d.id,He.vertexBuffer,He.indexBuffer,He.segments)}}const _s=[new o.P(0,0),new o.P(o.Z,0),new o.P(o.Z,o.Z),new o.P(0,o.Z)];function Nl(C,i,d,v,x,A,k,U,Z=!1,Y=!1){const J=v[v.length-1].overscaledZ,oe=C.context,ie=oe.gl,pe=C.useProgram("raster"),be=C.transform,Ie=C.style.projection,ke=C.colorModeForRenderPass(),De=!C.options.moving;for(const Ue of v){const Ze=C.getDepthModeForSublayer(Ue.overscaledZ-J,d.paint.get("raster-opacity")===1?an.ReadWrite:an.ReadOnly,ie.LESS),He=i.getTile(Ue);He.registerFadeDuration(d.paint.get("raster-fade-duration"));const Xe=i.findLoadedParent(Ue,0),nt=i.findLoadedSibling(Ue),Qe=Lg(He,Xe||nt||null,i,d,C.transform,C.style.map.terrain);let bt,Bt;const Pt=d.paint.get("raster-resampling")==="nearest"?ie.NEAREST:ie.LINEAR;oe.activeTexture.set(ie.TEXTURE0),He.texture.bind(Pt,ie.CLAMP_TO_EDGE,ie.LINEAR_MIPMAP_NEAREST),oe.activeTexture.set(ie.TEXTURE1),Xe?(Xe.texture.bind(Pt,ie.CLAMP_TO_EDGE,ie.LINEAR_MIPMAP_NEAREST),bt=Math.pow(2,Xe.tileID.overscaledZ-He.tileID.overscaledZ),Bt=[He.tileID.canonical.x*bt%1,He.tileID.canonical.y*bt%1]):He.texture.bind(Pt,ie.CLAMP_TO_EDGE,ie.LINEAR_MIPMAP_NEAREST),He.texture.useMipmap&&oe.extTextureFilterAnisotropic&&C.transform.pitch>20&&ie.texParameterf(ie.TEXTURE_2D,oe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,oe.extTextureFilterAnisotropicMax);const Tt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Ue),Mt=be.getProjectionData({overscaledTileID:Ue,aligned:De,applyGlobeMatrix:!Y,applyTerrainMatrix:!0}),yr=Ag(Bt||[0,0],bt||1,Qe,d,U),hr=Ie.getMeshFromTileID(oe,Ue.canonical,A,k,"raster");pe.draw(oe,ie.TRIANGLES,Ze,x?x[Ue.overscaledZ]:yn.disabled,ke,Z?Pn.frontCCW:Pn.backCCW,yr,Tt,Mt,d.id,hr.vertexBuffer,hr.indexBuffer,hr.segments)}}function Lg(C,i,d,v,x,A){const k=v.paint.get("raster-fade-duration");if(!A&&k>0){const U=R.now(),Z=(U-C.timeAdded)/k,Y=i?(U-i.timeAdded)/k:-1,J=d.getSource(),oe=gt(x,{tileSize:J.tileSize,roundZoom:J.roundZoom}),ie=!i||Math.abs(i.tileID.overscaledZ-oe)>Math.abs(C.tileID.overscaledZ-oe),pe=ie&&C.refreshedUponExpiration?1:o.ae(ie?Z:1-Y,0,1);return C.refreshedUponExpiration&&Z>=1&&(C.refreshedUponExpiration=!1),i?{opacity:1,mix:1-pe}:{opacity:pe,mix:0}}return{opacity:1,mix:0}}const Sf=new o.b7(1,0,0,1),zh=new o.b7(0,1,0,1),go=new o.b7(0,0,1,1),Na=new o.b7(1,0,1,1),Un=new o.b7(0,1,1,1);function jl(C,i,d,v){bd(C,0,i+d/2,C.transform.width,d,v)}function cl(C,i,d,v){bd(C,i-d/2,0,d,C.transform.height,v)}function bd(C,i,d,v,x,A){const k=C.context,U=k.gl;U.enable(U.SCISSOR_TEST),U.scissor(i*C.pixelRatio,d*C.pixelRatio,v*C.pixelRatio,x*C.pixelRatio),k.clear({color:A}),U.disable(U.SCISSOR_TEST)}function sa(C,i,d){const v=C.context,x=v.gl,A=C.useProgram("debug"),k=an.disabled,U=yn.disabled,Z=C.colorModeForRenderPass(),Y="$debug",J=C.style.map.terrain&&C.style.map.terrain.getTerrainData(d);v.activeTexture.set(x.TEXTURE0);const oe=i.getTileByID(d.key).latestRawTileData,ie=Math.floor((oe&&oe.byteLength||0)/1024),pe=i.getTile(d).tileSize,be=512/Math.min(pe,512)*(d.overscaledZ/C.transform.zoom)*.5;let Ie=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(Ie+=` => ${d.overscaledZ}`),function(De,Ue){De.initDebugOverlayCanvas();const Ze=De.debugOverlayCanvas,He=De.context.gl,Xe=De.debugOverlayCanvas.getContext("2d");Xe.clearRect(0,0,Ze.width,Ze.height),Xe.shadowColor="white",Xe.shadowBlur=2,Xe.lineWidth=1.5,Xe.strokeStyle="white",Xe.textBaseline="top",Xe.font="bold 36px Open Sans, sans-serif",Xe.fillText(Ue,5,5),Xe.strokeText(Ue,5,5),De.debugOverlayTexture.update(Ze),De.debugOverlayTexture.bind(He.LINEAR,He.CLAMP_TO_EDGE)}(C,`${Ie} ${ie}kB`);const ke=C.transform.getProjectionData({overscaledTileID:d,applyGlobeMatrix:!0,applyTerrainMatrix:!0});A.draw(v,x.TRIANGLES,k,U,Kn.alphaBlended,Pn.disabled,Cg(o.b7.transparent,be),null,ke,Y,C.debugBuffer,C.quadTriangleIndexBuffer,C.debugSegments),A.draw(v,x.LINE_STRIP,k,U,Z,Pn.disabled,Cg(o.b7.red),J,ke,Y,C.debugBuffer,C.tileBorderIndexBuffer,C.debugSegments)}function Sc(C,i,d,v){const{isRenderingGlobe:x}=v,A=C.context,k=A.gl,U=C.transform,Z=C.colorModeForRenderPass(),Y=C.getDepthModeFor3D(),J=C.useProgram("terrain");A.bindFramebuffer.set(null),A.viewport.set([0,0,C.width,C.height]);for(const oe of d){const ie=i.getTerrainMesh(oe.tileID),pe=C.renderToTexture.getTexture(oe),be=i.getTerrainData(oe.tileID);A.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,pe.texture);const Ie=i.getMeshFrameDelta(U.zoom),ke=U.calculateFogMatrix(oe.tileID.toUnwrapped()),De=H_(Ie,ke,C.style.sky,U.pitch,x),Ue=U.getProjectionData({overscaledTileID:oe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});J.draw(A,k.TRIANGLES,Y,yn.disabled,Z,Pn.backCCW,De,be,Ue,"terrain",ie.vertexBuffer,ie.indexBuffer,ie.segments)}}function ns(C,i){if(!i.mesh){const d=new o.aI;d.emplaceBack(-1,-1),d.emplaceBack(1,-1),d.emplaceBack(1,1),d.emplaceBack(-1,1);const v=new o.aK;v.emplaceBack(0,1,2),v.emplaceBack(0,2,3),i.mesh=new Yu(C.createVertexBuffer(d,Wi.members),C.createIndexBuffer(v),o.aJ.simpleSegment(0,0,d.length,v.length))}return i.mesh}class _d{constructor(i,d){this.context=new _c(i),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.ad(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=ft.maxUnderzooming+ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new lf}resize(i,d,v){if(this.width=Math.floor(i*v),this.height=Math.floor(d*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style._order)this.style._layers[x].resize()}setup(){const i=this.context,d=new o.aI;d.emplaceBack(0,0),d.emplaceBack(o.Z,0),d.emplaceBack(0,o.Z),d.emplaceBack(o.Z,o.Z),this.tileExtentBuffer=i.createVertexBuffer(d,Wi.members),this.tileExtentSegments=o.aJ.simpleSegment(0,0,4,2);const v=new o.aI;v.emplaceBack(0,0),v.emplaceBack(o.Z,0),v.emplaceBack(0,o.Z),v.emplaceBack(o.Z,o.Z),this.debugBuffer=i.createVertexBuffer(v,Wi.members),this.debugSegments=o.aJ.simpleSegment(0,0,4,5);const x=new o.b_;x.emplaceBack(0,0,0,0),x.emplaceBack(o.Z,0,o.Z,0),x.emplaceBack(0,o.Z,0,o.Z),x.emplaceBack(o.Z,o.Z,o.Z,o.Z),this.rasterBoundsBuffer=i.createVertexBuffer(x,q_.members),this.rasterBoundsSegments=o.aJ.simpleSegment(0,0,4,2);const A=new o.aI;A.emplaceBack(0,0),A.emplaceBack(o.Z,0),A.emplaceBack(0,o.Z),A.emplaceBack(o.Z,o.Z),this.rasterBoundsBufferPosOnly=i.createVertexBuffer(A,Wi.members),this.rasterBoundsSegmentsPosOnly=o.aJ.simpleSegment(0,0,4,5);const k=new o.aI;k.emplaceBack(0,0),k.emplaceBack(1,0),k.emplaceBack(0,1),k.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(k,Wi.members),this.viewportSegments=o.aJ.simpleSegment(0,0,4,2);const U=new o.b$;U.emplaceBack(0),U.emplaceBack(1),U.emplaceBack(3),U.emplaceBack(2),U.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(U);const Z=new o.aK;Z.emplaceBack(1,0,2),Z.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(Z);const Y=this.context.gl;this.stencilClearMode=new yn({func:Y.ALWAYS,mask:0},0,255,Y.ZERO,Y.ZERO,Y.ZERO),this.tileExtentMesh=new Yu(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const i=this.context,d=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=o.K();o.bQ(v,0,this.width,this.height,0,0,1),o.M(v,v,[d.drawingBufferWidth,d.drawingBufferHeight,0]);const x={mainMatrix:v,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:v};this.useProgram("clippingMask",null,!0).draw(i,d.TRIANGLES,an.disabled,this.stencilClearMode,Kn.disabled,Pn.disabled,null,null,x,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,d,v){if(this.currentStencilSource===i.source||!i.isTileClipped()||!d||!d.length)return;this.currentStencilSource=i.source,this.nextStencilID+d.length>256&&this.clearStencil();const x=this.context;x.setColorMode(Kn.disabled),x.setDepthMode(an.disabled);const A={};for(const k of d)A[k.key]=this.nextStencilID++;this._renderTileMasks(A,d,v,!0),this._renderTileMasks(A,d,v,!1),this._tileClippingMaskIDs=A}_renderTileMasks(i,d,v,x){const A=this.context,k=A.gl,U=this.style.projection,Z=this.transform,Y=this.useProgram("clippingMask");for(const J of d){const oe=i[J.key],ie=this.style.map.terrain&&this.style.map.terrain.getTerrainData(J),pe=U.getMeshFromTileID(this.context,J.canonical,x,!0,"stencil"),be=Z.getProjectionData({overscaledTileID:J,applyGlobeMatrix:!v,applyTerrainMatrix:!0});Y.draw(A,k.TRIANGLES,an.disabled,new yn({func:k.ALWAYS,mask:0},oe,255,k.KEEP,k.KEEP,k.REPLACE),Kn.disabled,v?Pn.disabled:Pn.backCCW,null,ie,be,"$clipping",pe.vertexBuffer,pe.indexBuffer,pe.segments)}}_renderTilesDepthBuffer(){const i=this.context,d=i.gl,v=this.style.projection,x=this.transform,A=this.useProgram("depth"),k=this.getDepthModeFor3D(),U=ot(x,{tileSize:x.tileSize});for(const Z of U){const Y=this.style.map.terrain&&this.style.map.terrain.getTerrainData(Z),J=v.getMeshFromTileID(this.context,Z.canonical,!0,!0,"raster"),oe=x.getProjectionData({overscaledTileID:Z,applyGlobeMatrix:!0,applyTerrainMatrix:!0});A.draw(i,d.TRIANGLES,k,yn.disabled,Kn.disabled,Pn.backCCW,null,Y,oe,"$clipping",J.vertexBuffer,J.indexBuffer,J.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,d=this.context.gl;return new yn({func:d.NOTEQUAL,mask:255},i,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(i){const d=this.context.gl;return new yn({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,d.KEEP,d.KEEP,d.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(i){const d=this.context.gl,v=i.sort((k,U)=>U.overscaledZ-k.overscaledZ),x=v[v.length-1].overscaledZ,A=v[0].overscaledZ-x+1;if(A>1){this.currentStencilSource=void 0,this.nextStencilID+A>256&&this.clearStencil();const k={};for(let U=0;U<A;U++)k[U+x]=new yn({func:d.GEQUAL,mask:255},U+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=A,[k,v]}return[{[x]:yn.disabled},v]}stencilConfigForOverlapTwoPass(i){const d=this.context.gl,v=i.sort((k,U)=>U.overscaledZ-k.overscaledZ),x=v[v.length-1].overscaledZ,A=v[0].overscaledZ-x+1;if(this.clearStencil(),A>1){const k={},U={};for(let Z=0;Z<A;Z++)k[Z+x]=new yn({func:d.GREATER,mask:255},A+1+Z,255,d.KEEP,d.KEEP,d.REPLACE),U[Z+x]=new yn({func:d.GREATER,mask:255},1+Z,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID=2*A+1,[k,U,v]}return this.nextStencilID=3,[{[x]:new yn({func:d.GREATER,mask:255},2,255,d.KEEP,d.KEEP,d.REPLACE)},{[x]:new yn({func:d.GREATER,mask:255},1,255,d.KEEP,d.KEEP,d.REPLACE)},v]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new Kn([i.CONSTANT_COLOR,i.ONE],new o.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Kn.unblended:Kn.alphaBlended}getDepthModeForSublayer(i,d,v){if(!this.opaquePassEnabledForLayer())return an.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new an(v||this.context.gl.LEQUAL,d,[x,x])}getDepthModeFor3D(){return new an(this.context.gl.LEQUAL,an.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,d){var v,x;this.style=i,this.options=d,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(R.now()),this.imageManager.beginFrame();const A=this.style._order,k=this.style.sourceCaches,U={},Z={},Y={},J={isRenderingToTexture:!1,isRenderingGlobe:((v=i.projection)===null||v===void 0?void 0:v.transitionState)>0};for(const ie in k){const pe=k[ie];pe.used&&pe.prepare(this.context),U[ie]=pe.getVisibleCoordinates(!1),Z[ie]=U[ie].slice().reverse(),Y[ie]=pe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ie=0;ie<A.length;ie++)if(this.style._layers[A[ie]].is3D()){this.opaquePassCutoff=ie;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const ie of A){const pe=this.style._layers[ie];if(!pe.hasOffscreenPass()||pe.isHidden(this.transform.zoom))continue;const be=Z[pe.source];(pe.type==="custom"||be.length)&&this.renderLayer(this,k[pe.source],pe,be,J)}if((x=this.style.projection)===null||x===void 0||x.updateGPUdependent({context:this.context,useProgram:ie=>this.useProgram(ie)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.b7.black:o.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(ie,pe){const be=ie.context,Ie=be.gl,ke=((nt,Qe,bt)=>{const Bt=Math.cos(Qe.rollInRadians),Pt=Math.sin(Qe.rollInRadians),Tt=Ge(Qe),Mt=Qe.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:nt.properties.get("sky-color"),u_horizon_color:nt.properties.get("horizon-color"),u_horizon:[(Qe.width/2-Tt*Pt)*bt,(Qe.height/2+Tt*Bt)*bt],u_horizon_normal:[-Pt,Bt],u_sky_horizon_blend:nt.properties.get("sky-horizon-blend")*Qe.height/2*bt,u_sky_blend:Mt}})(pe,ie.style.map.transform,ie.pixelRatio),De=new an(Ie.LEQUAL,an.ReadWrite,[0,1]),Ue=yn.disabled,Ze=ie.colorModeForRenderPass(),He=ie.useProgram("sky"),Xe=ns(be,pe);He.draw(be,Ie.TRIANGLES,De,Ue,Ze,Pn.disabled,ke,null,void 0,"sky",Xe.vertexBuffer,Xe.indexBuffer,Xe.segments)}(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=A.length-1;this.currentLayer>=0;this.currentLayer--){const ie=this.style._layers[A[this.currentLayer]],pe=k[ie.source],be=U[ie.source];this._renderTileClippingMasks(ie,be,!1),this.renderLayer(this,pe,ie,be,J)}this.renderPass="translucent";let oe=!1;for(this.currentLayer=0;this.currentLayer<A.length;this.currentLayer++){const ie=this.style._layers[A[this.currentLayer]],pe=k[ie.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(ie,J))continue;this.opaquePassEnabledForLayer()||oe||(oe=!0,J.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const be=(ie.type==="symbol"?Y:Z)[ie.source];this._renderTileClippingMasks(ie,U[ie.source],!!this.renderToTexture),this.renderLayer(this,pe,ie,be,J)}if(J.isRenderingGlobe&&function(ie,pe,be){const Ie=ie.context,ke=Ie.gl,De=ie.useProgram("atmosphere"),Ue=new an(ke.LEQUAL,an.ReadOnly,[0,1]),Ze=ie.transform,He=function(Mt,yr){const hr=Mt.properties.get("position"),Wt=[-hr.x,-hr.y,-hr.z],Or=o.ad(new Float64Array(16));return Mt.properties.get("anchor")==="map"&&(o.a_(Or,Or,yr.rollInRadians),o.a$(Or,Or,-yr.pitchInRadians),o.a_(Or,Or,yr.bearingInRadians),o.a$(Or,Or,yr.center.lat*Math.PI/180),o.bp(Or,Or,-yr.center.lng*Math.PI/180)),o.bZ(Wt,Wt,Or),Wt}(be,ie.transform),Xe=Ze.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),nt=pe.properties.get("atmosphere-blend")*Xe.projectionTransition;if(nt===0)return;const Qe=id(Ze.worldSize,Ze.center.lat),bt=Ze.inverseProjectionMatrix,Bt=new Float64Array(4);Bt[3]=1,o.at(Bt,Bt,Ze.modelViewProjectionMatrix),Bt[0]/=Bt[3],Bt[1]/=Bt[3],Bt[2]/=Bt[3],Bt[3]=1,o.at(Bt,Bt,bt),Bt[0]/=Bt[3],Bt[1]/=Bt[3],Bt[2]/=Bt[3],Bt[3]=1;const Pt=((Mt,yr,hr,Wt,Or)=>({u_sun_pos:Mt,u_atmosphere_blend:yr,u_globe_position:hr,u_globe_radius:Wt,u_inv_proj_matrix:Or}))(He,nt,[Bt[0],Bt[1],Bt[2]],Qe,bt),Tt=ns(Ie,pe);De.draw(Ie,ke.TRIANGLES,Ue,yn.disabled,Kn.alphaBlended,Pn.disabled,Pt,null,null,"atmosphere",Tt.vertexBuffer,Tt.indexBuffer,Tt.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const ie=function(pe,be){let Ie=null;const ke=Object.values(pe._layers).flatMap(He=>He.source&&!He.isHidden(be)?[pe.sourceCaches[He.source]]:[]),De=ke.filter(He=>He.getSource().type==="vector"),Ue=ke.filter(He=>He.getSource().type!=="vector"),Ze=He=>{(!Ie||Ie.getSource().maxzoom<He.getSource().maxzoom)&&(Ie=He)};return De.forEach(He=>Ze(He)),Ie||Ue.forEach(He=>Ze(He)),Ie}(this.style,this.transform.zoom);ie&&function(pe,be,Ie){for(let ke=0;ke<Ie.length;ke++)sa(pe,be,Ie[ke])}(this,ie,ie.getVisibleCoordinates())}this.options.showPadding&&function(ie){const pe=ie.transform.padding;jl(ie,ie.transform.height-(pe.top||0),3,Sf),jl(ie,pe.bottom||0,3,zh),cl(ie,pe.left||0,3,go),cl(ie,ie.transform.width-(pe.right||0),3,Na);const be=ie.transform.centerPoint;(function(Ie,ke,De,Ue){bd(Ie,ke-1,De-10,2,20,Ue),bd(Ie,ke-10,De-1,20,2,Ue)})(ie,be.x,ie.transform.height-be.y,Un)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(i){if(!this.style||!this.style.map||!this.style.map.terrain)return;const d=this.terrainFacilitator.matrix,v=this.transform.modelViewProjectionMatrix;let x=this.terrainFacilitator.dirty;x||(x=i?!o.c0(d,v):!o.c1(d,v)),x||(x=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),x&&(o.c2(d,v),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(A,k){const U=A.context,Z=U.gl,Y=A.transform,J=Kn.unblended,oe=new an(Z.LEQUAL,an.ReadWrite,[0,1]),ie=k.sourceCache.getRenderableTiles(),pe=A.useProgram("terrainDepth");U.bindFramebuffer.set(k.getFramebuffer("depth").framebuffer),U.viewport.set([0,0,A.width/devicePixelRatio,A.height/devicePixelRatio]),U.clear({color:o.b7.transparent,depth:1});for(const be of ie){const Ie=k.getTerrainMesh(be.tileID),ke=k.getTerrainData(be.tileID),De=Y.getProjectionData({overscaledTileID:be.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),Ue={u_ele_delta:k.getMeshFrameDelta(Y.zoom)};pe.draw(U,Z.TRIANGLES,oe,yn.disabled,J,Pn.backCCW,Ue,ke,De,"terrain",Ie.vertexBuffer,Ie.indexBuffer,Ie.segments)}U.bindFramebuffer.set(null),U.viewport.set([0,0,A.width,A.height])}(this,this.style.map.terrain),function(A,k){const U=A.context,Z=U.gl,Y=A.transform,J=Kn.unblended,oe=new an(Z.LEQUAL,an.ReadWrite,[0,1]),ie=k.getCoordsTexture(),pe=k.sourceCache.getRenderableTiles(),be=A.useProgram("terrainCoords");U.bindFramebuffer.set(k.getFramebuffer("coords").framebuffer),U.viewport.set([0,0,A.width/devicePixelRatio,A.height/devicePixelRatio]),U.clear({color:o.b7.transparent,depth:1}),k.coordsIndex=[];for(const Ie of pe){const ke=k.getTerrainMesh(Ie.tileID),De=k.getTerrainData(Ie.tileID);U.activeTexture.set(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,ie.texture);const Ue={u_terrain_coords_id:(255-k.coordsIndex.length)/255,u_texture:0,u_ele_delta:k.getMeshFrameDelta(Y.zoom)},Ze=Y.getProjectionData({overscaledTileID:Ie.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});be.draw(U,Z.TRIANGLES,oe,yn.disabled,J,Pn.backCCW,Ue,De,Ze,"terrain",ke.vertexBuffer,ke.indexBuffer,ke.segments),k.coordsIndex.push(Ie.tileID.key)}U.bindFramebuffer.set(null),U.viewport.set([0,0,A.width,A.height])}(this,this.style.map.terrain))}renderLayer(i,d,v,x,A){v.isHidden(this.transform.zoom)||(v.type==="background"||v.type==="custom"||(x||[]).length)&&(this.id=v.id,o.c3(v)?function(k,U,Z,Y,J,oe){if(k.renderPass!=="translucent")return;const{isRenderingToTexture:ie}=oe,pe=yn.disabled,be=k.colorModeForRenderPass();(Z._unevaluatedLayout.hasValue("text-variable-anchor")||Z._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Ie,ke,De,Ue,Ze,He,Xe,nt,Qe){const bt=ke.transform,Bt=ke.style.map.terrain,Pt=Ze==="map",Tt=He==="map";for(const Mt of Ie){const yr=Ue.getTile(Mt),hr=yr.getBucket(De);if(!hr||!hr.text||!hr.text.segments.get().length)continue;const Wt=o.ak(hr.textSizeData,bt.zoom),Or=o.az(yr,1,ke.transform.zoom),vn=it(Pt,ke.transform,Or),Mn=De.layout.get("icon-text-fit")!=="none"&&hr.hasIconData();if(Wt){const Ra=Math.pow(2,bt.zoom-yr.tileID.overscaledZ),na=Bt?(Ma,xa)=>Bt.getElevation(Mt,Ma,xa):null;Dh(hr,Pt,Tt,Qe,bt,vn,Ra,Wt,Mn,o.aA(bt,yr,Xe,nt),Mt.toUnwrapped(),na)}}}(Y,k,Z,U,Z.layout.get("text-rotation-alignment"),Z.layout.get("text-pitch-alignment"),Z.paint.get("text-translate"),Z.paint.get("text-translate-anchor"),J),Z.paint.get("icon-opacity").constantOr(1)!==0&&xf(k,U,Z,Y,!1,Z.paint.get("icon-translate"),Z.paint.get("icon-translate-anchor"),Z.layout.get("icon-rotation-alignment"),Z.layout.get("icon-pitch-alignment"),Z.layout.get("icon-keep-upright"),pe,be,ie),Z.paint.get("text-opacity").constantOr(1)!==0&&xf(k,U,Z,Y,!0,Z.paint.get("text-translate"),Z.paint.get("text-translate-anchor"),Z.layout.get("text-rotation-alignment"),Z.layout.get("text-pitch-alignment"),Z.layout.get("text-keep-upright"),pe,be,ie),U.map.showCollisionBoxes&&($o(k,U,Z,Y,!0),$o(k,U,Z,Y,!1))}(i,d,v,x,this.style.placement.variableOffsets,A):o.c4(v)?function(k,U,Z,Y,J){if(k.renderPass!=="translucent")return;const{isRenderingToTexture:oe}=J,ie=Z.paint.get("circle-opacity"),pe=Z.paint.get("circle-stroke-width"),be=Z.paint.get("circle-stroke-opacity"),Ie=!Z.layout.get("circle-sort-key").isConstant();if(ie.constantOr(1)===0&&(pe.constantOr(1)===0||be.constantOr(1)===0))return;const ke=k.context,De=ke.gl,Ue=k.transform,Ze=k.getDepthModeForSublayer(0,an.ReadOnly),He=yn.disabled,Xe=k.colorModeForRenderPass(),nt=[],Qe=Ue.getCircleRadiusCorrection();for(let bt=0;bt<Y.length;bt++){const Bt=Y[bt],Pt=U.getTile(Bt),Tt=Pt.getBucket(Z);if(!Tt)continue;const Mt=Z.paint.get("circle-translate"),yr=Z.paint.get("circle-translate-anchor"),hr=o.aA(Ue,Pt,Mt,yr),Wt=Tt.programConfigurations.get(Z.id),Or=k.useProgram("circle",Wt),vn=Tt.layoutVertexBuffer,Mn=Tt.indexBuffer,Ra=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Bt),na={programConfiguration:Wt,program:Or,layoutVertexBuffer:vn,indexBuffer:Mn,uniformValues:pf(k,Pt,Z,hr,Qe),terrainData:Ra,projectionData:Ue.getProjectionData({overscaledTileID:Bt,applyGlobeMatrix:!oe,applyTerrainMatrix:!0})};if(Ie){const Ma=Tt.segments.get();for(const xa of Ma)nt.push({segments:new o.aJ([xa]),sortKey:xa.sortKey,state:na})}else nt.push({segments:Tt.segments,sortKey:0,state:na})}Ie&&nt.sort((bt,Bt)=>bt.sortKey-Bt.sortKey);for(const bt of nt){const{programConfiguration:Bt,program:Pt,layoutVertexBuffer:Tt,indexBuffer:Mt,uniformValues:yr,terrainData:hr,projectionData:Wt}=bt.state;Pt.draw(ke,De.TRIANGLES,Ze,He,Xe,Pn.backCCW,yr,hr,Wt,Z.id,Tt,Mt,bt.segments,Z.paint,k.transform.zoom,Bt)}}(i,d,v,x,A):o.c5(v)?function(k,U,Z,Y,J){if(Z.paint.get("heatmap-opacity")===0)return;const oe=k.context,{isRenderingToTexture:ie,isRenderingGlobe:pe}=J;if(k.style.map.terrain){for(const be of Y){const Ie=U.getTile(be);U.hasRenderableParent(be)||(k.renderPass==="offscreen"?wc(k,Ie,Z,be,pe):k.renderPass==="translucent"&&gu(k,Z,be,ie,pe))}oe.viewport.set([0,0,k.width,k.height])}else k.renderPass==="offscreen"?function(be,Ie,ke,De){const Ue=be.context,Ze=Ue.gl,He=be.transform,Xe=yn.disabled,nt=new Kn([Ze.ONE,Ze.ONE],o.b7.transparent,[!0,!0,!0,!0]);(function(Qe,bt,Bt){const Pt=Qe.gl;Qe.activeTexture.set(Pt.TEXTURE1),Qe.viewport.set([0,0,bt.width/4,bt.height/4]);let Tt=Bt.heatmapFbos.get(o.bW);Tt?(Pt.bindTexture(Pt.TEXTURE_2D,Tt.colorAttachment.get()),Qe.bindFramebuffer.set(Tt.framebuffer)):(Tt=vd(Qe,bt.width/4,bt.height/4),Bt.heatmapFbos.set(o.bW,Tt))})(Ue,be,ke),Ue.clear({color:o.b7.transparent});for(let Qe=0;Qe<De.length;Qe++){const bt=De[Qe];if(Ie.hasRenderableParent(bt))continue;const Bt=Ie.getTile(bt),Pt=Bt.getBucket(ke);if(!Pt)continue;const Tt=Pt.programConfigurations.get(ke.id),Mt=be.useProgram("heatmap",Tt),yr=He.getProjectionData({overscaledTileID:bt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),hr=He.getCircleRadiusCorrection();Mt.draw(Ue,Ze.TRIANGLES,an.disabled,Xe,nt,Pn.backCCW,$s(Bt,He.zoom,ke.paint.get("heatmap-intensity"),hr),null,yr,ke.id,Pt.layoutVertexBuffer,Pt.indexBuffer,Pt.segments,ke.paint,He.zoom,Tt)}Ue.viewport.set([0,0,be.width,be.height])}(k,U,Z,Y):k.renderPass==="translucent"&&function(be,Ie){const ke=be.context,De=ke.gl;ke.setColorMode(be.colorModeForRenderPass());const Ue=Ie.heatmapFbos.get(o.bW);Ue&&(ke.activeTexture.set(De.TEXTURE0),De.bindTexture(De.TEXTURE_2D,Ue.colorAttachment.get()),ke.activeTexture.set(De.TEXTURE1),wf(ke,Ie).bind(De.LINEAR,De.CLAMP_TO_EDGE),be.useProgram("heatmapTexture").draw(ke,De.TRIANGLES,an.disabled,yn.disabled,be.colorModeForRenderPass(),Pn.disabled,uv(be,Ie,0,1),null,null,Ie.id,be.viewportBuffer,be.quadTriangleIndexBuffer,be.viewportSegments,Ie.paint,be.transform.zoom))}(k,Z)}(i,d,v,x,A):o.c6(v)?function(k,U,Z,Y,J){if(k.renderPass!=="translucent")return;const{isRenderingToTexture:oe}=J,ie=Z.paint.get("line-opacity"),pe=Z.paint.get("line-width");if(ie.constantOr(1)===0||pe.constantOr(1)===0)return;const be=k.getDepthModeForSublayer(0,an.ReadOnly),Ie=k.colorModeForRenderPass(),ke=Z.paint.get("line-dasharray"),De=Z.paint.get("line-pattern"),Ue=De.constantOr(1),Ze=Z.paint.get("line-gradient"),He=Z.getCrossfadeParameters(),Xe=Ue?"linePattern":ke?"lineSDF":Ze?"lineGradient":"line",nt=k.context,Qe=nt.gl,bt=k.transform;let Bt=!0;for(const Pt of Y){const Tt=U.getTile(Pt);if(Ue&&!Tt.patternsLoaded())continue;const Mt=Tt.getBucket(Z);if(!Mt)continue;const yr=Mt.programConfigurations.get(Z.id),hr=k.context.program.get(),Wt=k.useProgram(Xe,yr),Or=Bt||Wt.program!==hr,vn=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Pt),Mn=De.constantOr(null);if(Mn&&Tt.imageAtlas){const la=Tt.imageAtlas,qn=la.patternPositions[Mn.to.toString()],ui=la.patternPositions[Mn.from.toString()];qn&&ui&&yr.setConstantPatternPositions(qn,ui)}const Ra=bt.getProjectionData({overscaledTileID:Pt,applyGlobeMatrix:!oe,applyTerrainMatrix:!0}),na=bt.getPixelScale(),Ma=Ue?yf(k,Tt,Z,na,He):ke?fv(k,Tt,Z,na,ke,He):Ze?gf(k,Tt,Z,na,Mt.lineClipsArray.length):mf(k,Tt,Z,na);if(Ue)nt.activeTexture.set(Qe.TEXTURE0),Tt.imageAtlasTexture.bind(Qe.LINEAR,Qe.CLAMP_TO_EDGE),yr.updatePaintBuffers(He);else if(ke&&(Or||k.lineAtlas.dirty))nt.activeTexture.set(Qe.TEXTURE0),k.lineAtlas.bind(nt);else if(Ze){const la=Mt.gradients[Z.id];let qn=la.texture;if(Z.gradientVersion!==la.version){let ui=256;if(Z.stepInterpolant){const Ei=U.getSource().maxzoom,Li=Pt.canonical.z===Ei?Math.ceil(1<<k.transform.maxZoom-Pt.canonical.z):1;ui=o.ae(o.bX(Mt.maxLineLength/o.Z*1024*Li),256,nt.maxTextureSize)}la.gradient=o.bY({expression:Z.gradientExpression(),evaluationKey:"lineProgress",resolution:ui,image:la.gradient||void 0,clips:Mt.lineClipsArray}),la.texture?la.texture.update(la.gradient):la.texture=new ne(nt,la.gradient,Qe.RGBA),la.version=Z.gradientVersion,qn=la.texture}nt.activeTexture.set(Qe.TEXTURE0),qn.bind(Z.stepInterpolant?Qe.NEAREST:Qe.LINEAR,Qe.CLAMP_TO_EDGE)}const xa=k.stencilModeForClipping(Pt);Wt.draw(nt,Qe.TRIANGLES,be,xa,Ie,Pn.disabled,Ma,vn,Ra,Z.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,Z.paint,k.transform.zoom,yr,Mt.layoutVertexBuffer2),Bt=!1}}(i,d,v,x,A):o.c7(v)?function(k,U,Z,Y,J){const oe=Z.paint.get("fill-color"),ie=Z.paint.get("fill-opacity");if(ie.constantOr(1)===0)return;const{isRenderingToTexture:pe}=J,be=k.colorModeForRenderPass(),Ie=Z.paint.get("fill-pattern"),ke=k.opaquePassEnabledForLayer()&&!Ie.constantOr(1)&&oe.constantOr(o.b7.transparent).a===1&&ie.constantOr(0)===1?"opaque":"translucent";if(k.renderPass===ke){const De=k.getDepthModeForSublayer(1,k.renderPass==="opaque"?an.ReadWrite:an.ReadOnly);mo(k,U,Z,Y,De,be,!1,pe)}if(k.renderPass==="translucent"&&Z.paint.get("fill-antialias")){const De=k.getDepthModeForSublayer(Z.getPaintProperty("fill-outline-color")?2:0,an.ReadOnly);mo(k,U,Z,Y,De,be,!0,pe)}}(i,d,v,x,A):o.c8(v)?function(k,U,Z,Y,J){const oe=Z.paint.get("fill-extrusion-opacity");if(oe===0)return;const{isRenderingToTexture:ie}=J;if(k.renderPass==="translucent"){const pe=new an(k.context.gl.LEQUAL,an.ReadWrite,k.depthRangeFor3D);if(oe!==1||Z.paint.get("fill-extrusion-pattern").constantOr(1))sl(k,U,Z,Y,pe,yn.disabled,Kn.disabled,ie),sl(k,U,Z,Y,pe,k.stencilModeFor3D(),k.colorModeForRenderPass(),ie);else{const be=k.colorModeForRenderPass();sl(k,U,Z,Y,pe,yn.disabled,be,ie)}}}(i,d,v,x,A):o.c9(v)?function(k,U,Z,Y,J){if(k.renderPass!=="offscreen"&&k.renderPass!=="translucent")return;const{isRenderingToTexture:oe}=J,ie=k.context,pe=k.style.projection.useSubdivision,be=k.getDepthModeForSublayer(0,an.ReadOnly),Ie=k.colorModeForRenderPass();if(k.renderPass==="offscreen")(function(ke,De,Ue,Ze,He,Xe,nt){const Qe=ke.context,bt=Qe.gl;for(const Bt of Ue){const Pt=De.getTile(Bt),Tt=Pt.dem;if(!Tt||!Tt.data||!Pt.needsHillshadePrepare)continue;const Mt=Tt.dim,yr=Tt.stride,hr=Tt.getPixels();if(Qe.activeTexture.set(bt.TEXTURE1),Qe.pixelStoreUnpackPremultiplyAlpha.set(!1),Pt.demTexture=Pt.demTexture||ke.getTileTexture(yr),Pt.demTexture){const Or=Pt.demTexture;Or.update(hr,{premultiply:!1}),Or.bind(bt.NEAREST,bt.CLAMP_TO_EDGE)}else Pt.demTexture=new ne(Qe,hr,bt.RGBA,{premultiply:!1}),Pt.demTexture.bind(bt.NEAREST,bt.CLAMP_TO_EDGE);Qe.activeTexture.set(bt.TEXTURE0);let Wt=Pt.fbo;if(!Wt){const Or=new ne(Qe,{width:Mt,height:Mt,data:null},bt.RGBA);Or.bind(bt.LINEAR,bt.CLAMP_TO_EDGE),Wt=Pt.fbo=Qe.createFramebuffer(Mt,Mt,!0,!1),Wt.colorAttachment.set(Or.texture)}Qe.bindFramebuffer.set(Wt.framebuffer),Qe.viewport.set([0,0,Mt,Mt]),ke.useProgram("hillshadePrepare").draw(Qe,bt.TRIANGLES,He,Xe,nt,Pn.disabled,G_(Pt.tileID,Tt),null,null,Ze.id,ke.rasterBoundsBuffer,ke.quadTriangleIndexBuffer,ke.rasterBoundsSegments),Pt.needsHillshadePrepare=!1}})(k,U,Y,Z,be,yn.disabled,Ie),ie.viewport.set([0,0,k.width,k.height]);else if(k.renderPass==="translucent")if(pe){const[ke,De,Ue]=k.stencilConfigForOverlapTwoPass(Y);ll(k,U,Z,Ue,ke,be,Ie,!1,oe),ll(k,U,Z,Ue,De,be,Ie,!0,oe)}else{const[ke,De]=k.getStencilConfigForOverlapAndUpdateStencilID(Y);ll(k,U,Z,De,ke,be,Ie,!1,oe)}}(i,d,v,x,A):o.ca(v)?function(k,U,Z,Y,J){if(k.renderPass!=="translucent"||Z.paint.get("raster-opacity")===0||!Y.length)return;const{isRenderingToTexture:oe}=J,ie=U.getSource(),pe=k.style.projection.useSubdivision;if(ie instanceof Be)Nl(k,U,Z,Y,null,!1,!1,ie.tileCoords,ie.flippedWindingOrder,oe);else if(pe){const[be,Ie,ke]=k.stencilConfigForOverlapTwoPass(Y);Nl(k,U,Z,ke,be,!1,!0,_s,!1,oe),Nl(k,U,Z,ke,Ie,!0,!0,_s,!1,oe)}else{const[be,Ie]=k.getStencilConfigForOverlapAndUpdateStencilID(Y);Nl(k,U,Z,Ie,be,!1,!0,_s,!1,oe)}}(i,d,v,x,A):o.cb(v)?function(k,U,Z,Y,J){const oe=Z.paint.get("background-color"),ie=Z.paint.get("background-opacity");if(ie===0)return;const{isRenderingToTexture:pe}=J,be=k.context,Ie=be.gl,ke=k.style.projection,De=k.transform,Ue=De.tileSize,Ze=Z.paint.get("background-pattern");if(k.isPatternMissing(Ze))return;const He=!Ze&&oe.a===1&&ie===1&&k.opaquePassEnabledForLayer()?"opaque":"translucent";if(k.renderPass!==He)return;const Xe=yn.disabled,nt=k.getDepthModeForSublayer(0,He==="opaque"?an.ReadWrite:an.ReadOnly),Qe=k.colorModeForRenderPass(),bt=k.useProgram(Ze?"backgroundPattern":"background"),Bt=Y||ot(De,{tileSize:Ue,terrain:k.style.map.terrain});Ze&&(be.activeTexture.set(Ie.TEXTURE0),k.imageManager.bind(k.context));const Pt=Z.getCrossfadeParameters();for(const Tt of Bt){const Mt=De.getProjectionData({overscaledTileID:Tt,applyGlobeMatrix:!pe,applyTerrainMatrix:!0}),yr=Ze?Z_(ie,k,Ze,{tileID:Tt,tileSize:Ue},Pt):hv(ie,oe),hr=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Tt),Wt=ke.getMeshFromTileID(be,Tt.canonical,!1,!0,"raster");bt.draw(be,Ie.TRIANGLES,nt,Xe,Qe,Pn.backCCW,yr,hr,Mt,Z.id,Wt.vertexBuffer,Wt.indexBuffer,Wt.segments)}}(i,0,v,x,A):o.cc(v)&&function(k,U,Z,Y){const{isRenderingGlobe:J}=Y,oe=k.context,ie=Z.implementation,pe=k.style.projection,be=k.transform,Ie=be.getProjectionDataForCustomLayer(J),ke={farZ:be.farZ,nearZ:be.nearZ,fov:be.fov*Math.PI/180,modelViewProjectionMatrix:be.modelViewProjectionMatrix,projectionMatrix:be.projectionMatrix,shaderData:{variantName:pe.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${pe.shaderPreludeCode.vertexSource}`,define:pe.shaderDefine},defaultProjectionData:Ie},De=ie.renderingMode?ie.renderingMode:"2d";if(k.renderPass==="offscreen"){const Ue=ie.prerender;Ue&&(k.setCustomLayerDefaults(),oe.setColorMode(k.colorModeForRenderPass()),Ue.call(ie,oe.gl,ke),oe.setDirty(),k.setBaseState())}else if(k.renderPass==="translucent"){k.setCustomLayerDefaults(),oe.setColorMode(k.colorModeForRenderPass()),oe.setStencilMode(yn.disabled);const Ue=De==="3d"?k.getDepthModeFor3D():k.getDepthModeForSublayer(0,an.ReadOnly);oe.setDepthMode(Ue),ie.render(oe.gl,ke),oe.setDirty(),k.setBaseState(),oe.bindFramebuffer.set(null)}}(i,0,v,A))}saveTileTexture(i){const d=this._tileTextures[i.size[0]];d?d.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const d=this._tileTextures[i];return d&&d.length>0?d.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const d=this.imageManager.getPattern(i.from.toString()),v=this.imageManager.getPattern(i.to.toString());return!d||!v}useProgram(i,d,v=!1,x=[]){this.cache=this.cache||{};const A=!!this.style.map.terrain,k=this.style.projection,U=v?Bo.projectionMercator:k.shaderPreludeCode,Z=v?Qu:k.shaderDefine,Y=i+(d?d.cacheKey:"")+`/${v?kn:k.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(A?"/terrain":"")+(x?`/${x.join("/")}`:"");return this.cache[Y]||(this.cache[Y]=new Dp(this.context,Bo[i],d,pv[i],this._showOverdrawInspector,A,U,Z,x)),this.cache[Y]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ne(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:d}=this.context.gl;return this.width!==i||this.height!==d}}function Ec(C,i){let d,v=!1,x=null,A=null;const k=()=>{x=null,v&&(C.apply(A,d),x=setTimeout(k,i),v=!1)};return(...U)=>(v=!0,A=this,d=U,x||k(),x)}class Gp{constructor(i){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let v;return d.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(v=x)}),(v&&v[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(!this._isValidHash(d))return!1;const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:v,pitch:+(d[4]||0)}),!0},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{const d=this._getCurrentHash();if(d.length===0)return;const v=d.join("/");let x=v;x.split("&").length>0&&(x=x.split("&")[0]),this._hashName&&(x=`${this._hashName}=${v}`);let A=window.location.hash.replace(x,"");A.startsWith("#&")?A=A.slice(0,1)+A.slice(2):A==="#"&&(A="");let k=window.location.href.replace(/(#.+)?$/,A);k=k.replace("&&","&"),window.history.replaceState(window.history.state,null,k)},this._updateHash=Ec(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(i){const d=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,x=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),A=Math.pow(10,x),k=Math.round(d.lng*A)/A,U=Math.round(d.lat*A)/A,Z=this._map.getBearing(),Y=this._map.getPitch();let J="";if(J+=i?`/${k}/${U}/${v}`:`${v}/${U}/${k}`,(Z||Y)&&(J+="/"+Math.round(10*Z)/10),Y&&(J+=`/${Math.round(Y)}`),this._hashName){const oe=this._hashName;let ie=!1;const pe=window.location.hash.slice(1).split("&").map(be=>{const Ie=be.split("=")[0];return Ie===oe?(ie=!0,`${Ie}=${J}`):be}).filter(be=>be);return ie||pe.push(`${oe}=${J}`),`#${pe.join("&")}`}return`#${J}`}_isValidHash(i){if(i.length<3||i.some(isNaN))return!1;try{new o.Q(+i[2],+i[1])}catch{return!1}const d=+i[0],v=+(i[3]||0),x=+(i[4]||0);return d>=this._map.getMinZoom()&&d<=this._map.getMaxZoom()&&v>=-180&&v<=180&&x>=this._map.getMinPitch()&&x<=this._map.getMaxPitch()}}const as={linearity:.3,easing:o.cd(0,0,.3,1)},Lh=o.e({deceleration:2500,maxSpeed:1400},as),ul=o.e({deceleration:20,maxSpeed:1400},as),dl=o.e({deceleration:1e3,maxSpeed:360},as),Cc=o.e({deceleration:1e3,maxSpeed:90},as),$l=o.e({deceleration:1e3,maxSpeed:360},as);class Zp{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:R.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,d=R.now();for(;i.length>0&&d-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:A}of this._inertiaBuffer)d.zoom+=A.zoomDelta||0,d.bearing+=A.bearingDelta||0,d.pitch+=A.pitchDelta||0,d.roll+=A.rollDelta||0,A.panDelta&&d.pan._add(A.panDelta),A.around&&(d.around=A.around),A.pinchAround&&(d.pinchAround=A.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(d.pan.mag()){const A=Ul(d.pan.mag(),v,o.e({},Lh,i||{})),k=d.pan.mult(A.amount/d.pan.mag()),U=this._map.cameraHelper.handlePanInertia(k,this._map.transform);x.center=U.easingCenter,x.offset=U.easingOffset,yu(x,A)}if(d.zoom){const A=Ul(d.zoom,v,ul);x.zoom=this._map.transform.zoom+A.amount,yu(x,A)}if(d.bearing){const A=Ul(d.bearing,v,dl);x.bearing=this._map.transform.bearing+o.ae(A.amount,-179,179),yu(x,A)}if(d.pitch){const A=Ul(d.pitch,v,Cc);x.pitch=this._map.transform.pitch+A.amount,yu(x,A)}if(d.roll){const A=Ul(d.roll,v,$l);x.roll=this._map.transform.roll+o.ae(A.amount,-179,179),yu(x,A)}if(x.zoom||x.bearing){const A=d.pinchAround===void 0?d.around:d.pinchAround;x.around=A?this._map.unproject(A):this._map.getCenter()}return this.clear(),o.e(x,{noMoveStart:!0})}}function yu(C,i){(!C.duration||C.duration<i.duration)&&(C.duration=i.duration,C.easing=i.easing)}function Ul(C,i,d){const{maxSpeed:v,linearity:x,deceleration:A}=d,k=o.ae(C*x/(i/1e3),-v,v),U=Math.abs(k)/(A*x);return{easing:d.easing,duration:1e3*U,amount:k*(U/2)}}class ti extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,v,x={}){v=v instanceof MouseEvent?v:new MouseEvent(i,v);const A=O.mousePos(d.getCanvas(),v),k=d.unproject(A);super(i,o.e({point:A,lngLat:k,originalEvent:v},x)),this._defaultPrevented=!1,this.target=d}}class qs extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,v){const x=i==="touchend"?v.changedTouches:v.touches,A=O.touchPos(d.getCanvasContainer(),x),k=A.map(Z=>d.unproject(Z)),U=A.reduce((Z,Y,J,oe)=>Z.add(Y.div(oe.length)),new o.P(0,0));super(i,{points:A,point:U,lngLats:k,lngLat:d.unproject(U),originalEvent:v}),this._defaultPrevented=!1}}class zi extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,v){super(i,{originalEvent:v}),this._defaultPrevented=!1}}class Bh{constructor(i,d){this._map=i,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new zi(i.type,this._map,i))}mousedown(i,d){return this._mousedownPos=d,this._firePreventable(new ti(i.type,this._map,i))}mouseup(i){this._map.fire(new ti(i.type,this._map,i))}click(i,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new ti(i.type,this._map,i))}dblclick(i){return this._firePreventable(new ti(i.type,this._map,i))}mouseover(i){this._map.fire(new ti(i.type,this._map,i))}mouseout(i){this._map.fire(new ti(i.type,this._map,i))}touchstart(i){return this._firePreventable(new qs(i.type,this._map,i))}touchmove(i){this._map.fire(new qs(i.type,this._map,i))}touchend(i){this._map.fire(new qs(i.type,this._map,i))}touchcancel(i){this._map.fire(new qs(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Bg{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new ti(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ti("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new ti(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ef{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.screenPointToLocation(o.P.convert(i),this._map.terrain)}}class Fg{constructor(i,d){this._map=i,this._tr=new Ef(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,d){this.isEnabled()&&i.shiftKey&&i.button===0&&(O.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(i,d){if(!this._active)return;const v=d;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const x=this._startPos;this._lastPos=v,this._box||(this._box=O.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const A=Math.min(x.x,v.x),k=Math.max(x.x,v.x),U=Math.min(x.y,v.y),Z=Math.max(x.y,v.y);O.setTransform(this._box,`translate(${A}px,${U}px)`),this._box.style.width=k-A+"px",this._box.style.height=Z-U+"px"}mouseupWindow(i,d){if(!this._active||i.button!==0)return;const v=this._startPos,x=d;if(this.reset(),O.suppressClick(),v.x!==x.x||v.y!==x.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:i})),{cameraAnimation:A=>A.fitScreenCoordinates(v,x,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(O.remove(this._box),this._box=null),O.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,d){return this._map.fire(new o.l(i,{originalEvent:d}))}}function Wp(C,i){if(C.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${C.length}, points ${i.length}`);const d={};for(let v=0;v<C.length;v++)d[C[v].identifier]=i[v];return d}class yi{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,d,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),v.length===this.numTouches&&(this.centroid=function(x){const A=new o.P(0,0);for(const k of x)A._add(k);return A.div(x.length)}(d),this.touches=Wp(v,d)))}touchmove(i,d,v){if(this.aborted||!this.centroid)return;const x=Wp(v,d);for(const A in this.touches){const k=x[A];(!k||k.dist(this.touches[A])>30)&&(this.aborted=!0)}}touchend(i,d,v){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class vu{constructor(i){this.singleTap=new yi(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,d,v){this.singleTap.touchstart(i,d,v)}touchmove(i,d,v){this.singleTap.touchmove(i,d,v)}touchend(i,d,v){const x=this.singleTap.touchend(i,d,v);if(x){const A=i.timeStamp-this.lastTime<500,k=!this.lastTap||this.lastTap.dist(x)<30;if(A&&k||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class Cf{constructor(i){this._tr=new Ef(i),this._zoomIn=new vu({numTouches:1,numTaps:2}),this._zoomOut=new vu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,d,v){this._zoomIn.touchstart(i,d,v),this._zoomOut.touchstart(i,d,v)}touchmove(i,d,v){this._zoomIn.touchmove(i,d,v),this._zoomOut.touchmove(i,d,v)}touchend(i,d,v){const x=this._zoomIn.touchend(i,d,v),A=this._zoomOut.touchend(i,d,v),k=this._tr;return x?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:k.zoom+1,around:k.unproject(x)},{originalEvent:i})}):A?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:k.zoom-1,around:k.unproject(A)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vi{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const d=this._moveFunction(...i);if(d.bearingDelta||d.pitchDelta||d.rollDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(i,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=Array.isArray(d)?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,d){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const x=Array.isArray(d)?d[0]:d;return!this._moved&&x.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=x,this._move(v,x))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&O.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const xs={0:1,2:2};class fl{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const d=O.mouseButton(i);this._eventButton=d}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(d,v){const x=xs[v];return d.buttons===void 0||(d.buttons&x)!==x}(i,this._eventButton)}isValidEndEvent(i){return O.mouseButton(i)===this._eventButton}}class yo{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}class Tf{constructor(i=new fl({checkCorrectEvent:()=>!0}),d=new yo){this.mouseMoveStateManager=i,this.oneFingerTouchMoveStateManager=d}_executeRelevantHandler(i,d,v){return i instanceof MouseEvent?d(i):typeof TouchEvent<"u"&&i instanceof TouchEvent?v(i):void 0}startMove(i){this._executeRelevantHandler(i,d=>this.mouseMoveStateManager.startMove(d),d=>this.oneFingerTouchMoveStateManager.startMove(d))}endMove(i){this._executeRelevantHandler(i,d=>this.mouseMoveStateManager.endMove(d),d=>this.oneFingerTouchMoveStateManager.endMove(d))}isValidStartEvent(i){return this._executeRelevantHandler(i,d=>this.mouseMoveStateManager.isValidStartEvent(d),d=>this.oneFingerTouchMoveStateManager.isValidStartEvent(d))}isValidMoveEvent(i){return this._executeRelevantHandler(i,d=>this.mouseMoveStateManager.isValidMoveEvent(d),d=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(d))}isValidEndEvent(i){return this._executeRelevantHandler(i,d=>this.mouseMoveStateManager.isValidEndEvent(d),d=>this.oneFingerTouchMoveStateManager.isValidEndEvent(d))}}const Fh=C=>{C.mousedown=C.dragStart,C.mousemoveWindow=C.dragMove,C.mouseup=C.dragEnd,C.contextmenu=i=>{i.preventDefault()}};class W_{constructor(i,d){this._clickTolerance=i.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(i){return i<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(i,d,v){return this._calculateTransform(i,d,v)}touchmove(i,d,v){if(this._active){if(!this._shouldBePrevented(v.length))return i.preventDefault(),this._calculateTransform(i,d,v);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",i)}}touchend(i,d,v){this._calculateTransform(i,d,v),this._active&&this._shouldBePrevented(v.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,d,v){v.length>0&&(this._active=!0);const x=Wp(v,d),A=new o.P(0,0),k=new o.P(0,0);let U=0;for(const Y in x){const J=x[Y],oe=this._touches[Y];oe&&(A._add(J),k._add(J.sub(oe)),U++,x[Y]=J)}if(this._touches=x,this._shouldBePrevented(U)||!k.mag())return;const Z=k.div(U);return this._sum._add(Z),this._sum.mag()<this._clickTolerance?void 0:{around:A.div(U),panDelta:Z}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Kp{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,d,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([d[0],d[1]]))}touchmove(i,d,v){if(!this._firstTwoTouches)return;i.preventDefault();const[x,A]=this._firstTwoTouches,k=ql(v,d,x),U=ql(v,d,A);if(!k||!U)return;const Z=this._aroundCenter?null:k.add(U).div(2);return this._move([k,U],Z,i)}touchend(i,d,v){if(!this._firstTwoTouches)return;const[x,A]=this._firstTwoTouches,k=ql(v,d,x),U=ql(v,d,A);k&&U||(this._active&&O.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ql(C,i,d){for(let v=0;v<C.length;v++)if(C[v].identifier===d)return i[v]}function Nh(C,i){return Math.log(C/i)/Math.LN2}class Tc extends Kp{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,d){const v=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(Nh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Nh(this._distance,v),pinchAround:d}}}function hl(C,i){return 180*C.angleWith(i)/Math.PI}class Er extends Kp{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,d,v){const x=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:hl(this._vector,x),pinchAround:d}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const d=25/(Math.PI*this._minDiameter)*360,v=hl(i,this._startVector);return Math.abs(v)<d}}function jh(C){return Math.abs(C.y)>Math.abs(C.x)}class xd extends Kp{constructor(i){super(),this._currentTouchCount=0,this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,d,v){super.touchstart(i,d,v),this._currentTouchCount=v.length}_start(i){this._lastPoints=i,jh(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,d,v){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const x=i[0].sub(this._lastPoints[0]),A=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(x,A,v.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(x.y+A.y)/2*-.5}):void 0}gestureBeginsVertically(i,d,v){if(this._valid!==void 0)return this._valid;const x=i.mag()>=2,A=d.mag()>=2;if(!x&&!A)return;if(!x||!A)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const k=i.y>0==d.y>0;return jh(i)&&jh(d)&&k}}const Xp={panStep:100,bearingStep:15,pitchStep:10};class wd{constructor(i){this._tr=new Ef(i);const d=Xp;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let d=0,v=0,x=0,A=0,k=0;switch(i.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:i.shiftKey?v=-1:(i.preventDefault(),A=-1);break;case 39:i.shiftKey?v=1:(i.preventDefault(),A=1);break;case 38:i.shiftKey?x=1:(i.preventDefault(),k=-1);break;case 40:i.shiftKey?x=-1:(i.preventDefault(),k=1);break;default:return}return this._rotationDisabled&&(v=0,x=0),{cameraAnimation:U=>{const Z=this._tr;U.easeTo({duration:300,easeId:"keyboardHandler",easing:bu,zoom:d?Math.round(Z.zoom)+d*(i.shiftKey?2:1):Z.zoom,bearing:Z.bearing+v*this._bearingStep,pitch:Z.pitch+x*this._pitchStep,offset:[-A*this._panStep,-k*this._panStep],center:Z.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function bu(C){return C*(2-C)}const Yp=4.000244140625;class bn{constructor(i,d){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=i,this._tr=new Ef(i),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(i){return!!this._map.cooperativeGestures.isEnabled()&&!(i.ctrlKey||this._map.cooperativeGestures.isBypassed(i))}wheel(i){if(!this.isEnabled())return;if(this._shouldBePrevented(i))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",i);let d=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const v=R.now(),x=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,d!==0&&d%Yp==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(x*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),i.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=i,this._delta-=d,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=O.mousePos(this._map.getCanvas(),i),v=this._tr;this._aroundPoint=this._aroundCenter?v.transform.locationToScreenPoint(o.Q.convert(v.center)):d,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const U=i.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=U),typeof this._targetZoom=="number"&&(this._targetZoom+=U)}if(this._delta!==0){const U=this._type==="wheel"&&Math.abs(this._delta)>Yp?this._wheelZoomRate:this._defaultZoomRate;let Z=2/(1+Math.exp(-Math.abs(this._delta*U)));this._delta<0&&Z!==0&&(Z=1/Z);const Y=typeof this._targetZoom!="number"?i.scale:o.ac(this._targetZoom);this._targetZoom=i.getConstrained(i.getCameraLngLat(),o.ah(Y*Z)).zoom,this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom!="number"?i.zoom:this._targetZoom,v=this._startZoom,x=this._easing;let A,k=!1;if(this._type==="wheel"&&v&&x){const U=R.now()-this._lastWheelEventTime,Z=Math.min((U+5)/200,1),Y=x(Z);A=o.B.number(v,d,Y),Z<1?this._frameId||(this._frameId=!0):k=!0}else A=d,k=!0;return this._active=!0,k&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=A,{noInertia:!0,needsRenderFrame:!k,zoomDelta:A-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let d=o.cf;if(this._prevEase){const v=this._prevEase,x=(R.now()-v.start)/v.duration,A=v.easing(x+.01)-v.easing(x),k=.27/Math.sqrt(A*A+1e-4)*.01,U=Math.sqrt(.0729-k*k);d=o.cd(k,U,.25,1)}return this._prevEase={start:R.now(),duration:i,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class $h{constructor(i,d){this._clickZoom=i,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class vv{constructor(i){this._tr=new Ef(i),this.reset()}reset(){this._active=!1}dblclick(i,d){return i.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vl{constructor(){this._tap=new vu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,d,v){if(!this._swipePoint)if(this._tapTime){const x=d[0],A=i.timeStamp-this._tapTime<500,k=this._tapPoint.dist(x)<30;A&&k?v.length>0&&(this._swipePoint=x,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(i,d,v)}touchmove(i,d,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const x=d[0],A=x.y-this._swipePoint.y;return this._swipePoint=x,i.preventDefault(),this._active=!0,{zoomDelta:A/128}}}else this._tap.touchmove(i,d,v)}touchend(i,d,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const x=this._tap.touchend(i,d,v);x&&(this._tapTime=i.timeStamp,this._tapPoint=x)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qp{constructor(i,d,v){this._el=i,this._mousePan=d,this._touchPan=v}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Jp{constructor(i,d,v,x){this._pitchWithRotate=i.pitchWithRotate,this._rollEnabled=i.rollEnabled,this._mouseRotate=d,this._mousePitch=v,this._mouseRoll=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Hl{constructor(i,d,v,x){this._el=i,this._touchZoom=d,this._touchRotate=v,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class pl{constructor(i,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=i,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const i=this._map.getCanvasContainer();i.classList.add("maplibregl-cooperative-gestures"),this._container=O.create("div","maplibregl-cooperative-gesture-screen",i);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const v=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),x=document.createElement("div");x.className="maplibregl-desktop-message",x.textContent=d,this._container.appendChild(x);const A=document.createElement("div");A.className="maplibregl-mobile-message",A.textContent=v,this._container.appendChild(A),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(O.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(i){return i[this._bypassKey]}notifyGestureBlocked(i,d){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:i,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Ac=C=>C.zoom||C.drag||C.roll||C.pitch||C.rotate;class Ng extends o.l{}function Af(C){return C.panDelta&&C.panDelta.mag()||C.zoomDelta||C.bearingDelta||C.pitchDelta||C.rollDelta}class Uh{constructor(i,d){this.handleWindowEvent=x=>{this.handleEvent(x,`${x.type}Window`)},this.handleEvent=(x,A)=>{if(x.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const k=x.type==="renderFrame"?void 0:x,U={needsRenderFrame:!1},Z={},Y={};for(const{handlerName:ie,handler:pe,allowed:be}of this._handlers){if(!pe.isEnabled())continue;let Ie;if(this._blockedByActive(Y,be,ie))pe.reset();else if(pe[A||x.type]){if(o.cg(x,A||x.type)){const ke=O.mousePos(this._map.getCanvas(),x);Ie=pe[A||x.type](x,ke)}else if(o.ch(x,A||x.type)){const ke=this._getMapTouches(x.touches),De=O.touchPos(this._map.getCanvas(),ke);Ie=pe[A||x.type](x,De,ke)}else o.ci(A||x.type)||(Ie=pe[A||x.type](x));this.mergeHandlerResult(U,Z,Ie,ie,k),Ie&&Ie.needsRenderFrame&&this._triggerRenderFrame()}(Ie||pe.isActive())&&(Y[ie]=pe)}const J={};for(const ie in this._previousActiveHandlers)Y[ie]||(J[ie]=k);this._previousActiveHandlers=Y,(Object.keys(J).length||Af(U))&&(this._changes.push([U,Z,J]),this._triggerRenderFrame()),(Object.keys(Y).length||Af(U))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:oe}=U;oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],oe(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Zp(i),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[x,A,k]of this._listeners)O.addEventListener(x,A,x===document?this.handleWindowEvent:this.handleEvent,k)}destroy(){for(const[i,d,v]of this._listeners)O.removeEventListener(i,d,i===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(i){const d=this._map,v=d.getCanvasContainer();this._add("mapEvent",new Bh(d,i));const x=d.boxZoom=new Fg(d,i);this._add("boxZoom",x),i.interactive&&i.boxZoom&&x.enable();const A=d.cooperativeGestures=new pl(d,i.cooperativeGestures);this._add("cooperativeGestures",A),i.cooperativeGestures&&A.enable();const k=new Cf(d),U=new vv(d);d.doubleClickZoom=new $h(U,k),this._add("tapZoom",k),this._add("clickZoom",U),i.interactive&&i.doubleClickZoom&&d.doubleClickZoom.enable();const Z=new Vl;this._add("tapDragZoom",Z);const Y=d.touchPitch=new xd(d);this._add("touchPitch",Y),i.interactive&&i.touchPitch&&d.touchPitch.enable(i.touchPitch);const J=()=>d.project(d.getCenter()),oe=function({enable:He,clickTolerance:Xe,aroundCenter:nt=!0,minPixelCenterThreshold:Qe=100,rotateDegreesPerPixelMoved:bt=.8},Bt){const Pt=new fl({checkCorrectEvent:Tt=>O.mouseButton(Tt)===0&&Tt.ctrlKey||O.mouseButton(Tt)===2&&!Tt.ctrlKey});return new vi({clickTolerance:Xe,move:(Tt,Mt)=>{const yr=Bt();if(nt&&Math.abs(yr.y-Tt.y)>Qe)return{bearingDelta:o.ce(new o.P(Tt.x,Mt.y),Mt,yr)};let hr=(Mt.x-Tt.x)*bt;return nt&&Mt.y<yr.y&&(hr=-hr),{bearingDelta:hr}},moveStateManager:Pt,enable:He,assignEvents:Fh})}(i,J),ie=function({enable:He,clickTolerance:Xe,pitchDegreesPerPixelMoved:nt=-.5}){const Qe=new fl({checkCorrectEvent:bt=>O.mouseButton(bt)===0&&bt.ctrlKey||O.mouseButton(bt)===2});return new vi({clickTolerance:Xe,move:(bt,Bt)=>({pitchDelta:(Bt.y-bt.y)*nt}),moveStateManager:Qe,enable:He,assignEvents:Fh})}(i),pe=function({enable:He,clickTolerance:Xe,rollDegreesPerPixelMoved:nt=.3},Qe){const bt=new fl({checkCorrectEvent:Bt=>O.mouseButton(Bt)===2&&Bt.ctrlKey});return new vi({clickTolerance:Xe,move:(Bt,Pt)=>{const Tt=Qe();let Mt=(Pt.x-Bt.x)*nt;return Pt.y<Tt.y&&(Mt=-Mt),{rollDelta:Mt}},moveStateManager:bt,enable:He,assignEvents:Fh})}(i,J);d.dragRotate=new Jp(i,oe,ie,pe),this._add("mouseRotate",oe,["mousePitch"]),this._add("mousePitch",ie,["mouseRotate","mouseRoll"]),this._add("mouseRoll",pe,["mousePitch"]),i.interactive&&i.dragRotate&&d.dragRotate.enable();const be=function({enable:He,clickTolerance:Xe}){const nt=new fl({checkCorrectEvent:Qe=>O.mouseButton(Qe)===0&&!Qe.ctrlKey});return new vi({clickTolerance:Xe,move:(Qe,bt)=>({around:bt,panDelta:bt.sub(Qe)}),activateOnStart:!0,moveStateManager:nt,enable:He,assignEvents:Fh})}(i),Ie=new W_(i,d);d.dragPan=new Qp(v,be,Ie),this._add("mousePan",be),this._add("touchPan",Ie,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&d.dragPan.enable(i.dragPan);const ke=new Er,De=new Tc;d.touchZoomRotate=new Hl(v,De,ke,Z),this._add("touchRotate",ke,["touchPan","touchZoom"]),this._add("touchZoom",De,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&d.touchZoomRotate.enable(i.touchZoomRotate);const Ue=d.scrollZoom=new bn(d,()=>this._triggerRenderFrame());this._add("scrollZoom",Ue,["mousePan"]),i.interactive&&i.scrollZoom&&d.scrollZoom.enable(i.scrollZoom);const Ze=d.keyboard=new wd(d);this._add("keyboard",Ze),i.interactive&&i.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new Bg(d))}_add(i,d,v){this._handlers.push({handlerName:i,handler:d,allowed:v}),this._handlersById[i]=d}stop(i){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ac(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,d,v){for(const x in i)if(x!==v&&(!d||d.indexOf(x)<0))return!0;return!1}_getMapTouches(i){const d=[];for(const v of i)this._el.contains(v.target)&&d.push(v);return d}mergeHandlerResult(i,d,v,x,A){if(!v)return;o.e(i,v);const k={handlerName:x,originalEvent:v.originalEvent||A};v.zoomDelta!==void 0&&(d.zoom=k),v.panDelta!==void 0&&(d.drag=k),v.rollDelta!==void 0&&(d.roll=k),v.pitchDelta!==void 0&&(d.pitch=k),v.bearingDelta!==void 0&&(d.rotate=k)}_applyChanges(){const i={},d={},v={};for(const[x,A,k]of this._changes)x.panDelta&&(i.panDelta=(i.panDelta||new o.P(0,0))._add(x.panDelta)),x.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+x.pitchDelta),x.rollDelta&&(i.rollDelta=(i.rollDelta||0)+x.rollDelta),x.around!==void 0&&(i.around=x.around),x.pinchAround!==void 0&&(i.pinchAround=x.pinchAround),x.noInertia&&(i.noInertia=x.noInertia),o.e(d,A),o.e(v,k);this._updateMapTransform(i,d,v),this._changes=[]}_updateMapTransform(i,d,v){const x=this._map,A=x._getTransformForUpdate(),k=x.terrain;if(!(Af(i)||k&&this._terrainMovement))return this._fireEvents(d,v,!0);x._stop(!0);let{panDelta:U,zoomDelta:Z,bearingDelta:Y,pitchDelta:J,rollDelta:oe,around:ie,pinchAround:pe}=i;pe!==void 0&&(ie=pe),ie=ie||x.transform.centerPoint,k&&!A.isPointOnMapSurface(ie)&&(ie=A.centerPoint);const be={panDelta:U,zoomDelta:Z,rollDelta:oe,pitchDelta:J,bearingDelta:Y,around:ie};this._map.cameraHelper.useGlobeControls&&!A.isPointOnMapSurface(ie)&&(ie=A.centerPoint);const Ie=ie.distSqr(A.centerPoint)<.01?A.center:A.screenPointToLocation(U?ie.sub(U):ie);k?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(be,A),this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?A.setCenter(A.screenPointToLocation(A.centerPoint.sub(U))):this._map.cameraHelper.handleMapControlsPan(be,A,Ie):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(be,A,Ie))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(be,A),this._map.cameraHelper.handleMapControlsPan(be,A,Ie)),x._applyUpdatedTransform(A),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(d,v,!0)}_fireEvents(i,d,v){const x=Ac(this._eventsInProgress),A=Ac(i),k={};for(const oe in i){const{originalEvent:ie}=i[oe];this._eventsInProgress[oe]||(k[`${oe}start`]=ie),this._eventsInProgress[oe]=i[oe]}!x&&A&&this._fireEvent("movestart",A.originalEvent);for(const oe in k)this._fireEvent(oe,k[oe]);A&&this._fireEvent("move",A.originalEvent);for(const oe in i){const{originalEvent:ie}=i[oe];this._fireEvent(oe,ie)}const U={};let Z;for(const oe in this._eventsInProgress){const{handlerName:ie,originalEvent:pe}=this._eventsInProgress[oe];this._handlersById[ie].isActive()||(delete this._eventsInProgress[oe],Z=d[ie]||pe,U[`${oe}end`]=Z)}for(const oe in U)this._fireEvent(oe,U[oe]);const Y=Ac(this._eventsInProgress),J=(x||A)&&!Y;if(J&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const oe=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&oe.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(oe)}if(v&&J){this._updatingCamera=!0;const oe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ie=pe=>pe!==0&&-this._bearingSnap<pe&&pe<this._bearingSnap;!oe||!oe.essential&&R.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:Z})),ie(this._map.getBearing())&&this._map.resetNorth()):(ie(oe.bearing||this._map.getBearing())&&(oe.bearing=0),oe.freezeElevation=!0,this._map.easeTo(oe,{originalEvent:Z})),this._updatingCamera=!1}}_fireEvent(i,d){this._map.fire(new o.l(i,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new Ng("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class qh extends o.E{constructor(i,d,v){super(),this._renderFrameCallback=()=>{const x=Math.min((R.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(x)),x<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=v.bearingSnap,this.cameraHelper=d,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(i,d){i.apply(this.transform),this.transform=i,this.cameraHelper=d}getCenter(){return new o.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(i,d){return this.jumpTo({center:i},d)}getCenterElevation(){return this.transform.elevation}setCenterElevation(i,d){return this.jumpTo({elevation:i},d),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(i){this._centerClampedToGround=i}panBy(i,d,v){return i=o.P.convert(i).mult(-1),this.panTo(this.transform.center,o.e({offset:i},d),v)}panTo(i,d,v){return this.easeTo(o.e({center:i},d),v)}getZoom(){return this.transform.zoom}setZoom(i,d){return this.jumpTo({zoom:i},d),this}zoomTo(i,d,v){return this.easeTo(o.e({zoom:i},d),v)}zoomIn(i,d){return this.zoomTo(this.getZoom()+1,i,d),this}zoomOut(i,d){return this.zoomTo(this.getZoom()-1,i,d),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(i,d){return i!=this.transform.fov&&(this.transform.setFov(i),this.fire(new o.l("movestart",d)).fire(new o.l("move",d)).fire(new o.l("moveend",d))),this}getBearing(){return this.transform.bearing}setBearing(i,d){return this.jumpTo({bearing:i},d),this}getPadding(){return this.transform.padding}setPadding(i,d){return this.jumpTo({padding:i},d),this}rotateTo(i,d,v){return this.easeTo(o.e({bearing:i},d),v)}resetNorth(i,d){return this.rotateTo(0,o.e({duration:1e3},i),d),this}resetNorthPitch(i,d){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},i),d),this}snapToNorth(i,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,d):this}getPitch(){return this.transform.pitch}setPitch(i,d){return this.jumpTo({pitch:i},d),this}getRoll(){return this.transform.roll}setRoll(i,d){return this.jumpTo({roll:i},d),this}cameraForBounds(i,d){i=Xt.convert(i).adjustAntiMeridian();const v=d&&d.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),v,d)}_cameraForBoxAndBearing(i,d,v,x){const A={top:0,bottom:0,right:0,left:0};if(typeof(x=o.e({padding:A,offset:[0,0],maxZoom:this.transform.maxZoom},x)).padding=="number"){const Y=x.padding;x.padding={top:Y,bottom:Y,right:Y,left:Y}}const k=o.e(A,x.padding);x.padding=k;const U=this.transform,Z=new Xt(i,d);return this.cameraHelper.cameraForBoxAndBearing(x,k,Z,v,U)}fitBounds(i,d,v){return this._fitInternal(this.cameraForBounds(i,d),d,v)}fitScreenCoordinates(i,d,v,x,A){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(i)),this.transform.screenPointToLocation(o.P.convert(d)),v,x),x,A)}_fitInternal(i,d,v){return i?(delete(d=o.e(i,d)).padding,d.linear?this.easeTo(d,v):this.flyTo(d,v)):this}jumpTo(i,d){this.stop();const v=this._getTransformForUpdate();let x=!1,A=!1,k=!1;const U=v.zoom;this.cameraHelper.handleJumpToCenterZoom(v,i);const Z=v.zoom!==U;return"elevation"in i&&v.elevation!==+i.elevation&&v.setElevation(+i.elevation),"bearing"in i&&v.bearing!==+i.bearing&&(x=!0,v.setBearing(+i.bearing)),"pitch"in i&&v.pitch!==+i.pitch&&(A=!0,v.setPitch(+i.pitch)),"roll"in i&&v.roll!==+i.roll&&(k=!0,v.setRoll(+i.roll)),i.padding==null||v.isPaddingEqual(i.padding)||v.setPadding(i.padding),this._applyUpdatedTransform(v),this.fire(new o.l("movestart",d)).fire(new o.l("move",d)),Z&&this.fire(new o.l("zoomstart",d)).fire(new o.l("zoom",d)).fire(new o.l("zoomend",d)),x&&this.fire(new o.l("rotatestart",d)).fire(new o.l("rotate",d)).fire(new o.l("rotateend",d)),A&&this.fire(new o.l("pitchstart",d)).fire(new o.l("pitch",d)).fire(new o.l("pitchend",d)),k&&this.fire(new o.l("rollstart",d)).fire(new o.l("roll",d)).fire(new o.l("rollend",d)),this.fire(new o.l("moveend",d))}calculateCameraOptionsFromTo(i,d,v,x=0){const A=o.$.fromLngLat(i,d),k=o.$.fromLngLat(v,x),U=k.x-A.x,Z=k.y-A.y,Y=k.z-A.z,J=Math.hypot(U,Z,Y);if(J===0)throw new Error("Can't calculate camera options with same From and To");const oe=Math.hypot(U,Z),ie=o.ah(this.transform.cameraToCenterDistance/J/this.transform.tileSize),pe=180*Math.atan2(U,-Z)/Math.PI;let be=180*Math.acos(oe/J)/Math.PI;return be=Y<0?90-be:90+be,{center:k.toLngLat(),elevation:x,zoom:ie,pitch:be,bearing:pe}}calculateCameraOptionsFromCameraLngLatAltRotation(i,d,v,x,A){const k=this.transform.calculateCenterFromCameraLngLatAlt(i,d,v,x);return{center:k.center,elevation:k.elevation,zoom:k.zoom,bearing:v,pitch:x,roll:A}}easeTo(i,d){this._stop(!1,i.easeId),((i=o.e({offset:[0,0],duration:500,easing:o.cf},i)).animate===!1||!i.essential&&R.prefersReducedMotion)&&(i.duration=0);const v=this._getTransformForUpdate(),x=this.getBearing(),A=v.pitch,k=v.roll,U="bearing"in i?this._normalizeBearing(i.bearing,x):x,Z="pitch"in i?+i.pitch:A,Y="roll"in i?this._normalizeBearing(i.roll,k):k,J="padding"in i?i.padding:v.padding,oe=o.P.convert(i.offset);let ie,pe;i.around&&(ie=o.Q.convert(i.around),pe=v.locationToScreenPoint(ie));const be={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},Ie=this.cameraHelper.handleEaseTo(v,{bearing:U,pitch:Z,roll:Y,padding:J,around:ie,aroundPoint:pe,offsetAsPoint:oe,offset:i.offset,zoom:i.zoom,center:i.center});return this._rotating=this._rotating||x!==U,this._pitching=this._pitching||Z!==A,this._rolling=this._rolling||Y!==k,this._padding=!v.isPaddingEqual(J),this._zooming=this._zooming||Ie.isZooming,this._easeId=i.easeId,this._prepareEase(d,i.noMoveStart,be),this.terrain&&this._prepareElevation(Ie.elevationCenter),this._ease(ke=>{Ie.easeFunc(ke),this.terrain&&!i.freezeElevation&&this._updateElevation(ke),this._applyUpdatedTransform(v),this._fireMoveEvents(d)},ke=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(d,ke)},i),this}_prepareEase(i,d,v={}){this._moving=!0,d||v.moving||this.fire(new o.l("movestart",i)),this._zooming&&!v.zooming&&this.fire(new o.l("zoomstart",i)),this._rotating&&!v.rotating&&this.fire(new o.l("rotatestart",i)),this._pitching&&!v.pitching&&this.fire(new o.l("pitchstart",i)),this._rolling&&!v.rolling&&this.fire(new o.l("rollstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&d!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(v-(d-(v*i+this._elevationStart))/(1-i)),this._elevationTarget=d}this.transform.setElevation(o.B.number(this._elevationStart,this._elevationTarget,i))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(i){if(!this.terrain&&i.elevation>=0&&i.pitch<=90)return{};const d=i.getCameraLngLat(),v=i.getCameraAltitude(),x=this.terrain?this.terrain.getElevationForLngLatZoom(d,i.zoom):0;if(v<x){const A=this.calculateCameraOptionsFromTo(d,x,i.center,i.elevation);return{pitch:A.pitch,zoom:A.zoom}}return{}}_applyUpdatedTransform(i){const d=[];if(d.push(x=>this._elevateCameraIfInsideTerrain(x)),this.transformCameraUpdate&&d.push(x=>this.transformCameraUpdate(x)),!d.length)return;const v=i.clone();for(const x of d){const A=v.clone(),{center:k,zoom:U,roll:Z,pitch:Y,bearing:J,elevation:oe}=x(A);k&&A.setCenter(k),oe!==void 0&&A.setElevation(oe),U!==void 0&&A.setZoom(U),Z!==void 0&&A.setRoll(Z),Y!==void 0&&A.setPitch(Y),J!==void 0&&A.setBearing(J),v.apply(A)}this.transform.apply(v)}_fireMoveEvents(i){this.fire(new o.l("move",i)),this._zooming&&this.fire(new o.l("zoom",i)),this._rotating&&this.fire(new o.l("rotate",i)),this._pitching&&this.fire(new o.l("pitch",i)),this._rolling&&this.fire(new o.l("roll",i))}_afterEase(i,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const v=this._zooming,x=this._rotating,A=this._pitching,k=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,v&&this.fire(new o.l("zoomend",i)),x&&this.fire(new o.l("rotateend",i)),A&&this.fire(new o.l("pitchend",i)),k&&this.fire(new o.l("rollend",i)),this.fire(new o.l("moveend",i))}flyTo(i,d){if(!i.essential&&R.prefersReducedMotion){const Mt=o.O(i,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Mt,d)}this.stop(),i=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.cf},i);const v=this._getTransformForUpdate(),x=v.bearing,A=v.pitch,k=v.roll,U=v.padding,Z="bearing"in i?this._normalizeBearing(i.bearing,x):x,Y="pitch"in i?+i.pitch:A,J="roll"in i?this._normalizeBearing(i.roll,k):k,oe="padding"in i?i.padding:v.padding,ie=o.P.convert(i.offset);let pe=v.centerPoint.add(ie);const be=v.screenPointToLocation(pe),Ie=this.cameraHelper.handleFlyTo(v,{bearing:Z,pitch:Y,roll:J,padding:oe,locationAtOffset:be,offsetAsPoint:ie,center:i.center,minZoom:i.minZoom,zoom:i.zoom});let ke=i.curve;const De=Math.max(v.width,v.height),Ue=De/Ie.scaleOfZoom,Ze=Ie.pixelPathLength;typeof Ie.scaleOfMinZoom=="number"&&(ke=Math.sqrt(De/Ie.scaleOfMinZoom/Ze*2));const He=ke*ke;function Xe(Mt){const yr=(Ue*Ue-De*De+(Mt?-1:1)*He*He*Ze*Ze)/(2*(Mt?Ue:De)*He*Ze);return Math.log(Math.sqrt(yr*yr+1)-yr)}function nt(Mt){return(Math.exp(Mt)-Math.exp(-Mt))/2}function Qe(Mt){return(Math.exp(Mt)+Math.exp(-Mt))/2}const bt=Xe(!1);let Bt=function(Mt){return Qe(bt)/Qe(bt+ke*Mt)},Pt=function(Mt){return De*((Qe(bt)*(nt(yr=bt+ke*Mt)/Qe(yr))-nt(bt))/He)/Ze;var yr},Tt=(Xe(!0)-bt)/ke;if(Math.abs(Ze)<2e-6||!isFinite(Tt)){if(Math.abs(De-Ue)<1e-6)return this.easeTo(i,d);const Mt=Ue<De?-1:1;Tt=Math.abs(Math.log(Ue/De))/ke,Pt=()=>0,Bt=yr=>Math.exp(Mt*ke*yr)}return i.duration="duration"in i?+i.duration:1e3*Tt/("screenSpeed"in i?+i.screenSpeed/ke:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=x!==Z,this._pitching=Y!==A,this._rolling=J!==k,this._padding=!v.isPaddingEqual(oe),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(Ie.targetCenter),this._ease(Mt=>{const yr=Mt*Tt,hr=1/Bt(yr),Wt=Pt(yr);this._rotating&&v.setBearing(o.B.number(x,Z,Mt)),this._pitching&&v.setPitch(o.B.number(A,Y,Mt)),this._rolling&&v.setRoll(o.B.number(k,J,Mt)),this._padding&&(v.interpolatePadding(U,oe,Mt),pe=v.centerPoint.add(ie)),Ie.easeFunc(Mt,hr,Wt,pe),this.terrain&&!i.freezeElevation&&this._updateElevation(Mt),this._applyUpdatedTransform(v),this._fireMoveEvents(d)},()=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(d)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,d){var v;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const x=this._onEaseEnd;delete this._onEaseEnd,x.call(this,d)}return i||(v=this.handlers)===null||v===void 0||v.stop(!1),this}_ease(i,d,v){v.animate===!1||v.duration===0?(i(1),d()):(this._easeStart=R.now(),this._easeOptions=v,this._onEaseFrame=i,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,d){i=o.aL(i,-180,180);const v=Math.abs(i-d);return Math.abs(i-360-d)<v&&(i-=360),Math.abs(i+360-d)<v&&(i+=360),i}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(o.Q.convert(i),this.transform.tileZoom):null}}const Gl={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class fa{constructor(i=Gl){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options.compact,this._container=O.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=O.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=O.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){O.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,d){const v=this._map._getUIString(`AttributionControl.${d}`);i.title=v,i.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(x=>typeof x!="string"?"":x)):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const d=this._map.style.sourceCaches;for(const x in d){const A=d[x];if(A.used||A.usedForTerrain){const k=A.getSource();k.attribution&&i.indexOf(k.attribution)<0&&i.push(k.attribution)}}i=i.filter(x=>String(x).trim()),i.sort((x,A)=>x.length-A.length),i=i.filter((x,A)=>{for(let k=A+1;k<i.length;k++)if(i[k].indexOf(x)>=0)return!1;return!0});const v=i.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,i.length?(this._innerContainer.innerHTML=O.sanitize(v),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Zl{constructor(i={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const v=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=O.create("div","maplibregl-ctrl");const d=O.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){O.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Pf{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const d=++this._id;return this._queue.push({callback:i,id:d,cancelled:!1}),d}remove(i){const d=this._currentlyRunning,v=d?this._queue.concat(d):this._queue;for(const x of v)if(x.id===i)return void(x.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const v of d)if(!v.cancelled&&(v.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var jg=o.aG([{name:"a_pos3d",type:"Int16",components:3}]);class em extends o.E{constructor(i){super(),this._lastTilesetChange=R.now(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=i._source.tileSize*2**this.deltaZoom,i.usedForTerrain=!0,i.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,d){this.sourceCache.update(i,d),this._renderableTilesKeys=[];const v={};for(const x of ot(i,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))v[x.key]=!0,this._renderableTilesKeys.push(x.key),this._tiles[x.key]||(x.terrainRttPosMatrix32f=new Float64Array(16),o.bQ(x.terrainRttPosMatrix32f,0,o.Z,o.Z,0,0,1),this._tiles[x.key]=new Qr(x,this.tileSize),this._lastTilesetChange=R.now());for(const x in this._tiles)v[x]||delete this._tiles[x]}freeRtt(i){for(const d in this._tiles){const v=this._tiles[d];(!i||v.tileID.equals(i)||v.tileID.isChildOf(i)||i.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i,d){return d?this._getTerrainCoordsForTileRanges(i,d):this._getTerrainCoordsForRegularTile(i)}_getTerrainCoordsForRegularTile(i){const d={};for(const v of this._renderableTilesKeys){const x=this._tiles[v].tileID,A=i.clone(),k=o.b2();if(x.canonical.equals(i.canonical))o.bQ(k,0,o.Z,o.Z,0,0,1);else if(x.canonical.isChildOf(i.canonical)){const U=x.canonical.z-i.canonical.z,Z=x.canonical.x-(x.canonical.x>>U<<U),Y=x.canonical.y-(x.canonical.y>>U<<U),J=o.Z>>U;o.bQ(k,0,J,J,0,0,1),o.L(k,k,[-Z*J,-Y*J,0])}else{if(!i.canonical.isChildOf(x.canonical))continue;{const U=i.canonical.z-x.canonical.z,Z=i.canonical.x-(i.canonical.x>>U<<U),Y=i.canonical.y-(i.canonical.y>>U<<U),J=o.Z>>U;o.bQ(k,0,o.Z,o.Z,0,0,1),o.L(k,k,[Z*J,Y*J,0]),o.M(k,k,[1/2**U,1/2**U,0])}}A.terrainRttPosMatrix32f=new Float32Array(k),d[v]=A}return d}_getTerrainCoordsForTileRanges(i,d){const v={};for(const x of this._renderableTilesKeys){const A=this._tiles[x].tileID;if(!this._isWithinTileRanges(A,d))continue;const k=i.clone(),U=o.b2();if(A.canonical.z===i.canonical.z){const Z=i.canonical.x-A.canonical.x,Y=i.canonical.y-A.canonical.y;o.bQ(U,0,o.Z,o.Z,0,0,1),o.L(U,U,[Z*o.Z,Y*o.Z,0])}else if(A.canonical.z>i.canonical.z){const Z=A.canonical.z-i.canonical.z,Y=A.canonical.x-(A.canonical.x>>Z<<Z),J=A.canonical.y-(A.canonical.y>>Z<<Z),oe=i.canonical.x-(A.canonical.x>>Z),ie=i.canonical.y-(A.canonical.y>>Z),pe=o.Z>>Z;o.bQ(U,0,pe,pe,0,0,1),o.L(U,U,[-Y*pe+oe*o.Z,-J*pe+ie*o.Z,0])}else{const Z=i.canonical.z-A.canonical.z,Y=i.canonical.x-(i.canonical.x>>Z<<Z),J=i.canonical.y-(i.canonical.y>>Z<<Z),oe=(i.canonical.x>>Z)-A.canonical.x,ie=(i.canonical.y>>Z)-A.canonical.y,pe=o.Z<<Z;o.bQ(U,0,pe,pe,0,0,1),o.L(U,U,[Y*o.Z+oe*pe,J*o.Z+ie*pe,0])}k.terrainRttPosMatrix32f=new Float32Array(U),v[x]=k}return v}getSourceTile(i,d){const v=this.sourceCache._source;let x=i.overscaledZ-this.deltaZoom;if(x>v.maxzoom&&(x=v.maxzoom),x<v.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(x).key);let A=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!A||!A.dem)&&d)for(;x>=v.minzoom&&(!A||!A.dem);)A=this.sourceCache.getTileByID(i.scaledTo(x--).key);return A}anyTilesAfterTime(i=Date.now()){return this._lastTilesetChange>=i}_isWithinTileRanges(i,d){return d[i.canonical.z]&&i.canonical.x>=d[i.canonical.z].minTileX&&i.canonical.x<=d[i.canonical.z].maxTileX&&i.canonical.y>=d[i.canonical.z].minTileY&&i.canonical.y<=d[i.canonical.z].maxTileY}}class tm{constructor(i,d,v){this._meshCache={},this.painter=i,this.sourceCache=new em(d),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,d,v,x=o.Z){var A;if(!(d>=0&&d<x&&v>=0&&v<x))return 0;const k=this.getTerrainData(i),U=(A=k.tile)===null||A===void 0?void 0:A.dem;if(!U)return 0;const Z=o.cj([],[d/x*o.Z,v/x*o.Z],k.u_terrain_matrix),Y=[Z[0]*U.dim,Z[1]*U.dim],J=Math.floor(Y[0]),oe=Math.floor(Y[1]),ie=Y[0]-J,pe=Y[1]-oe;return U.get(J,oe)*(1-ie)*(1-pe)+U.get(J+1,oe)*ie*(1-pe)+U.get(J,oe+1)*(1-ie)*pe+U.get(J+1,oe+1)*ie*pe}getElevationForLngLatZoom(i,d){if(!o.ck(d,i.wrap()))return 0;const{tileID:v,mercatorX:x,mercatorY:A}=this._getOverscaledTileIDFromLngLatZoom(i,d);return this.getElevation(v,x%o.Z,A%o.Z,o.Z)}getElevation(i,d,v,x=o.Z){return this.getDEMElevation(i,d,v,x)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const x=this.painter.context,A=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ne(x,A,x.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ne(x,new o.R({width:1,height:1}),x.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ad([])}const d=this.sourceCache.getSourceTile(i,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const x=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new ne(x,d.dem.getPixels(),x.gl.RGBA,{premultiply:!1}),d.demTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const v=d&&d+d.tileID.key+i.key;if(v&&!this._demMatrixCache[v]){const x=this.sourceCache.sourceCache._source.maxzoom;let A=i.canonical.z-d.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=x?A=i.canonical.z-x:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const k=i.canonical.x-(i.canonical.x>>A<<A),U=i.canonical.y-(i.canonical.y>>A<<A),Z=o.cl(new Float64Array(16),[1/(o.Z<<A),1/(o.Z<<A),0]);o.L(Z,Z,[k*o.Z,U*o.Z,0]),this._demMatrixCache[i.key]={matrix:Z,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(i){const d=this.painter,v=d.width/devicePixelRatio,x=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===x||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ne(d.context,{width:v,height:x,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ne(d.context,{width:v,height:x,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(v,x,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,v,x))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let A=0,k=0;A<this._coordsTextureSize;A++)for(let U=0;U<this._coordsTextureSize;U++,k+=4)d[k+0]=255&U,d[k+1]=255&A,d[k+2]=U>>8<<4|A>>8,d[k+3]=0;const v=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),x=new ne(i,v,i.gl.RGBA,{premultiply:!1});return x.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=x,x}pointCoordinate(i){this.painter.maybeDrawDepthAndCoords(!0);const d=new Uint8Array(4),v=this.painter.context,x=v.gl,A=Math.round(i.x*this.painter.pixelRatio/devicePixelRatio),k=Math.round(i.y*this.painter.pixelRatio/devicePixelRatio),U=Math.round(this.painter.height/devicePixelRatio);v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(A,U-k-1,1,1,x.RGBA,x.UNSIGNED_BYTE,d),v.bindFramebuffer.set(null);const Z=d[0]+(d[2]>>4<<8),Y=d[1]+((15&d[2])<<8),J=this.coordsIndex[255-d[3]],oe=J&&this.sourceCache.getTileByID(J);if(!oe)return null;const ie=this._coordsTextureSize,pe=(1<<oe.tileID.canonical.z)*ie;return new o.$((oe.tileID.canonical.x*ie+Z)/pe+oe.tileID.wrap,(oe.tileID.canonical.y*ie+Y)/pe,this.getElevation(oe.tileID,Z,Y,ie))}depthAtPoint(i){const d=new Uint8Array(4),v=this.painter.context,x=v.gl;return v.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),x.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,d),v.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(i){var d;const v=((d=this.painter.style.projection)===null||d===void 0?void 0:d.transitionState)>0,x=v&&i.canonical.y===0,A=v&&i.canonical.y===(1<<i.canonical.z)-1,k=`m_${x?"n":""}_${A?"s":""}`;if(this._meshCache[k])return this._meshCache[k];const U=this.painter.context,Z=new o.cm,Y=new o.aK,J=this.meshSize,oe=o.Z/J,ie=J*J;for(let Qe=0;Qe<=J;Qe++)for(let bt=0;bt<=J;bt++)Z.emplaceBack(bt*oe,Qe*oe,0);for(let Qe=0;Qe<ie;Qe+=J+1)for(let bt=0;bt<J;bt++)Y.emplaceBack(bt+Qe,J+bt+Qe+1,J+bt+Qe+2),Y.emplaceBack(bt+Qe,J+bt+Qe+2,bt+Qe+1);const pe=Z.length,be=pe+(J+1),Ie=(J+1)*J,ke=x?o.b9:0,De=x?0:1,Ue=A?o.ba:o.Z,Ze=A?0:1;for(let Qe=0;Qe<=J;Qe++)Z.emplaceBack(Qe*oe,ke,De);for(let Qe=0;Qe<=J;Qe++)Z.emplaceBack(Qe*oe,Ue,Ze);for(let Qe=0;Qe<J;Qe++)Y.emplaceBack(Ie+Qe,be+Qe,be+Qe+1),Y.emplaceBack(Ie+Qe,be+Qe+1,Ie+Qe+1),Y.emplaceBack(0+Qe,pe+Qe+1,pe+Qe),Y.emplaceBack(0+Qe,0+Qe+1,pe+Qe+1);const He=Z.length,Xe=He+2*(J+1);for(const Qe of[0,1])for(let bt=0;bt<=J;bt++)for(const Bt of[0,1])Z.emplaceBack(Qe*o.Z,bt*oe,Bt);for(let Qe=0;Qe<2*J;Qe+=2)Y.emplaceBack(He+Qe,He+Qe+1,He+Qe+3),Y.emplaceBack(He+Qe,He+Qe+3,He+Qe+2),Y.emplaceBack(Xe+Qe,Xe+Qe+3,Xe+Qe+1),Y.emplaceBack(Xe+Qe,Xe+Qe+2,Xe+Qe+3);const nt=new Yu(U.createVertexBuffer(Z,jg.members),U.createIndexBuffer(Y),o.aJ.simpleSegment(0,0,Z.length,Y.length));return this._meshCache[k]=nt,nt}getMeshFrameDelta(i){return 2*Math.PI*o.bu/Math.pow(2,Math.max(i,0))/5}getMinTileElevationForLngLatZoom(i,d){var v;const{tileID:x}=this._getOverscaledTileIDFromLngLatZoom(i,d);return(v=this.getMinMaxElevation(x).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(i){const d=this.getTerrainData(i).tile,v={minElevation:null,maxElevation:null};return d&&d.dem&&(v.minElevation=d.dem.min*this.exaggeration,v.maxElevation=d.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(i,d){const v=o.$.fromLngLat(i.wrap()),x=(1<<d)*o.Z,A=v.x*x,k=v.y*x,U=Math.floor(A/o.Z),Z=Math.floor(k/o.Z);return{tileID:new o.Y(d,0,d,U,Z),mercatorX:A,mercatorY:k}}}class _u{constructor(i,d,v){this._context=i,this._size=d,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new ne(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(v.texture),{id:i,fbo:d,texture:v,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>i.id!==d),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(i=>!i.inUse)===!1}}const rn={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Xn{constructor(i,d){this.painter=i,this.terrain=d,this.pool=new _u(i.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(v=>!i._layers[v].isHidden(d)),this._coordsAscending={};for(const v in i.sourceCaches){this._coordsAscending[v]={};const x=i.sourceCaches[v].getVisibleCoordinates(),A=i.sourceCaches[v].getSource(),k=A instanceof Be?A.terrainTileRanges:null;for(const U of x){const Z=this.terrain.sourceCache.getTerrainCoords(U,k);for(const Y in Z)this._coordsAscending[v][Y]||(this._coordsAscending[v][Y]=[]),this._coordsAscending[v][Y].push(Z[Y])}}this._coordsAscendingStr={};for(const v of i._order){const x=i._layers[v],A=x.source;if(rn[x.type]&&!this._coordsAscendingStr[A]){this._coordsAscendingStr[A]={};for(const k in this._coordsAscending[A])this._coordsAscendingStr[A][k]=this._coordsAscending[A][k].map(U=>U.key).sort().join()}}for(const v of this._renderableTiles)for(const x in this._coordsAscendingStr){const A=this._coordsAscendingStr[x][v.tileID.key];A&&A!==v.rttCoords[x]&&(v.rtt=[])}}renderLayer(i,d){if(i.isHidden(this.painter.transform.zoom))return!1;const v=Object.assign(Object.assign({},d),{isRenderingToTexture:!0}),x=i.type,A=this.painter,k=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(rn[x]&&(this._prevType&&rn[this._prevType]||this._stacks.push([]),this._prevType=x,this._stacks[this._stacks.length-1].push(i.id),!k))return!0;if(rn[this._prevType]||rn[x]&&k){this._prevType=x;const U=this._stacks.length-1,Z=this._stacks[U]||[];for(const Y of this._renderableTiles){if(this.pool.isFull()&&(Sc(this.painter,this.terrain,this._rttTiles,v),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(Y),Y.rtt[U]){const oe=this.pool.getObjectForId(Y.rtt[U].id);if(oe.stamp===Y.rtt[U].stamp){this.pool.useObject(oe);continue}}const J=this.pool.getOrCreateFreeObject();this.pool.useObject(J),this.pool.stampObject(J),Y.rtt[U]={id:J.id,stamp:J.stamp},A.context.bindFramebuffer.set(J.fbo.framebuffer),A.context.clear({color:o.b7.transparent,stencil:0}),A.currentStencilSource=void 0;for(let oe=0;oe<Z.length;oe++){const ie=A.style._layers[Z[oe]],pe=ie.source?this._coordsAscending[ie.source][Y.tileID.key]:[Y.tileID];A.context.viewport.set([0,0,J.fbo.width,J.fbo.height]),A._renderTileClippingMasks(ie,pe,!0),A.renderLayer(A,A.style.sourceCaches[ie.source],ie,pe,v),ie.source&&(Y.rttCoords[ie.source]=this._coordsAscendingStr[ie.source][Y.tileID.key])}}return Sc(this.painter,this.terrain,this._rttTiles,v),this._rttTiles=[],this.pool.freeAllObjects(),rn[x]}return!1}}const xr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},qr=g,Wl={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Gl,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},Pc={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Rf{constructor(i,d,v=!1){this.mousedown=A=>{this.startMove(A,O.mousePos(this.element,A)),O.addEventListener(window,"mousemove",this.mousemove),O.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=A=>{this.move(A,O.mousePos(this.element,A))},this.mouseup=A=>{this._rotatePitchHanlder.dragEnd(A),this.offTemp()},this.touchstart=A=>{A.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=O.touchPos(this.element,A.targetTouches)[0],this.startMove(A,this._startPos),O.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.addEventListener(window,"touchend",this.touchend))},this.touchmove=A=>{A.targetTouches.length!==1?this.reset():(this._lastPos=O.touchPos(this.element,A.targetTouches)[0],this.move(A,this._lastPos))},this.touchend=A=>{A.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=d;const x=new Tf;this._rotatePitchHanlder=new vi({clickTolerance:3,move:(A,k)=>{const U=d.getBoundingClientRect(),Z=new o.P((U.bottom-U.top)/2,(U.right-U.left)/2);return{bearingDelta:o.ce(new o.P(A.x,k.y),k,Z),pitchDelta:v?-.5*(k.y-A.y):void 0}},moveStateManager:x,enable:!0,assignEvents:()=>{}}),this.map=i,O.addEventListener(d,"mousedown",this.mousedown),O.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),O.addEventListener(d,"touchcancel",this.reset)}startMove(i,d){this._rotatePitchHanlder.dragStart(i,d),O.disableDrag()}move(i,d){const v=this.map,{bearingDelta:x,pitchDelta:A}=this._rotatePitchHanlder.dragMove(i,d)||{};x&&v.setBearing(v.getBearing()+x),A&&v.setPitch(v.getPitch()+A)}off(){const i=this.element;O.removeEventListener(i,"mousedown",this.mousedown),O.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend),O.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){O.enableDrag(),O.removeEventListener(window,"mousemove",this.mousemove),O.removeEventListener(window,"mouseup",this.mouseup),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend)}}let ka;function xu(C,i,d,v=!1){if(v||!d.getCoveringTilesDetailsProvider().allowWorldCopies())return C==null?void 0:C.wrap();const x=new o.Q(C.lng,C.lat);if(C=new o.Q(C.lng,C.lat),i){const A=new o.Q(C.lng-360,C.lat),k=new o.Q(C.lng+360,C.lat),U=d.locationToScreenPoint(C).distSqr(i);d.locationToScreenPoint(A).distSqr(i)<U?C=A:d.locationToScreenPoint(k).distSqr(i)<U&&(C=k)}for(;Math.abs(C.lng-d.center.lng)>180;){const A=d.locationToScreenPoint(C);if(A.x>=0&&A.y>=0&&A.x<=d.width&&A.y<=d.height)break;C.lng>d.center.lng?C.lng-=360:C.lng+=360}return C.lng!==x.lng&&d.isPointOnMapSurface(d.locationToScreenPoint(C))?C:x}const Vs={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ri(C,i,d){const v=C.classList;for(const x in Vs)v.remove(`maplibregl-${d}-anchor-${x}`);v.add(`maplibregl-${d}-anchor-${i}`)}class Rc extends o.E{constructor(i){if(super(),this._onKeyPress=d=>{const v=d.code,x=d.charCode||d.keyCode;v!=="Space"&&v!=="Enter"&&x!==32&&x!==13||this.togglePopup()},this._onMapClick=d=>{const v=d.originalEvent.target,x=this._element;this._popup&&(v===x||x.contains(v))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!v)&&this._map.once("render",this._update),this._lngLat=xu(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let x="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?x=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(x=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let A="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?A="rotateX(0deg)":this._pitchAlignment==="map"&&(A=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),O.setTransform(this._element,`${Vs[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${A} ${x}`),R.frameAsync(new AbortController).then(()=>{this._updateOpacity(d&&d.type==="moveend")}).catch(()=>{})},this._onMove=d=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._subpixelPositioning=i&&i.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,this.setOpacity(i==null?void 0:i.opacity,i==null?void 0:i.opacityWhenCovered),i&&i.element)this._element=i.element,this._offset=o.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=O.create("div");const d=O.createNS("http://www.w3.org/2000/svg","svg"),v=41,x=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${v}px`),d.setAttributeNS(null,"width",`${x}px`),d.setAttributeNS(null,"viewBox",`0 0 ${x} ${v}`);const A=O.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"stroke","none"),A.setAttributeNS(null,"stroke-width","1"),A.setAttributeNS(null,"fill","none"),A.setAttributeNS(null,"fill-rule","evenodd");const k=O.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"fill-rule","nonzero");const U=O.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");const Z=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const De of Z){const Ue=O.createNS("http://www.w3.org/2000/svg","ellipse");Ue.setAttributeNS(null,"opacity","0.04"),Ue.setAttributeNS(null,"cx","10.5"),Ue.setAttributeNS(null,"cy","5.80029008"),Ue.setAttributeNS(null,"rx",De.rx),Ue.setAttributeNS(null,"ry",De.ry),U.appendChild(Ue)}const Y=O.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"fill",this._color);const J=O.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Y.appendChild(J);const oe=O.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"opacity","0.25"),oe.setAttributeNS(null,"fill","#000000");const ie=O.createNS("http://www.w3.org/2000/svg","path");ie.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),oe.appendChild(ie);const pe=O.createNS("http://www.w3.org/2000/svg","g");pe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),pe.setAttributeNS(null,"fill","#FFFFFF");const be=O.createNS("http://www.w3.org/2000/svg","g");be.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ie=O.createNS("http://www.w3.org/2000/svg","circle");Ie.setAttributeNS(null,"fill","#000000"),Ie.setAttributeNS(null,"opacity","0.25"),Ie.setAttributeNS(null,"cx","5.5"),Ie.setAttributeNS(null,"cy","5.5"),Ie.setAttributeNS(null,"r","5.4999962");const ke=O.createNS("http://www.w3.org/2000/svg","circle");ke.setAttributeNS(null,"fill","#FFFFFF"),ke.setAttributeNS(null,"cx","5.5"),ke.setAttributeNS(null,"cy","5.5"),ke.setAttributeNS(null,"r","5.4999962"),be.appendChild(Ie),be.appendChild(ke),k.appendChild(U),k.appendChild(Y),k.appendChild(oe),k.appendChild(pe),k.appendChild(be),d.appendChild(k),d.setAttributeNS(null,"height",v*this._scale+"px"),d.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),ri(this._element,this._anchor,"marker"),i&&i.className)for(const d of i.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(i){return this.remove(),this._map=i,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",i._getUIString("Marker.Title")),i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),i.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),O.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=o.Q.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const x=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(i){return this._subpixelPositioning=i,this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:i?(i.isOpen()?i.remove():(i.setLngLat(this._lngLat),i.addTo(this._map)),this):this}_updateOpacity(i=!1){var d,v;const x=(d=this._map)===null||d===void 0?void 0:d.terrain,A=this._map.transform.isLocationOccluded(this._lngLat);if(!x||A){const pe=A?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==pe&&(this._element.style.opacity=pe))}if(i)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const k=this._map,U=k.terrain.depthAtPoint(this._pos),Z=k.terrain.getElevationForLngLatZoom(this._lngLat,k.transform.tileZoom);if(k.transform.lngLatToCameraDepth(this._lngLat,Z)-U<.006)return void(this._element.style.opacity=this._opacity);const Y=-this._offset.y/k.transform.pixelsPerMeter,J=Math.sin(k.getPitch()*Math.PI/180)*Y,oe=k.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),ie=k.transform.lngLatToCameraDepth(this._lngLat,Z+J)-oe>.006;!((v=this._popup)===null||v===void 0)&&v.isOpen()&&ie&&this._popup.remove(),this._element.style.opacity=ie?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(i){return this._offset=o.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(i,d){return(this._opacity===void 0||i===void 0&&d===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),i!==void 0&&(this._opacity=i),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}const Ta={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Aa=0,Sd=!1;const Vh={maxWidth:100,unit:"metric"};function Ed(C,i,d){const v=d&&d.maxWidth||100,x=C._container.clientHeight/2,A=C._container.clientWidth/2,k=C.unproject([A-v/2,x]),U=C.unproject([A+v/2,x]),Z=Math.round(C.project(U).x-C.project(k).x),Y=Math.min(v,Z,C._container.clientWidth),J=k.distanceTo(U);if(d&&d.unit==="imperial"){const oe=3.2808*J;oe>5280?Mc(i,Y,oe/5280,C._getUIString("ScaleControl.Miles")):Mc(i,Y,oe,C._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Mc(i,Y,J/1852,C._getUIString("ScaleControl.NauticalMiles")):J>=1e3?Mc(i,Y,J/1e3,C._getUIString("ScaleControl.Kilometers")):Mc(i,Y,J,C._getUIString("ScaleControl.Meters"))}function Mc(C,i,d,v){const x=function(A){const k=Math.pow(10,`${Math.floor(A)}`.length-1);let U=A/k;return U=U>=10?10:U>=5?5:U>=3?3:U>=2?2:U>=1?1:function(Z){const Y=Math.pow(10,Math.ceil(-Math.log(Z)/Math.LN10));return Math.round(Z*Y)/Y}(U),k*U}(d);C.style.width=i*(x/d)+"px",C.innerHTML=`${x}&nbsp;${v}`}const Hh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},vo=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Pa(C){if(C){if(typeof C=="number"){const i=Math.round(Math.abs(C)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,C),"top-left":new o.P(i,i),"top-right":new o.P(-i,i),bottom:new o.P(0,-C),"bottom-left":new o.P(i,-i),"bottom-right":new o.P(-i,-i),left:new o.P(C,0),right:new o.P(-C,0)}}if(C instanceof o.P||Array.isArray(C)){const i=o.P.convert(C);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:o.P.convert(C.center||[0,0]),top:o.P.convert(C.top||[0,0]),"top-left":o.P.convert(C["top-left"]||[0,0]),"top-right":o.P.convert(C["top-right"]||[0,0]),bottom:o.P.convert(C.bottom||[0,0]),"bottom-left":o.P.convert(C["bottom-left"]||[0,0]),"bottom-right":o.P.convert(C["bottom-right"]||[0,0]),left:o.P.convert(C.left||[0,0]),right:o.P.convert(C.right||[0,0])}}return Pa(new o.P(0,0))}const Gh=g;c.AJAXError=o.cq,c.Event=o.l,c.Evented=o.E,c.LngLat=o.Q,c.MercatorCoordinate=o.$,c.Point=o.P,c.addProtocol=o.cr,c.config=o.a,c.removeProtocol=o.cs,c.AttributionControl=fa,c.BoxZoomHandler=Fg,c.CanvasSource=We,c.CooperativeGesturesHandler=pl,c.DoubleClickZoomHandler=$h,c.DragPanHandler=Qp,c.DragRotateHandler=Jp,c.EdgeInsets=Ju,c.FullscreenControl=class extends o.E{constructor(C={}){super(),this._onFullscreenChange=()=>{var i;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((i=d==null?void 0:d.shadowRoot)===null||i===void 0)&&i.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,C&&C.container&&(C.container instanceof HTMLElement?this._container=C.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(C){return this._map=C,this._container||(this._container=this._map.getContainer()),this._controlContainer=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){O.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const C=this._fullscreenButton=O.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);O.create("span","maplibregl-ctrl-icon",C).setAttribute("aria-hidden","true"),C.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const C=this._getTitle();this._fullscreenButton.setAttribute("aria-label",C),this._fullscreenButton.title=C}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},c.GeoJSONSource=Rr,c.GeolocateControl=class extends o.E{constructor(C){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",i)),this._finish()}},this._updateCamera=i=>{const d=new o.Q(i.coords.longitude,i.coords.latitude),v=i.coords.accuracy,x=this._map.getBearing(),A=o.e({bearing:x},this.options.fitBoundsOptions),k=Xt.fromLngLat(d,v);this._map.fitBounds(k,A,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const d=new o.Q(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&Sd)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=O.create("button","maplibregl-ctrl-geolocate",this._container),O.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=i=>{if(this._map){if(i===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=O.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Rc({element:this._dotElement}),this._circleElement=O.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Rc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))})}},this.options=o.e({},Ta,C)}onAdd(C){return this._map=C,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(i=!1){if(ka!==void 0&&!i)return ka;if(window.navigator.permissions===void 0)return ka=!!window.navigator.geolocation,ka;try{ka=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{ka=!!window.navigator.geolocation}return ka})}().then(i=>this._finishSetupUI(i)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),O.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Aa=0,Sd=!1}_isOutOfMapMaxBounds(C){const i=this._map.getMaxBounds(),d=C.coords;return i&&(d.longitude<i.getWest()||d.longitude>i.getEast()||d.latitude<i.getSouth()||d.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const C=this._map.getBounds(),i=C.getSouthEast(),d=C.getNorthEast(),v=i.distanceTo(d),x=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${x}px`,this._circleElement.style.height=`${x}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Aa--,Sd=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let C;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Aa++,Aa>1?(C={maximumAge:6e5,timeout:0},Sd=!0):(C=this.options.positionOptions,Sd=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,C)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},c.GlobeControl=class{constructor(){this._toggleProjection=()=>{var C;const i=(C=this._map.getProjection())===null||C===void 0?void 0:C.type;this._map.setProjection(i!=="mercator"&&i?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var C;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((C=this._map.getProjection())===null||C===void 0?void 0:C.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(C){return this._map=C,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=O.create("button","maplibregl-ctrl-globe",this._container),O.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){O.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},c.Hash=Gp,c.ImageSource=Be,c.KeyboardHandler=wd,c.LngLatBounds=Xt,c.LogoControl=Zl,c.Map=class extends qh{constructor(C){var i,d;o.cn.mark(o.co.create);const v=Object.assign(Object.assign(Object.assign({},Wl),C),{canvasContextAttributes:Object.assign(Object.assign({},Wl.canvasContextAttributes),C.canvasContextAttributes)});if(v.minZoom!=null&&v.maxZoom!=null&&v.minZoom>v.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(v.minPitch!=null&&v.maxPitch!=null&&v.minPitch>v.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(v.minPitch!=null&&v.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(v.maxPitch!=null&&v.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const x=new Dl,A=new Fs;if(v.minZoom!==void 0&&x.setMinZoom(v.minZoom),v.maxZoom!==void 0&&x.setMaxZoom(v.maxZoom),v.minPitch!==void 0&&x.setMinPitch(v.minPitch),v.maxPitch!==void 0&&x.setMaxPitch(v.maxPitch),v.renderWorldCopies!==void 0&&x.setRenderWorldCopies(v.renderWorldCopies),super(x,A,{bearingSnap:v.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Pf,this._controls=[],this._mapId=o.a4(),this._contextLost=U=>{U.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.l("webglcontextlost",{originalEvent:U}))},this._contextRestored=U=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:U}))},this._onMapScroll=U=>{if(U.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=v.interactive,this._maxTileCacheSize=v.maxTileCacheSize,this._maxTileCacheZoomLevels=v.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},v.canvasContextAttributes),this._trackResize=v.trackResize===!0,this._bearingSnap=v.bearingSnap,this._centerClampedToGround=v.centerClampedToGround,this._refreshExpiredTiles=v.refreshExpiredTiles===!0,this._fadeDuration=v.fadeDuration,this._crossSourceCollisions=v.crossSourceCollisions===!0,this._collectResourceTiming=v.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},xr),v.locale),this._clickTolerance=v.clickTolerance,this._overridePixelRatio=v.pixelRatio,this._maxCanvasSize=v.maxCanvasSize,this.transformCameraUpdate=v.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=v.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=N.addThrottleControl(()=>this.isMoving()),this._requestManager=new G(v.transformRequest),typeof v.container=="string"){if(this._container=document.getElementById(v.container),!this._container)throw new Error(`Container '${v.container}' not found.`)}else{if(!(v.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=v.container}if(v.maxBounds&&this.setMaxBounds(v.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let U=!1;const Z=Ec(Y=>{this._trackResize&&!this._removed&&(this.resize(Y),this.redraw())},50);this._resizeObserver=new ResizeObserver(Y=>{U?Z(Y):U=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Uh(this,v),this._hash=v.hash&&new Gp(typeof v.hash=="string"&&v.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:v.center,elevation:v.elevation,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,roll:v.roll}),v.bounds&&(this.resize(),this.fitBounds(v.bounds,o.e({},v.fitBoundsOptions,{duration:0}))));const k=typeof v.style=="string"||((d=(i=v.style)===null||i===void 0?void 0:i.projection)===null||d===void 0?void 0:d.type)!=="globe";this.resize(null,k),this._localIdeographFontFamily=v.localIdeographFontFamily,this._validateStyle=v.validateStyle,v.style&&this.setStyle(v.style,{localIdeographFontFamily:v.localIdeographFontFamily}),v.attributionControl&&this.addControl(new fa(typeof v.attributionControl=="boolean"?void 0:v.attributionControl)),v.maplibreLogo&&this.addControl(new Zl,v.logoPosition),this.on("style.load",()=>{if(k||this._resizeTransform(),this.transform.unmodified){const U=o.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(U)}}),this.on("data",U=>{this._update(U.dataType==="style"),this.fire(new o.l(`${U.dataType}data`,U))}),this.on("dataloading",U=>{this.fire(new o.l(`${U.dataType}dataloading`,U))}),this.on("dataabort",U=>{this.fire(new o.l("sourcedataabort",U))})}_getMapId(){return this._mapId}addControl(C,i){if(i===void 0&&(i=C.getDefaultPosition?C.getDefaultPosition():"top-right"),!C||!C.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=C.onAdd(this);this._controls.push(C);const v=this._controlPositions[i];return i.indexOf("bottom")!==-1?v.insertBefore(d,v.firstChild):v.appendChild(d),this}removeControl(C){if(!C||!C.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(C);return i>-1&&this._controls.splice(i,1),C.onRemove(this),this}hasControl(C){return this._controls.indexOf(C)>-1}calculateCameraOptionsFromTo(C,i,d,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(C,i,d,v)}resize(C,i=!0){const[d,v]=this._containerDimensions(),x=this._getClampedPixelRatio(d,v);if(this._resizeCanvas(d,v,x),this.painter.resize(d,v,x),this.painter.overLimit()){const k=this.painter.context.gl;this._maxCanvasSize=[k.drawingBufferWidth,k.drawingBufferHeight];const U=this._getClampedPixelRatio(d,v);this._resizeCanvas(d,v,U),this.painter.resize(d,v,U)}this._resizeTransform(i);const A=!this._moving;return A&&(this.stop(),this.fire(new o.l("movestart",C)).fire(new o.l("move",C))),this.fire(new o.l("resize",C)),A&&this.fire(new o.l("moveend",C)),this}_resizeTransform(C=!0){var i;const[d,v]=this._containerDimensions();this.transform.resize(d,v,C),(i=this._requestedCameraState)===null||i===void 0||i.resize(d,v,C)}_getClampedPixelRatio(C,i){const{0:d,1:v}=this._maxCanvasSize,x=this.getPixelRatio(),A=C*x,k=i*x;return Math.min(A>d?d/A:1,k>v?v/k:1)*x}getPixelRatio(){var C;return(C=this._overridePixelRatio)!==null&&C!==void 0?C:devicePixelRatio}setPixelRatio(C){this._overridePixelRatio=C,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(C){return this.transform.setMaxBounds(Xt.convert(C)),this._update()}setMinZoom(C){if((C=C??-2)>=-2&&C<=this.transform.maxZoom)return this.transform.setMinZoom(C),this._update(),this.getZoom()<C&&this.setZoom(C),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(C){if((C=C??22)>=this.transform.minZoom)return this.transform.setMaxZoom(C),this._update(),this.getZoom()>C&&this.setZoom(C),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(C){if((C=C??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(C>=0&&C<=this.transform.maxPitch)return this.transform.setMinPitch(C),this._update(),this.getPitch()<C&&this.setPitch(C),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(C){if((C=C??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(C>=this.transform.minPitch)return this.transform.setMaxPitch(C),this._update(),this.getPitch()>C&&this.setPitch(C),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(C){return this.transform.setRenderWorldCopies(C),this._update()}project(C){return this.transform.locationToScreenPoint(o.Q.convert(C),this.style&&this.terrain)}unproject(C){return this.transform.screenPointToLocation(o.P.convert(C),this.terrain)}isMoving(){var C;return this._moving||((C=this.handlers)===null||C===void 0?void 0:C.isMoving())}isZooming(){var C;return this._zooming||((C=this.handlers)===null||C===void 0?void 0:C.isZooming())}isRotating(){var C;return this._rotating||((C=this.handlers)===null||C===void 0?void 0:C.isRotating())}_createDelegatedListener(C,i,d){if(C==="mouseenter"||C==="mouseover"){let v=!1;return{layers:i,listener:d,delegates:{mousemove:A=>{const k=i.filter(Z=>this.getLayer(Z)),U=k.length!==0?this.queryRenderedFeatures(A.point,{layers:k}):[];U.length?v||(v=!0,d.call(this,new ti(C,this,A.originalEvent,{features:U}))):v=!1},mouseout:()=>{v=!1}}}}if(C==="mouseleave"||C==="mouseout"){let v=!1;return{layers:i,listener:d,delegates:{mousemove:k=>{const U=i.filter(Z=>this.getLayer(Z));(U.length!==0?this.queryRenderedFeatures(k.point,{layers:U}):[]).length?v=!0:v&&(v=!1,d.call(this,new ti(C,this,k.originalEvent)))},mouseout:k=>{v&&(v=!1,d.call(this,new ti(C,this,k.originalEvent)))}}}}{const v=x=>{const A=i.filter(U=>this.getLayer(U)),k=A.length!==0?this.queryRenderedFeatures(x.point,{layers:A}):[];k.length&&(x.features=k,d.call(this,x),delete x.features)};return{layers:i,listener:d,delegates:{[C]:v}}}}_saveDelegatedListener(C,i){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[C]=this._delegatedListeners[C]||[],this._delegatedListeners[C].push(i)}_removeDelegatedListener(C,i,d){if(!this._delegatedListeners||!this._delegatedListeners[C])return;const v=this._delegatedListeners[C];for(let x=0;x<v.length;x++){const A=v[x];if(A.listener===d&&A.layers.length===i.length&&A.layers.every(k=>i.includes(k))){for(const k in A.delegates)this.off(k,A.delegates[k]);return void v.splice(x,1)}}}on(C,i,d){if(d===void 0)return super.on(C,i);const v=typeof i=="string"?[i]:i,x=this._createDelegatedListener(C,v,d);this._saveDelegatedListener(C,x);for(const A in x.delegates)this.on(A,x.delegates[A]);return{unsubscribe:()=>{this._removeDelegatedListener(C,v,d)}}}once(C,i,d){if(d===void 0)return super.once(C,i);const v=typeof i=="string"?[i]:i,x=this._createDelegatedListener(C,v,d);for(const A in x.delegates){const k=x.delegates[A];x.delegates[A]=(...U)=>{this._removeDelegatedListener(C,v,d),k(...U)}}this._saveDelegatedListener(C,x);for(const A in x.delegates)this.once(A,x.delegates[A]);return this}off(C,i,d){return d===void 0?super.off(C,i):(this._removeDelegatedListener(C,typeof i=="string"?[i]:i,d),this)}queryRenderedFeatures(C,i){if(!this.style)return[];let d;const v=C instanceof o.P||Array.isArray(C),x=v?C:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(v?{}:C)||{},x instanceof o.P||typeof x[0]=="number")d=[o.P.convert(x)];else{const A=o.P.convert(x[0]),k=o.P.convert(x[1]);d=[A,new o.P(k.x,A.y),k,new o.P(A.x,k.y),A]}return this.style.queryRenderedFeatures(d,i,this.transform)}querySourceFeatures(C,i){return this.style.querySourceFeatures(C,i)}setStyle(C,i){return(i=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&C?(this._diffStyle(C,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(C,i))}setTransformRequest(C){return this._requestManager.setTransformRequest(C),this}_getUIString(C){const i=this._locale[C];if(i==null)throw new Error(`Missing UI string '${C}'`);return i}_updateStyle(C,i){var d,v;if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(C,i));const x=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!C)),C?(this.style=new Sg(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof C=="string"?this.style.loadURL(C,i,x):this.style.loadJSON(C,i,x),this):((v=(d=this.style)===null||d===void 0?void 0:d.projection)===null||v===void 0||v.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Sg(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(C,i){if(typeof C=="string"){const d=this._requestManager.transformRequest(C,"Style");o.j(d,new AbortController).then(v=>{this._updateDiff(v.data,i)}).catch(v=>{v&&this.fire(new o.k(v))})}else typeof C=="object"&&this._updateDiff(C,i)}_updateDiff(C,i){try{this.style.setState(C,i)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(C,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(C,i){return this._lazyInitEmptyStyle(),this.style.addSource(C,i),this._update(!0)}isSourceLoaded(C){const i=this.style&&this.style.sourceCaches[C];if(i!==void 0)return i.loaded();this.fire(new o.k(new Error(`There is no source with ID '${C}'`)))}setTerrain(C){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),C){const i=this.style.sourceCaches[C.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${C.source}`);this.terrain===null&&i.reload();for(const d in this.style._layers){const v=this.style._layers[d];v.type==="hillshade"&&v.source===C.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new tm(this.painter,i,C),this.painter.renderToTexture=new Xn(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=d=>{var v;d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==C.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((v=d.source)===null||v===void 0?void 0:v.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:C})),this}getTerrain(){var C,i;return(i=(C=this.terrain)===null||C===void 0?void 0:C.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const C=this.style&&this.style.sourceCaches;for(const i in C){const d=C[i]._tiles;for(const v in d){const x=d[v];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}removeSource(C){return this.style.removeSource(C),this._update(!0)}getSource(C){return this.style.getSource(C)}setSourceTileLodParams(C,i,d){if(d){const v=this.getSource(d);if(!v)throw new Error(`There is no source with ID "${d}", cannot set LOD parameters`);v.calculateTileZoom=Je(Math.max(1,C),Math.max(1,i))}else for(const v in this.style.sourceCaches)this.style.sourceCaches[v].getSource().calculateTileZoom=Je(Math.max(1,C),Math.max(1,i));return this._update(!0),this}refreshTiles(C,i){const d=this.style.sourceCaches[C];if(!d)throw new Error(`There is no source cache with ID "${C}", cannot refresh tile`);i===void 0?d.reload():d.refreshTiles(i.map(v=>new o.a1(v.z,v.x,v.y)))}addImage(C,i,d={}){const{pixelRatio:v=1,sdf:x=!1,stretchX:A,stretchY:k,content:U,textFitWidth:Z,textFitHeight:Y}=d;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||o.b(i))){if(i.width===void 0||i.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:J,height:oe,data:ie}=i,pe=i;return this.style.addImage(C,{data:new o.R({width:J,height:oe},new Uint8Array(ie)),pixelRatio:v,stretchX:A,stretchY:k,content:U,textFitWidth:Z,textFitHeight:Y,sdf:x,version:0,userImage:pe}),pe.onAdd&&pe.onAdd(this,C),this}}{const{width:J,height:oe,data:ie}=R.getImageData(i);this.style.addImage(C,{data:new o.R({width:J,height:oe},ie),pixelRatio:v,stretchX:A,stretchY:k,content:U,textFitWidth:Z,textFitHeight:Y,sdf:x,version:0})}}updateImage(C,i){const d=this.style.getImage(C);if(!d)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=i instanceof HTMLImageElement||o.b(i)?R.getImageData(i):i,{width:x,height:A,data:k}=v;if(x===void 0||A===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(x!==d.data.width||A!==d.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const U=!(i instanceof HTMLImageElement||o.b(i));return d.data.replace(k,U),this.style.updateImage(C,d),this}getImage(C){return this.style.getImage(C)}hasImage(C){return C?!!this.style.getImage(C):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(C){this.style.removeImage(C)}loadImage(C){return N.getImage(this._requestManager.transformRequest(C,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(C,i){return this._lazyInitEmptyStyle(),this.style.addLayer(C,i),this._update(!0)}moveLayer(C,i){return this.style.moveLayer(C,i),this._update(!0)}removeLayer(C){return this.style.removeLayer(C),this._update(!0)}getLayer(C){return this.style.getLayer(C)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(C,i,d){return this.style.setLayerZoomRange(C,i,d),this._update(!0)}setFilter(C,i,d={}){return this.style.setFilter(C,i,d),this._update(!0)}getFilter(C){return this.style.getFilter(C)}setPaintProperty(C,i,d,v={}){return this.style.setPaintProperty(C,i,d,v),this._update(!0)}getPaintProperty(C,i){return this.style.getPaintProperty(C,i)}setLayoutProperty(C,i,d,v={}){return this.style.setLayoutProperty(C,i,d,v),this._update(!0)}getLayoutProperty(C,i){return this.style.getLayoutProperty(C,i)}setGlyphs(C,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(C,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(C,i,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(C,i,d,v=>{v||this._update(!0)}),this}removeSprite(C){return this._lazyInitEmptyStyle(),this.style.removeSprite(C),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(C,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(C,i,d=>{d||this._update(!0)}),this}setLight(C,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(C,i),this._update(!0)}getLight(){return this.style.getLight()}setSky(C,i={}){return this._lazyInitEmptyStyle(),this.style.setSky(C,i),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(C,i){return this.style.setFeatureState(C,i),this._update()}removeFeatureState(C,i){return this.style.removeFeatureState(C,i),this._update()}getFeatureState(C){return this.style.getFeatureState(C)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let C=0,i=0;return this._container&&(C=this._container.clientWidth||400,i=this._container.clientHeight||300),[C,i]}_setupContainer(){const C=this._container;C.classList.add("maplibregl-map");const i=this._canvasContainer=O.create("div","maplibregl-canvas-container",C);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=O.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),v=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],v);const x=this._controlContainer=O.create("div","maplibregl-control-container",C),A=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(k=>{A[k]=O.create("div",`maplibregl-ctrl-${k} `,x)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(C,i,d){this._canvas.width=Math.floor(d*C),this._canvas.height=Math.floor(d*i),this._canvas.style.width=`${C}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const C=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let i=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{i={requestedAttributes:C},v&&(i.statusMessage=v.statusMessage,i.type=v.type)},{once:!0});let d=null;if(d=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,C):this._canvas.getContext("webgl2",C)||this._canvas.getContext("webgl",C),!d){const v="Failed to initialize WebGL";throw i?(i.message=v,new Error(JSON.stringify(i))):new Error(v)}this.painter=new _d(d,this.transform),I.testSupport(d)}migrateProjection(C,i){super.migrateProjection(C,i),this.painter.transform=C,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(C){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||C,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(C){return this._update(),this._renderTaskQueue.add(C)}_cancelRenderFrame(C){this._renderTaskQueue.remove(C)}_render(C){var i,d,v,x,A;const k=this._idleTriggered?this._fadeDuration:0,U=((i=this.style.projection)===null||i===void 0?void 0:i.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(C),this._removed)return;let Z=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const oe=this.transform.zoom,ie=R.now();this.style.zoomHistory.update(oe,ie);const pe=new o.C(oe,{now:ie,fadeDuration:k,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),be=pe.crossFadingFactor();be===1&&be===this._crossFadingFactor||(Z=!0,this._crossFadingFactor=be),this.style.update(pe)}const Y=((d=this.style.projection)===null||d===void 0?void 0:d.transitionState)>0!==U;(v=this.style.projection)===null||v===void 0||v.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((x=this.style.projection)===null||x===void 0?void 0:x.transitionState,(A=this.style.projection)===null||A===void 0?void 0:A.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||Y)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,k,this._crossSourceCollisions,Y),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:k,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cn.mark(o.co.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||Z)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const J=this._sourcesDirty||this._styleDirty||this._placementDirty;return J||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||J||(this._fullyLoaded=!0,o.cn.mark(o.co.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var C;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),N.removeThrottleControl(this._imageQueueHandle),(C=this._resizeObserver)===null||C===void 0||C.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i!=null&&i.loseContext&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),O.remove(this._canvasContainer),O.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cn.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,R.frame(this._frameRequest,C=>{o.cn.frame(C),this._frameRequest=null;try{this._render(C)}catch(i){if(!o.cp(i)&&!function(d){return d.message===Ih}(i))throw i}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(C){this._showTileBoundaries!==C&&(this._showTileBoundaries=C,this._update())}get showPadding(){return!!this._showPadding}set showPadding(C){this._showPadding!==C&&(this._showPadding=C,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(C){this._showCollisionBoxes!==C&&(this._showCollisionBoxes=C,C?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(C){this._showOverdrawInspector!==C&&(this._showOverdrawInspector=C,this._update())}get repaint(){return!!this._repaint}set repaint(C){this._repaint!==C&&(this._repaint=C,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(C){this._vertices=C,this._update()}get version(){return qr}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(C){return this._lazyInitEmptyStyle(),this.style.setProjection(C),this._update(!0)}},c.MapMouseEvent=ti,c.MapTouchEvent=qs,c.MapWheelEvent=zi,c.Marker=Rc,c.NavigationControl=class{constructor(C){this._updateZoomButtons=()=>{const i=this._map.getZoom(),d=i===this._map.getMaxZoom(),v=i===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(i,d)=>{const v=this._map._getUIString(`NavigationControl.${d}`);i.title=v,i.setAttribute("aria-label",v)},this.options=o.e({},Pc,C),this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),O.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),O.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=O.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(C){return this._map=C,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Rf(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){O.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(C,i){const d=O.create("button",C,this._container);return d.type="button",d.addEventListener("click",i),d}},c.Popup=class extends o.E{constructor(C){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&O.remove(this._content),this._container&&(O.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=O.create("div","maplibregl-popup",this._map.getContainer()),this._tip=O.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const k of this.options.className.split(" "))this._container.classList.add(k);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=xu(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!i)return;const d=this._flatPos=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&i?i:this._map.transform.locationToScreenPoint(this._lngLat));let v=this.options.anchor;const x=Pa(this.options.offset);if(!v){const k=this._container.offsetWidth,U=this._container.offsetHeight;let Z;Z=d.y+x.bottom.y<U?["top"]:d.y>this._map.transform.height-U?["bottom"]:[],d.x<k/2?Z.push("left"):d.x>this._map.transform.width-k/2&&Z.push("right"),v=Z.length===0?"bottom":Z.join("-")}let A=d.add(x[v]);this.options.subpixelPositioning||(A=A.round()),O.setTransform(this._container,`${Vs[v]} translate(${A.x}px,${A.y}px)`),ri(this._container,v,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(Hh),C)}addTo(C){return this._map&&this.remove(),this._map=C,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(C){return this._lngLat=o.Q.convert(C),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(C){return this.setDOMContent(document.createTextNode(C))}setHTML(C){const i=document.createDocumentFragment(),d=document.createElement("body");let v;for(d.innerHTML=C;v=d.firstChild,v;)i.appendChild(v);return this.setDOMContent(i)}getMaxWidth(){var C;return(C=this._container)===null||C===void 0?void 0:C.style.maxWidth}setMaxWidth(C){return this.options.maxWidth=C,this._update(),this}setDOMContent(C){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=O.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(C),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(C){return this._container&&this._container.classList.add(C),this}removeClassName(C){return this._container&&this._container.classList.remove(C),this}setOffset(C){return this.options.offset=C,this._update(),this}toggleClassName(C){if(this._container)return this._container.classList.toggle(C)}setSubpixelPositioning(C){this.options.subpixelPositioning=C}_createCloseButton(){this.options.closeButton&&(this._closeButton=O.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const C=this._container.querySelector(vo);C&&C.focus()}},c.RasterDEMTileSource=nn,c.RasterTileSource=br,c.ScaleControl=class{constructor(C){this._onMove=()=>{Ed(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Ed(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Vh),C)}getDefaultPosition(){return"bottom-left"}onAdd(C){return this._map=C,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-scale",C.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){O.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},c.ScrollZoomHandler=bn,c.Style=Sg,c.TerrainControl=class{constructor(C){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=C}onAdd(C){return this._map=C,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=O.create("button","maplibregl-ctrl-terrain",this._container),O.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){O.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},c.TwoFingersTouchPitchHandler=xd,c.TwoFingersTouchRotateHandler=Er,c.TwoFingersTouchZoomHandler=Tc,c.TwoFingersTouchZoomRotateHandler=Hl,c.VectorTileSource=Vr,c.VideoSource=Ye,c.addSourceType=(C,i)=>o._(void 0,void 0,void 0,function*(){if(qt(C))throw new Error(`A source type called "${C}" already exists.`);((d,v)=>{Ut[d]=v})(C,i)}),c.clearPrewarmedResources=function(){const C=vt;C&&(C.isPreloaded()&&C.numActive()===1?(C.release(je),vt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},c.createTileMesh=Ch,c.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},c.getRTLTextPluginStatus=function(){return Mr().getRTLTextPluginStatus()},c.getVersion=function(){return Gh},c.getWorkerCount=function(){return et.workerCount},c.getWorkerUrl=function(){return o.a.WORKER_URL},c.importScriptInWorkers=function(C){return Nt().broadcast("IS",C)},c.prewarm=function(){ut().acquire(je)},c.setMaxParallelImageRequests=function(C){o.a.MAX_PARALLEL_IMAGE_REQUESTS=C},c.setRTLTextPlugin=function(C,i){return Mr().setRTLTextPlugin(C,i)},c.setWorkerCount=function(C){et.workerCount=C},c.setWorkerUrl=function(C){o.a.WORKER_URL=C}});var l=r;return l})}(yS)),yS.exports}var GQ=HQ();const OB=zo(GQ);var Kc=Uint8Array,Rb=Uint16Array,ZQ=Int32Array,I9=new Kc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),D9=new Kc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WQ=new Kc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z9=function(e,t){for(var r=new Rb(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new ZQ(r[30]),n=1;n<30;++n)for(var l=r[n];l<r[n+1];++l)a[l]=l-r[n]<<5|n;return{b:r,r:a}},L9=z9(I9,2),B9=L9.b,KQ=L9.r;B9[28]=258,KQ[258]=28;var XQ=z9(D9,0),YQ=XQ.b,Ck=new Rb(32768);for(var gi=0;gi<32768;++gi){var Tm=(gi&43690)>>1|(gi&21845)<<1;Tm=(Tm&52428)>>2|(Tm&13107)<<2,Tm=(Tm&61680)>>4|(Tm&3855)<<4,Ck[gi]=((Tm&65280)>>8|(Tm&255)<<8)>>1}var mx=function(e,t,r){for(var n=e.length,a=0,l=new Rb(t);a<n;++a)e[a]&&++l[e[a]-1];var c=new Rb(t);for(a=1;a<t;++a)c[a]=c[a-1]+l[a-1]<<1;var o;if(r){o=new Rb(1<<t);var g=15-t;for(a=0;a<n;++a)if(e[a])for(var m=a<<4|e[a],_=t-e[a],E=c[e[a]-1]++<<_,R=E|(1<<_)-1;E<=R;++E)o[Ck[E]>>g]=m}else for(o=new Rb(n),a=0;a<n;++a)e[a]&&(o[a]=Ck[c[e[a]-1]++]>>15-e[a]);return o},k1=new Kc(288);for(var gi=0;gi<144;++gi)k1[gi]=8;for(var gi=144;gi<256;++gi)k1[gi]=9;for(var gi=256;gi<280;++gi)k1[gi]=7;for(var gi=280;gi<288;++gi)k1[gi]=8;var F9=new Kc(32);for(var gi=0;gi<32;++gi)F9[gi]=5;var QQ=mx(k1,9,1),JQ=mx(F9,5,1),QC=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Fd=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},JC=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},eJ=function(e){return(e+7)/8|0},tJ=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Kc(e.subarray(t,r))},rJ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Hc=function(e,t,r){var n=new Error(t||rJ[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Hc),!r)throw n;return n},HD=function(e,t,r,n){var a=e.length,l=0;if(!a||t.f&&!t.l)return r||new Kc(0);var c=!r,o=c||t.i!=2,g=t.i;c&&(r=new Kc(a*3));var m=function($t){var tr=r.length;if($t>tr){var ur=new Kc(Math.max(tr*2,$t));ur.set(r),r=ur}},_=t.f||0,E=t.p||0,R=t.b||0,O=t.l,I=t.d,B=t.m,$=t.n,q=a*8;do{if(!O){_=Fd(e,E,1);var j=Fd(e,E+1,3);if(E+=3,j)if(j==1)O=QQ,I=JQ,B=9,$=5;else if(j==2){var V=Fd(e,E,31)+257,ee=Fd(e,E+10,15)+4,ne=V+Fd(e,E+5,31)+1;E+=14;for(var ae=new Kc(ne),X=new Kc(19),te=0;te<ee;++te)X[WQ[te]]=Fd(e,E+te*3,7);E+=ee*3;for(var le=QC(X),we=(1<<le)-1,ve=mx(X,le,1),te=0;te<ne;){var xe=ve[Fd(e,E,we)];E+=xe&15;var F=xe>>4;if(F<16)ae[te++]=F;else{var ce=0,Ce=0;for(F==16?(Ce=3+Fd(e,E,3),E+=2,ce=ae[te-1]):F==17?(Ce=3+Fd(e,E,7),E+=3):F==18&&(Ce=11+Fd(e,E,127),E+=7);Ce--;)ae[te++]=ce}}var Se=ae.subarray(0,V),ze=ae.subarray(V);B=QC(Se),$=QC(ze),O=mx(Se,B,1),I=mx(ze,$,1)}else Hc(1);else{var F=eJ(E)+4,N=e[F-4]|e[F-3]<<8,G=F+N;if(G>a){g&&Hc(0);break}o&&m(R+N),r.set(e.subarray(F,G),R),t.b=R+=N,t.p=E=G*8,t.f=_;continue}if(E>q){g&&Hc(0);break}}o&&m(R+131072);for(var ge=(1<<B)-1,je=(1<<$)-1,et=E;;et=E){var ce=O[JC(e,E)&ge],rt=ce>>4;if(E+=ce&15,E>q){g&&Hc(0);break}if(ce||Hc(2),rt<256)r[R++]=rt;else if(rt==256){et=E,O=null;break}else{var vt=rt-254;if(rt>264){var te=rt-257,ht=I9[te];vt=Fd(e,E,(1<<ht)-1)+B9[te],E+=ht}var ut=I[JC(e,E)&je],Vt=ut>>4;ut||Hc(3),E+=ut&15;var ze=YQ[Vt];if(Vt>3){var ht=D9[Vt];ze+=JC(e,E)&(1<<ht)-1,E+=ht}if(E>q){g&&Hc(0);break}o&&m(R+131072);var Nt=R+vt;if(R<ze){var lr=l-ze,Dt=Math.min(ze,Nt);for(lr+R<0&&Hc(3);R<Dt;++R)r[R]=n[lr+R]}for(;R<Nt;++R)r[R]=r[R-ze]}}t.l=O,t.p=et,t.b=R,t.f=_,O&&(_=1,t.m=B,t.d=I,t.n=$)}while(!_);return R!=r.length&&c?tJ(r,0,R):r.subarray(0,R)},nJ=new Kc(0),aJ=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&Hc(6,"invalid gzip data");var t=e[3],r=10;t&4&&(r+=(e[10]|e[11]<<8)+2);for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(t&2)},iJ=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},oJ=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Hc(6,"invalid zlib data"),(e[1]>>5&1)==1&&Hc(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function sJ(e,t){return HD(e,{i:2},t,t)}function lJ(e,t){var r=aJ(e);return r+8>e.length&&Hc(6,"invalid gzip data"),HD(e.subarray(r,-8),{i:2},new Kc(iJ(e)),t)}function cJ(e,t){return HD(e.subarray(oJ(e),-4),{i:2},t,t)}function uJ(e,t){return e[0]==31&&e[1]==139&&e[2]==8?lJ(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?sJ(e,t):cJ(e,t)}var dJ=typeof TextDecoder<"u"&&new TextDecoder,fJ=0;try{dJ.decode(nJ,{stream:!0}),fJ=1}catch{}var hJ=Object.defineProperty,gx=Math.pow,Ba=(e,t)=>hJ(e,"name",{value:t,configurable:!0}),ps=(e,t,r)=>new Promise((n,a)=>{var l=g=>{try{o(r.next(g))}catch(m){a(m)}},c=g=>{try{o(r.throw(g))}catch(m){a(m)}},o=g=>g.done?n(g.value):Promise.resolve(g.value).then(l,c);o((r=r.apply(e,t)).next())});Ba((e,t)=>{let r=!1,n="",a=L.GridLayer.extend({createTile:Ba((l,c)=>{let o=document.createElement("img"),g=new AbortController,m=g.signal;return o.cancel=()=>{g.abort()},r||(e.getHeader().then(_=>{_.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):_.tileType===2?n="image/png":_.tileType===3?n="image/jpeg":_.tileType===4?n="image/webp":_.tileType===5&&(n="image/avif")}),r=!0),e.getZxy(l.z,l.x,l.y,m).then(_=>{if(_){let E=new Blob([_.data],{type:n}),R=window.URL.createObjectURL(E);o.src=R,o.cancel=void 0,c(void 0,o)}}).catch(_=>{if(_.name!=="AbortError")throw _}),o},"createTile"),_removeTile:Ba(function(l){let c=this._tiles[l];c&&(c.el.cancel&&c.el.cancel(),c.el.width=0,c.el.height=0,c.el.deleted=!0,L.DomUtil.remove(c.el),delete this._tiles[l],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(l)}))},"_removeTile")});return new a(t)},"leafletRasterLayer");var pJ=Ba(e=>(t,r)=>{if(r instanceof AbortController)return e(t,r);let n=new AbortController;return e(t,n).then(a=>r(void 0,a.data,a.cacheControl||"",a.expires||""),a=>r(a)).catch(a=>r(a)),{cancel:Ba(()=>n.abort(),"cancel")}},"v3compat"),N9=class{constructor(t){this.tilev4=Ba((r,n)=>ps(this,null,function*(){if(r.type==="json"){let O=r.url.substr(10),I=this.tiles.get(O);if(I||(I=new kB(O),this.tiles.set(O,I)),this.metadata)return{data:yield I.getTileJson(r.url)};let B=yield I.getHeader();return(B.minLon>=B.maxLon||B.minLat>=B.maxLat)&&console.error(`Bounds of PMTiles archive ${B.minLon},${B.minLat},${B.maxLon},${B.maxLat} are not valid.`),{data:{tiles:[`${r.url}/{z}/{x}/{y}`],minzoom:B.minZoom,maxzoom:B.maxZoom,bounds:[B.minLon,B.minLat,B.maxLon,B.maxLat]}}}let a=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),l=r.url.match(a);if(!l)throw new Error("Invalid PMTiles protocol URL");let c=l[1],o=this.tiles.get(c);o||(o=new kB(c),this.tiles.set(c,o));let g=l[2],m=l[3],_=l[4],E=yield o.getHeader(),R=yield o==null?void 0:o.getZxy(+g,+m,+_,n.signal);if(R)return{data:new Uint8Array(R.data),cacheControl:R.cacheControl,expires:R.expires};if(E.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=pJ(this.tilev4),this.tiles=new Map,this.metadata=(t==null?void 0:t.metadata)||!1,this.errorOnMissingTile=(t==null?void 0:t.errorOnMissingTile)||!1}add(t){this.tiles.set(t.source.getKey(),t)}get(t){return this.tiles.get(t)}};Ba(N9,"Protocol");var mJ=N9;function j9(e,t){return(t>>>0)*4294967296+(e>>>0)}Ba(j9,"toNum");function $9(e,t){let r=t.buf,n=r[t.pos++],a=(n&112)>>4;if(n<128||(n=r[t.pos++],a|=(n&127)<<3,n<128)||(n=r[t.pos++],a|=(n&127)<<10,n<128)||(n=r[t.pos++],a|=(n&127)<<17,n<128)||(n=r[t.pos++],a|=(n&127)<<24,n<128)||(n=r[t.pos++],a|=(n&1)<<31,n<128))return j9(e,a);throw new Error("Expected varint not more than 10 bytes")}Ba($9,"readVarintRemainder");function Ab(e){let t=e.buf,r=t[e.pos++],n=r&127;return r<128||(r=t[e.pos++],n|=(r&127)<<7,r<128)||(r=t[e.pos++],n|=(r&127)<<14,r<128)||(r=t[e.pos++],n|=(r&127)<<21,r<128)?n:(r=t[e.pos],n|=(r&15)<<28,$9(n,e))}Ba(Ab,"readVarint");function GD(e,t,r,n){if(n===0){r===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);let a=t[0];t[0]=t[1],t[1]=a}}Ba(GD,"rotate");function U9(e,t){let r=gx(2,e),n=t,a=t,l=t,c=[0,0],o=1;for(;o<r;)n=1&l/2,a=1&(l^n),GD(o,c,n,a),c[0]+=o*n,c[1]+=o*a,l=l/4,o*=2;return[e,c[0],c[1]]}Ba(U9,"idOnLevel");var gJ=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function q9(e,t,r){if(e>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(t>gx(2,e)-1||r>gx(2,e)-1)throw new Error("tile x/y outside zoom level bounds");let n=gJ[e],a=gx(2,e),l=0,c=0,o=0,g=[t,r],m=a/2;for(;m>0;)l=(g[0]&m)>0?1:0,c=(g[1]&m)>0?1:0,o+=m*m*(3*l^c),GD(m,g,l,c),m=m/2;return n+o}Ba(q9,"zxyToTileId");function yJ(e){let t=0;for(let r=0;r<27;r++){let n=(1<<r)*(1<<r);if(t+n>e)return U9(r,e-t);t+=n}throw new Error("Tile zoom level exceeds max safe number limit (26)")}Ba(yJ,"tileIdToZxy");var vJ=(e=>(e[e.Unknown=0]="Unknown",e[e.None=1]="None",e[e.Gzip=2]="Gzip",e[e.Brotli=3]="Brotli",e[e.Zstd=4]="Zstd",e))(vJ||{});function u2(e,t){return ps(this,null,function*(){if(t===1||t===0)return e;if(t===2){if(typeof globalThis.DecompressionStream>"u")return uJ(new Uint8Array(e));let r=new Response(e).body;if(!r)throw new Error("Failed to read response stream");let n=r.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(n).arrayBuffer()}throw new Error("Compression method not supported")})}Ba(u2,"defaultDecompress");var bJ=(e=>(e[e.Unknown=0]="Unknown",e[e.Mvt=1]="Mvt",e[e.Png=2]="Png",e[e.Jpeg=3]="Jpeg",e[e.Webp=4]="Webp",e[e.Avif=5]="Avif",e))(bJ||{});function V9(e){return e===1?".mvt":e===2?".png":e===3?".jpg":e===4?".webp":e===5?".avif":""}Ba(V9,"tileTypeExt");var _J=127;function H9(e,t){let r=0,n=e.length-1;for(;r<=n;){let a=n+r>>1,l=t-e[a].tileId;if(l>0)r=a+1;else if(l<0)n=a-1;else return e[a]}return n>=0&&(e[n].runLength===0||t-e[n].tileId<e[n].runLength)?e[n]:null}Ba(H9,"findTile");var xJ=class{constructor(t){this.file=t}getKey(){return this.file.name}getBytes(t,r){return ps(this,null,function*(){return{data:yield this.file.slice(t,t+r).arrayBuffer()}})}};Ba(xJ,"FileSource");var G9=class{constructor(t,r=new Headers){this.url=t,this.customHeaders=r,this.mustReload=!1;let n="";"navigator"in globalThis&&(n=globalThis.navigator.userAgent||"");let a=n.indexOf("Windows")>-1,l=/Chrome|Chromium|Edg|OPR|Brave/.test(n);this.chromeWindowsNoCache=!1,a&&l&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(t){this.customHeaders=t}getBytes(t,r,n,a){return ps(this,null,function*(){let l,c;n?c=n:(l=new AbortController,c=l.signal);let o=new Headers(this.customHeaders);o.set("range",`bytes=${t}-${t+r-1}`);let g;this.mustReload?g="reload":this.chromeWindowsNoCache&&(g="no-store");let m=yield fetch(this.url,{signal:c,cache:g,headers:o});if(t===0&&m.status===416){let R=m.headers.get("Content-Range");if(!R||!R.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let O=+R.substr(8);m=yield fetch(this.url,{signal:c,cache:"reload",headers:{range:`bytes=0-${O-1}`}})}let _=m.headers.get("Etag");if(_!=null&&_.startsWith("W/")&&(_=null),m.status===416||a&&_&&_!==a)throw this.mustReload=!0,new Tk(`Server returned non-matching ETag ${a} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(m.status>=300)throw new Error(`Bad response code: ${m.status}`);let E=m.headers.get("Content-Length");if(m.status===200&&(!E||+E>r))throw l&&l.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield m.arrayBuffer(),etag:_||void 0,cacheControl:m.headers.get("Cache-Control")||void 0,expires:m.headers.get("Expires")||void 0}})}};Ba(G9,"FetchSource");var wJ=G9;function ku(e,t){let r=e.getUint32(t+4,!0),n=e.getUint32(t+0,!0);return r*gx(2,32)+n}Ba(ku,"getUint64");function Z9(e,t){let r=new DataView(e),n=r.getUint8(7);if(n>3)throw new Error(`Archive is spec version ${n} but this library supports up to spec version 3`);return{specVersion:n,rootDirectoryOffset:ku(r,8),rootDirectoryLength:ku(r,16),jsonMetadataOffset:ku(r,24),jsonMetadataLength:ku(r,32),leafDirectoryOffset:ku(r,40),leafDirectoryLength:ku(r,48),tileDataOffset:ku(r,56),tileDataLength:ku(r,64),numAddressedTiles:ku(r,72),numTileEntries:ku(r,80),numTileContents:ku(r,88),clustered:r.getUint8(96)===1,internalCompression:r.getUint8(97),tileCompression:r.getUint8(98),tileType:r.getUint8(99),minZoom:r.getUint8(100),maxZoom:r.getUint8(101),minLon:r.getInt32(102,!0)/1e7,minLat:r.getInt32(106,!0)/1e7,maxLon:r.getInt32(110,!0)/1e7,maxLat:r.getInt32(114,!0)/1e7,centerZoom:r.getUint8(118),centerLon:r.getInt32(119,!0)/1e7,centerLat:r.getInt32(123,!0)/1e7,etag:t}}Ba(Z9,"bytesToHeader");function ZD(e){let t={buf:new Uint8Array(e),pos:0},r=Ab(t),n=[],a=0;for(let l=0;l<r;l++){let c=Ab(t);n.push({tileId:a+c,offset:0,length:0,runLength:1}),a+=c}for(let l=0;l<r;l++)n[l].runLength=Ab(t);for(let l=0;l<r;l++)n[l].length=Ab(t);for(let l=0;l<r;l++){let c=Ab(t);c===0&&l>0?n[l].offset=n[l-1].offset+n[l-1].length:n[l].offset=c-1}return n}Ba(ZD,"deserializeIndex");var W9=class extends Error{};Ba(W9,"EtagMismatch");var Tk=W9;function WD(e,t){return ps(this,null,function*(){let r=yield e.getBytes(0,16384);if(new DataView(r.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let n=r.data.slice(0,_J),a=Z9(n,r.etag),l=r.data.slice(a.rootDirectoryOffset,a.rootDirectoryOffset+a.rootDirectoryLength),c=`${e.getKey()}|${a.etag||""}|${a.rootDirectoryOffset}|${a.rootDirectoryLength}`,o=ZD(yield t(l,a.internalCompression));return[a,[c,o.length,o]]})}Ba(WD,"getHeaderAndRoot");function KD(e,t,r,n,a){return ps(this,null,function*(){let l=yield e.getBytes(r,n,void 0,a.etag),c=yield t(l.data,a.internalCompression),o=ZD(c);if(o.length===0)throw new Error("Empty directory is invalid");return o})}Ba(KD,"getDirectory");var SJ=class{constructor(t=100,r=!0,n=u2){this.cache=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=n}getHeader(t){return ps(this,null,function*(){let r=t.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,n.data;let a=yield WD(t,this.decompress);return a[1]&&this.cache.set(a[1][0],{lastUsed:this.counter++,data:a[1][2]}),this.cache.set(r,{lastUsed:this.counter++,data:a[0]}),this.prune(),a[0]})}getDirectory(t,r,n,a){return ps(this,null,function*(){let l=`${t.getKey()}|${a.etag||""}|${r}|${n}`,c=this.cache.get(l);if(c)return c.lastUsed=this.counter++,c.data;let o=yield KD(t,this.decompress,r,n,a);return this.cache.set(l,{lastUsed:this.counter++,data:o}),this.prune(),o})}prune(){if(this.cache.size>this.maxCacheEntries){let t=1/0,r;this.cache.forEach((n,a)=>{n.lastUsed<t&&(t=n.lastUsed,r=a)}),r&&this.cache.delete(r)}}invalidate(t){return ps(this,null,function*(){this.cache.delete(t.getKey())})}};Ba(SJ,"ResolvedValueCache");var K9=class{constructor(t=100,r=!0,n=u2){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=n}getHeader(t){return ps(this,null,function*(){let r=t.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,yield n.data;let a=new Promise((l,c)=>{WD(t,this.decompress).then(o=>{o[1]&&this.cache.set(o[1][0],{lastUsed:this.counter++,data:Promise.resolve(o[1][2])}),l(o[0]),this.prune()}).catch(o=>{c(o)})});return this.cache.set(r,{lastUsed:this.counter++,data:a}),a})}getDirectory(t,r,n,a){return ps(this,null,function*(){let l=`${t.getKey()}|${a.etag||""}|${r}|${n}`,c=this.cache.get(l);if(c)return c.lastUsed=this.counter++,yield c.data;let o=new Promise((g,m)=>{KD(t,this.decompress,r,n,a).then(_=>{g(_),this.prune()}).catch(_=>{m(_)})});return this.cache.set(l,{lastUsed:this.counter++,data:o}),o})}prune(){if(this.cache.size>=this.maxCacheEntries){let t=1/0,r;this.cache.forEach((n,a)=>{n.lastUsed<t&&(t=n.lastUsed,r=a)}),r&&this.cache.delete(r)}}invalidate(t){return ps(this,null,function*(){let r=t.getKey();if(this.invalidations.get(r))return yield this.invalidations.get(r);this.cache.delete(t.getKey());let n=new Promise((a,l)=>{this.getHeader(t).then(c=>{a(),this.invalidations.delete(r)}).catch(c=>{l(c)})});this.invalidations.set(r,n)})}};Ba(K9,"SharedPromiseCache");var EJ=K9,X9=class{constructor(t,r,n){typeof t=="string"?this.source=new wJ(t):this.source=t,n?this.decompress=n:this.decompress=u2,r?this.cache=r:this.cache=new EJ}getHeader(){return ps(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(t,r,n,a){return ps(this,null,function*(){let l=q9(t,r,n),c=yield this.cache.getHeader(this.source);if(t<c.minZoom||t>c.maxZoom)return;let o=c.rootDirectoryOffset,g=c.rootDirectoryLength;for(let m=0;m<=3;m++){let _=yield this.cache.getDirectory(this.source,o,g,c),E=H9(_,l);if(E){if(E.runLength>0){let R=yield this.source.getBytes(c.tileDataOffset+E.offset,E.length,a,c.etag);return{data:yield this.decompress(R.data,c.tileCompression),cacheControl:R.cacheControl,expires:R.expires}}o=c.leafDirectoryOffset+E.offset,g=E.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(t,r,n,a){return ps(this,null,function*(){try{return yield this.getZxyAttempt(t,r,n,a)}catch(l){if(l instanceof Tk)return this.cache.invalidate(this.source),yield this.getZxyAttempt(t,r,n,a);throw l}})}getMetadataAttempt(){return ps(this,null,function*(){let t=yield this.cache.getHeader(this.source),r=yield this.source.getBytes(t.jsonMetadataOffset,t.jsonMetadataLength,void 0,t.etag),n=yield this.decompress(r.data,t.internalCompression),a=new TextDecoder("utf-8");return JSON.parse(a.decode(n))})}getMetadata(){return ps(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(t){if(t instanceof Tk)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw t}})}getTileJson(t){return ps(this,null,function*(){let r=yield this.getHeader(),n=yield this.getMetadata(),a=V9(r.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${t}/{z}/{x}/{y}${a}`],vector_layers:n.vector_layers,attribution:n.attribution,description:n.description,name:n.name,version:n.version,bounds:[r.minLon,r.minLat,r.maxLon,r.maxLat],center:[r.centerLon,r.centerLat,r.centerZoom],minzoom:r.minZoom,maxzoom:r.maxZoom}})}};Ba(X9,"PMTiles");var kB=X9,CJ=Object.defineProperty,_h=(e,t)=>CJ(e,"name",{value:t,configurable:!0});function rc(e,t){let r="script";return e==="name"?r="script":e==="name2"?r="script2":e==="name3"&&(r="script3"),[["coalesce",["get",`pgf:${e}`],["get",e]],{"text-font":["case",["==",["get",r],"Devanagari"],["literal",["Noto Sans Devanagari Regular v1"]],["literal",[t||"Noto Sans Regular"]]]}]}_h(rc,"get_name_block");function Jf(e,t,r){let n="name";return r==="name"?n="":r==="name2"?n="2":r==="name3"&&(n="3"),t==="Latin"?["has",`script${n}`]:e==="ja"?["all",["!=",["get",`script${n}`],"Han"],["!=",["get",`script${n}`],"Hiragana"],["!=",["get",`script${n}`],"Katakana"],["!=",["get",`script${n}`],"Mixed-Japanese"]]:["!=",["get",`script${n}`],t]}_h(Jf,"is_not_in_target_script");function $d(e){return e==="Devanagari"?{"text-font":["literal",["Noto Sans Devanagari Regular v1"]]}:{}}_h($d,"get_font_formatting");function XD(e){let t=TJ.find(r=>r.lang===e);return t===void 0?"Latin":t.script}_h(XD,"get_default_script");function Y9(e,t){let r=t||XD(e),n;return r==="Devanagari"?n="pgf:":n="",["format",["coalesce",["get",`${n}name:${e}`],["get","name:en"]],$d(r)]}_h(Y9,"get_country_name");function jd(e,t,r){let n=t||XD(e),a;return n==="Devanagari"?a="pgf:":a="",["case",["all",["any",["has","name"],["has","pgf:name"]],["!",["any",["has","name2"],["has","pgf:name2"]]],["!",["any",["has","name3"],["has","pgf:name3"]]]],["case",Jf(e,n,"name"),["case",["any",["is-supported-script",["get","name"]],["has","pgf:name"]],["format",["coalesce",["get",`${a}name:${e}`],["get","name:en"]],$d(n),`
`,{},["case",["all",["!",["has",`${a}name:${e}`]],["has","name:en"],["!",["has","script"]]],"",["coalesce",["get","pgf:name"],["get","name"]]],{"text-font":["case",["==",["get","script"],"Devanagari"],["literal",["Noto Sans Devanagari Regular v1"]],["literal",[r||"Noto Sans Regular"]]]}],["get","name:en"]],["format",["coalesce",["get",`${a}name:${e}`],["get","pgf:name"],["get","name"]],$d(n)]],["all",["any",["has","name"],["has","pgf:name"]],["any",["has","name2"],["has","pgf:name2"]],["!",["any",["has","name3"],["has","pgf:name3"]]]],["case",["all",Jf(e,n,"name"),Jf(e,n,"name2")],["format",["get",`${a}name:${e}`],$d(n),`
`,{},...rc("name",r),`
`,{},...rc("name2",r)],["case",Jf(e,n,"name2"),["format",["coalesce",["get",`${a}name:${e}`],["get","pgf:name"],["get","name"]],$d(n),`
`,{},...rc("name2",r)],["format",["coalesce",["get",`${a}name:${e}`],["get","pgf:name2"],["get","name2"]],$d(n),`
`,{},...rc("name",r)]]],["case",["all",Jf(e,n,"name"),Jf(e,n,"name2"),Jf(e,n,"name3")],["format",["get",`${a}name:${e}`],$d(n),`
`,{},...rc("name",r),`
`,{},...rc("name2",r),`
`,{},...rc("name3",r)],["case",["!",Jf(e,n,"name")],["format",["coalesce",["get",`${a}name:${e}`],["get","pgf:name"],["get","name"]],$d(n),`
`,{},...rc("name2",r),`
`,{},...rc("name3",r)],["!",Jf(e,n,"name2")],["format",["coalesce",["get",`${a}name:${e}`],["get","pgf:name2"],["get","name2"]],$d(n),`
`,{},...rc("name",r),`
`,{},...rc("name3",r)],["format",["coalesce",["get",`${a}name:${e}`],["get","pgf:name3"],["get","name3"]],$d(n),`
`,{},...rc("name",r),`
`,{},...rc("name2",r)]]]]}_h(jd,"get_multiline_name");var TJ=[{lang:"ar",full_name:"Arabic",script:"Arabic"},{lang:"cs",full_name:"Czech",script:"Latin"},{lang:"bg",full_name:"Bulgarian",script:"Cyrillic"},{lang:"da",full_name:"Danish",script:"Latin"},{lang:"de",full_name:"German",script:"Latin"},{lang:"el",full_name:"Greek",script:"Greek"},{lang:"en",full_name:"English",script:"Latin"},{lang:"es",full_name:"Spanish",script:"Latin"},{lang:"et",full_name:"Estonian",script:"Latin"},{lang:"fa",full_name:"Persian",script:"Arabic"},{lang:"fi",full_name:"Finnish",script:"Latin"},{lang:"fr",full_name:"French",script:"Latin"},{lang:"ga",full_name:"Irish",script:"Latin"},{lang:"he",full_name:"Hebrew",script:"Hebrew"},{lang:"hi",full_name:"Hindi",script:"Devanagari"},{lang:"hr",full_name:"Croatian",script:"Latin"},{lang:"hu",full_name:"Hungarian",script:"Latin"},{lang:"id",full_name:"Indonesian",script:"Latin"},{lang:"it",full_name:"Italian",script:"Latin"},{lang:"ja",full_name:"Japanese",script:""},{lang:"ko",full_name:"Korean",script:"Hangul"},{lang:"lt",full_name:"Lithuanian",script:"Latin"},{lang:"lv",full_name:"Latvian",script:"Latin"},{lang:"ne",full_name:"Nepali",script:"Devanagari"},{lang:"nl",full_name:"Dutch",script:"Latin"},{lang:"no",full_name:"Norwegian",script:"Latin"},{lang:"mr",full_name:"Marathi",script:"Devanagari"},{lang:"mt",full_name:"Maltese",script:"Latin"},{lang:"pl",full_name:"Polish",script:"Latin"},{lang:"pt",full_name:"Portuguese",script:"Latin"},{lang:"ro",full_name:"Romanian",script:"Latin"},{lang:"ru",full_name:"Russian",script:"Cyrillic"},{lang:"sk",full_name:"Slovak",script:"Latin"},{lang:"sl",full_name:"Slovenian",script:"Latin"},{lang:"sv",full_name:"Swedish",script:"Latin"},{lang:"tr",full_name:"Turkish",script:"Latin"},{lang:"uk",full_name:"Ukrainian",script:"Cyrillic"},{lang:"ur",full_name:"Urdu",script:"Arabic"},{lang:"vi",full_name:"Vietnamese",script:"Latin"},{lang:"zh-Hans",full_name:"Chinese (Simplified)",script:"Han"},{lang:"zh-Hant",full_name:"Chinese (Traditional)",script:"Han"}];function Q9(e,t){return[{id:"background",type:"background",paint:{"background-color":t.background}},{id:"earth",type:"fill",filter:["==","$type","Polygon"],source:e,"source-layer":"earth",paint:{"fill-color":t.earth}},...t.landcover?[{id:"landcover",type:"fill",source:e,"source-layer":"landcover",paint:{"fill-color":["match",["get","kind"],"grassland",t.landcover.grassland,"barren",t.landcover.barren,"urban_area",t.landcover.urban_area,"farmland",t.landcover.farmland,"glacier",t.landcover.glacier,"scrub",t.landcover.scrub,t.landcover.forest],"fill-opacity":["interpolate",["linear"],["zoom"],5,1,7,0]}}]:[],{id:"landuse_park",type:"fill",source:e,"source-layer":"landuse",filter:["in","kind","national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course","wood","nature_reserve","forest","scrub","grassland","grass","military","naval_base","airfield"],paint:{"fill-opacity":["interpolate",["linear"],["zoom"],6,0,11,1],"fill-color":["case",["in",["get","kind"],["literal",["national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course"]]],t.park_b,["in",["get","kind"],["literal",["wood","nature_reserve","forest"]]],t.wood_b,["in",["get","kind"],["literal",["scrub","grassland","grass"]]],t.scrub_b,["in",["get","kind"],["literal",["glacier"]]],t.glacier,["in",["get","kind"],["literal",["sand"]]],t.sand,["in",["get","kind"],["literal",["military","naval_base","airfield"]]],t.zoo,t.earth]}},{id:"landuse_urban_green",type:"fill",source:e,"source-layer":"landuse",filter:["in","kind","allotments","village_green","playground"],paint:{"fill-color":t.park_b,"fill-opacity":.7}},{id:"landuse_hospital",type:"fill",source:e,"source-layer":"landuse",filter:["==","kind","hospital"],paint:{"fill-color":t.hospital}},{id:"landuse_industrial",type:"fill",source:e,"source-layer":"landuse",filter:["==","kind","industrial"],paint:{"fill-color":t.industrial}},{id:"landuse_school",type:"fill",source:e,"source-layer":"landuse",filter:["in","kind","school","university","college"],paint:{"fill-color":t.school}},{id:"landuse_beach",type:"fill",source:e,"source-layer":"landuse",filter:["in","kind","beach"],paint:{"fill-color":t.beach}},{id:"landuse_zoo",type:"fill",source:e,"source-layer":"landuse",filter:["in","kind","zoo"],paint:{"fill-color":t.zoo}},{id:"landuse_aerodrome",type:"fill",source:e,"source-layer":"landuse",filter:["in","kind","aerodrome"],paint:{"fill-color":t.aerodrome}},{id:"roads_runway",type:"line",source:e,"source-layer":"roads",filter:["==","kind_detail","runway"],paint:{"line-color":t.runway,"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,12,4,18,30]}},{id:"roads_taxiway",type:"line",source:e,"source-layer":"roads",minzoom:13,filter:["==","kind_detail","taxiway"],paint:{"line-color":t.runway,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,15,6]}},{id:"landuse_runway",type:"fill",source:e,"source-layer":"landuse",filter:["any",["in","kind","runway","taxiway"]],paint:{"fill-color":t.runway}},{id:"water",type:"fill",filter:["==","$type","Polygon"],source:e,"source-layer":"water",paint:{"fill-color":t.water}},{id:"water_stream",type:"line",source:e,"source-layer":"water",minzoom:14,filter:["in","kind","stream"],paint:{"line-color":t.water,"line-width":.5}},{id:"water_river",type:"line",source:e,"source-layer":"water",minzoom:9,filter:["in","kind","river"],paint:{"line-color":t.water,"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1,18,12]}},{id:"landuse_pedestrian",type:"fill",source:e,"source-layer":"landuse",filter:["in","kind","pedestrian","dam"],paint:{"fill-color":t.pedestrian}},{id:"landuse_pier",type:"fill",source:e,"source-layer":"landuse",filter:["==","kind","pier"],paint:{"fill-color":t.pier}},{id:"roads_tunnels_other_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["in","kind","other","path"]],paint:{"line-color":t.tunnel_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","minor_road"]],paint:{"line-color":t.tunnel_minor_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_link_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["has","is_link"]],paint:{"line-color":t.tunnel_link_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_major_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.tunnel_major_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_tunnels_highway_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.tunnel_highway_casing,"line-dasharray":[6,.5],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_tunnels_other",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["in","kind","other","path"]],paint:{"line-color":t.tunnel_other,"line-dasharray":[4.5,.5],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","minor_road"]],paint:{"line-color":t.tunnel_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_tunnels_link",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["has","is_link"]],paint:{"line-color":t.tunnel_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_tunnels_major",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","major_road"]],paint:{"line-color":t.tunnel_major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_tunnels_highway",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==",["get","kind"],"highway"],["!",["has","is_link"]]],paint:{"line-color":t.tunnel_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"buildings",type:"fill",source:e,"source-layer":"buildings",filter:["in","kind","building","building_part"],paint:{"fill-color":t.buildings,"fill-opacity":.5}},{id:"roads_pier",type:"line",source:e,"source-layer":"roads",filter:["==","kind_detail","pier"],paint:{"line-color":t.pier,"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,16]}},{id:"roads_minor_service_casing",type:"line",source:e,"source-layer":"roads",minzoom:13,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["==","kind_detail","service"]],paint:{"line-color":t.minor_service_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_minor_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["!=","kind_detail","service"]],paint:{"line-color":t.minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_link_casing",type:"line",source:e,"source-layer":"roads",minzoom:13,filter:["has","is_link"],paint:{"line-color":t.minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1.5]}},{id:"roads_major_casing_late",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major_casing_late,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_highway_casing_late",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway_casing_late,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_other",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["in","kind","other","path"],["!=","kind_detail","pier"]],paint:{"line-color":t.other,"line-dasharray":[3,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_link",type:"line",source:e,"source-layer":"roads",filter:["has","is_link"],paint:{"line-color":t.link,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_minor_service",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["==","kind_detail","service"]],paint:{"line-color":t.minor_service,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8]}},{id:"roads_minor",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["!=","kind_detail","service"]],paint:{"line-color":["interpolate",["exponential",1.6],["zoom"],11,t.minor_a,16,t.minor_b],"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_major_casing_early",type:"line",source:e,"source-layer":"roads",maxzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major_casing_early,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_major",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_highway_casing_early",type:"line",source:e,"source-layer":"roads",maxzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway_casing_early,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1]}},{id:"roads_highway",type:"line",source:e,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"roads_rail",type:"line",source:e,"source-layer":"roads",filter:["==","kind","rail"],paint:{"line-dasharray":[.3,.75],"line-opacity":.5,"line-color":t.railway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,.15,18,9]}},{id:"boundaries_country",type:"line",source:e,"source-layer":"boundaries",filter:["<=","kind_detail",2],paint:{"line-color":t.boundaries,"line-width":.7,"line-dasharray":["step",["zoom"],["literal",[2]],4,["literal",[2,1]]]}},{id:"boundaries",type:"line",source:e,"source-layer":"boundaries",filter:[">","kind_detail",2],paint:{"line-color":t.boundaries,"line-width":.4,"line-dasharray":["step",["zoom"],["literal",[2]],4,["literal",[2,1]]]}},{id:"roads_bridges_other_casing",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["in","kind","other","path"]],paint:{"line-color":t.bridges_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_link_casing",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["has","is_link"]],paint:{"line-color":t.bridges_minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1.5]}},{id:"roads_bridges_minor_casing",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","minor_road"]],paint:{"line-color":t.bridges_minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_bridges_major_casing",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.bridges_major_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,10],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1.5]}},{id:"roads_bridges_other",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["in","kind","other","path"]],paint:{"line-color":t.bridges_other,"line-dasharray":[2,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_minor",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","minor_road"]],paint:{"line-color":t.bridges_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_bridges_link",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["has","is_link"]],paint:{"line-color":t.bridges_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_bridges_major",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.bridges_major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_bridges_highway_casing",type:"line",source:e,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.bridges_highway_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_bridges_highway",type:"line",source:e,"source-layer":"roads",filter:["all",["has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.bridges_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}}]}_h(Q9,"nolabels_layers");function J9(e,t,r,n){return[{id:"address_label",type:"symbol",source:e,"source-layer":"buildings",minzoom:18,filter:["==","kind","address"],layout:{"symbol-placement":"point","text-font":[t.italic||"Noto Sans Italic"],"text-field":["get","addr_housenumber"],"text-size":12},paint:{"text-color":t.address_label,"text-halo-color":t.address_label_halo,"text-halo-width":1}},{id:"water_waterway_label",type:"symbol",source:e,"source-layer":"water",minzoom:13,filter:["in","kind","river","stream"],layout:{"symbol-placement":"line","text-font":[t.italic||"Noto Sans Italic"],"text-field":jd(r,n,t.regular),"text-size":12,"text-letter-spacing":.2},paint:{"text-color":t.ocean_label,"text-halo-color":t.water,"text-halo-width":1}},{id:"roads_labels_minor",type:"symbol",source:e,"source-layer":"roads",minzoom:15,filter:["in","kind","minor_road","other","path"],layout:{"symbol-sort-key":["get","min_zoom"],"symbol-placement":"line","text-font":[t.regular||"Noto Sans Regular"],"text-field":jd(r,n,t.regular),"text-size":12},paint:{"text-color":t.roads_label_minor,"text-halo-color":t.roads_label_minor_halo,"text-halo-width":1}},{id:"water_label_ocean",type:"symbol",source:e,"source-layer":"water",filter:["in","kind","sea","ocean","bay","strait","fjord"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":jd(r,n,t.regular),"text-size":["interpolate",["linear"],["zoom"],3,10,10,12],"text-letter-spacing":.1,"text-max-width":9,"text-transform":"uppercase"},paint:{"text-color":t.ocean_label,"text-halo-width":1,"text-halo-color":t.water}},{id:"earth_label_islands",type:"symbol",source:e,"source-layer":"earth",filter:["in","kind","island"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":jd(r,n,t.regular),"text-size":10,"text-letter-spacing":.1,"text-max-width":8},paint:{"text-color":t.subplace_label,"text-halo-color":t.subplace_label_halo,"text-halo-width":1}},{id:"water_label_lakes",type:"symbol",source:e,"source-layer":"water",filter:["in","kind","lake","water"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":jd(r,n,t.regular),"text-size":["interpolate",["linear"],["zoom"],3,10,6,12,10,12],"text-letter-spacing":.1,"text-max-width":9},paint:{"text-color":t.ocean_label,"text-halo-color":t.water,"text-halo-width":1}},{id:"roads_labels_major",type:"symbol",source:e,"source-layer":"roads",minzoom:11,filter:["in","kind","highway","major_road"],layout:{"symbol-sort-key":["get","min_zoom"],"symbol-placement":"line","text-font":[t.regular||"Noto Sans Regular"],"text-field":jd(r,n,t.regular),"text-size":12},paint:{"text-color":t.roads_label_major,"text-halo-color":t.roads_label_major_halo,"text-halo-width":1}},...t.pois?[{id:"pois",type:"symbol",source:e,"source-layer":"pois",filter:["all",["in",["get","kind"],["literal",["beach","forest","marina","park","peak","zoo","garden","bench","aerodrome","station","bus_stop","ferry_terminal","stadium","university","library","school","animal","toilets","drinking_water"]]],[">=",["zoom"],["+",["get","min_zoom"],0]]],layout:{"icon-image":["match",["get","kind"],"station","train_station",["get","kind"]],"text-font":[t.regular||"Noto Sans Regular"],"text-justify":"auto","text-field":jd(r,n,t.regular),"text-size":["interpolate",["linear"],["zoom"],17,10,19,16],"text-max-width":8,"text-offset":[1.1,0],"text-variable-anchor":["left","right"]},paint:{"text-color":["case",["in",["get","kind"],["literal",["beach","forest","marina","park","peak","zoo","garden","bench"]]],t.pois.green,["in",["get","kind"],["literal",["aerodrome","station","bus_stop","ferry_terminal"]]],t.pois.lapis,["in",["get","kind"],["literal",["stadium","university","library","school","animal","toilets","drinking_water"]]],t.pois.slategray,t.earth],"text-halo-color":t.earth,"text-halo-width":1}}]:[],{id:"places_subplace",type:"symbol",source:e,"source-layer":"places",filter:["==","kind","neighbourhood"],layout:{"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-field":jd(r,n,t.regular),"text-font":[t.regular||"Noto Sans Regular"],"text-max-width":7,"text-letter-spacing":.1,"text-padding":["interpolate",["linear"],["zoom"],5,2,8,4,12,18,15,20],"text-size":["interpolate",["exponential",1.2],["zoom"],11,8,14,14,18,24],"text-transform":"uppercase"},paint:{"text-color":t.subplace_label,"text-halo-color":t.subplace_label_halo,"text-halo-width":1}},{id:"places_region",type:"symbol",source:e,"source-layer":"places",filter:["==","kind","region"],layout:{"symbol-sort-key":["get","sort_key"],"text-field":["step",["zoom"],["coalesce",["get","ref:en"],["get","ref"]],6,jd(r,n,t.regular)],"text-font":[t.regular||"Noto Sans Regular"],"text-size":["interpolate",["linear"],["zoom"],3,11,7,16],"text-radial-offset":.2,"text-anchor":"center","text-transform":"uppercase"},paint:{"text-color":t.state_label,"text-halo-color":t.state_label_halo,"text-halo-width":1}},{id:"places_locality",type:"symbol",source:e,"source-layer":"places",filter:["==","kind","locality"],layout:{"icon-image":["step",["zoom"],"townspot",8,""],"icon-size":.7,"text-field":jd(r,n,t.regular),"text-font":["case",["<=",["get","min_zoom"],5],["literal",[t.bold||"Noto Sans Medium"]],["literal",[t.regular||"Noto Sans Regular"]]],"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-padding":["interpolate",["linear"],["zoom"],5,3,8,7,12,11],"text-size":["interpolate",["linear"],["zoom"],2,["case",["<",["get","population_rank"],13],8,[">=",["get","population_rank"],13],13,0],4,["case",["<",["get","population_rank"],13],10,[">=",["get","population_rank"],13],15,0],6,["case",["<",["get","population_rank"],12],11,[">=",["get","population_rank"],12],17,0],8,["case",["<",["get","population_rank"],11],11,[">=",["get","population_rank"],11],18,0],10,["case",["<",["get","population_rank"],9],12,[">=",["get","population_rank"],9],20,0],15,["case",["<",["get","population_rank"],8],12,[">=",["get","population_rank"],8],22,0]],"icon-padding":["interpolate",["linear"],["zoom"],0,0,8,4,10,8,12,6,22,2],"text-justify":"auto","text-variable-anchor":["step",["zoom"],["literal",["bottom","left","right","top"]],8,["literal",["center"]]],"text-radial-offset":.3},paint:{"text-color":t.city_label,"text-halo-color":t.city_label_halo,"text-halo-width":1}},{id:"places_country",type:"symbol",source:e,"source-layer":"places",filter:["==","kind","country"],layout:{"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-field":Y9(r,n),"text-font":[t.bold||"Noto Sans Medium"],"text-size":["interpolate",["linear"],["zoom"],2,["case",["<",["get","population_rank"],10],8,[">=",["get","population_rank"],10],12,0],6,["case",["<",["get","population_rank"],8],10,[">=",["get","population_rank"],8],18,0],8,["case",["<",["get","population_rank"],7],11,[">=",["get","population_rank"],7],20,0]],"icon-padding":["interpolate",["linear"],["zoom"],0,2,14,2,16,20,17,2,22,2],"text-transform":"uppercase"},paint:{"text-color":t.country_label,"text-halo-color":t.earth,"text-halo-width":1}}]}_h(J9,"labels_layers");var AJ={background:"#cccccc",earth:"#e2dfda",park_a:"#cfddd5",park_b:"#9cd3b4",hospital:"#e4dad9",industrial:"#d1dde1",school:"#e4ded7",wood_a:"#d0ded0",wood_b:"#a0d9a0",pedestrian:"#e3e0d4",scrub_a:"#cedcd7",scrub_b:"#99d2bb",glacier:"#e7e7e7",sand:"#e2e0d7",beach:"#e8e4d0",aerodrome:"#dadbdf",runway:"#e9e9ed",water:"#80deea",zoo:"#c6dcdc",military:"#dcdcdc",tunnel_other_casing:"#e0e0e0",tunnel_minor_casing:"#e0e0e0",tunnel_link_casing:"#e0e0e0",tunnel_major_casing:"#e0e0e0",tunnel_highway_casing:"#e0e0e0",tunnel_other:"#d5d5d5",tunnel_minor:"#d5d5d5",tunnel_link:"#d5d5d5",tunnel_major:"#d5d5d5",tunnel_highway:"#d5d5d5",pier:"#e0e0e0",buildings:"#cccccc",minor_service_casing:"#e0e0e0",minor_casing:"#e0e0e0",link_casing:"#e0e0e0",major_casing_late:"#e0e0e0",highway_casing_late:"#e0e0e0",other:"#ebebeb",minor_service:"#ebebeb",minor_a:"#ebebeb",minor_b:"#ffffff",link:"#ffffff",major_casing_early:"#e0e0e0",major:"#ffffff",highway_casing_early:"#e0e0e0",highway:"#ffffff",railway:"#a7b1b3",boundaries:"#adadad",bridges_other_casing:"#e0e0e0",bridges_minor_casing:"#e0e0e0",bridges_link_casing:"#e0e0e0",bridges_major_casing:"#e0e0e0",bridges_highway_casing:"#e0e0e0",bridges_other:"#ebebeb",bridges_minor:"#ffffff",bridges_link:"#ffffff",bridges_major:"#f5f5f5",bridges_highway:"#ffffff",roads_label_minor:"#91888b",roads_label_minor_halo:"#ffffff",roads_label_major:"#938a8d",roads_label_major_halo:"#ffffff",ocean_label:"#728dd4",subplace_label:"#8f8f8f",subplace_label_halo:"#e0e0e0",city_label:"#5c5c5c",city_label_halo:"#e0e0e0",state_label:"#b3b3b3",state_label_halo:"#e0e0e0",country_label:"#a3a3a3",address_label:"#91888b",address_label_halo:"#ffffff",pois:{blue:"#1A8CBD",green:"#20834D",lapis:"#315BCF",pink:"#EF56BA",red:"#F2567A",slategray:"#6A5B8F",tangerine:"#CB6704",turquoise:"#00C3D4"},landcover:{grassland:"rgba(210, 239, 207, 1)",barren:"rgba(255, 243, 215, 1)",urban_area:"rgba(230, 230, 230, 1)",farmland:"rgba(216, 239, 210, 1)",glacier:"rgba(255, 255, 255, 1)",scrub:"rgba(234, 239, 210, 1)",forest:"rgba(196, 231, 210, 1)"}},PJ={background:"#34373d",earth:"#1f1f1f",park_a:"#1c2421",park_b:"#192a24",hospital:"#252424",industrial:"#222222",school:"#262323",wood_a:"#202121",wood_b:"#202121",pedestrian:"#1e1e1e",scrub_a:"#222323",scrub_b:"#222323",glacier:"#1c1c1c",sand:"#212123",beach:"#28282a",aerodrome:"#1e1e1e",runway:"#333333",water:"#31353f",zoo:"#222323",military:"#242323",tunnel_other_casing:"#141414",tunnel_minor_casing:"#141414",tunnel_link_casing:"#141414",tunnel_major_casing:"#141414",tunnel_highway_casing:"#141414",tunnel_other:"#292929",tunnel_minor:"#292929",tunnel_link:"#292929",tunnel_major:"#292929",tunnel_highway:"#292929",pier:"#333333",buildings:"#111111",minor_service_casing:"#1f1f1f",minor_casing:"#1f1f1f",link_casing:"#1f1f1f",major_casing_late:"#1f1f1f",highway_casing_late:"#1f1f1f",other:"#333333",minor_service:"#333333",minor_a:"#3d3d3d",minor_b:"#333333",link:"#3d3d3d",major_casing_early:"#1f1f1f",major:"#3d3d3d",highway_casing_early:"#1f1f1f",highway:"#474747",railway:"#000000",boundaries:"#5b6374",bridges_other_casing:"#2b2b2b",bridges_minor_casing:"#1f1f1f",bridges_link_casing:"#1f1f1f",bridges_major_casing:"#1f1f1f",bridges_highway_casing:"#1f1f1f",bridges_other:"#333333",bridges_minor:"#333333",bridges_link:"#3d3d3d",bridges_major:"#3d3d3d",bridges_highway:"#474747",roads_label_minor:"#525252",roads_label_minor_halo:"#1f1f1f",roads_label_major:"#666666",roads_label_major_halo:"#1f1f1f",ocean_label:"#717784",subplace_label:"#525252",subplace_label_halo:"#1f1f1f",city_label:"#7a7a7a",city_label_halo:"#212121",state_label:"#3d3d3d",state_label_halo:"#1f1f1f",country_label:"#5c5c5c",address_label:"#525252",address_label_halo:"#1f1f1f",pois:{blue:"#4299BB",green:"#30C573",lapis:"#2B5CEA",pink:"#EF56BA",red:"#F2567A",slategray:"#93939F",tangerine:"#F19B6E",turquoise:"#00C3D4"},landcover:{grassland:"rgba(30, 41, 31, 1)",barren:"rgba(38, 38, 36, 1)",urban_area:"rgba(28, 28, 28, 1)",farmland:"rgba(31, 36, 32, 1)",glacier:"rgba(43, 43, 43, 1)",scrub:"rgba(34, 36, 30, 1)",forest:"rgba(28, 41, 37, 1)"}},RJ={background:"#ffffff",earth:"#ffffff",park_a:"#fcfcfc",park_b:"#fcfcfc",hospital:"#f8f8f8",industrial:"#fcfcfc",school:"#f8f8f8",wood_a:"#fafafa",wood_b:"#fafafa",pedestrian:"#fdfdfd",scrub_a:"#fafafa",scrub_b:"#fafafa",glacier:"#fcfcfc",sand:"#fafafa",beach:"#f6f6f6",aerodrome:"#fdfdfd",runway:"#efefef",water:"#dcdcdc",zoo:"#f7f7f7",military:"#fcfcfc",tunnel_other_casing:"#d6d6d6",tunnel_minor_casing:"#fcfcfc",tunnel_link_casing:"#fcfcfc",tunnel_major_casing:"#fcfcfc",tunnel_highway_casing:"#fcfcfc",tunnel_other:"#d6d6d6",tunnel_minor:"#d6d6d6",tunnel_link:"#d6d6d6",tunnel_major:"#d6d6d6",tunnel_highway:"#d6d6d6",pier:"#efefef",buildings:"#efefef",minor_service_casing:"#ffffff",minor_casing:"#ffffff",link_casing:"#ffffff",major_casing_late:"#ffffff",highway_casing_late:"#ffffff",other:"#f5f5f5",minor_service:"#f5f5f5",minor_a:"#ebebeb",minor_b:"#f5f5f5",link:"#ebebeb",major_casing_early:"#ffffff",major:"#ebebeb",highway_casing_early:"#ffffff",highway:"#ebebeb",railway:"#d6d6d6",boundaries:"#adadad",bridges_other_casing:"#ffffff",bridges_minor_casing:"#ffffff",bridges_link_casing:"#ffffff",bridges_major_casing:"#ffffff",bridges_highway_casing:"#ffffff",bridges_other:"#f5f5f5",bridges_minor:"#f5f5f5",bridges_link:"#ebebeb",bridges_major:"#ebebeb",bridges_highway:"#ebebeb",roads_label_minor:"#adadad",roads_label_minor_halo:"#ffffff",roads_label_major:"#999999",roads_label_major_halo:"#ffffff",ocean_label:"#adadad",subplace_label:"#8f8f8f",subplace_label_halo:"#ffffff",city_label:"#5c5c5c",city_label_halo:"#ffffff",state_label:"#b3b3b3",state_label_halo:"#ffffff",country_label:"#b8b8b8",address_label:"#adadad",address_label_halo:"#ffffff"},MJ={background:"#a3a3a3",earth:"#cccccc",park_a:"#c2c2c2",park_b:"#c2c2c2",hospital:"#d0d0d0",industrial:"#c6c6c6",school:"#d0d0d0",wood_a:"#c2c2c2",wood_b:"#c2c2c2",pedestrian:"#c4c4c4",scrub_a:"#c2c2c2",scrub_b:"#c2c2c2",glacier:"#d2d2d2",sand:"#d2d2d2",beach:"#d2d2d2",aerodrome:"#c9c9c9",runway:"#f5f5f5",water:"#a3a3a3",zoo:"#c7c7c7",military:"#bfbfbf",tunnel_other_casing:"#b8b8b8",tunnel_minor_casing:"#b8b8b8",tunnel_link_casing:"#b8b8b8",tunnel_major_casing:"#b8b8b8",tunnel_highway_casing:"#b8b8b8",tunnel_other:"#d6d6d6",tunnel_minor:"#d6d6d6",tunnel_link:"#d6d6d6",tunnel_major:"#d6d6d6",tunnel_highway:"#d6d6d6",pier:"#b8b8b8",buildings:"#e0e0e0",minor_service_casing:"#cccccc",minor_casing:"#cccccc",link_casing:"#cccccc",major_casing_late:"#cccccc",highway_casing_late:"#cccccc",other:"#e0e0e0",minor_service:"#e0e0e0",minor_a:"#ebebeb",minor_b:"#e0e0e0",link:"#ebebeb",major_casing_early:"#cccccc",major:"#ebebeb",highway_casing_early:"#cccccc",highway:"#ebebeb",railway:"#f5f5f5",boundaries:"#5c5c5c",bridges_other_casing:"#cccccc",bridges_minor_casing:"#cccccc",bridges_link_casing:"#cccccc",bridges_major_casing:"#cccccc",bridges_highway_casing:"#cccccc",bridges_other:"#e0e0e0",bridges_minor:"#e0e0e0",bridges_link:"#ebebeb",bridges_major:"#ebebeb",bridges_highway:"#ebebeb",roads_label_minor:"#999999",roads_label_minor_halo:"#e0e0e0",roads_label_major:"#8f8f8f",roads_label_major_halo:"#ebebeb",ocean_label:"#7a7a7a",subplace_label:"#7a7a7a",subplace_label_halo:"#cccccc",city_label:"#474747",city_label_halo:"#cccccc",state_label:"#999999",state_label_halo:"#cccccc",country_label:"#858585",address_label:"#999999",address_label_halo:"#e0e0e0"},OJ={background:"#2b2b2b",earth:"#141414",park_a:"#181818",park_b:"#181818",hospital:"#1d1d1d",industrial:"#101010",school:"#111111",wood_a:"#1a1a1a",wood_b:"#1a1a1a",pedestrian:"#191919",scrub_a:"#1c1c1c",scrub_b:"#1c1c1c",glacier:"#191919",sand:"#161616",beach:"#1f1f1f",aerodrome:"#191919",runway:"#323232",water:"#333333",zoo:"#191919",military:"#121212",tunnel_other_casing:"#101010",tunnel_minor_casing:"#101010",tunnel_link_casing:"#101010",tunnel_major_casing:"#101010",tunnel_highway_casing:"#101010",tunnel_other:"#292929",tunnel_minor:"#292929",tunnel_link:"#292929",tunnel_major:"#292929",tunnel_highway:"#292929",pier:"#0a0a0a",buildings:"#0a0a0a",minor_service_casing:"#141414",minor_casing:"#141414",link_casing:"#141414",major_casing_late:"#141414",highway_casing_late:"#141414",other:"#1f1f1f",minor_service:"#1f1f1f",minor_a:"#292929",minor_b:"#1f1f1f",link:"#1f1f1f",major_casing_early:"#141414",major:"#292929",highway_casing_early:"#141414",highway:"#292929",railway:"#292929",boundaries:"#707070",bridges_other_casing:"#141414",bridges_minor_casing:"#141414",bridges_link_casing:"#141414",bridges_major_casing:"#141414",bridges_highway_casing:"#141414",bridges_other:"#1f1f1f",bridges_minor:"#1f1f1f",bridges_link:"#292929",bridges_major:"#292929",bridges_highway:"#292929",roads_label_minor:"#525252",roads_label_minor_halo:"#141414",roads_label_major:"#5c5c5c",roads_label_major_halo:"#141414",ocean_label:"#707070",subplace_label:"#5c5c5c",subplace_label_halo:"#141414",city_label:"#999999",city_label_halo:"#141414",state_label:"#3d3d3d",state_label_halo:"#141414",country_label:"#707070",address_label:"#525252",address_label_halo:"#141414"};function e7(e){switch(e){case"light":return AJ;case"dark":return PJ;case"white":return RJ;case"grayscale":return MJ;case"black":return OJ}throw new Error("Flavor not found")}_h(e7,"namedFlavor");function t7(e,t,r){let n=[];return r!=null&&r.labelsOnly||(n=Q9(e,t)),r!=null&&r.lang&&(n=n.concat(J9(e,t,r.lang))),n}_h(t7,"layers");function kJ(){const e=S.useRef(null);return S.useEffect(()=>{if(!e.current)return;const t=new mJ;OB.addProtocol("pmtiles",t.tile);const r=new OB.Map({container:e.current,center:[-78.7224957,35.7836484],zoom:12,style:{version:8,glyphs:"https://protomaps.github.io/basemaps-assets/fonts/{fontstack}/{range}.pbf",sprite:"https://protomaps.github.io/basemaps-assets/sprites/v4/light",sources:{protomaps:{type:"vector",url:"pmtiles://https://demo-bucket.protomaps.com/v4.pmtiles",attribution:'<a href="https://protomaps.com">Protomaps</a>  <a href="https://openstreetmap.org">OpenStreetMap</a>'}},layers:t7("protomaps",e7("light"),{lang:"en"})}});return r.on("load",async()=>{try{const n=await fetch("src/coords.json");console.log(n);const a=await n.json(),l={type:"FeatureCollection",features:a.map(({ratingId:g,lat:m,lng:_})=>({type:"Feature",geometry:{type:"Point",coordinates:[_,m]},properties:{title:g}}))};r.addSource("marker-source",{type:"geojson",data:l}),r.addLayer({id:"marker-layer",type:"circle",source:"marker-source",paint:{"circle-radius":8,"circle-color":"#FF5722","circle-stroke-width":2,"circle-stroke-color":"#ffffff"}});const c=a.map(g=>g.lat),o=a.map(g=>g.lng);if(c.length&&o.length){const g=[[Math.min(...o),Math.min(...c)],[Math.max(...o),Math.max(...c)]]}}catch(n){console.error("Error loading coords.json:",n)}}),()=>r.remove()},[]),Oe.jsx("div",{ref:e,className:"bodyMap"})}var YD=S.createContext(void 0);YD.displayName="AuthContext";var d2={loginUrl:"/login",afterLoginUrl:"/"},au=function(){return S.useContext(YD)},R_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wy=typeof window>"u"||"Deno"in globalThis;function Rl(){}function IJ(e,t){return typeof e=="function"?e(t):e}function Ak(e){return typeof e=="number"&&e>=0&&e!==1/0}function r7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function eg(e,t){return typeof e=="function"?e(t):e}function Vd(e,t){return typeof e=="function"?e(t):e}function IB(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:l,queryKey:c,stale:o}=e;if(c){if(n){if(t.queryHash!==QD(c,t.options))return!1}else if(!e1(t.queryKey,c))return!1}if(r!=="all"){const g=t.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||l&&!l(t))}function DB(e,t){const{exact:r,status:n,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Ky(t.options.mutationKey)!==Ky(l))return!1}else if(!e1(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function QD(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ky)(e)}function Ky(e){return JSON.stringify(e,(t,r)=>Pk(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function e1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>e1(e[r],t[r])):!1}function n7(e,t){if(e===t)return e;const r=zB(e)&&zB(t);if(r||Pk(e)&&Pk(t)){const n=r?e:Object.keys(e),a=n.length,l=r?t:Object.keys(t),c=l.length,o=r?[]:{},g=new Set(n);let m=0;for(let _=0;_<c;_++){const E=r?_:l[_];(!r&&g.has(E)||r)&&e[E]===void 0&&t[E]===void 0?(o[E]=void 0,m++):(o[E]=n7(e[E],t[E]),o[E]===e[E]&&e[E]!==void 0&&m++)}return a===c&&m===a?e:o}return t}function HS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function zB(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pk(e){if(!LB(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!LB(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function LB(e){return Object.prototype.toString.call(e)==="[object Object]"}function DJ(e){return new Promise(t=>{setTimeout(t,e)})}function Rk(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?n7(e,t):t}function zJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function LJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var JD=Symbol();function a7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===JD?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function i7(e,t){return typeof e=="function"?e(...t):!!e}var Iy,jm,Yb,Hq,BJ=(Hq=class extends R_{constructor(){super();cn(this,Iy);cn(this,jm);cn(this,Yb);Fr(this,Yb,t=>{if(!Wy&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){at(this,jm)||this.setEventListener(at(this,Yb))}onUnsubscribe(){var t;this.hasListeners()||((t=at(this,jm))==null||t.call(this),Fr(this,jm,void 0))}setEventListener(t){var r;Fr(this,Yb,t),(r=at(this,jm))==null||r.call(this),Fr(this,jm,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){at(this,Iy)!==t&&(Fr(this,Iy,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof at(this,Iy)=="boolean"?at(this,Iy):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Iy=new WeakMap,jm=new WeakMap,Yb=new WeakMap,Hq),e3=new BJ,Qb,$m,Jb,Gq,FJ=(Gq=class extends R_{constructor(){super();cn(this,Qb,!0);cn(this,$m);cn(this,Jb);Fr(this,Jb,t=>{if(!Wy&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){at(this,$m)||this.setEventListener(at(this,Jb))}onUnsubscribe(){var t;this.hasListeners()||((t=at(this,$m))==null||t.call(this),Fr(this,$m,void 0))}setEventListener(t){var r;Fr(this,Jb,t),(r=at(this,$m))==null||r.call(this),Fr(this,$m,t(this.setOnline.bind(this)))}setOnline(t){at(this,Qb)!==t&&(Fr(this,Qb,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return at(this,Qb)}},Qb=new WeakMap,$m=new WeakMap,Jb=new WeakMap,Gq),GS=new FJ;function Mk(){let e,t;const r=new Promise((a,l)=>{e=a,t=l});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function NJ(e){return Math.min(1e3*2**e,3e4)}function o7(e){return(e??"online")==="online"?GS.isOnline():!0}var s7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eT(e){return e instanceof s7}function l7(e){let t=!1,r=0,n=!1,a;const l=Mk(),c=B=>{var $;n||(R(new s7(B)),($=e.abort)==null||$.call(e))},o=()=>{t=!0},g=()=>{t=!1},m=()=>e3.isFocused()&&(e.networkMode==="always"||GS.isOnline())&&e.canRun(),_=()=>o7(e.networkMode)&&e.canRun(),E=B=>{var $;n||(n=!0,($=e.onSuccess)==null||$.call(e,B),a==null||a(),l.resolve(B))},R=B=>{var $;n||(n=!0,($=e.onError)==null||$.call(e,B),a==null||a(),l.reject(B))},O=()=>new Promise(B=>{var $;a=q=>{(n||m())&&B(q)},($=e.onPause)==null||$.call(e)}).then(()=>{var B;a=void 0,n||(B=e.onContinue)==null||B.call(e)}),I=()=>{if(n)return;let B;const $=r===0?e.initialPromise:void 0;try{B=$??e.fn()}catch(q){B=Promise.reject(q)}Promise.resolve(B).then(E).catch(q=>{var V;if(n)return;const j=e.retry??(Wy?0:3),F=e.retryDelay??NJ,N=typeof F=="function"?F(r,q):F,G=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,q);if(t||!G){R(q);return}r++,(V=e.onFail)==null||V.call(e,r,q),DJ(N).then(()=>m()?void 0:O()).then(()=>{t?R(q):I()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:o,continueRetry:g,canStart:_,start:()=>(_()?I():O().then(I),l)}}var jJ=e=>setTimeout(e,0);function $J(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=jJ;const l=o=>{t?e.push(o):a(()=>{r(o)})},c=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(g=>{r(g)})})})};return{batch:o=>{let g;t++;try{g=o()}finally{t--,t||c()}return g},batchCalls:o=>(...g)=>{l(()=>{o(...g)})},schedule:l,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ao=$J(),Dy,Zq,c7=(Zq=class{constructor(){cn(this,Dy)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ak(this.gcTime)&&Fr(this,Dy,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wy?1/0:5*60*1e3))}clearGcTimeout(){at(this,Dy)&&(clearTimeout(at(this,Dy)),Fr(this,Dy,void 0))}},Dy=new WeakMap,Zq),e_,t_,Du,zy,tl,C1,Ly,Ud,fp,Wq,UJ=(Wq=class extends c7{constructor(t){super();cn(this,Ud);cn(this,e_);cn(this,t_);cn(this,Du);cn(this,zy);cn(this,tl);cn(this,C1);cn(this,Ly);Fr(this,Ly,!1),Fr(this,C1,t.defaultOptions),this.setOptions(t.options),this.observers=[],Fr(this,zy,t.client),Fr(this,Du,at(this,zy).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Fr(this,e_,qJ(this.options)),this.state=t.state??at(this,e_),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=at(this,tl))==null?void 0:t.promise}setOptions(t){this.options={...at(this,C1),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&at(this,Du).remove(this)}setData(t,r){const n=Rk(this.state.data,t,this.options);return jn(this,Ud,fp).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){jn(this,Ud,fp).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=at(this,tl))==null?void 0:n.promise;return(a=at(this,tl))==null||a.cancel(t),r?r.then(Rl).catch(Rl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(at(this,e_))}isActive(){return this.observers.some(t=>Vd(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>eg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!r7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=at(this,tl))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=at(this,tl))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),at(this,Du).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(at(this,tl)&&(at(this,Ly)?at(this,tl).cancel({revert:!0}):at(this,tl).cancelRetry()),this.scheduleGc()),at(this,Du).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jn(this,Ud,fp).call(this,{type:"invalidate"})}fetch(t,r){var m,_,E;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(at(this,tl))return at(this,tl).continueRetry(),at(this,tl).promise}if(t&&this.setOptions(t),!this.options.queryFn){const R=this.observers.find(O=>O.options.queryFn);R&&this.setOptions(R.options)}const n=new AbortController,a=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(Fr(this,Ly,!0),n.signal)})},l=()=>{const R=a7(this.options,r),I=(()=>{const B={client:at(this,zy),queryKey:this.queryKey,meta:this.meta};return a(B),B})();return Fr(this,Ly,!1),this.options.persister?this.options.persister(R,I,this):R(I)},o=(()=>{const R={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:at(this,zy),state:this.state,fetchFn:l};return a(R),R})();(m=this.options.behavior)==null||m.onFetch(o,this),Fr(this,t_,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=o.fetchOptions)==null?void 0:_.meta))&&jn(this,Ud,fp).call(this,{type:"fetch",meta:(E=o.fetchOptions)==null?void 0:E.meta});const g=R=>{var O,I,B,$;eT(R)&&R.silent||jn(this,Ud,fp).call(this,{type:"error",error:R}),eT(R)||((I=(O=at(this,Du).config).onError)==null||I.call(O,R,this),($=(B=at(this,Du).config).onSettled)==null||$.call(B,this.state.data,R,this)),this.scheduleGc()};return Fr(this,tl,l7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:R=>{var O,I,B,$;if(R===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(R)}catch(q){g(q);return}(I=(O=at(this,Du).config).onSuccess)==null||I.call(O,R,this),($=(B=at(this,Du).config).onSettled)==null||$.call(B,R,this.state.error,this),this.scheduleGc()},onError:g,onFail:(R,O)=>{jn(this,Ud,fp).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{jn(this,Ud,fp).call(this,{type:"pause"})},onContinue:()=>{jn(this,Ud,fp).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),at(this,tl).start()}},e_=new WeakMap,t_=new WeakMap,Du=new WeakMap,zy=new WeakMap,tl=new WeakMap,C1=new WeakMap,Ly=new WeakMap,Ud=new WeakSet,fp=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...u7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return eT(a)&&a.revert&&at(this,t_)?{...at(this,t_),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ao.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),at(this,Du).notify({query:this,type:"updated",action:t})})},Wq);function u7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qJ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var th,Kq,VJ=(Kq=class extends R_{constructor(t={}){super();cn(this,th);this.config=t,Fr(this,th,new Map)}build(t,r,n){const a=r.queryKey,l=r.queryHash??QD(a,r);let c=this.get(l);return c||(c=new UJ({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(c)),c}add(t){at(this,th).has(t.queryHash)||(at(this,th).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=at(this,th).get(t.queryHash);r&&(t.destroy(),r===t&&at(this,th).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ao.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return at(this,th).get(t)}getAll(){return[...at(this,th).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>IB(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>IB(t,n)):r}notify(t){ao.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ao.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ao.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},th=new WeakMap,Kq),rh,Al,By,nh,km,Xq,HJ=(Xq=class extends c7{constructor(t){super();cn(this,nh);cn(this,rh);cn(this,Al);cn(this,By);this.mutationId=t.mutationId,Fr(this,Al,t.mutationCache),Fr(this,rh,[]),this.state=t.state||d7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){at(this,rh).includes(t)||(at(this,rh).push(t),this.clearGcTimeout(),at(this,Al).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Fr(this,rh,at(this,rh).filter(r=>r!==t)),this.scheduleGc(),at(this,Al).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){at(this,rh).length||(this.state.status==="pending"?this.scheduleGc():at(this,Al).remove(this))}continue(){var t;return((t=at(this,By))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,c,o,g,m,_,E,R,O,I,B,$,q,j,F,N,G,V,ee,ne;const r=()=>{jn(this,nh,km).call(this,{type:"continue"})};Fr(this,By,l7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(ae,X)=>{jn(this,nh,km).call(this,{type:"failed",failureCount:ae,error:X})},onPause:()=>{jn(this,nh,km).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>at(this,Al).canRun(this)}));const n=this.state.status==="pending",a=!at(this,By).canStart();try{if(n)r();else{jn(this,nh,km).call(this,{type:"pending",variables:t,isPaused:a}),await((c=(l=at(this,Al).config).onMutate)==null?void 0:c.call(l,t,this));const X=await((g=(o=this.options).onMutate)==null?void 0:g.call(o,t));X!==this.state.context&&jn(this,nh,km).call(this,{type:"pending",context:X,variables:t,isPaused:a})}const ae=await at(this,By).start();return await((_=(m=at(this,Al).config).onSuccess)==null?void 0:_.call(m,ae,t,this.state.context,this)),await((R=(E=this.options).onSuccess)==null?void 0:R.call(E,ae,t,this.state.context)),await((I=(O=at(this,Al).config).onSettled)==null?void 0:I.call(O,ae,null,this.state.variables,this.state.context,this)),await(($=(B=this.options).onSettled)==null?void 0:$.call(B,ae,null,t,this.state.context)),jn(this,nh,km).call(this,{type:"success",data:ae}),ae}catch(ae){try{throw await((j=(q=at(this,Al).config).onError)==null?void 0:j.call(q,ae,t,this.state.context,this)),await((N=(F=this.options).onError)==null?void 0:N.call(F,ae,t,this.state.context)),await((V=(G=at(this,Al).config).onSettled)==null?void 0:V.call(G,void 0,ae,this.state.variables,this.state.context,this)),await((ne=(ee=this.options).onSettled)==null?void 0:ne.call(ee,void 0,ae,t,this.state.context)),ae}finally{jn(this,nh,km).call(this,{type:"error",error:ae})}}finally{at(this,Al).runNext(this)}}},rh=new WeakMap,Al=new WeakMap,By=new WeakMap,nh=new WeakSet,km=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ao.batch(()=>{at(this,rh).forEach(n=>{n.onMutationUpdate(t)}),at(this,Al).notify({mutation:this,type:"updated",action:t})})},Xq);function d7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gp,qd,T1,Yq,GJ=(Yq=class extends R_{constructor(t={}){super();cn(this,gp);cn(this,qd);cn(this,T1);this.config=t,Fr(this,gp,new Set),Fr(this,qd,new Map),Fr(this,T1,0)}build(t,r,n){const a=new HJ({mutationCache:this,mutationId:++Iw(this,T1)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){at(this,gp).add(t);const r=Bw(t);if(typeof r=="string"){const n=at(this,qd).get(r);n?n.push(t):at(this,qd).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(at(this,gp).delete(t)){const r=Bw(t);if(typeof r=="string"){const n=at(this,qd).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&at(this,qd).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bw(t);if(typeof r=="string"){const n=at(this,qd).get(r),a=n==null?void 0:n.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Bw(t);if(typeof r=="string"){const a=(n=at(this,qd).get(r))==null?void 0:n.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ao.batch(()=>{at(this,gp).forEach(t=>{this.notify({type:"removed",mutation:t})}),at(this,gp).clear(),at(this,qd).clear()})}getAll(){return Array.from(at(this,gp))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>DB(r,n))}findAll(t={}){return this.getAll().filter(r=>DB(t,r))}notify(t){ao.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ao.batch(()=>Promise.all(t.map(r=>r.continue().catch(Rl))))}},gp=new WeakMap,qd=new WeakMap,T1=new WeakMap,Yq);function Bw(e){var t;return(t=e.options.scope)==null?void 0:t.id}function BB(e){return{onFetch:(t,r)=>{var _,E,R,O,I;const n=t.options,a=(R=(E=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:E.fetchMore)==null?void 0:R.direction,l=((O=t.state.data)==null?void 0:O.pages)||[],c=((I=t.state.data)==null?void 0:I.pageParams)||[];let o={pages:[],pageParams:[]},g=0;const m=async()=>{let B=!1;const $=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(t.signal.aborted?B=!0:t.signal.addEventListener("abort",()=>{B=!0}),t.signal)})},q=a7(t.options,t.fetchOptions),j=async(F,N,G)=>{if(B)return Promise.reject();if(N==null&&F.pages.length)return Promise.resolve(F);const ee=(()=>{const te={client:t.client,queryKey:t.queryKey,pageParam:N,direction:G?"backward":"forward",meta:t.options.meta};return $(te),te})(),ne=await q(ee),{maxPages:ae}=t.options,X=G?LJ:zJ;return{pages:X(F.pages,ne,ae),pageParams:X(F.pageParams,N,ae)}};if(a&&l.length){const F=a==="backward",N=F?ZJ:FB,G={pages:l,pageParams:c},V=N(n,G);o=await j(G,V,F)}else{const F=e??l.length;do{const N=g===0?c[0]??n.initialPageParam:FB(n,o);if(g>0&&N==null)break;o=await j(o,N),g++}while(g<F)}return o};t.options.persister?t.fetchFn=()=>{var B,$;return($=(B=t.options).persister)==null?void 0:$.call(B,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=m}}}function FB(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ZJ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var $i,Um,qm,r_,n_,Vm,a_,i_,Qq,WJ=(Qq=class{constructor(e={}){cn(this,$i);cn(this,Um);cn(this,qm);cn(this,r_);cn(this,n_);cn(this,Vm);cn(this,a_);cn(this,i_);Fr(this,$i,e.queryCache||new VJ),Fr(this,Um,e.mutationCache||new GJ),Fr(this,qm,e.defaultOptions||{}),Fr(this,r_,new Map),Fr(this,n_,new Map),Fr(this,Vm,0)}mount(){Iw(this,Vm)._++,at(this,Vm)===1&&(Fr(this,a_,e3.subscribe(async e=>{e&&(await this.resumePausedMutations(),at(this,$i).onFocus())})),Fr(this,i_,GS.subscribe(async e=>{e&&(await this.resumePausedMutations(),at(this,$i).onOnline())})))}unmount(){var e,t;Iw(this,Vm)._--,at(this,Vm)===0&&((e=at(this,a_))==null||e.call(this),Fr(this,a_,void 0),(t=at(this,i_))==null||t.call(this),Fr(this,i_,void 0))}isFetching(e){return at(this,$i).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return at(this,Um).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=at(this,$i).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=at(this,$i).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(eg(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return at(this,$i).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=at(this,$i).get(n.queryHash),l=a==null?void 0:a.state.data,c=IJ(t,l);if(c!==void 0)return at(this,$i).build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return ao.batch(()=>at(this,$i).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=at(this,$i).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=at(this,$i);ao.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=at(this,$i);return ao.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ao.batch(()=>at(this,$i).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Rl).catch(Rl)}invalidateQueries(e,t={}){return ao.batch(()=>(at(this,$i).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ao.batch(()=>at(this,$i).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(Rl)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(Rl)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=at(this,$i).build(this,t);return r.isStaleByTime(eg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rl).catch(Rl)}fetchInfiniteQuery(e){return e.behavior=BB(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rl).catch(Rl)}ensureInfiniteQueryData(e){return e.behavior=BB(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return GS.isOnline()?at(this,Um).resumePausedMutations():Promise.resolve()}getQueryCache(){return at(this,$i)}getMutationCache(){return at(this,Um)}getDefaultOptions(){return at(this,qm)}setDefaultOptions(e){Fr(this,qm,e)}setQueryDefaults(e,t){at(this,r_).set(Ky(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...at(this,r_).values()],r={};return t.forEach(n=>{e1(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){at(this,n_).set(Ky(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...at(this,n_).values()],r={};return t.forEach(n=>{e1(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...at(this,qm).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=QD(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===JD&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...at(this,qm).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){at(this,$i).clear(),at(this,Um).clear()}},$i=new WeakMap,Um=new WeakMap,qm=new WeakMap,r_=new WeakMap,n_=new WeakMap,Vm=new WeakMap,a_=new WeakMap,i_=new WeakMap,Qq),ac,Yn,A1,Pl,Fy,o_,Hm,Gm,P1,s_,l_,Ny,jy,Zm,c_,Ca,ox,Ok,kk,Ik,Dk,zk,Lk,Bk,f7,Jq,KJ=(Jq=class extends R_{constructor(t,r){super();cn(this,Ca);cn(this,ac);cn(this,Yn);cn(this,A1);cn(this,Pl);cn(this,Fy);cn(this,o_);cn(this,Hm);cn(this,Gm);cn(this,P1);cn(this,s_);cn(this,l_);cn(this,Ny);cn(this,jy);cn(this,Zm);cn(this,c_,new Set);this.options=r,Fr(this,ac,t),Fr(this,Gm,null),Fr(this,Hm,Mk()),this.options.experimental_prefetchInRender||at(this,Hm).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(at(this,Yn).addObserver(this),NB(at(this,Yn),this.options)?jn(this,Ca,ox).call(this):this.updateResult(),jn(this,Ca,Dk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fk(at(this,Yn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fk(at(this,Yn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,jn(this,Ca,zk).call(this),jn(this,Ca,Lk).call(this),at(this,Yn).removeObserver(this)}setOptions(t){const r=this.options,n=at(this,Yn);if(this.options=at(this,ac).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vd(this.options.enabled,at(this,Yn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");jn(this,Ca,Bk).call(this),at(this,Yn).setOptions(this.options),r._defaulted&&!HS(this.options,r)&&at(this,ac).getQueryCache().notify({type:"observerOptionsUpdated",query:at(this,Yn),observer:this});const a=this.hasListeners();a&&jB(at(this,Yn),n,this.options,r)&&jn(this,Ca,ox).call(this),this.updateResult(),a&&(at(this,Yn)!==n||Vd(this.options.enabled,at(this,Yn))!==Vd(r.enabled,at(this,Yn))||eg(this.options.staleTime,at(this,Yn))!==eg(r.staleTime,at(this,Yn)))&&jn(this,Ca,Ok).call(this);const l=jn(this,Ca,kk).call(this);a&&(at(this,Yn)!==n||Vd(this.options.enabled,at(this,Yn))!==Vd(r.enabled,at(this,Yn))||l!==at(this,Zm))&&jn(this,Ca,Ik).call(this,l)}getOptimisticResult(t){const r=at(this,ac).getQueryCache().build(at(this,ac),t),n=this.createResult(r,t);return YJ(this,n)&&(Fr(this,Pl,n),Fr(this,o_,this.options),Fr(this,Fy,at(this,Yn).state)),n}getCurrentResult(){return at(this,Pl)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){at(this,c_).add(t)}getCurrentQuery(){return at(this,Yn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=at(this,ac).defaultQueryOptions(t),n=at(this,ac).getQueryCache().build(at(this,ac),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return jn(this,Ca,ox).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),at(this,Pl)))}createResult(t,r){var ae;const n=at(this,Yn),a=this.options,l=at(this,Pl),c=at(this,Fy),o=at(this,o_),m=t!==n?t.state:at(this,A1),{state:_}=t;let E={..._},R=!1,O;if(r._optimisticResults){const X=this.hasListeners(),te=!X&&NB(t,r),le=X&&jB(t,n,r,a);(te||le)&&(E={...E,...u7(_.data,t.options)}),r._optimisticResults==="isRestoring"&&(E.fetchStatus="idle")}let{error:I,errorUpdatedAt:B,status:$}=E;O=E.data;let q=!1;if(r.placeholderData!==void 0&&O===void 0&&$==="pending"){let X;l!=null&&l.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(X=l.data,q=!0):X=typeof r.placeholderData=="function"?r.placeholderData((ae=at(this,l_))==null?void 0:ae.state.data,at(this,l_)):r.placeholderData,X!==void 0&&($="success",O=Rk(l==null?void 0:l.data,X,r),R=!0)}if(r.select&&O!==void 0&&!q)if(l&&O===(c==null?void 0:c.data)&&r.select===at(this,P1))O=at(this,s_);else try{Fr(this,P1,r.select),O=r.select(O),O=Rk(l==null?void 0:l.data,O,r),Fr(this,s_,O),Fr(this,Gm,null)}catch(X){Fr(this,Gm,X)}at(this,Gm)&&(I=at(this,Gm),O=at(this,s_),B=Date.now(),$="error");const j=E.fetchStatus==="fetching",F=$==="pending",N=$==="error",G=F&&j,V=O!==void 0,ne={status:$,fetchStatus:E.fetchStatus,isPending:F,isSuccess:$==="success",isError:N,isInitialLoading:G,isLoading:G,data:O,dataUpdatedAt:E.dataUpdatedAt,error:I,errorUpdatedAt:B,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>m.dataUpdateCount||E.errorUpdateCount>m.errorUpdateCount,isFetching:j,isRefetching:j&&!F,isLoadingError:N&&!V,isPaused:E.fetchStatus==="paused",isPlaceholderData:R,isRefetchError:N&&V,isStale:t3(t,r),refetch:this.refetch,promise:at(this,Hm)};if(this.options.experimental_prefetchInRender){const X=we=>{ne.status==="error"?we.reject(ne.error):ne.data!==void 0&&we.resolve(ne.data)},te=()=>{const we=Fr(this,Hm,ne.promise=Mk());X(we)},le=at(this,Hm);switch(le.status){case"pending":t.queryHash===n.queryHash&&X(le);break;case"fulfilled":(ne.status==="error"||ne.data!==le.value)&&te();break;case"rejected":(ne.status!=="error"||ne.error!==le.reason)&&te();break}}return ne}updateResult(){const t=at(this,Pl),r=this.createResult(at(this,Yn),this.options);if(Fr(this,Fy,at(this,Yn).state),Fr(this,o_,this.options),at(this,Fy).data!==void 0&&Fr(this,l_,at(this,Yn)),HS(r,t))return;Fr(this,Pl,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!at(this,c_).size)return!0;const c=new Set(l??at(this,c_));return this.options.throwOnError&&c.add("error"),Object.keys(at(this,Pl)).some(o=>{const g=o;return at(this,Pl)[g]!==t[g]&&c.has(g)})};jn(this,Ca,f7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&jn(this,Ca,Dk).call(this)}},ac=new WeakMap,Yn=new WeakMap,A1=new WeakMap,Pl=new WeakMap,Fy=new WeakMap,o_=new WeakMap,Hm=new WeakMap,Gm=new WeakMap,P1=new WeakMap,s_=new WeakMap,l_=new WeakMap,Ny=new WeakMap,jy=new WeakMap,Zm=new WeakMap,c_=new WeakMap,Ca=new WeakSet,ox=function(t){jn(this,Ca,Bk).call(this);let r=at(this,Yn).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Rl)),r},Ok=function(){jn(this,Ca,zk).call(this);const t=eg(this.options.staleTime,at(this,Yn));if(Wy||at(this,Pl).isStale||!Ak(t))return;const n=r7(at(this,Pl).dataUpdatedAt,t)+1;Fr(this,Ny,setTimeout(()=>{at(this,Pl).isStale||this.updateResult()},n))},kk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(at(this,Yn)):this.options.refetchInterval)??!1},Ik=function(t){jn(this,Ca,Lk).call(this),Fr(this,Zm,t),!(Wy||Vd(this.options.enabled,at(this,Yn))===!1||!Ak(at(this,Zm))||at(this,Zm)===0)&&Fr(this,jy,setInterval(()=>{(this.options.refetchIntervalInBackground||e3.isFocused())&&jn(this,Ca,ox).call(this)},at(this,Zm)))},Dk=function(){jn(this,Ca,Ok).call(this),jn(this,Ca,Ik).call(this,jn(this,Ca,kk).call(this))},zk=function(){at(this,Ny)&&(clearTimeout(at(this,Ny)),Fr(this,Ny,void 0))},Lk=function(){at(this,jy)&&(clearInterval(at(this,jy)),Fr(this,jy,void 0))},Bk=function(){const t=at(this,ac).getQueryCache().build(at(this,ac),this.options);if(t===at(this,Yn))return;const r=at(this,Yn);Fr(this,Yn,t),Fr(this,A1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},f7=function(t){ao.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(at(this,Pl))}),at(this,ac).getQueryCache().notify({query:at(this,Yn),type:"observerResultsUpdated"})})},Jq);function XJ(e,t){return Vd(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function NB(e,t){return XJ(e,t)||e.state.data!==void 0&&Fk(e,t,t.refetchOnMount)}function Fk(e,t,r){if(Vd(t.enabled,e)!==!1&&eg(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&t3(e,t)}return!1}function jB(e,t,r,n){return(e!==t||Vd(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&t3(e,r)}function t3(e,t){return Vd(t.enabled,e)!==!1&&e.isStaleByTime(eg(t.staleTime,e))}function YJ(e,t){return!HS(e.getCurrentResult(),t)}var Wm,Km,ic,yp,xp,vS,Nk,e9,QJ=(e9=class extends R_{constructor(r,n){super();cn(this,xp);cn(this,Wm);cn(this,Km);cn(this,ic);cn(this,yp);Fr(this,Wm,r),this.setOptions(n),this.bindMethods(),jn(this,xp,vS).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=at(this,Wm).defaultMutationOptions(r),HS(this.options,n)||at(this,Wm).getMutationCache().notify({type:"observerOptionsUpdated",mutation:at(this,ic),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ky(n.mutationKey)!==Ky(this.options.mutationKey)?this.reset():((a=at(this,ic))==null?void 0:a.state.status)==="pending"&&at(this,ic).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=at(this,ic))==null||r.removeObserver(this)}onMutationUpdate(r){jn(this,xp,vS).call(this),jn(this,xp,Nk).call(this,r)}getCurrentResult(){return at(this,Km)}reset(){var r;(r=at(this,ic))==null||r.removeObserver(this),Fr(this,ic,void 0),jn(this,xp,vS).call(this),jn(this,xp,Nk).call(this)}mutate(r,n){var a;return Fr(this,yp,n),(a=at(this,ic))==null||a.removeObserver(this),Fr(this,ic,at(this,Wm).getMutationCache().build(at(this,Wm),this.options)),at(this,ic).addObserver(this),at(this,ic).execute(r)}},Wm=new WeakMap,Km=new WeakMap,ic=new WeakMap,yp=new WeakMap,xp=new WeakSet,vS=function(){var n;const r=((n=at(this,ic))==null?void 0:n.state)??d7();Fr(this,Km,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Nk=function(r){ao.batch(()=>{var n,a,l,c,o,g,m,_;if(at(this,yp)&&this.hasListeners()){const E=at(this,Km).variables,R=at(this,Km).context;(r==null?void 0:r.type)==="success"?((a=(n=at(this,yp)).onSuccess)==null||a.call(n,r.data,E,R),(c=(l=at(this,yp)).onSettled)==null||c.call(l,r.data,null,E,R)):(r==null?void 0:r.type)==="error"&&((g=(o=at(this,yp)).onError)==null||g.call(o,r.error,E,R),(_=(m=at(this,yp)).onSettled)==null||_.call(m,void 0,r.error,E,R))}this.listeners.forEach(E=>{E(at(this,Km))})})},e9),h7=S.createContext(void 0),Hu=e=>{const t=S.useContext(h7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},JJ=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Oe.jsx(h7.Provider,{value:e,children:t})),p7=S.createContext(!1),eee=()=>S.useContext(p7);p7.Provider;function tee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ree=S.createContext(tee()),nee=()=>S.useContext(ree),aee=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iee=e=>{S.useEffect(()=>{e.clearReset()},[e])},oee=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||i7(r,[e.error,n])),see=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lee=(e,t)=>e.isLoading&&e.isFetching&&!t,cee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$B=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function uee(e,t,r){var E,R,O,I,B;const n=eee(),a=nee(),l=Hu(),c=l.defaultQueryOptions(e);(R=(E=l.getDefaultOptions().queries)==null?void 0:E._experimental_beforeQuery)==null||R.call(E,c),c._optimisticResults=n?"isRestoring":"optimistic",see(c),aee(c,a),iee(a);const o=!l.getQueryCache().get(c.queryHash),[g]=S.useState(()=>new t(l,c)),m=g.getOptimisticResult(c),_=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback($=>{const q=_?g.subscribe(ao.batchCalls($)):Rl;return g.updateResult(),q},[g,_]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),S.useEffect(()=>{g.setOptions(c)},[c,g]),cee(c,m))throw $B(c,g,a);if(oee({result:m,errorResetBoundary:a,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((I=(O=l.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||I.call(O,c,m),c.experimental_prefetchInRender&&!Wy&&lee(m,n)){const $=o?$B(c,g,a):(B=l.getQueryCache().get(c.queryHash))==null?void 0:B.promise;$==null||$.catch(Rl).finally(()=>{g.updateResult()})}return c.notifyOnChangeProps?m:g.trackResult(m)}function fg(e,t){return uee(e,KJ)}function m7(e,t){const r=Hu(),[n]=S.useState(()=>new QJ(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const a=S.useSyncExternalStore(S.useCallback(c=>n.subscribe(ao.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=S.useCallback((c,o)=>{n.mutate(c,o).catch(Rl)},[n]);if(a.error&&i7(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}var dee="RaStore",fee=function(){if(typeof window>"u"||window.localStorage==null)return!1;try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch{return!1}},jk=fee(),hee=function(e,t){e===void 0&&(e="1"),t===void 0&&(t="");var r="".concat(dee).concat(t),n=r.length,a={},l=function(o,g){Object.keys(a).forEach(function(m){a[m]&&a[m].key===o&&a[m].callback(g)})},c=function(o){var g;if(((g=o.key)===null||g===void 0?void 0:g.substring(0,n))===r){var m=o.key.substring(n+1),_=o.newValue?UB(o.newValue):void 0;Object.keys(a).forEach(function(E){a[E]&&a[E].key===m&&(_===null?a[E].callback(void 0):a[E].callback(_??void 0))})}};return{setup:function(){if(jk){var o=sp().getItem("".concat(r,".version"));if(o&&o!==e){var g=sp();Object.keys(g).forEach(function(m){m.startsWith(r)&&g.removeItem(m)})}sp().setItem("".concat(r,".version"),e),window.addEventListener("storage",c)}},teardown:function(){jk&&window.removeEventListener("storage",c)},getItem:function(o,g){var m=sp().getItem("".concat(r,".").concat(o));return m==null?g:UB(m)},setItem:function(o,g){g===void 0?sp().removeItem("".concat(r,".").concat(o)):sp().setItem("".concat(r,".").concat(o),JSON.stringify(g)),l(o,g)},removeItem:function(o){sp().removeItem("".concat(r,".").concat(o)),l(o,void 0)},removeItems:function(o){var g=sp();Object.keys(g).forEach(function(m){if(m.startsWith("".concat(r,".").concat(o))){g.removeItem(m);var _=m.substring(n+1);l(_,void 0)}})},reset:function(){var o=sp();Object.keys(o).forEach(function(g){if(g.startsWith(r)){o.removeItem(g);var m=g.substring(n+1);l(m,void 0)}})},subscribe:function(o,g){var m=Math.random().toString();return a[m]={key:o,callback:g},function(){delete a[m]}}}},UB=function(e){try{return JSON.parse(e)}catch{return e}},pee=function(){function e(){this.valuesMap=new Map}return e.prototype.getItem=function(t){return this.valuesMap.has(t)?String(this.valuesMap.get(t)):null},e.prototype.setItem=function(t,r){this.valuesMap.set(t,r)},e.prototype.removeItem=function(t){this.valuesMap.delete(t)},e.prototype.removeItems=function(t){var r=this;this.valuesMap.forEach(function(n,a){a.startsWith(t)&&r.valuesMap.delete(a)})},e.prototype.clear=function(){this.valuesMap.clear()},e.prototype.key=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");var r=Array.from(this.valuesMap.keys());return r[t]},Object.defineProperty(e.prototype,"length",{get:function(){return this.valuesMap.size},enumerable:!1,configurable:!0}),e}(),mee=new pee,sp=function(){return jk?window.localStorage:mee},tT,qB;function g7(){if(qB)return tT;qB=1;var e=typeof nx=="object"&&nx&&nx.Object===Object&&nx;return tT=e,tT}var rT,VB;function tf(){if(VB)return rT;VB=1;var e=g7(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return rT=r,rT}var nT,HB;function M_(){if(HB)return nT;HB=1;var e=tf(),t=e.Symbol;return nT=t,nT}var aT,GB;function gee(){if(GB)return aT;GB=1;var e=M_(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function l(c){var o=r.call(c,a),g=c[a];try{c[a]=void 0;var m=!0}catch{}var _=n.call(c);return m&&(o?c[a]=g:delete c[a]),_}return aT=l,aT}var iT,ZB;function yee(){if(ZB)return iT;ZB=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return iT=r,iT}var oT,WB;function O_(){if(WB)return oT;WB=1;var e=M_(),t=gee(),r=yee(),n="[object Null]",a="[object Undefined]",l=e?e.toStringTag:void 0;function c(o){return o==null?o===void 0?a:n:l&&l in Object(o)?t(o):r(o)}return oT=c,oT}var sT,KB;function rf(){if(KB)return sT;KB=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return sT=e,sT}var lT,XB;function r3(){if(XB)return lT;XB=1;var e=O_(),t=rf(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(o){if(!t(o))return!1;var g=e(o);return g==n||g==a||g==r||g==l}return lT=c,lT}var cT,YB;function vee(){if(YB)return cT;YB=1;var e=tf(),t=e["__core-js_shared__"];return cT=t,cT}var uT,QB;function bee(){if(QB)return uT;QB=1;var e=vee(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return uT=r,uT}var dT,JB;function y7(){if(JB)return dT;JB=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return dT=r,dT}var fT,e5;function _ee(){if(e5)return fT;e5=1;var e=r3(),t=bee(),r=rf(),n=y7(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,o=Object.prototype,g=c.toString,m=o.hasOwnProperty,_=RegExp("^"+g.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E(R){if(!r(R)||t(R))return!1;var O=e(R)?_:l;return O.test(n(R))}return fT=E,fT}var hT,t5;function xee(){if(t5)return hT;t5=1;function e(t,r){return t==null?void 0:t[r]}return hT=e,hT}var pT,r5;function ev(){if(r5)return pT;r5=1;var e=_ee(),t=xee();function r(n,a){var l=t(n,a);return e(l)?l:void 0}return pT=r,pT}var mT,n5;function v7(){if(n5)return mT;n5=1;var e=ev(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return mT=t,mT}var gT,a5;function n3(){if(a5)return gT;a5=1;var e=v7();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return gT=t,gT}var yT,i5;function k_(){if(i5)return yT;i5=1;function e(t,r){return t===r||t!==t&&r!==r}return yT=e,yT}var vT,o5;function a3(){if(o5)return vT;o5=1;var e=n3(),t=k_(),r=Object.prototype,n=r.hasOwnProperty;function a(l,c,o){var g=l[c];(!(n.call(l,c)&&t(g,o))||o===void 0&&!(c in l))&&e(l,c,o)}return vT=a,vT}var bT,s5;function xh(){if(s5)return bT;s5=1;var e=Array.isArray;return bT=e,bT}var _T,l5;function Tp(){if(l5)return _T;l5=1;function e(t){return t!=null&&typeof t=="object"}return _T=e,_T}var xT,c5;function f2(){if(c5)return xT;c5=1;var e=O_(),t=Tp(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return xT=n,xT}var wT,u5;function wee(){if(u5)return wT;u5=1;var e=xh(),t=f2(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(l,c){if(e(l))return!1;var o=typeof l;return o=="number"||o=="symbol"||o=="boolean"||l==null||t(l)?!0:n.test(l)||!r.test(l)||c!=null&&l in Object(c)}return wT=a,wT}var ST,d5;function h2(){if(d5)return ST;d5=1;var e=ev(),t=e(Object,"create");return ST=t,ST}var ET,f5;function See(){if(f5)return ET;f5=1;var e=h2();function t(){this.__data__=e?e(null):{},this.size=0}return ET=t,ET}var CT,h5;function Eee(){if(h5)return CT;h5=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return CT=e,CT}var TT,p5;function Cee(){if(p5)return TT;p5=1;var e=h2(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(l){var c=this.__data__;if(e){var o=c[l];return o===t?void 0:o}return n.call(c,l)?c[l]:void 0}return TT=a,TT}var AT,m5;function Tee(){if(m5)return AT;m5=1;var e=h2(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var l=this.__data__;return e?l[a]!==void 0:r.call(l,a)}return AT=n,AT}var PT,g5;function Aee(){if(g5)return PT;g5=1;var e=h2(),t="__lodash_hash_undefined__";function r(n,a){var l=this.__data__;return this.size+=this.has(n)?0:1,l[n]=e&&a===void 0?t:a,this}return PT=r,PT}var RT,y5;function Pee(){if(y5)return RT;y5=1;var e=See(),t=Eee(),r=Cee(),n=Tee(),a=Aee();function l(c){var o=-1,g=c==null?0:c.length;for(this.clear();++o<g;){var m=c[o];this.set(m[0],m[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=n,l.prototype.set=a,RT=l,RT}var MT,v5;function Ree(){if(v5)return MT;v5=1;function e(){this.__data__=[],this.size=0}return MT=e,MT}var OT,b5;function p2(){if(b5)return OT;b5=1;var e=k_();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return OT=t,OT}var kT,_5;function Mee(){if(_5)return kT;_5=1;var e=p2(),t=Array.prototype,r=t.splice;function n(a){var l=this.__data__,c=e(l,a);if(c<0)return!1;var o=l.length-1;return c==o?l.pop():r.call(l,c,1),--this.size,!0}return kT=n,kT}var IT,x5;function Oee(){if(x5)return IT;x5=1;var e=p2();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return IT=t,IT}var DT,w5;function kee(){if(w5)return DT;w5=1;var e=p2();function t(r){return e(this.__data__,r)>-1}return DT=t,DT}var zT,S5;function Iee(){if(S5)return zT;S5=1;var e=p2();function t(r,n){var a=this.__data__,l=e(a,r);return l<0?(++this.size,a.push([r,n])):a[l][1]=n,this}return zT=t,zT}var LT,E5;function m2(){if(E5)return LT;E5=1;var e=Ree(),t=Mee(),r=Oee(),n=kee(),a=Iee();function l(c){var o=-1,g=c==null?0:c.length;for(this.clear();++o<g;){var m=c[o];this.set(m[0],m[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=n,l.prototype.set=a,LT=l,LT}var BT,C5;function i3(){if(C5)return BT;C5=1;var e=ev(),t=tf(),r=e(t,"Map");return BT=r,BT}var FT,T5;function Dee(){if(T5)return FT;T5=1;var e=Pee(),t=m2(),r=i3();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return FT=n,FT}var NT,A5;function zee(){if(A5)return NT;A5=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return NT=e,NT}var jT,P5;function g2(){if(P5)return jT;P5=1;var e=zee();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return jT=t,jT}var $T,R5;function Lee(){if(R5)return $T;R5=1;var e=g2();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return $T=t,$T}var UT,M5;function Bee(){if(M5)return UT;M5=1;var e=g2();function t(r){return e(this,r).get(r)}return UT=t,UT}var qT,O5;function Fee(){if(O5)return qT;O5=1;var e=g2();function t(r){return e(this,r).has(r)}return qT=t,qT}var VT,k5;function Nee(){if(k5)return VT;k5=1;var e=g2();function t(r,n){var a=e(this,r),l=a.size;return a.set(r,n),this.size+=a.size==l?0:1,this}return VT=t,VT}var HT,I5;function o3(){if(I5)return HT;I5=1;var e=Dee(),t=Lee(),r=Bee(),n=Fee(),a=Nee();function l(c){var o=-1,g=c==null?0:c.length;for(this.clear();++o<g;){var m=c[o];this.set(m[0],m[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=n,l.prototype.set=a,HT=l,HT}var GT,D5;function b7(){if(D5)return GT;D5=1;var e=o3(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var l=function(){var c=arguments,o=a?a.apply(this,c):c[0],g=l.cache;if(g.has(o))return g.get(o);var m=n.apply(this,c);return l.cache=g.set(o,m)||g,m};return l.cache=new(r.Cache||e),l}return r.Cache=e,GT=r,GT}var ZT,z5;function jee(){if(z5)return ZT;z5=1;var e=b7(),t=500;function r(n){var a=e(n,function(c){return l.size===t&&l.clear(),c}),l=a.cache;return a}return ZT=r,ZT}var WT,L5;function $ee(){if(L5)return WT;L5=1;var e=jee(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(t,function(c,o,g,m){l.push(g?m.replace(r,"$1"):o||c)}),l});return WT=n,WT}var KT,B5;function _7(){if(B5)return KT;B5=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,l=Array(a);++n<a;)l[n]=r(t[n],n,t);return l}return KT=e,KT}var XT,F5;function Uee(){if(F5)return XT;F5=1;var e=M_(),t=_7(),r=xh(),n=f2(),a=e?e.prototype:void 0,l=a?a.toString:void 0;function c(o){if(typeof o=="string")return o;if(r(o))return t(o,c)+"";if(n(o))return l?l.call(o):"";var g=o+"";return g=="0"&&1/o==-1/0?"-0":g}return XT=c,XT}var YT,N5;function qee(){if(N5)return YT;N5=1;var e=Uee();function t(r){return r==null?"":e(r)}return YT=t,YT}var QT,j5;function I1(){if(j5)return QT;j5=1;var e=xh(),t=wee(),r=$ee(),n=qee();function a(l,c){return e(l)?l:t(l,c)?[l]:r(n(l))}return QT=a,QT}var JT,$5;function y2(){if($5)return JT;$5=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var l=typeof n;return a=a??e,!!a&&(l=="number"||l!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return JT=r,JT}var eA,U5;function v2(){if(U5)return eA;U5=1;var e=f2();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return eA=t,eA}var tA,q5;function x7(){if(q5)return tA;q5=1;var e=a3(),t=I1(),r=y2(),n=rf(),a=v2();function l(c,o,g,m){if(!n(c))return c;o=t(o,c);for(var _=-1,E=o.length,R=E-1,O=c;O!=null&&++_<E;){var I=a(o[_]),B=g;if(I==="__proto__"||I==="constructor"||I==="prototype")return c;if(_!=R){var $=O[I];B=m?m($,I,O):void 0,B===void 0&&(B=n($)?$:r(o[_+1])?[]:{})}e(O,I,B),O=O[I]}return c}return tA=l,tA}var rA,V5;function Vee(){if(V5)return rA;V5=1;var e=x7();function t(r,n,a){return r==null?r:e(r,n,a)}return rA=t,rA}var Hee=Vee();const s3=zo(Hee);var nA,H5;function Gee(){if(H5)return nA;H5=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return nA=e,nA}var aA,G5;function l3(){if(G5)return aA;G5=1;var e=I1(),t=v2();function r(n,a){a=e(a,n);for(var l=0,c=a.length;n!=null&&l<c;)n=n[t(a[l++])];return l&&l==c?n:void 0}return aA=r,aA}var iA,Z5;function Zee(){if(Z5)return iA;Z5=1;function e(t,r,n){var a=-1,l=t.length;r<0&&(r=-r>l?0:l+r),n=n>l?l:n,n<0&&(n+=l),l=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(l);++a<l;)c[a]=t[a+r];return c}return iA=e,iA}var oA,W5;function Wee(){if(W5)return oA;W5=1;var e=l3(),t=Zee();function r(n,a){return a.length<2?n:e(n,t(a,0,-1))}return oA=r,oA}var sA,K5;function Kee(){if(K5)return sA;K5=1;var e=I1(),t=Gee(),r=Wee(),n=v2();function a(l,c){return c=e(c,l),l=r(l,c),l==null||delete l[n(t(c))]}return sA=a,sA}var lA,X5;function Xee(){if(X5)return lA;X5=1;var e=Kee();function t(r,n){return r==null?!0:e(r,n)}return lA=t,lA}var Yee=Xee();const cA=zo(Yee);var uA,Y5;function Qee(){if(Y5)return uA;Y5=1;var e=l3();function t(r,n,a){var l=r==null?void 0:e(r,n);return l===void 0?a:l}return uA=t,uA}var Jee=Qee();const _i=zo(Jee);var w7=function(e){e===void 0&&(e={});var t={},r=function(n,a){Object.keys(t).forEach(function(l){t[l]&&t[l].key===n&&t[l].callback(a)})};return{setup:function(){},teardown:function(){Object.keys(e).forEach(function(n){return delete e[n]})},getItem:function(n,a){return _i(e,n,a)},setItem:function(n,a){s3(e,n,a),r(n,a)},removeItem:function(n){cA(e,n),r(n,void 0)},removeItems:function(n){var a=Q5(e);Object.keys(a).forEach(function(l){l.startsWith(n)&&(cA(e,l),r(l,void 0))})},reset:function(){var n=Q5(e);Object.keys(n).forEach(function(a){cA(e,a),r(a,void 0)})},subscribe:function(n,a){var l=Math.random().toString();return t[l]={key:n,callback:a},function(){delete t[l]}}}},Q5=function(e){var t={};function r(n,a){if(Object(n)!==n)t[a]=n;else if(Array.isArray(n))t[a]=n;else{var l=!0;for(var c in n)l=!1,r(n[c],a?a+"."+c:c);l&&a&&(t[a]={})}}return r(e,""),t},ete=w7(),S7=S.createContext(ete),tte=function(e){var t=e.value,r=e.children;return S.useEffect(function(){return t.setup(),function(){t.teardown()}},[t]),S.createElement(S7.Provider,{value:t},r)},b2=function(){return S.useContext(S7)},dA,J5;function rte(){if(J5)return dA;J5=1;var e=m2();function t(){this.__data__=new e,this.size=0}return dA=t,dA}var fA,e4;function nte(){if(e4)return fA;e4=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return fA=e,fA}var hA,t4;function ate(){if(t4)return hA;t4=1;function e(t){return this.__data__.get(t)}return hA=e,hA}var pA,r4;function ite(){if(r4)return pA;r4=1;function e(t){return this.__data__.has(t)}return pA=e,pA}var mA,n4;function ote(){if(n4)return mA;n4=1;var e=m2(),t=i3(),r=o3(),n=200;function a(l,c){var o=this.__data__;if(o instanceof e){var g=o.__data__;if(!t||g.length<n-1)return g.push([l,c]),this.size=++o.size,this;o=this.__data__=new r(g)}return o.set(l,c),this.size=o.size,this}return mA=a,mA}var gA,a4;function c3(){if(a4)return gA;a4=1;var e=m2(),t=rte(),r=nte(),n=ate(),a=ite(),l=ote();function c(o){var g=this.__data__=new e(o);this.size=g.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=l,gA=c,gA}var yA,i4;function ste(){if(i4)return yA;i4=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return yA=t,yA}var vA,o4;function lte(){if(o4)return vA;o4=1;function e(t){return this.__data__.has(t)}return vA=e,vA}var bA,s4;function u3(){if(s4)return bA;s4=1;var e=o3(),t=ste(),r=lte();function n(a){var l=-1,c=a==null?0:a.length;for(this.__data__=new e;++l<c;)this.add(a[l])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,bA=n,bA}var _A,l4;function cte(){if(l4)return _A;l4=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return _A=e,_A}var xA,c4;function d3(){if(c4)return xA;c4=1;function e(t,r){return t.has(r)}return xA=e,xA}var wA,u4;function E7(){if(u4)return wA;u4=1;var e=u3(),t=cte(),r=d3(),n=1,a=2;function l(c,o,g,m,_,E){var R=g&n,O=c.length,I=o.length;if(O!=I&&!(R&&I>O))return!1;var B=E.get(c),$=E.get(o);if(B&&$)return B==o&&$==c;var q=-1,j=!0,F=g&a?new e:void 0;for(E.set(c,o),E.set(o,c);++q<O;){var N=c[q],G=o[q];if(m)var V=R?m(G,N,q,o,c,E):m(N,G,q,c,o,E);if(V!==void 0){if(V)continue;j=!1;break}if(F){if(!t(o,function(ee,ne){if(!r(F,ne)&&(N===ee||_(N,ee,g,m,E)))return F.push(ne)})){j=!1;break}}else if(!(N===G||_(N,G,g,m,E))){j=!1;break}}return E.delete(c),E.delete(o),j}return wA=l,wA}var SA,d4;function C7(){if(d4)return SA;d4=1;var e=tf(),t=e.Uint8Array;return SA=t,SA}var EA,f4;function ute(){if(f4)return EA;f4=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,l){n[++r]=[l,a]}),n}return EA=e,EA}var CA,h4;function f3(){if(h4)return CA;h4=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return CA=e,CA}var TA,p4;function dte(){if(p4)return TA;p4=1;var e=M_(),t=C7(),r=k_(),n=E7(),a=ute(),l=f3(),c=1,o=2,g="[object Boolean]",m="[object Date]",_="[object Error]",E="[object Map]",R="[object Number]",O="[object RegExp]",I="[object Set]",B="[object String]",$="[object Symbol]",q="[object ArrayBuffer]",j="[object DataView]",F=e?e.prototype:void 0,N=F?F.valueOf:void 0;function G(V,ee,ne,ae,X,te,le){switch(ne){case j:if(V.byteLength!=ee.byteLength||V.byteOffset!=ee.byteOffset)return!1;V=V.buffer,ee=ee.buffer;case q:return!(V.byteLength!=ee.byteLength||!te(new t(V),new t(ee)));case g:case m:case R:return r(+V,+ee);case _:return V.name==ee.name&&V.message==ee.message;case O:case B:return V==ee+"";case E:var we=a;case I:var ve=ae&c;if(we||(we=l),V.size!=ee.size&&!ve)return!1;var xe=le.get(V);if(xe)return xe==ee;ae|=o,le.set(V,ee);var ce=n(we(V),we(ee),ae,X,te,le);return le.delete(V),ce;case $:if(N)return N.call(V)==N.call(ee)}return!1}return TA=G,TA}var AA,m4;function h3(){if(m4)return AA;m4=1;function e(t,r){for(var n=-1,a=r.length,l=t.length;++n<a;)t[l+n]=r[n];return t}return AA=e,AA}var PA,g4;function T7(){if(g4)return PA;g4=1;var e=h3(),t=xh();function r(n,a,l){var c=a(n);return t(n)?c:e(c,l(n))}return PA=r,PA}var RA,y4;function fte(){if(y4)return RA;y4=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,l=0,c=[];++n<a;){var o=t[n];r(o,n,t)&&(c[l++]=o)}return c}return RA=e,RA}var MA,v4;function A7(){if(v4)return MA;v4=1;function e(){return[]}return MA=e,MA}var OA,b4;function p3(){if(b4)return OA;b4=1;var e=fte(),t=A7(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(c){return c==null?[]:(c=Object(c),e(a(c),function(o){return n.call(c,o)}))}:t;return OA=l,OA}var kA,_4;function hte(){if(_4)return kA;_4=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return kA=e,kA}var IA,x4;function pte(){if(x4)return IA;x4=1;var e=O_(),t=Tp(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return IA=n,IA}var DA,w4;function _2(){if(w4)return DA;w4=1;var e=pte(),t=Tp(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,l=e(function(){return arguments}())?e:function(c){return t(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return DA=l,DA}var sx={exports:{}},zA,S4;function mte(){if(S4)return zA;S4=1;function e(){return!1}return zA=e,zA}sx.exports;var E4;function x2(){return E4||(E4=1,function(e,t){var r=tf(),n=mte(),a=t&&!t.nodeType&&t,l=a&&!0&&e&&!e.nodeType&&e,c=l&&l.exports===a,o=c?r.Buffer:void 0,g=o?o.isBuffer:void 0,m=g||n;e.exports=m}(sx,sx.exports)),sx.exports}var LA,C4;function m3(){if(C4)return LA;C4=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return LA=t,LA}var BA,T4;function gte(){if(T4)return BA;T4=1;var e=O_(),t=m3(),r=Tp(),n="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",o="[object Error]",g="[object Function]",m="[object Map]",_="[object Number]",E="[object Object]",R="[object RegExp]",O="[object Set]",I="[object String]",B="[object WeakMap]",$="[object ArrayBuffer]",q="[object DataView]",j="[object Float32Array]",F="[object Float64Array]",N="[object Int8Array]",G="[object Int16Array]",V="[object Int32Array]",ee="[object Uint8Array]",ne="[object Uint8ClampedArray]",ae="[object Uint16Array]",X="[object Uint32Array]",te={};te[j]=te[F]=te[N]=te[G]=te[V]=te[ee]=te[ne]=te[ae]=te[X]=!0,te[n]=te[a]=te[$]=te[l]=te[q]=te[c]=te[o]=te[g]=te[m]=te[_]=te[E]=te[R]=te[O]=te[I]=te[B]=!1;function le(we){return r(we)&&t(we.length)&&!!te[e(we)]}return BA=le,BA}var FA,A4;function w2(){if(A4)return FA;A4=1;function e(t){return function(r){return t(r)}}return FA=e,FA}var lx={exports:{}};lx.exports;var P4;function g3(){return P4||(P4=1,function(e,t){var r=g7(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,l=a&&a.exports===n,c=l&&r.process,o=function(){try{var g=a&&a.require&&a.require("util").types;return g||c&&c.binding&&c.binding("util")}catch{}}();e.exports=o}(lx,lx.exports)),lx.exports}var NA,R4;function y3(){if(R4)return NA;R4=1;var e=gte(),t=w2(),r=g3(),n=r&&r.isTypedArray,a=n?t(n):e;return NA=a,NA}var jA,M4;function P7(){if(M4)return jA;M4=1;var e=hte(),t=_2(),r=xh(),n=x2(),a=y2(),l=y3(),c=Object.prototype,o=c.hasOwnProperty;function g(m,_){var E=r(m),R=!E&&t(m),O=!E&&!R&&n(m),I=!E&&!R&&!O&&l(m),B=E||R||O||I,$=B?e(m.length,String):[],q=$.length;for(var j in m)(_||o.call(m,j))&&!(B&&(j=="length"||O&&(j=="offset"||j=="parent")||I&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,q)))&&$.push(j);return $}return jA=g,jA}var $A,O4;function v3(){if(O4)return $A;O4=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return $A=t,$A}var UA,k4;function R7(){if(k4)return UA;k4=1;function e(t,r){return function(n){return t(r(n))}}return UA=e,UA}var qA,I4;function yte(){if(I4)return qA;I4=1;var e=R7(),t=e(Object.keys,Object);return qA=t,qA}var VA,D4;function vte(){if(D4)return VA;D4=1;var e=v3(),t=yte(),r=Object.prototype,n=r.hasOwnProperty;function a(l){if(!e(l))return t(l);var c=[];for(var o in Object(l))n.call(l,o)&&o!="constructor"&&c.push(o);return c}return VA=a,VA}var HA,z4;function S2(){if(z4)return HA;z4=1;var e=r3(),t=m3();function r(n){return n!=null&&t(n.length)&&!e(n)}return HA=r,HA}var GA,L4;function b3(){if(L4)return GA;L4=1;var e=P7(),t=vte(),r=S2();function n(a){return r(a)?e(a):t(a)}return GA=n,GA}var ZA,B4;function M7(){if(B4)return ZA;B4=1;var e=T7(),t=p3(),r=b3();function n(a){return e(a,r,t)}return ZA=n,ZA}var WA,F4;function bte(){if(F4)return WA;F4=1;var e=M7(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(l,c,o,g,m,_){var E=o&t,R=e(l),O=R.length,I=e(c),B=I.length;if(O!=B&&!E)return!1;for(var $=O;$--;){var q=R[$];if(!(E?q in c:n.call(c,q)))return!1}var j=_.get(l),F=_.get(c);if(j&&F)return j==c&&F==l;var N=!0;_.set(l,c),_.set(c,l);for(var G=E;++$<O;){q=R[$];var V=l[q],ee=c[q];if(g)var ne=E?g(ee,V,q,c,l,_):g(V,ee,q,l,c,_);if(!(ne===void 0?V===ee||m(V,ee,o,g,_):ne)){N=!1;break}G||(G=q=="constructor")}if(N&&!G){var ae=l.constructor,X=c.constructor;ae!=X&&"constructor"in l&&"constructor"in c&&!(typeof ae=="function"&&ae instanceof ae&&typeof X=="function"&&X instanceof X)&&(N=!1)}return _.delete(l),_.delete(c),N}return WA=a,WA}var KA,N4;function _te(){if(N4)return KA;N4=1;var e=ev(),t=tf(),r=e(t,"DataView");return KA=r,KA}var XA,j4;function xte(){if(j4)return XA;j4=1;var e=ev(),t=tf(),r=e(t,"Promise");return XA=r,XA}var YA,$4;function O7(){if($4)return YA;$4=1;var e=ev(),t=tf(),r=e(t,"Set");return YA=r,YA}var QA,U4;function wte(){if(U4)return QA;U4=1;var e=ev(),t=tf(),r=e(t,"WeakMap");return QA=r,QA}var JA,q4;function E2(){if(q4)return JA;q4=1;var e=_te(),t=i3(),r=xte(),n=O7(),a=wte(),l=O_(),c=y7(),o="[object Map]",g="[object Object]",m="[object Promise]",_="[object Set]",E="[object WeakMap]",R="[object DataView]",O=c(e),I=c(t),B=c(r),$=c(n),q=c(a),j=l;return(e&&j(new e(new ArrayBuffer(1)))!=R||t&&j(new t)!=o||r&&j(r.resolve())!=m||n&&j(new n)!=_||a&&j(new a)!=E)&&(j=function(F){var N=l(F),G=N==g?F.constructor:void 0,V=G?c(G):"";if(V)switch(V){case O:return R;case I:return o;case B:return m;case $:return _;case q:return E}return N}),JA=j,JA}var eP,V4;function Ste(){if(V4)return eP;V4=1;var e=c3(),t=E7(),r=dte(),n=bte(),a=E2(),l=xh(),c=x2(),o=y3(),g=1,m="[object Arguments]",_="[object Array]",E="[object Object]",R=Object.prototype,O=R.hasOwnProperty;function I(B,$,q,j,F,N){var G=l(B),V=l($),ee=G?_:a(B),ne=V?_:a($);ee=ee==m?E:ee,ne=ne==m?E:ne;var ae=ee==E,X=ne==E,te=ee==ne;if(te&&c(B)){if(!c($))return!1;G=!0,ae=!1}if(te&&!ae)return N||(N=new e),G||o(B)?t(B,$,q,j,F,N):r(B,$,ee,q,j,F,N);if(!(q&g)){var le=ae&&O.call(B,"__wrapped__"),we=X&&O.call($,"__wrapped__");if(le||we){var ve=le?B.value():B,xe=we?$.value():$;return N||(N=new e),F(ve,xe,q,j,N)}}return te?(N||(N=new e),n(B,$,q,j,F,N)):!1}return eP=I,eP}var tP,H4;function Ete(){if(H4)return tP;H4=1;var e=Ste(),t=Tp();function r(n,a,l,c,o){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,l,c,r,o)}return tP=r,tP}var rP,G4;function Cte(){if(G4)return rP;G4=1;var e=Ete();function t(r,n){return e(r,n)}return rP=t,rP}var Tte=Cte();const Wd=zo(Tte);var Z4=function(e,t){return e&&t?String.prototype.replace.call(e,Ate,function(r,n){return!t.hasOwnProperty(n)||t[n]==null?r:t[n]}):e},Ate=/%\{(.*?)\}/g,Pte={translate:function(e,t){return t!=null&&t._?Z4(t._,t):Z4(e,t)},changeLocale:function(){return Promise.resolve()},getLocale:function(){return"en"}},_3=S.createContext(Pte);_3.displayName="I18nContext";var k7=S.createContext(function(){}),Rte=S.createContext(null),I7=S.createContext({notifications:[],addNotification:function(){},takeNotification:function(){},resetNotifications:function(){},setNotifications:function(){}}),W4=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},Mte=function(e){var t=e.children,r=S.useState([]),n=r[0],a=r[1],l=S.useCallback(function(m){a(function(_){return W4(W4([],_,!0),[m],!1)})},[]),c=S.useCallback(function(){if(n.length!==0){var m=n[0],_=n.slice(1);return a(_),m}},[n]),o=S.useCallback(function(){a([])},[]),g=S.useMemo(function(){return{notifications:n,addNotification:l,takeNotification:c,resetNotifications:o,setNotifications:a}},[n]);return S.createElement(I7.Provider,{value:g},S.createElement(k7.Provider,{value:l},t))},Ote=function(){return S.useContext(k7)},D7=function(){return S.useContext(I7)},kte=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Gu=function(){var e=Ote();return S.useCallback(function(t,r){r===void 0&&(r={});var n=r.type,a=n===void 0?"info":n,l=kte(r,["type"]);e({message:t,type:a,notificationOptions:l})},[e])},Ite=function(e){var t=e.value,r=t===void 0?Dte:t,n=e.children,a=Qo("locale")[0],l=Gu(),c=S.useState(0),o=c[0],g=c[1],m=S.useState(a===r.getLocale()),_=m[0],E=m[1];return S.useEffect(function(){a&&r.getLocale()!==a?new Promise(function(R){R(r.changeLocale(a))}).then(function(){g(function(R){return R+1}),E(!0)}).catch(function(R){E(!0),l("ra.notification.i18n_error",{type:"error"}),console.error(R)}):E(!0)},[r,a,l]),_?S.createElement(_3.Provider,{value:r,key:o},n):null},Dte={translate:function(e){return e},changeLocale:function(){return Promise.resolve()},getLocale:function(){return"en"}},x3=function(){return S.useContext(_3)},on=function(){var e=x3(),t=S.useCallback(function(r,n){return e.translate(r,n)},[e]);return e?t:zte},zte=function(e){return e},nP,K4;function z7(){if(K4)return nP;K4=1;var e=n3(),t=k_();function r(n,a,l){(l!==void 0&&!t(n[a],l)||l===void 0&&!(a in n))&&e(n,a,l)}return nP=r,nP}var aP,X4;function Lte(){if(X4)return aP;X4=1;function e(t){return function(r,n,a){for(var l=-1,c=Object(r),o=a(r),g=o.length;g--;){var m=o[t?g:++l];if(n(c[m],m,c)===!1)break}return r}}return aP=e,aP}var iP,Y4;function Bte(){if(Y4)return iP;Y4=1;var e=Lte(),t=e();return iP=t,iP}var cx={exports:{}};cx.exports;var Q4;function L7(){return Q4||(Q4=1,function(e,t){var r=tf(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,l=a&&a.exports===n,c=l?r.Buffer:void 0,o=c?c.allocUnsafe:void 0;function g(m,_){if(_)return m.slice();var E=m.length,R=o?o(E):new m.constructor(E);return m.copy(R),R}e.exports=g}(cx,cx.exports)),cx.exports}var oP,J4;function w3(){if(J4)return oP;J4=1;var e=C7();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return oP=t,oP}var sP,eF;function B7(){if(eF)return sP;eF=1;var e=w3();function t(r,n){var a=n?e(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}return sP=t,sP}var lP,tF;function F7(){if(tF)return lP;tF=1;function e(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}return lP=e,lP}var cP,rF;function Fte(){if(rF)return cP;rF=1;var e=rf(),t=Object.create,r=function(){function n(){}return function(a){if(!e(a))return{};if(t)return t(a);n.prototype=a;var l=new n;return n.prototype=void 0,l}}();return cP=r,cP}var uP,nF;function S3(){if(nF)return uP;nF=1;var e=R7(),t=e(Object.getPrototypeOf,Object);return uP=t,uP}var dP,aF;function N7(){if(aF)return dP;aF=1;var e=Fte(),t=S3(),r=v3();function n(a){return typeof a.constructor=="function"&&!r(a)?e(t(a)):{}}return dP=n,dP}var fP,iF;function E3(){if(iF)return fP;iF=1;var e=S2(),t=Tp();function r(n){return t(n)&&e(n)}return fP=r,fP}var hP,oF;function Nte(){if(oF)return hP;oF=1;var e=O_(),t=S3(),r=Tp(),n="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,o=l.hasOwnProperty,g=c.call(Object);function m(_){if(!r(_)||e(_)!=n)return!1;var E=t(_);if(E===null)return!0;var R=o.call(E,"constructor")&&E.constructor;return typeof R=="function"&&R instanceof R&&c.call(R)==g}return hP=m,hP}var pP,sF;function j7(){if(sF)return pP;sF=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return pP=e,pP}var mP,lF;function D1(){if(lF)return mP;lF=1;var e=a3(),t=n3();function r(n,a,l,c){var o=!l;l||(l={});for(var g=-1,m=a.length;++g<m;){var _=a[g],E=c?c(l[_],n[_],_,l,n):void 0;E===void 0&&(E=n[_]),o?t(l,_,E):e(l,_,E)}return l}return mP=r,mP}var gP,cF;function jte(){if(cF)return gP;cF=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return gP=e,gP}var yP,uF;function $te(){if(uF)return yP;uF=1;var e=rf(),t=v3(),r=jte(),n=Object.prototype,a=n.hasOwnProperty;function l(c){if(!e(c))return r(c);var o=t(c),g=[];for(var m in c)m=="constructor"&&(o||!a.call(c,m))||g.push(m);return g}return yP=l,yP}var vP,dF;function I_(){if(dF)return vP;dF=1;var e=P7(),t=$te(),r=S2();function n(a){return r(a)?e(a,!0):t(a)}return vP=n,vP}var bP,fF;function Ute(){if(fF)return bP;fF=1;var e=D1(),t=I_();function r(n){return e(n,t(n))}return bP=r,bP}var _P,hF;function qte(){if(hF)return _P;hF=1;var e=z7(),t=L7(),r=B7(),n=F7(),a=N7(),l=_2(),c=xh(),o=E3(),g=x2(),m=r3(),_=rf(),E=Nte(),R=y3(),O=j7(),I=Ute();function B($,q,j,F,N,G,V){var ee=O($,j),ne=O(q,j),ae=V.get(ne);if(ae){e($,j,ae);return}var X=G?G(ee,ne,j+"",$,q,V):void 0,te=X===void 0;if(te){var le=c(ne),we=!le&&g(ne),ve=!le&&!we&&R(ne);X=ne,le||we||ve?c(ee)?X=ee:o(ee)?X=n(ee):we?(te=!1,X=t(ne,!0)):ve?(te=!1,X=r(ne,!0)):X=[]:E(ne)||l(ne)?(X=ee,l(ee)?X=I(ee):(!_(ee)||m(ee))&&(X=a(ne))):te=!1}te&&(V.set(ne,X),N(X,ne,F,G,V),V.delete(ne)),e($,j,X)}return _P=B,_P}var xP,pF;function $7(){if(pF)return xP;pF=1;var e=c3(),t=z7(),r=Bte(),n=qte(),a=rf(),l=I_(),c=j7();function o(g,m,_,E,R){g!==m&&r(m,function(O,I){if(R||(R=new e),a(O))n(g,m,I,_,o,E,R);else{var B=E?E(c(g,I),O,I+"",g,m,R):void 0;B===void 0&&(B=O),t(g,I,B)}},l)}return xP=o,xP}var wP,mF;function U7(){if(mF)return wP;mF=1;function e(t){return t}return wP=e,wP}var SP,gF;function Vte(){if(gF)return SP;gF=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return SP=e,SP}var EP,yF;function q7(){if(yF)return EP;yF=1;var e=Vte(),t=Math.max;function r(n,a,l){return a=t(a===void 0?n.length-1:a,0),function(){for(var c=arguments,o=-1,g=t(c.length-a,0),m=Array(g);++o<g;)m[o]=c[a+o];o=-1;for(var _=Array(a+1);++o<a;)_[o]=c[o];return _[a]=l(m),e(n,this,_)}}return EP=r,EP}var CP,vF;function Hte(){if(vF)return CP;vF=1;function e(t){return function(){return t}}return CP=e,CP}var TP,bF;function Gte(){if(bF)return TP;bF=1;var e=Hte(),t=v7(),r=U7(),n=t?function(a,l){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(l),writable:!0})}:r;return TP=n,TP}var AP,_F;function Zte(){if(_F)return AP;_F=1;var e=800,t=16,r=Date.now;function n(a){var l=0,c=0;return function(){var o=r(),g=t-(o-c);if(c=o,g>0){if(++l>=e)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return AP=n,AP}var PP,xF;function V7(){if(xF)return PP;xF=1;var e=Gte(),t=Zte(),r=t(e);return PP=r,PP}var RP,wF;function C2(){if(wF)return RP;wF=1;var e=U7(),t=q7(),r=V7();function n(a,l){return r(t(a,l,e),a+"")}return RP=n,RP}var MP,SF;function H7(){if(SF)return MP;SF=1;var e=k_(),t=S2(),r=y2(),n=rf();function a(l,c,o){if(!n(o))return!1;var g=typeof c;return(g=="number"?t(o)&&r(c,o.length):g=="string"&&c in o)?e(o[c],l):!1}return MP=a,MP}var OP,EF;function G7(){if(EF)return OP;EF=1;var e=C2(),t=H7();function r(n){return e(function(a,l){var c=-1,o=l.length,g=o>1?l[o-1]:void 0,m=o>2?l[2]:void 0;for(g=n.length>3&&typeof g=="function"?(o--,g):void 0,m&&t(l[0],l[1],m)&&(g=o<3?void 0:g,o=1),a=Object(a);++c<o;){var _=l[c];_&&n(a,_,c,g)}return a})}return OP=r,OP}var kP,CF;function Wte(){if(CF)return kP;CF=1;var e=$7(),t=G7(),r=t(function(n,a,l){e(n,a,l)});return kP=r,kP}var Kte=Wte();const C3=zo(Kte);var Z7=function(){var e=x3(),t=S.useMemo(function(){return e.getLocale()},[e]);return Qo("locale",t)},Xte=function(){var e=Z7()[0];return e},W7=function(e){var t,r=x3(),n=S.useMemo(function(){return r!=null&&r.getLocales?r==null?void 0:r.getLocales():[]},[r]);return(t=e==null?void 0:e.locales)!==null&&t!==void 0?t:n},IP,TF;function Yte(){if(TF)return IP;TF=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a&&r(t[n],n,t)!==!1;);return t}return IP=e,IP}var DP,AF;function Qte(){if(AF)return DP;AF=1;var e=D1(),t=b3();function r(n,a){return n&&e(a,t(a),n)}return DP=r,DP}var zP,PF;function Jte(){if(PF)return zP;PF=1;var e=D1(),t=I_();function r(n,a){return n&&e(a,t(a),n)}return zP=r,zP}var LP,RF;function ere(){if(RF)return LP;RF=1;var e=D1(),t=p3();function r(n,a){return e(n,t(n),a)}return LP=r,LP}var BP,MF;function K7(){if(MF)return BP;MF=1;var e=h3(),t=S3(),r=p3(),n=A7(),a=Object.getOwnPropertySymbols,l=a?function(c){for(var o=[];c;)e(o,r(c)),c=t(c);return o}:n;return BP=l,BP}var FP,OF;function tre(){if(OF)return FP;OF=1;var e=D1(),t=K7();function r(n,a){return e(n,t(n),a)}return FP=r,FP}var NP,kF;function rre(){if(kF)return NP;kF=1;var e=T7(),t=K7(),r=I_();function n(a){return e(a,r,t)}return NP=n,NP}var jP,IF;function nre(){if(IF)return jP;IF=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var a=n.length,l=new n.constructor(a);return a&&typeof n[0]=="string"&&t.call(n,"index")&&(l.index=n.index,l.input=n.input),l}return jP=r,jP}var $P,DF;function are(){if(DF)return $P;DF=1;var e=w3();function t(r,n){var a=n?e(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}return $P=t,$P}var UP,zF;function ire(){if(zF)return UP;zF=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return UP=t,UP}var qP,LF;function ore(){if(LF)return qP;LF=1;var e=M_(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(a){return r?Object(r.call(a)):{}}return qP=n,qP}var VP,BF;function sre(){if(BF)return VP;BF=1;var e=w3(),t=are(),r=ire(),n=ore(),a=B7(),l="[object Boolean]",c="[object Date]",o="[object Map]",g="[object Number]",m="[object RegExp]",_="[object Set]",E="[object String]",R="[object Symbol]",O="[object ArrayBuffer]",I="[object DataView]",B="[object Float32Array]",$="[object Float64Array]",q="[object Int8Array]",j="[object Int16Array]",F="[object Int32Array]",N="[object Uint8Array]",G="[object Uint8ClampedArray]",V="[object Uint16Array]",ee="[object Uint32Array]";function ne(ae,X,te){var le=ae.constructor;switch(X){case O:return e(ae);case l:case c:return new le(+ae);case I:return t(ae,te);case B:case $:case q:case j:case F:case N:case G:case V:case ee:return a(ae,te);case o:return new le;case g:case E:return new le(ae);case m:return r(ae);case _:return new le;case R:return n(ae)}}return VP=ne,VP}var HP,FF;function lre(){if(FF)return HP;FF=1;var e=E2(),t=Tp(),r="[object Map]";function n(a){return t(a)&&e(a)==r}return HP=n,HP}var GP,NF;function cre(){if(NF)return GP;NF=1;var e=lre(),t=w2(),r=g3(),n=r&&r.isMap,a=n?t(n):e;return GP=a,GP}var ZP,jF;function ure(){if(jF)return ZP;jF=1;var e=E2(),t=Tp(),r="[object Set]";function n(a){return t(a)&&e(a)==r}return ZP=n,ZP}var WP,$F;function dre(){if($F)return WP;$F=1;var e=ure(),t=w2(),r=g3(),n=r&&r.isSet,a=n?t(n):e;return WP=a,WP}var KP,UF;function fre(){if(UF)return KP;UF=1;var e=c3(),t=Yte(),r=a3(),n=Qte(),a=Jte(),l=L7(),c=F7(),o=ere(),g=tre(),m=M7(),_=rre(),E=E2(),R=nre(),O=sre(),I=N7(),B=xh(),$=x2(),q=cre(),j=rf(),F=dre(),N=b3(),G=I_(),V=1,ee=2,ne=4,ae="[object Arguments]",X="[object Array]",te="[object Boolean]",le="[object Date]",we="[object Error]",ve="[object Function]",xe="[object GeneratorFunction]",ce="[object Map]",Ce="[object Number]",Se="[object Object]",ze="[object RegExp]",ge="[object Set]",je="[object String]",et="[object Symbol]",rt="[object WeakMap]",vt="[object ArrayBuffer]",ht="[object DataView]",ut="[object Float32Array]",Vt="[object Float64Array]",Nt="[object Int8Array]",lr="[object Int16Array]",Dt="[object Int32Array]",$t="[object Uint8Array]",tr="[object Uint8ClampedArray]",ur="[object Uint16Array]",Xt="[object Uint32Array]",mr={};mr[ae]=mr[X]=mr[vt]=mr[ht]=mr[te]=mr[le]=mr[ut]=mr[Vt]=mr[Nt]=mr[lr]=mr[Dt]=mr[ce]=mr[Ce]=mr[Se]=mr[ze]=mr[ge]=mr[je]=mr[et]=mr[$t]=mr[tr]=mr[ur]=mr[Xt]=!0,mr[we]=mr[ve]=mr[rt]=!1;function Vr(br,nn,Rr,Be,Ye,We){var Ut,qt=nn&V,Ht=nn&ee,gr=nn&ne;if(Rr&&(Ut=Ye?Rr(br,Be,Ye,We):Rr(br)),Ut!==void 0)return Ut;if(!j(br))return br;var Tr=B(br);if(Tr){if(Ut=R(br),!qt)return c(br,Ut)}else{var Mr=E(br),Qr=Mr==ve||Mr==xe;if($(br))return l(br,qt);if(Mr==Se||Mr==ae||Qr&&!Ye){if(Ut=Ht||Qr?{}:I(br),!qt)return Ht?g(br,a(Ut,br)):o(br,n(Ut,br))}else{if(!mr[Mr])return Ye?br:{};Ut=O(br,Mr,qt)}}We||(We=new e);var gn=We.get(br);if(gn)return gn;We.set(br,Ut),F(br)?br.forEach(function(Kr){Ut.add(Vr(Kr,nn,Rr,Kr,br,We))}):q(br)&&br.forEach(function(Kr,en){Ut.set(en,Vr(Kr,nn,Rr,en,br,We))});var wr=gr?Ht?_:m:Ht?G:N,wn=Tr?void 0:wr(br);return t(wn||br,function(Kr,en){wn&&(en=Kr,Kr=br[en]),r(Ut,en,Vr(Kr,nn,Rr,en,br,We))}),Ut}return KP=Vr,KP}var XP,qF;function hre(){if(qF)return XP;qF=1;var e=fre(),t=1,r=4;function n(a){return e(a,t|r)}return XP=n,XP}var pre=hre();const X7=zo(pre);var Y7=S.createContext(""),mre=function(e){var t=e.children,r=e.basename;return S.createElement(Y7.Provider,{value:r},t)},gre=function(e){var t=e.basename,r=t===void 0?"":t,n=e.children,a=dg(),l=a?yre:bre;return S.createElement(mre,{basename:a?r:""},S.createElement(l,{basename:r},n))},yre=function(e){var t=e.children;return S.createElement(S.Fragment,null,t)},vre={v7_startTransition:!1,v7_relativeSplatPath:!1},bre=function(e){var t=e.children,r=e.basename,n=CQ([{path:"*",element:S.createElement(S.Fragment,null,t)}],{basename:r,future:{v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1}});return S.createElement(FQ,{router:n,future:vre})},YP,VF;function _re(){if(VF)return YP;VF=1;var e=tf(),t=function(){return e.Date.now()};return YP=t,YP}var QP,HF;function xre(){if(HF)return QP;HF=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return QP=t,QP}var JP,GF;function wre(){if(GF)return JP;GF=1;var e=xre(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return JP=r,JP}var eR,ZF;function Sre(){if(ZF)return eR;ZF=1;var e=wre(),t=rf(),r=f2(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,o=parseInt;function g(m){if(typeof m=="number")return m;if(r(m))return n;if(t(m)){var _=typeof m.valueOf=="function"?m.valueOf():m;m=t(_)?_+"":_}if(typeof m!="string")return m===0?m:+m;m=e(m);var E=l.test(m);return E||c.test(m)?o(m.slice(2),E?2:8):a.test(m)?n:+m}return eR=g,eR}var tR,WF;function Ere(){if(WF)return tR;WF=1;var e=rf(),t=_re(),r=Sre(),n="Expected a function",a=Math.max,l=Math.min;function c(o,g,m){var _,E,R,O,I,B,$=0,q=!1,j=!1,F=!0;if(typeof o!="function")throw new TypeError(n);g=r(g)||0,e(m)&&(q=!!m.leading,j="maxWait"in m,R=j?a(r(m.maxWait)||0,g):R,F="trailing"in m?!!m.trailing:F);function N(we){var ve=_,xe=E;return _=E=void 0,$=we,O=o.apply(xe,ve),O}function G(we){return $=we,I=setTimeout(ne,g),q?N(we):O}function V(we){var ve=we-B,xe=we-$,ce=g-ve;return j?l(ce,R-xe):ce}function ee(we){var ve=we-B,xe=we-$;return B===void 0||ve>=g||ve<0||j&&xe>=R}function ne(){var we=t();if(ee(we))return ae(we);I=setTimeout(ne,V(we))}function ae(we){return I=void 0,F&&_?N(we):(_=E=void 0,O)}function X(){I!==void 0&&clearTimeout(I),$=0,_=B=E=I=void 0}function te(){return I===void 0?O:ae(t())}function le(){var we=t(),ve=ee(we);if(_=arguments,E=this,B=we,ve){if(I===void 0)return G(B);if(j)return clearTimeout(I),I=setTimeout(ne,g),N(B)}return I===void 0&&(I=setTimeout(ne,g)),O}return le.cancel=X,le.flush=te,le}return tR=c,tR}var Cre=Ere();const T3=zo(Cre);var Tre=function(e,t){t===void 0&&(t=250);var r=Are(e,t),n=r[0],a=r[1],l=Jo();S.useEffect(function(){var c;n!=null&&((c=l.state)===null||c===void 0?void 0:c._scrollToTop)!==!0&&(a(void 0),window.scrollTo(0,n))},[])},Are=function(e,t){t===void 0&&(t=250);var r=Qo(e),n=r[0],a=r[1];return S.useEffect(function(){if(!(typeof window>"u")){var l=T3(function(){a(window.scrollY)},t);return window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}}},[t,a]),[n,a]},Pre=function(e){var t=e.children,r=e.storeKey,n=e.debounce,a=n===void 0?250:n;return Tre(r,a),t},Ap=function(){return S.useContext(Y7)},tv=function(){var e=Ap();return S.useCallback(function(t){var r=t.resource,n=t.id,a=t.type;if(["list","create","edit","show"].includes(a)&&!r)throw new Error("Cannot create a link without a resource. You must provide the resource name.");switch(a){case"list":return ah("".concat(e,"/").concat(r));case"create":return ah("".concat(e,"/").concat(r,"/create"));case"edit":return n==null?ah("".concat(e,"/").concat(r)):ah("".concat(e,"/").concat(r,"/").concat(encodeURIComponent(n)));case"show":return n==null?ah("".concat(e,"/").concat(r)):ah("".concat(e,"/").concat(r,"/").concat(encodeURIComponent(n),"/show"));default:return a}},[e])},ah=function(e){return e.replace("//","/")},Q7=S.createContext(void 0),ia=function(e){var t=S.useContext(Q7);return e&&e.resource||t},A3=S.createContext(void 0);A3.displayName="RecordContext";var t1=function(e){var t=e.children,r=e.value;return S.createElement(A3.Provider,{value:r},t)},hc=function(e){var t=S.useContext(A3);return e&&e.record||t},Rre=function(e){e===void 0&&(e={});var t=(e||{}).link,r=hc(e),n=ia(e);if(!n)throw new Error("Cannot generate a link for a record without a resource. You must use useGetPathForRecord within a ResourceContextProvider, or pass a resource prop.");var a=B1(e),l=tv(),c=S.useState(t&&typeof t!="function"&&r!=null?l({resource:n,id:r.id,type:t}):!1),o=c[0],g=c[1],m=Xy({action:"show",resource:n,record:r,enabled:t==null&&a.hasShow}).canAccess,_=Xy({action:"edit",resource:n,record:r,enabled:t==null&&a.hasEdit}).canAccess;return S.useEffect(function(){if(r){if(t===!1){g(!1);return}if(t==null){if(a.hasShow&&m){g(l({resource:n,id:r.id,type:"show"}));return}if(a.hasEdit&&_){g(l({resource:n,id:r.id,type:"edit"}));return}}if(typeof t=="function"){var E=t(r,n);if(E instanceof Promise){E.then(function(R){return g(R)});return}g(E?l({resource:n,id:r.id,type:E}):!1);return}t&&g(l({resource:n,id:r.id,type:t}))}},[l,m,_,t,r,n,a.hasEdit,a.hasShow]),o},ZS=function(){return ZS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ZS.apply(this,arguments)},Mre=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},J7=S.createContext({definitions:{},register:function(){},unregister:function(){}}),Ore=function(e){var t=e.definitions,r=t===void 0?{}:t,n=e.children,a=S.useState(r),l=a[0],c=a[1],o=S.useCallback(function(_){c(function(E){var R;return Wd(E[_.name],_)?E:ZS(ZS({},E),(R={},R[_.name]=_,R))})},[]),g=S.useCallback(function(_){c(function(E){var R=E,O=_.name;R[O];var I=Mre(R,[typeof O=="symbol"?O:O+""]);return I})},[]),m=S.useMemo(function(){return{definitions:l,register:o,unregister:g}},[l]);return S.createElement(J7.Provider,{value:m},n)},eV=function(){return S.useContext(J7)},D_=function(){return eV().definitions},$k=function(){return $k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$k.apply(this,arguments)},kre=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},Ire=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dre=function(e){e===void 0&&(e={});var t=au(),r=m7($k({mutationFn:function(n){return kre(void 0,void 0,void 0,function(){return Ire(this,function(a){return!t||!t.canAccess?[2,!0]:[2,t.canAccess(n)]})})},retry:!1},e)).mutateAsync;return r},zre=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},Lre=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Bre=function(e){e===void 0&&(e={});var t=ia(e),r=D_(),n=tv(),a=Dre();return S.useCallback(function(l){return zre(void 0,void 0,void 0,function(){var c,o,g,m,_,E,R,O,I,B,$,q,j,F;return Lre(this,function(N){switch(N.label){case 0:if(c=l||{},o=c.link,g=c.record,m=(j=l.resource)!==null&&j!==void 0?j:t,!m)throw new Error("Cannot generate a link for a record without a resource. You must use useGetPathForRecordCallback within a ResourceContextProvider, or pass a resource parameter.");return _=(F=r[m])!==null&&F!==void 0?F:{},g==null||o===!1?[2,!1]:o!=null?[3,2]:[4,Promise.all([_.hasShow?a({action:"show",resource:m,record:g}):Promise.resolve(!1),_.hasEdit?a({action:"edit",resource:m,record:g}):Promise.resolve(!1)])];case 1:return E=N.sent(),R=E[0],O=E[1],R?[2,n({resource:m,id:g.id,type:"show"})]:O?[2,n({resource:m,id:g.id,type:"edit"})]:[2,!1];case 2:return I=typeof o=="function"?o:function(){return o},B=I(g,m),B===!1?[2,!1]:($=Fre(B),$?[4,B]:[3,4]);case 3:return q=N.sent(),q===!1?[2]:[2,n({resource:m,id:g.id,type:q})];case 4:return[2,n({resource:m,id:g.id,type:B})]}})})},[a,n,r,t])},Fre=function(e){return e&&typeof e.then=="function"},yx=function(){return yx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yx.apply(this,arguments)},Nre=function(){var e=ef(),t=Ap(),r=tv();return S.useCallback(function(n,a,l,c,o){var g;if(a===void 0&&(a=""),o===void 0&&(o={}),n)if(typeof n=="function"){var m=n(a,l,c),_=typeof m=="string"?"".concat(t).concat(m.startsWith("/")?"":"/").concat(m):yx({pathname:"".concat(t).concat(!((g=m.pathname)===null||g===void 0)&&g.startsWith("/")?"":"/").concat(m.pathname)},m);e(_,{state:yx({_scrollToTop:!0},o)});return}else if(typeof n=="string"&&n.startsWith("http")&&window){window.location.href=n;return}else{e(r({resource:a,id:l,type:n}),{state:n==="list"?o:yx({_scrollToTop:!0},o)});return}else return},[e,t,r])},tV=function(e){var t=Jo().pathname,r=S.useRef(t);S.useEffect(function(){t!==r.current&&e()},[t,e])},jre=function(){var e=Jo();S.useEffect(function(){var t;!((t=e.state)===null||t===void 0)&&t._scrollToTop&&typeof window<"u"&&typeof window.scrollTo=="function"&&window.scrollTo(0,0)},[e])},WS=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},$re="GET_LIST",Ure="GET_ONE",qre="GET_MANY",Vre="GET_MANY_REFERENCE",Hre="CREATE",Gre="UPDATE",Zre="UPDATE_MANY",Wre="DELETE",Kre="DELETE_MANY",Xre=["getOne","create","update"],Yre=["getList","getMany","getManyReference"],Qre=WS(WS([],Yre,!0),["updateMany","deleteMany"],!1);WS(WS([],Xre,!0),Qre,!0);var P3={create:function(){return Promise.resolve({data:null})},delete:function(){return Promise.resolve({data:null})},deleteMany:function(){return Promise.resolve({data:[]})},getList:function(){return Promise.resolve({data:[],total:0})},getMany:function(){return Promise.resolve({data:[]})},getManyReference:function(){return Promise.resolve({data:[],total:0})},getOne:function(){return Promise.resolve({data:null})},update:function(){return Promise.resolve({data:null})},updateMany:function(){return Promise.resolve({data:[]})}},KF={create:Hre,delete:Wre,deleteMany:Kre,getList:$re,getMany:qre,getManyReference:Vre,getOne:Ure,update:Gre,updateMany:Zre},Jre=function(e){var t=new Proxy(P3,{get:function(r,n){return function(a,l){if(Object.keys(KF).includes(n.toString())){var c=KF[n.toString()];return e(c,a,l)}return e(n.toString(),a,l)}},apply:function(r,n,a){return e.apply(e,a)}});return t},R3=S.createContext(null);R3.displayName="DataProviderContext";var rR={},nR,XF;function ene(){return XF||(XF=1,nR=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),nR}var aR,YF;function tne(){if(YF)return aR;YF=1;var e="%[a-f0-9]{2}",t=new RegExp("("+e+")|([^%]+?)","gi"),r=new RegExp("("+e+")+","gi");function n(c,o){try{return[decodeURIComponent(c.join(""))]}catch{}if(c.length===1)return c;o=o||1;var g=c.slice(0,o),m=c.slice(o);return Array.prototype.concat.call([],n(g),n(m))}function a(c){try{return decodeURIComponent(c)}catch{for(var o=c.match(t)||[],g=1;g<o.length;g++)c=n(o,g).join(""),o=c.match(t)||[];return c}}function l(c){for(var o={"%FE%FF":"","%FF%FE":""},g=r.exec(c);g;){try{o[g[0]]=decodeURIComponent(g[0])}catch{var m=a(g[0]);m!==g[0]&&(o[g[0]]=m)}g=r.exec(c)}o["%C2"]="";for(var _=Object.keys(o),E=0;E<_.length;E++){var R=_[E];c=c.replace(new RegExp(R,"g"),o[R])}return c}return aR=function(c){if(typeof c!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof c+"`");try{return c=c.replace(/\+/g," "),decodeURIComponent(c)}catch{return l(c)}},aR}var iR,QF;function rne(){return QF||(QF=1,iR=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}),iR}var oR,JF;function nne(){return JF||(JF=1,oR=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),l=0;l<n.length;l++){var c=n[l],o=e[c];(a?t.indexOf(c)!==-1:t(c,o,e))&&(r[c]=o)}return r}),oR}var eN;function ane(){return eN||(eN=1,function(e){const t=ene(),r=tne(),n=rne(),a=nne(),l=j=>j==null,c=Symbol("encodeFragmentIdentifier");function o(j){switch(j.arrayFormat){case"index":return F=>(N,G)=>{const V=N.length;return G===void 0||j.skipNull&&G===null||j.skipEmptyString&&G===""?N:G===null?[...N,[_(F,j),"[",V,"]"].join("")]:[...N,[_(F,j),"[",_(V,j),"]=",_(G,j)].join("")]};case"bracket":return F=>(N,G)=>G===void 0||j.skipNull&&G===null||j.skipEmptyString&&G===""?N:G===null?[...N,[_(F,j),"[]"].join("")]:[...N,[_(F,j),"[]=",_(G,j)].join("")];case"colon-list-separator":return F=>(N,G)=>G===void 0||j.skipNull&&G===null||j.skipEmptyString&&G===""?N:G===null?[...N,[_(F,j),":list="].join("")]:[...N,[_(F,j),":list=",_(G,j)].join("")];case"comma":case"separator":case"bracket-separator":{const F=j.arrayFormat==="bracket-separator"?"[]=":"=";return N=>(G,V)=>V===void 0||j.skipNull&&V===null||j.skipEmptyString&&V===""?G:(V=V===null?"":V,G.length===0?[[_(N,j),F,_(V,j)].join("")]:[[G,_(V,j)].join(j.arrayFormatSeparator)])}default:return F=>(N,G)=>G===void 0||j.skipNull&&G===null||j.skipEmptyString&&G===""?N:G===null?[...N,_(F,j)]:[...N,[_(F,j),"=",_(G,j)].join("")]}}function g(j){let F;switch(j.arrayFormat){case"index":return(N,G,V)=>{if(F=/\[(\d*)\]$/.exec(N),N=N.replace(/\[\d*\]$/,""),!F){V[N]=G;return}V[N]===void 0&&(V[N]={}),V[N][F[1]]=G};case"bracket":return(N,G,V)=>{if(F=/(\[\])$/.exec(N),N=N.replace(/\[\]$/,""),!F){V[N]=G;return}if(V[N]===void 0){V[N]=[G];return}V[N]=[].concat(V[N],G)};case"colon-list-separator":return(N,G,V)=>{if(F=/(:list)$/.exec(N),N=N.replace(/:list$/,""),!F){V[N]=G;return}if(V[N]===void 0){V[N]=[G];return}V[N]=[].concat(V[N],G)};case"comma":case"separator":return(N,G,V)=>{const ee=typeof G=="string"&&G.includes(j.arrayFormatSeparator),ne=typeof G=="string"&&!ee&&E(G,j).includes(j.arrayFormatSeparator);G=ne?E(G,j):G;const ae=ee||ne?G.split(j.arrayFormatSeparator).map(X=>E(X,j)):G===null?G:E(G,j);V[N]=ae};case"bracket-separator":return(N,G,V)=>{const ee=/(\[\])$/.test(N);if(N=N.replace(/\[\]$/,""),!ee){V[N]=G&&E(G,j);return}const ne=G===null?[]:G.split(j.arrayFormatSeparator).map(ae=>E(ae,j));if(V[N]===void 0){V[N]=ne;return}V[N]=[].concat(V[N],ne)};default:return(N,G,V)=>{if(V[N]===void 0){V[N]=G;return}V[N]=[].concat(V[N],G)}}}function m(j){if(typeof j!="string"||j.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(j,F){return F.encode?F.strict?t(j):encodeURIComponent(j):j}function E(j,F){return F.decode?r(j):j}function R(j){return Array.isArray(j)?j.sort():typeof j=="object"?R(Object.keys(j)).sort((F,N)=>Number(F)-Number(N)).map(F=>j[F]):j}function O(j){const F=j.indexOf("#");return F!==-1&&(j=j.slice(0,F)),j}function I(j){let F="";const N=j.indexOf("#");return N!==-1&&(F=j.slice(N)),F}function B(j){j=O(j);const F=j.indexOf("?");return F===-1?"":j.slice(F+1)}function $(j,F){return F.parseNumbers&&!Number.isNaN(Number(j))&&typeof j=="string"&&j.trim()!==""?j=Number(j):F.parseBooleans&&j!==null&&(j.toLowerCase()==="true"||j.toLowerCase()==="false")&&(j=j.toLowerCase()==="true"),j}function q(j,F){F=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},F),m(F.arrayFormatSeparator);const N=g(F),G=Object.create(null);if(typeof j!="string"||(j=j.trim().replace(/^[?#&]/,""),!j))return G;for(const V of j.split("&")){if(V==="")continue;let[ee,ne]=n(F.decode?V.replace(/\+/g," "):V,"=");ne=ne===void 0?null:["comma","separator","bracket-separator"].includes(F.arrayFormat)?ne:E(ne,F),N(E(ee,F),ne,G)}for(const V of Object.keys(G)){const ee=G[V];if(typeof ee=="object"&&ee!==null)for(const ne of Object.keys(ee))ee[ne]=$(ee[ne],F);else G[V]=$(ee,F)}return F.sort===!1?G:(F.sort===!0?Object.keys(G).sort():Object.keys(G).sort(F.sort)).reduce((V,ee)=>{const ne=G[ee];return ne&&typeof ne=="object"&&!Array.isArray(ne)?V[ee]=R(ne):V[ee]=ne,V},Object.create(null))}e.extract=B,e.parse=q,e.stringify=(j,F)=>{if(!j)return"";F=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},F),m(F.arrayFormatSeparator);const N=ne=>F.skipNull&&l(j[ne])||F.skipEmptyString&&j[ne]==="",G=o(F),V={};for(const ne of Object.keys(j))N(ne)||(V[ne]=j[ne]);const ee=Object.keys(V);return F.sort!==!1&&ee.sort(F.sort),ee.map(ne=>{const ae=j[ne];return ae===void 0?"":ae===null?_(ne,F):Array.isArray(ae)?ae.length===0&&F.arrayFormat==="bracket-separator"?_(ne,F)+"[]":ae.reduce(G(ne),[]).join("&"):_(ne,F)+"="+_(ae,F)}).filter(ne=>ne.length>0).join("&")},e.parseUrl=(j,F)=>{F=Object.assign({decode:!0},F);const[N,G]=n(j,"#");return Object.assign({url:N.split("?")[0]||"",query:q(B(j),F)},F&&F.parseFragmentIdentifier&&G?{fragmentIdentifier:E(G,F)}:{})},e.stringifyUrl=(j,F)=>{F=Object.assign({encode:!0,strict:!0,[c]:!0},F);const N=O(j.url).split("?")[0]||"",G=e.extract(j.url),V=e.parse(G,{sort:!1}),ee=Object.assign(V,j.query);let ne=e.stringify(ee,F);ne&&(ne=`?${ne}`);let ae=I(j.url);return j.fragmentIdentifier&&(ae=`#${F[c]?_(j.fragmentIdentifier,F):j.fragmentIdentifier}`),`${N}${ne}${ae}`},e.pick=(j,F,N)=>{N=Object.assign({parseFragmentIdentifier:!0,[c]:!1},N);const{url:G,query:V,fragmentIdentifier:ee}=e.parseUrl(j,N);return e.stringifyUrl({url:G,query:a(V,F),fragmentIdentifier:ee},N)},e.exclude=(j,F,N)=>{const G=Array.isArray(F)?V=>!F.includes(V):(V,ee)=>!F(V,ee);return e.pick(j,G,N)}}(rR)),rR}var T2=ane();var ine=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},one=function(e){if(!e)return!1;var t=Array.isArray(e),r=typeof Buffer<"u"&&Buffer.isBuffer(e),n=Object.prototype.toString.call(e)==="[object Object]",a=!!Object.keys(e).length;return!t&&!r&&n&&a},rV=function(e,t){var r;return t===void 0&&(t=[]),one(e)?Object.assign.apply(Object,ine([{}],Object.keys(e).map(function(n){return rV(e[n],t.concat([n]))}),!1)):t.length?(r={},r[t.join(".")]=e,r):e},sR={exports:{}},tN;function sne(){return tN||(tN=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(g,m,_){this.fn=g,this.context=m,this.once=_||!1}function l(g,m,_,E,R){if(typeof _!="function")throw new TypeError("The listener must be a function");var O=new a(_,E||g,R),I=r?r+m:m;return g._events[I]?g._events[I].fn?g._events[I]=[g._events[I],O]:g._events[I].push(O):(g._events[I]=O,g._eventsCount++),g}function c(g,m){--g._eventsCount===0?g._events=new n:delete g._events[m]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var m=[],_,E;if(this._eventsCount===0)return m;for(E in _=this._events)t.call(_,E)&&m.push(r?E.slice(1):E);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(_)):m},o.prototype.listeners=function(m){var _=r?r+m:m,E=this._events[_];if(!E)return[];if(E.fn)return[E.fn];for(var R=0,O=E.length,I=new Array(O);R<O;R++)I[R]=E[R].fn;return I},o.prototype.listenerCount=function(m){var _=r?r+m:m,E=this._events[_];return E?E.fn?1:E.length:0},o.prototype.emit=function(m,_,E,R,O,I){var B=r?r+m:m;if(!this._events[B])return!1;var $=this._events[B],q=arguments.length,j,F;if($.fn){switch($.once&&this.removeListener(m,$.fn,void 0,!0),q){case 1:return $.fn.call($.context),!0;case 2:return $.fn.call($.context,_),!0;case 3:return $.fn.call($.context,_,E),!0;case 4:return $.fn.call($.context,_,E,R),!0;case 5:return $.fn.call($.context,_,E,R,O),!0;case 6:return $.fn.call($.context,_,E,R,O,I),!0}for(F=1,j=new Array(q-1);F<q;F++)j[F-1]=arguments[F];$.fn.apply($.context,j)}else{var N=$.length,G;for(F=0;F<N;F++)switch($[F].once&&this.removeListener(m,$[F].fn,void 0,!0),q){case 1:$[F].fn.call($[F].context);break;case 2:$[F].fn.call($[F].context,_);break;case 3:$[F].fn.call($[F].context,_,E);break;case 4:$[F].fn.call($[F].context,_,E,R);break;default:if(!j)for(G=1,j=new Array(q-1);G<q;G++)j[G-1]=arguments[G];$[F].fn.apply($[F].context,j)}}return!0},o.prototype.on=function(m,_,E){return l(this,m,_,E,!1)},o.prototype.once=function(m,_,E){return l(this,m,_,E,!0)},o.prototype.removeListener=function(m,_,E,R){var O=r?r+m:m;if(!this._events[O])return this;if(!_)return c(this,O),this;var I=this._events[O];if(I.fn)I.fn===_&&(!R||I.once)&&(!E||I.context===E)&&c(this,O);else{for(var B=0,$=[],q=I.length;B<q;B++)(I[B].fn!==_||R&&!I[B].once||E&&I[B].context!==E)&&$.push(I[B]);$.length?this._events[O]=$.length===1?$[0]:$:c(this,O)}return this},o.prototype.removeAllListeners=function(m){var _;return m?(_=r?r+m:m,this._events[_]&&c(this,_)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(sR)),sR.exports}var lne=sne();const cne=zo(lne),rN=new cne;var une=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},dne=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},lR,nV=function(){var e=au(),t=z_(),r=Gu(),n=ef(),a=S.useCallback(function(l){return e?e.checkError(l).then(function(){return!1}).catch(function(c){return une(void 0,void 0,void 0,function(){var o,g,m,_;return dne(this,function(E){return o=(_=c==null?void 0:c.logoutUser)!==null&&_!==void 0?_:!0,lR?[2,!0]:(lR=setTimeout(function(){lR=void 0},0),g=c&&c.redirectTo!=null?c.redirectTo:l&&l.redirectTo?l.redirectTo:void 0,m=!(c&&c.message===!1||l&&l.message===!1||g!=null&&g.startsWith("http")),m&&e.checkAuth({}).then(function(){o?r(nN(c,"ra.notification.logged_out"),{type:"error"}):r(nN(c,"ra.notification.not_authorized"),{type:"error"})}).catch(function(){}),o?t({},g):g.startsWith("http")?window.location.href=g:n(g),[2,!0])})})}):fne()},[e,t,r,n]);return a},fne=function(){return Promise.resolve(!1)},nN=function(e,t){return typeof e=="string"?e:typeof e>"u"||!e.message?t:e.message},hne=function(e){var t=e.data,r=e.queryClient,n=e.staleTime,a=n===void 0?1e3:n,l=Date.now()+a;Object.keys(t).forEach(function(c){t[c].forEach(function(g){!g||g.id==null||r.setQueryData([c,"getOne",{id:String(g.id)}],g,{updatedAt:l})});var o=t[c].map(function(g){return String(g.id)});r.setQueryData([c,"getMany",{ids:o}],t[c],{updatedAt:l})})},pne=["getList","getMany","getManyReference"],z1=function(){var e=S.useContext(R3)||P3,t=Hu(),r=nV(),n=S.useMemo(function(){return new Proxy(e,{get:function(a,l){if(!(typeof l=="symbol"||l==="then"))return l==="supportAbortSignal"?e.supportAbortSignal:function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];var g=l.toString();if(typeof e[g]!="function")throw new Error("Unknown dataProvider function: ".concat(g));try{return e[g].apply(e,c).then(function(m){var _;return!((_=m==null?void 0:m.meta)===null||_===void 0)&&_.prefetched&&hne({data:m==null?void 0:m.meta.prefetched,queryClient:t}),m}).catch(function(m){return r(m).then(function(_){if(_)return{data:pne.includes(g)?[]:{}};throw m})})}catch{throw new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}}}})},[e,r,t]);return n},mne=function(){var e=Hu(),t=Cr.useRef(!1),r=Cr.useRef(e.isFetching()>0),n=Cr.useRef(e.isMutating()>0),a=Cr.useState(r.current||n.current),l=a[0],c=a[1];return Cr.useEffect(function(){t.current=!0;var o=e.getQueryCache().subscribe(ao.batchCalls(function(){t.current&&(r.current=e.isFetching()>0,c(r.current||n.current))})),g=e.getMutationCache().subscribe(ao.batchCalls(function(){t.current&&(n.current=e.isMutating()>0,c(r.current||n.current))}));return function(){t.current=!1,o(),g()}},[e]),l},M3=function(){var e=Hu();return S.useCallback(function(){e.invalidateQueries()},[e])},vx=function(){return vx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vx.apply(this,arguments)},gne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},yne=100,vne=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var n=t.pagination,a=n===void 0?{page:1,perPage:25}:n,l=t.sort,c=l===void 0?{field:"id",order:"DESC"}:l,o=t.filter,g=o===void 0?{}:o,m=t.meta,_=z1(),E=Hu(),R=r.onError,O=R===void 0?cR:R,I=r.onSuccess,B=I===void 0?cR:I,$=r.onSettled,q=$===void 0?cR:$,j=gne(r,["onError","onSuccess","onSettled"]),F=Xa(B),N=Xa(O),G=Xa(q),V=fg(vx({queryKey:[e,"getList",{pagination:a,sort:c,filter:g,meta:m}],queryFn:function(ae){return _.getList(e,{pagination:a,sort:c,filter:g,meta:m,signal:_.supportAbortSignal===!0?ae.signal:void 0}).then(function(X){var te=X.data,le=X.total,we=X.pageInfo,ve=X.meta;return{data:te,total:le,pageInfo:we,meta:ve}})}},j)),ee=S.useRef(m),ne=S.useRef(e);return S.useEffect(function(){ee.current=m},[m]),S.useEffect(function(){ne.current=e},[e]),S.useEffect(function(){var ae;V.data===void 0||V.error!=null||V.isFetching||(!((ae=V.data)===null||ae===void 0)&&ae.data&&V.data.data.length<=yne&&V.data.data.forEach(function(X){E.setQueryData([ne.current,"getOne",{id:String(X.id),meta:ee.current}],function(te){return te??X})}),F(V.data))},[F,E,V.data,V.error,V.isFetching]),S.useEffect(function(){V.error==null||V.isFetching||N(V.error)},[N,V.error,V.isFetching]),S.useEffect(function(){V.status==="pending"||V.isFetching||G(V.data,V.error)},[G,V.data,V.error,V.status,V.isFetching]),S.useMemo(function(){return V.data?vx(vx({},V),V.data):V},[V])},cR=function(){},uR,aN;function bne(){if(aN)return uR;aN=1;var e=M_(),t=_2(),r=xh(),n=e?e.isConcatSpreadable:void 0;function a(l){return r(l)||t(l)||!!(n&&l&&l[n])}return uR=a,uR}var dR,iN;function O3(){if(iN)return dR;iN=1;var e=h3(),t=bne();function r(n,a,l,c,o){var g=-1,m=n.length;for(l||(l=t),o||(o=[]);++g<m;){var _=n[g];a>0&&l(_)?a>1?r(_,a-1,l,c,o):e(o,_):c||(o[o.length]=_)}return o}return dR=r,dR}var fR,oN;function _ne(){if(oN)return fR;oN=1;function e(t,r,n,a){for(var l=t.length,c=n+(a?1:-1);a?c--:++c<l;)if(r(t[c],c,t))return c;return-1}return fR=e,fR}var hR,sN;function xne(){if(sN)return hR;sN=1;function e(t){return t!==t}return hR=e,hR}var pR,lN;function wne(){if(lN)return pR;lN=1;function e(t,r,n){for(var a=n-1,l=t.length;++a<l;)if(t[a]===r)return a;return-1}return pR=e,pR}var mR,cN;function Sne(){if(cN)return mR;cN=1;var e=_ne(),t=xne(),r=wne();function n(a,l,c){return l===l?r(a,l,c):e(a,t,c)}return mR=n,mR}var gR,uN;function aV(){if(uN)return gR;uN=1;var e=Sne();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return gR=t,gR}var yR,dN;function iV(){if(dN)return yR;dN=1;function e(t,r,n){for(var a=-1,l=t==null?0:t.length;++a<l;)if(n(r,t[a]))return!0;return!1}return yR=e,yR}var vR,fN;function Ene(){if(fN)return vR;fN=1;function e(){}return vR=e,vR}var bR,hN;function Cne(){if(hN)return bR;hN=1;var e=O7(),t=Ene(),r=f3(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(l){return new e(l)}:t;return bR=a,bR}var _R,pN;function Tne(){if(pN)return _R;pN=1;var e=u3(),t=aV(),r=iV(),n=d3(),a=Cne(),l=f3(),c=200;function o(g,m,_){var E=-1,R=t,O=g.length,I=!0,B=[],$=B;if(_)I=!1,R=r;else if(O>=c){var q=m?null:a(g);if(q)return l(q);I=!1,R=n,$=new e}else $=m?[]:B;e:for(;++E<O;){var j=g[E],F=m?m(j):j;if(j=_||j!==0?j:0,I&&F===F){for(var N=$.length;N--;)if($[N]===F)continue e;m&&$.push(F),B.push(j)}else R($,F,_)||($!==B&&$.push(F),B.push(j))}return B}return _R=o,_R}var xR,mN;function Ane(){if(mN)return xR;mN=1;var e=O3(),t=C2(),r=Tne(),n=E3(),a=t(function(l){return r(e(l,1,n,!0))});return xR=a,xR}var Pne=Ane();const oV=zo(Pne);var Uk=function(){return Uk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Uk.apply(this,arguments)},Rne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Mne=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},sV=function(e,t,r){r===void 0&&(r={});var n=z1(),a=Hu(),l=r.onError,c=l===void 0?wR:l,o=r.onSuccess,g=o===void 0?wR:o,m=r.onSettled,_=m===void 0?wR:m,E=r.enabled,R=Rne(r,["onError","onSuccess","onSettled","enabled"]),O=Xa(g),I=Xa(c),B=Xa(_),$=t.ids,q=t.meta,j=S.useMemo(function(){var V=(Array.isArray($)?$:[$]).map(function(ee){return a.getQueryData([e,"getOne",{id:String(ee),meta:q}])});if(!V.some(function(ee){return ee===void 0}))return V},[$,a,e,q]),F=fg(Uk({queryKey:[e,"getMany",{ids:(Array.isArray($)?$:[$]).map(function(V){return String(V)}),meta:q}],queryFn:function(V){return new Promise(function(ee,ne){return!$||$.length===0?ee([]):kne({resource:e,ids:$,meta:q,resolve:ee,reject:ne,dataProvider:n,queryClient:a,signal:n.supportAbortSignal===!0?V.signal:void 0})})},placeholderData:j,enabled:E??$!=null,retry:!1},R)),N=S.useRef(q),G=S.useRef(e);return S.useEffect(function(){N.current=q},[q]),S.useEffect(function(){G.current=e},[e]),S.useEffect(function(){var V;F.data===void 0||F.error!=null||F.isFetching||(((V=F.data)!==null&&V!==void 0?V:[]).forEach(function(ee){a.setQueryData([G.current,"getOne",{id:String(ee.id),meta:N.current}],function(ne){return ne??ee})}),O(F.data))},[a,O,F.data,F.error,F.isFetching]),S.useEffect(function(){F.error==null||F.isFetching||I(F.error)},[I,F.error,F.isFetching]),S.useEffect(function(){F.status==="pending"||F.isFetching||B(F.data,F.error)},[B,F.data,F.error,F.status,F.isFetching]),F},One=function(e){var t=[],r=null;return function(n){t.push(n),r&&clearTimeout(r),r=setTimeout(function(){r=null,e(Mne([],t,!0)),t=[]},0)}},kne=One(function(e){var t=e[0].dataProvider,r=e[0].queryClient,n=e.reduce(function(a,l){return a[l.resource]||(a[l.resource]=[]),a[l.resource].push(l),a},{});Object.keys(n).forEach(function(a){var l=n[a],c=l.reduce(function(I,B){var $=B.ids;return oV(I,$)},[]).filter(function(I){return I!=null&&I!==""}),o=l.reduce(function(I,B){var $=B.meta;return $||I},void 0);if(c.length===0){l.forEach(function(I){var B=I.resolve;B([])});return}var g=l.find(function(I){var B=I.ids,$=I.signal;return JSON.stringify(B)===JSON.stringify(c)&&!($!=null&&$.aborted)});if(g){var m=g.dataProvider,_=g.resource,E=g.ids,R=g.meta,O=g.signal;m.getMany(_,{ids:E,meta:R,signal:O}).then(function(I){var B=I.data;return B}).then(function(I){l.forEach(function(B){var $=B.ids,q=B.resolve;q(I.filter(function(j){return $.map(function(F){return String(F)}).includes(String(j.id))}))})},function(I){l.forEach(function(B){var $=B.reject;$(I)})});return}r.fetchQuery({queryKey:[a,"getMany",{ids:c.map(function(I){return String(I)}),meta:o}],queryFn:function(I){return t.getMany(a,{ids:c,meta:o,signal:t.supportAbortSignal===!0?I.signal:void 0}).then(function(B){var $=B.data;return $})}}).then(function(I){l.forEach(function(B){var $=B.ids,q=B.resolve;q(I.filter(function(j){return $.map(function(F){return String(F)}).includes(String(j.id))}))})}).catch(function(I){return l.forEach(function(B){var $=B.reject;return $(I)})})})}),wR=function(){};function gN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}var Ine=function(e,t){if(gN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!gN(e[r[a]],t[r[a]]))return!1;return!0},KS=function(){return KS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},KS.apply(this,arguments)},Dne=function(e){return e&&Object.prototype.toString.call(e)==="[object Object]"},zne=function(e){return e instanceof Date?!1:e===""||e===null||e===void 0||Ine(e,{})},d_=function(e){return Object.keys(e).reduce(function(t,r){var n,a=e[r];return Dne(e[r])&&(a=d_(e[r])),zne(a)?t:KS(KS({},t),(n={},n[r]=a,n))},{})},yN=function(e,t){return Object.keys(e).reduce(function(r,n){var a;return n!==t?Object.assign({},r,(a={},a[n]=e[n],a)):r},{})},lV=function(e,t){var r,n=t.split(".");if(n.length===1)return yN(e,t);var a=n[0];if(e[a]===void 0)return e;var l=lV(e[a],n.slice(1).join("."));return Object.keys(l).length===0?yN(e,a):Object.assign({},e,(r={},r[a]=l,r))},Ao=function(){return Ao=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ao.apply(this,arguments)},cV="SET_SORT",$y="ASC",qk="DESC",Vk="SET_PAGE",uV="SET_PER_PAGE",Hk="SET_FILTER",dV="SHOW_FILTER",fV="HIDE_FILTER",Lne=function(e){return e===qk?$y:qk},vN=function(e,t){var r,n;switch(t.type){case cV:return t.payload.field===e.sort?Ao(Ao({},e),{order:(n=t.payload.order)!==null&&n!==void 0?n:Lne(e.order),page:1}):Ao(Ao({},e),{sort:t.payload.field,order:t.payload.order||$y,page:1});case Vk:return Ao(Ao({},e),{page:t.payload});case uV:return Ao(Ao({},e),{page:1,perPage:t.payload});case Hk:return Ao(Ao({},e),{page:1,filter:t.payload.filter,displayedFilters:t.payload.displayedFilters?t.payload.displayedFilters:e.displayedFilters});case dV:return e.displayedFilters&&e.displayedFilters[t.payload.filterName]?e:Ao(Ao({},e),{filter:typeof t.payload.defaultValue<"u"?s3(e.filter,t.payload.filterName,t.payload.defaultValue):e.filter,displayedFilters:Ao(Ao({},e.displayedFilters),(r={},r[t.payload.filterName]=!0,r))});case fV:return Ao(Ao({},e),{filter:d_(lV(e.filter,t.payload)),displayedFilters:e.displayedFilters?Object.keys(e.displayedFilters).reduce(function(a,l){var c;return l!==t.payload?Ao(Ao({},a),(c={},c[l]=!0,c)):a},{}):e.displayedFilters});default:return e}},Bne=function(e,t){switch(t.type){case"SET_SORT":return t.payload;case"SET_SORT_FIELD":{var r=t.payload,n=e.field===r&&e.order===$y?qk:$y;return{field:r,order:n}}case"SET_SORT_ORDER":{var n=t.payload;if(!e.field)throw new Error("cannot change the order on an undefined sort field");return{field:e.field,order:n}}default:return e}},Fne={field:"",order:"ASC"},Nne=function(e){e===void 0&&(e=Fne);var t=S.useReducer(Bne,e),r=t[0],n=t[1],a=S.useRef(!0);return S.useEffect(function(){if(a.current){a.current=!1;return}n({type:"SET_SORT",payload:e})},[e.field,e.order]),{setSort:S.useCallback(function(l){return n({type:"SET_SORT",payload:l})},[n]),setSortField:S.useCallback(function(l){return n({type:"SET_SORT_FIELD",payload:l})},[n]),setSortOrder:S.useCallback(function(l){return n({type:"SET_SORT_ORDER",payload:l})},[n]),sort:r}},f_=function(){return f_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},f_.apply(this,arguments)},jne=function(e,t){return f_(f_({},e),t)},$ne={page:1,perPage:25};const Une=function(e){e===void 0&&(e={});var t=S.useReducer(jne,f_(f_({},$ne),e)),r=t[0],n=t[1],a=S.useRef(!0),l=S.useCallback(function(o){return n({perPage:o,page:1})},[]),c=S.useCallback(function(o){return n({page:o})},[]);return S.useEffect(function(){if(a.current){a.current=!1;return}l(e.perPage||25)},[e.perPage,l]),{page:r.page,perPage:r.perPage,pagination:r,setPage:c,setPerPage:l,setPagination:n}};var qne=S.createContext({}),SR,bN;function Vne(){if(bN)return SR;bN=1;var e=l3(),t=x7(),r=I1();function n(a,l,c){for(var o=-1,g=l.length,m={};++o<g;){var _=l[o],E=e(a,_);c(E,_)&&t(m,r(_,a),E)}return m}return SR=n,SR}var ER,_N;function Hne(){if(_N)return ER;_N=1;function e(t,r){return t!=null&&r in Object(t)}return ER=e,ER}var CR,xN;function Gne(){if(xN)return CR;xN=1;var e=I1(),t=_2(),r=xh(),n=y2(),a=m3(),l=v2();function c(o,g,m){g=e(g,o);for(var _=-1,E=g.length,R=!1;++_<E;){var O=l(g[_]);if(!(R=o!=null&&m(o,O)))break;o=o[O]}return R||++_!=E?R:(E=o==null?0:o.length,!!E&&a(E)&&n(O,E)&&(r(o)||t(o)))}return CR=c,CR}var TR,wN;function Zne(){if(wN)return TR;wN=1;var e=Hne(),t=Gne();function r(n,a){return n!=null&&t(n,a,e)}return TR=r,TR}var AR,SN;function Wne(){if(SN)return AR;SN=1;var e=Vne(),t=Zne();function r(n,a){return e(n,a,function(l,c){return t(n,c)})}return AR=r,AR}var PR,EN;function Kne(){if(EN)return PR;EN=1;var e=O3();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return PR=t,PR}var RR,CN;function Xne(){if(CN)return RR;CN=1;var e=Kne(),t=q7(),r=V7();function n(a){return r(t(a,void 0,e),a+"")}return RR=n,RR}var MR,TN;function Yne(){if(TN)return MR;TN=1;var e=Wne(),t=Xne(),r=t(function(n,a){return n==null?{}:e(n,a)});return MR=r,MR}var Qne=Yne();const k3=zo(Qne);var Jne=function(e){return S.useContext(qne)},eae=function(e){var t=e.value,r=e.children;return t?S.createElement(t1,{value:t},r):r},tae=function(e){var t=hc(e),r=ia(e),n=XV(r);return S.createElement(S.Fragment,null,n(t))},hV=S.createContext(null),rae=hV.Provider,nae=function(){var e=S.useContext(hV);if(!e)throw new Error("useReferenceFieldContext must be used inside a ReferenceFieldContextProvider");return e},aae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},iae=function(e){var t=e.reference,r=e.id,n=e.options,a=n===void 0?{}:n,l=a.meta,c=aae(a,["meta"]),o=sV(t,{ids:[r],meta:l},c),g=o.data,m=o.error,_=o.isLoading,E=o.isFetching,R=o.isPending,O=o.refetch;return{referenceRecord:m?void 0:g?g[0]:void 0,refetch:O,error:m,isLoading:_,isFetching:E,isPending:R}},Mb=function(){return Mb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Mb.apply(this,arguments)},oae=function(e){var t=e.link,r=e.reference,n=e.queryOptions;if(!r)throw new Error('useReferenceFieldController: missing reference prop. You must provide a reference, e.g. reference="posts".');var a=wh(e),l=iae({reference:r,id:a,options:Mb(Mb({},n),{enabled:((n==null?void 0:n.enabled)==null||(n==null?void 0:n.enabled)===!0)&&a!=null})}),c=Rre({record:l.referenceRecord,resource:r,link:t}),o=S.useMemo(function(){return Mb(Mb({},l),{link:c})},[c,l]);return o},sae=function(e){var t=e.children,r=oae(e);return S.createElement(k2,{value:e.reference},S.createElement(rae,{value:r},S.createElement(t1,{value:r.referenceRecord},t)))},OR,AN;function pV(){return AN||(AN=1,OR=`
`),OR}var lp={},PN;function A2(){return PN||(PN=1,lp.isFunction=function(e){var t={};return e&&t.toString.call(e)==="[object Function]"},lp.isArray=function(e){return Array.isArray(e)},lp.isObject=function(e){return e instanceof Object},lp.isString=function(e){return typeof e=="string"},lp.isNumber=function(e){return typeof e=="number"},lp.isBoolean=function(e){return typeof e=="boolean"},lp.isDate=function(e){return e instanceof Date}),lp}var kR,RN;function lae(){if(RN)return kR;RN=1;var e=pV(),t=A2();return kR=function(n,a){if(!n||!t.isArray(n))throw new TypeError('Invalid params "rows" for joinRows. Must be an array of string.');var l=n.join(a||e||`
`);return l},kR}var IR,MN;function cae(){if(MN)return IR;MN=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t=function(){function o(g,m){for(var _=0;_<m.length;_++){var E=m[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,m,_){return m&&o(g.prototype,m),_&&o(g,_),g}}();function r(o,g){if(!(o instanceof g))throw new TypeError("Cannot call a class as a function")}var n=A2(),a=function(){function o(g){r(this,o),this._options=g,this._options.typeHandlers=this._options.typeHandlers||{}}return t(o,[{key:"_setHeaders",value:function(m,_){var E=this;return _?m.map(function(R){return R.item=R.item?_+E._options.headerPathString+R.item:_,R}):m}},{key:"castValue",value:function(m,_,E,R){var O=this._options.typeHandlers;for(var I in O)if(c(m,I)){m=O[I].call(O,m,E,R);break}return m}},{key:"checkComplex",value:function(m,_){if(n.isDate(m))return[{item:_,value:(this._options.handleDate||this._handleDate)(m,_)}];if(n.isArray(m)){var E=this._handleArray(m,_);return this._setHeaders(E,_)}else if(n.isObject(m)){var R=this._handleObject(m);return this._setHeaders(R,_)}return[{item:_,value:""}]}},{key:"check",value:function(m,_,E,R){switch(m=this.castValue(m,_,E,R),typeof m>"u"?"undefined":e(m)){case"string":return[{item:_,value:this._handleString(m,_)}];case"number":return[{item:_,value:this._handleNumber(m,_)}];case"boolean":return[{item:_,value:this._handleBoolean.bind(this)(m,_)}]}return this.checkComplex(m,_)}},{key:"_handleObject",value:function(m){var _=[];for(var E in m){var R=m[E],O=this.check(R,E,E,m);_=_.concat(O)}return _}},{key:"_handleArray",value:function(m){for(var _=this,E=[],R,O=0;O<m.length;++O){var I=m[O],B=_.check(I,null,O,m);if(B.length!==0){var $=B[0];if(!$.item&&R!==void 0){R.value+=_._options.arrayPathString+$.value;continue}else B.length>0&&!$.item&&R===void 0&&(R=$);E=E.concat(B)}}return E}},{key:"_handleBoolean",value:function(m){var _;return m?_=this._options.booleanTrueString||"true":_=this._options.booleanFalseString||"false",_}},{key:"_handleString",value:function(m){return m}},{key:"_handleNumber",value:function(m){return m}},{key:"_handleDate",value:function(m){return m.toLocaleDateString()}}]),o}();IR=a;var l=typeof window>"u"?nx:window;function c(o,g){if(o instanceof l[g])return!0;switch(typeof o>"u"?"undefined":e(o)){case"string":return g==="String";case"boolean":return g==="Boolean";case"number":return g==="Number"}return!1}return IR}var DR,ON;function uae(){return ON||(ON=1,DR=function(t,r,n){var a=`
`;if(typeof t!="string")throw new TypeError('Invalid param "textDelimiter", must be a string.');if(typeof r!="string")throw new TypeError('Invalid param "rowDelimiter", must be a string.');var l=new RegExp("\\"+t,"g"),c=t+t,o=t==='"'?function(g){return g.indexOf(r)>=0||g.indexOf(a)>=0||g.indexOf('"')>=0}:function(g){return g.indexOf(r)>=0||g.indexOf(a)>=0};return function(g){return n&&(g=""+g),g.replace&&(g=g.replace(l,c),(n||o(g))&&(g=t+g+t)),g}}),DR}var zR,kN;function dae(){if(kN)return zR;kN=1;var e=function(){function c(o,g){for(var m=0;m<g.length;m++){var _=g[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}return function(o,g,m){return g&&c(o.prototype,g),m&&c(o,m),o}}();function t(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}var r=lae(),n=cae(),a=A2(),l=function(){function c(o){t(this,c),this._options=o||{},this._handler=new n(this._options),this._headers=this._options.headers||[],this._escape=uae()(this._options.textDelimiter,this._options.rowDelimiter,this._options.forceTextDelimiter)}return e(c,[{key:"parse",value:function(g,m,_){return a.isArray(g)?m(null,this._parseArray(g,_)):a.isObject(g)?m(null,this._parseObject(g)):m(new Error("Unable to parse the JSON object, its not an Array or Object."))}},{key:"_checkRows",value:function(g){var m=null,_=[],E=function(N,G){return N===""||N===void 0?m[G]:N},R=!0,O=!1,I=void 0;try{for(var B=g[Symbol.iterator](),$;!(R=($=B.next()).done);R=!0){var q=$.value,j=this._headers.length-q.length;j>0&&(q=q.concat(Array(j).join(".").split("."))),m&&this._options.fillGaps&&(q=q.map(E)),_.push(q.join(this._options.rowDelimiter)),m=q}}catch(F){O=!0,I=F}finally{try{!R&&B.return&&B.return()}finally{if(O)throw I}}return _}},{key:"_parseArray",value:function(g,m){var _=this;this._headers=this._headers||[];var E=[],R=void 0,O=function(V){var ee=_._headers.indexOf(V);return ee===-1&&(_._headers.push(V),ee=_._headers.indexOf(V)),ee};R=function(V){var ee=[],ne=function(ge){return ee.push(ge.map(function(je){return je??""}))},ae=function(){return new Array(_._headers.length).fill(null)},X={},te=ae(),le=!0,we=!1,ve=void 0;try{for(var xe=V[Symbol.iterator](),ce;!(le=(ce=xe.next()).done);le=!0){var Ce=ce.value,Se=O(Ce.item);if(te[Se]!=null&&(ne(te),te=ae()),X[Se]=X[Se]||0,_._options.fillTopRow&&X[Se]<ee.length){ee[X[Se]][Se]=_._escape(Ce.value),X[Se]+=1;continue}te[Se]=_._escape(Ce.value),X[Se]+=1}}catch(ze){we=!0,ve=ze}finally{try{!le&&xe.return&&xe.return()}finally{if(we)throw ve}}te.length>0&&ne(te),E=E.concat(_._checkRows(ee))};var I=!0,B=!1,$=void 0;try{for(var q=g[Symbol.iterator](),j;!(I=(j=q.next()).done);I=!0){var F=j.value,N=_._handler.check(F,_._options.mainPathItem,F,g);R(N)}}catch(G){B=!0,$=G}finally{try{!I&&q.return&&q.return()}finally{if(B)throw $}}return!m&&_._options.includeHeaders&&E.unshift(this.headers),r(E,_._options.endOfLine)}},{key:"_parseObject",value:function(g){var m=this,_=[],E=[],R=void 0,O=[[],[]];R=function(q){var j=q.value||q.value===0?q.value.toString():m._options.undefinedString;if(j=m._escape(j),m._options.verticalOutput){var F=[q.item,j];_.push(F.join(m._options.rowDelimiter))}else O[0].push(q.item),O[1].push(j)};for(var I in g){var B="";this._options.mainPathItem&&(B=this._options.mainPathItem+this._options.headerPathString),E=this._handler.check(g[I],B+I,I,g),E.forEach(R)}return this._options.verticalOutput||(_.push(O[0].join(this._options.rowDelimiter)),_.push(O[1].join(this._options.rowDelimiter))),r(_,this._options.endOfLine)}},{key:"headers",get:function(){var g=this,m=this._headers;return this._options.rename&&this._options.rename.length>0&&(m=m.map(function(_){return g._options.rename[g._options.headers.indexOf(_)]||_})),this._options.forceTextDelimiter&&(m=m.map(function(_){return""+g._options.textDelimiter+_+g._options.textDelimiter})),this._options.mapHeaders&&(m=m.map(this._options.mapHeaders)),m.join(this._options.rowDelimiter)}}]),c}();return zR=l,zR}var LR,IN;function fae(){if(IN)return LR;IN=1;var e=function(t){throw new Error("jsonexport called without third argument as a callback and is required")};return LR=e,LR}var BR,DN;function hae(){if(DN)return BR;DN=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=dae(),r=fae();A2();var n=pV();return BR=function(){var a={headers:[],rename:[],headerPathString:".",rowDelimiter:",",textDelimiter:'"',arrayPathString:";",undefinedString:"",endOfLine:n||`
`,mainPathItem:null,booleanTrueString:null,booleanFalseString:null,includeHeaders:!0,fillGaps:!1,verticalOutput:!0,forceTextDelimiter:!1},l=void 0,c=void 0,o=void 0;if(arguments.length===3){var g=Array.prototype.slice.call(arguments);l=g[0],c=g[1],o=g[2]}else if(arguments.length===2){var m=void 0,_=Array.prototype.slice.call(arguments);l=_[0],m=_[1],typeof m=="function"?o=m:(typeof m>"u"?"undefined":e(m))==="object"&&(c=m)}else if(arguments.length===1){var E=Array.prototype.slice.call(arguments),R=E[0];if((typeof R>"u"?"undefined":e(R))==="object"){var O=Object.keys(a),I=Object.keys(R),B=I.every(function(j){return O.includes(j)});I.length>0&&B?c=R:l=R}else l=R}else return new r(new t(a));var $=Object.assign({},a,c),q=new t($);return l?new Promise(function(j,F){q.parse(l,function(N,G){if(o)return o(N,G);if(N)return F(N);if(F)return j(G)})}):new r(q)},BR}var pae=hae();const mae=zo(pae);var gae=function(e,t){t===void 0&&(t="export");var r=document.createElement("a");r.style.display="none",document.body.appendChild(r);var n=new Blob([e],{type:"text/csv;charset=utf-8"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(n,"".concat(t,".csv")):(r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download","".concat(t,".csv")),r.click())},yae=function(e,t,r,n){return mae(e,function(a,l){return gae(l,n)})},vae=function(e,t){return Array.from(new Set(e.filter(function(r){return r[t]!=null}).map(function(r){return r[t]}).reduce(function(r,n){return r.concat(n)},[])))},bae=function(e){return function(t,r,n){return e.getMany(n,{ids:vae(t,r)}).then(function(a){var l=a.data;return l.reduce(function(c,o){return c[o.id]=o,c},{})})}},hb=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},I3=function(e){var t=e.resource,r=t===void 0?"":t,n=e.disableSyncWithStore,a=n===void 0?!1:n,l="".concat(r,".selectedIds"),c=S.useState(FR),o=c[0],g=c[1],m=Qo(l,FR),_=m[0],E=m[1],R=Yoe(l),O=a?o:_,I=a?g:E,B=S.useCallback(function(){a?g(FR):R()},[a,R]),$=S.useMemo(function(){return{select:function(q){q&&I(hb([],q,!0))},unselect:function(q){!q||q.length===0||I(function(j){return Array.isArray(j)?j.filter(function(F){return!q.includes(F)}):[]})},toggle:function(q){typeof q>"u"||I(function(j){if(!Array.isArray(j))return hb([],j,!0);var F=j.indexOf(q);return F>-1?hb(hb([],j.slice(0,F),!0),j.slice(F+1),!0):hb(hb([],j,!0),[q],!1)})},clearSelection:function(){B()}}},[I,B]);return[O,$]},FR=[];function _ae(e){var t=S.useRef();return S.useEffect(function(){t.current=e}),t.current}function D3(e,t){e===void 0&&(e=0),t===void 0&&(t="");var r=S.useState(!1),n=r[0],a=r[1];return S.useEffect(function(){a(!1);var l=setTimeout(function(){a(!0)},e);return function(){clearTimeout(l)}},[t,e,a]),n}function xae(){var e=S.useRef(!0);return S.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e}var bp=function(){return bp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},bp.apply(this,arguments)},zN=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},wae=function(e){var t=e.debounce,r=t===void 0?500:t,n=e.disableSyncWithLocation,a=n===void 0?!1:n,l=e.filterDefaultValues,c=e.perPage,o=c===void 0?10:c,g=e.resource,m=e.sort,_=m===void 0?Tae:m,E=e.storeKey,R=E===void 0?a?!1:"".concat(g,".listParams"):E,O=Jo(),I=ef(),B=S.useState(NN),$=B[0],q=B[1],j=Qo(R||"".concat(g,".listParams"),NN),F=j[0],N=j[1],G=S.useRef(),V=xae(),ee=[O.search,g,R,JSON.stringify(R?F:$),JSON.stringify(l),JSON.stringify(_),o,a],ne=a?{}:Sae(O),ae=S.useMemo(function(){return Cae({queryFromLocation:ne,params:R?F:$,filterDefaultValues:l,sort:_,perPage:o})},ee);S.useEffect(function(){Object.keys(ne).length>0&&N(ae)},[O.search]);var X=S.useCallback(function(ge){V.current&&(G.current?G.current=vN(G.current,ge):(G.current=vN(ae,ge),setTimeout(function(){G.current&&(a&&!R?q(G.current):a&&R?N(G.current):I({search:"?".concat(T2.stringify(bp(bp({},G.current),{filter:JSON.stringify(G.current.filter),displayedFilters:JSON.stringify(G.current.displayedFilters)})))},{state:{_scrollToTop:ge.type===Vk}}),G.current=void 0)},0)))},zN(zN([],ee,!0),[I],!1)),te=S.useCallback(function(ge){return X({type:cV,payload:ge})},[X]),le=S.useCallback(function(ge){return X({type:Vk,payload:ge})},[X]),we=S.useCallback(function(ge){return X({type:uV,payload:ge})},[X]),ve=ae.filter||FN,xe=ae.displayedFilters||FN,ce=T3(function(ge,je){X({type:Hk,payload:{filter:d_(ge),displayedFilters:je}})},r),Ce=S.useCallback(function(ge,je,et){return je===void 0&&(je=void 0),et===void 0&&(et=!1),et?ce(ge,je):X({type:Hk,payload:{filter:d_(ge),displayedFilters:je}})},[X]),Se=S.useCallback(function(ge){X({type:fV,payload:ge})},[X]),ze=S.useCallback(function(ge,je){X({type:dV,payload:{filterName:ge,defaultValue:je}})},[X]);return[bp(bp({filterValues:ve,requestSignature:ee},ae),{displayedFilters:xe}),{changeParams:X,setPage:le,setPerPage:we,setSort:te,setFilters:Ce,hideFilter:Se,showFilter:ze}]},LN=function(e,t){if(e[t]&&typeof e[t]=="string")try{e[t]=JSON.parse(e[t])}catch{delete e[t]}},Sae=function(e){var t=e.search,r=T2.parse(t);return LN(r,"filter"),LN(r,"displayedFilters"),r},Eae=function(e){return e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null)},Cae=function(e){var t=e.queryFromLocation,r=e.params,n=e.filterDefaultValues,a=e.sort,l=e.perPage,c=Object.keys(t).length>0?t:Eae(r)?bp({},r):{filter:n||{}};return c.sort||(c.sort=a.field,c.order=a.order),c.perPage==null&&(c.perPage=l),c.page==null&&(c.page=1),bp(bp({},c),{page:BN(c.page,1),perPage:BN(c.perPage,10)})},BN=function(e,t){if(typeof e>"u")return t;var r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},FN={},Tae={field:"id",order:$y},NN={},Gk=function(){return Gk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Gk.apply(this,arguments)},Aae=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},Pae=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Rae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Mae=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},Oae=function(e){var t=e.sort,r=e.filter,n=ia(e);if(!n)throw new Error("useSelectAll should be used inside a ResourceContextProvider or passed a resource prop");var a=z1(),l=Hu(),c=I3({resource:n}),o=c[1].select,g=Gu(),m=Xa(function(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];return Aae(void 0,Mae([],_,!0),void 0,function(R){var O,I,B,$,q,j,F,N,G=R===void 0?{}:R,V=G.queryOptions,ee=V===void 0?{}:V,ne=G.limit,ae=ne===void 0?250:ne;return Pae(this,function(X){switch(X.label){case 0:O=ee.meta,I=ee.onSuccess,B=ee.onError,$=Rae(ee,["meta","onSuccess","onError"]),X.label=1;case 1:return X.trys.push([1,3,,4]),[4,l.fetchQuery(Gk({queryKey:[n,"getList",{pagination:{page:1,perPage:ae},sort:t,filter:r,meta:O}],queryFn:function(){return a.getList(n,{pagination:{page:1,perPage:ae},sort:t,filter:r,meta:O})}},$))];case 2:return q=X.sent(),j=((N=q.data)===null||N===void 0?void 0:N.map(function(te){var le=te.id;return le}))||[],o(j),j.length===ae&&g("ra.message.select_all_limit_reached",{messageArgs:{max:ae},type:"warning"}),I&&I(q),[2,q.data];case 3:return F=X.sent(),B?B(F):g("ra.notification.http_error",{type:"warning"}),[3,4];case 4:return[2]}})})});return m},P2=S.createContext(null);P2.displayName="ListContext";var mV=S.createContext(void 0),kae=function(e){return S.useMemo(function(){return k3(e,["displayedFilters","filterValues","hideFilter","setFilters","showFilter","resource"])},[e.displayedFilters,e.filterValues,e.hideFilter,e.setFilters,e.showFilter])};mV.displayName="ListFilterContext";var gV=S.createContext(void 0),Iae=function(e){return S.useMemo(function(){return k3(e,["sort","setSort","resource"])},[e.sort,e.setSort])};gV.displayName="ListSortContext";var z3=S.createContext(void 0);z3.displayName="ListPaginationContext";var Dae=function(e){return S.useMemo(function(){return k3(e,["isLoading","isPending","hasPreviousPage","hasNextPage","page","perPage","setPage","setPerPage","total","resource"])},[e.isLoading,e.isPending,e.hasPreviousPage,e.hasNextPage,e.page,e.perPage,e.setPage,e.setPerPage,e.total])},L3=function(e){var t=e.value,r=e.children;return S.createElement(P2.Provider,{value:t},S.createElement(mV.Provider,{value:kae(t)},S.createElement(gV.Provider,{value:Iae(t)},S.createElement(z3.Provider,{value:Dae(t)},r))))},vp=function(){return vp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vp.apply(this,arguments)},zae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Lae=function(e){e===void 0&&(e={});var t=e.debounce,r=t===void 0?500:t,n=e.disableAuthentication,a=n===void 0?!1:n,l=e.disableSyncWithLocation,c=l===void 0?!1:l,o=e.exporter,g=o===void 0?yae:o,m=e.filter,_=e.filterDefaultValues,E=e.perPage,R=E===void 0?10:E,O=e.queryOptions,I=O===void 0?{}:O,B=e.sort,$=B===void 0?Bae:B,q=e.storeKey,j=ia(e),F=I.meta,N=zae(I,["meta"]);if(!j)throw new Error("useListController requires a non-empty resource prop or context");if(m&&(S.isValidElement(m)||Array.isArray(m)&&m.some(S.isValidElement)))throw new Error("useListController received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");var G=D2({enabled:!a}).isPending,V=Ose({action:"list",resource:j,enabled:!a&&!G}).isPending,ee=on(),ne=Gu(),ae=wae({debounce:r,disableSyncWithLocation:c,filterDefaultValues:_,perPage:R,resource:j,sort:$,storeKey:q}),X=ae[0],te=ae[1],le=I3({resource:j,disableSyncWithStore:q===!1}),we=le[0],ve=le[1],xe=vne(j,{pagination:{page:X.page,perPage:X.perPage},sort:{field:X.sort,order:X.order},filter:vp(vp({},X.filter),m),meta:F},vp({enabled:!G&&!V||a,placeholderData:function($t){return $t},retry:!1,onError:function($t){return ne(($t==null?void 0:$t.message)||"ra.notification.http_error",{type:"error",messageArgs:{_:$t==null?void 0:$t.message}})}},N)),ce=xe.data,Ce=xe.pageInfo,Se=xe.total,ze=xe.meta,ge=xe.error,je=xe.isLoading,et=xe.isFetching,rt=xe.isPending,vt=xe.refetch,ht=xe.isPaused,ut=xe.isPlaceholderData;S.useEffect(function(){ht&&ut&&ne("ra.message.placeholder_data_warning",{type:"warning",messageArgs:{_:"Network issue: Data refresh failed."}})},[ht,ut,ne]),S.useEffect(function(){if(X.page<=0||!et&&X.page>1&&(ce==null||(ce==null?void 0:ce.length)===0)){te.setPage(1);return}if(Se!=null){var $t=Math.ceil(Se/X.perPage)||1;!et&&X.page>$t&&te.setPage($t)}},[et,X.page,X.perPage,ce,te,Se]);var Vt=S.useMemo(function(){return{field:X.sort,order:X.order}},[X.sort,X.order]),Nt=I2(),lr=ee("ra.page.list",{name:Nt(j,2)}),Dt=Oae({resource:j,sort:{field:X.sort,order:X.order},filter:vp(vp({},X.filter),m)});return{sort:Vt,data:ce,meta:ze,defaultTitle:lr,displayedFilters:X.displayedFilters,error:ge,exporter:g,filter:m,filterValues:X.filterValues,hideFilter:te.hideFilter,isFetching:et,isLoading:je,isPending:rt,onSelect:ve.select,onSelectAll:Dt,onToggleItem:ve.toggle,onUnselectItems:ve.clearSelection,page:X.page,perPage:X.perPage,refetch:vt,resource:j,selectedIds:we,setFilters:te.setFilters,setPage:te.setPage,setPerPage:te.setPerPage,setSort:te.setSort,showFilter:te.showFilter,total:Se,hasNextPage:Ce?Ce.hasNextPage:Se!=null?X.page*X.perPage<Se:void 0,hasPreviousPage:Ce?Ce.hasPreviousPage:X.page>1}},Bae={field:"id",order:$y},Fae=["sort","data","defaultTitle","displayedFilters","error","exporter","filterValues","hasNextPage","hasPreviousPage","hideFilter","isFetching","isLoading","isPending","onSelect","onSelectAll","onToggleItem","onUnselectItems","page","perPage","refetch","refresh","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total","totalPages"],r1=function(e){return Object.keys(e).filter(function(t){return!Fae.includes(t)}).reduce(function(t,r){var n;return vp(vp({},t),(n={},n[r]=e[r],n))},{})},Nae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},jae=function(e){var t=e.children,r=e.loading,n=r===void 0?null:r,a=Nae(e,["children","loading"]),l=Lae(a),c=Rse({resource:l.resource,action:"list"});return c&&!a.disableAuthentication?n:S.createElement(WV,{value:a.resource},S.createElement(L3,{value:l},t))},Fw=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},$ae=function(e,t,r){r===void 0&&(r=!1);var n=Qo("".concat(e,".datagrid.expanded"),[]),a=n[0],l=n[1],c=Array.isArray(a)?a.map(function(g){return g==t}).indexOf(!0)!==-1:!1,o=S.useCallback(function(){l(function(g){if(!Array.isArray(g))return[t];var m=g.findIndex(function(_){return _==t});return m>-1?r?[]:Fw(Fw([],g.slice(0,m),!0),g.slice(m+1),!0):r?[t]:Fw(Fw([],g,!0),[t],!1)})},[l,t,r]);return[c,o]},Uae=function(e,t){var r=Qo("".concat(e,".datagrid.expanded"),[]),n=r[0],a=r[1],l=Array.isArray(n)?n.some(function(o){return t.some(function(g){return g==o})}):!1,c=S.useCallback(function(){var o=n.filter(function(g){return!t.some(function(m){return m==g})});a(l?o:o.concat(t))},[n,a,l,t]);return[l,c]},Ob=function(){return Ob=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ob.apply(this,arguments)},jN=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},qae=function(){throw new Error("refetch is not available for a ListContext built from useList based on local data")},yV=function(e){var t,r=e.data,n=e.error,a=e.filter,l=a===void 0?Vae:a,c=e.isFetching,o=c===void 0?!1:c,g=e.isLoading,m=g===void 0?!1:g,_=e.isPending,E=_===void 0?!1:_,R=e.page,O=R===void 0?1:R,I=e.perPage,B=I===void 0?1e3:I,$=e.sort,q=e.filterCallback,j=q===void 0?function(Rr){return!!Rr}:q,F=ia(e),N=S.useState(o),G=N[0],V=N[1],ee=S.useState(m),ne=ee[0],ae=ee[1],X=S.useState(E),te=X[0],le=X[1],we=S.useState(function(){return{data:r,total:r?r.length:void 0}}),ve=we[0],xe=we[1],ce=Une({page:O,perPage:B}),Ce=ce.page,Se=ce.setPage,ze=ce.perPage,ge=ce.setPerPage,je=Nne($),et=je.sort,rt=je.setSort,vt=S.useCallback(function(Rr){rt(Rr),Se(1)},[Se,rt]),ht=I3(F?{resource:F}:{disableSyncWithStore:!0}),ut=ht[0],Vt=ht[1],Nt=S.useRef(l),lr=S.useState({}),Dt=lr[0],$t=lr[1],tr=S.useState(l),ur=tr[0],Xt=tr[1],mr=S.useCallback(function(Rr){$t(function(Be){var Ye=Be,We=Rr;Ye[We];var Ut=jN(Ye,[typeof We=="symbol"?We:We+""]);return Ut}),Xt(function(Be){var Ye=Be,We=Rr;Ye[We];var Ut=jN(Ye,[typeof We=="symbol"?We:We+""]);return Ut})},[$t,Xt]),Vr=S.useCallback(function(Rr,Be){$t(function(Ye){var We;return Ob(Ob({},Ye),(We={},We[Rr]=!0,We))}),Xt(function(Ye){var We;return d_(Ob(Ob({},Ye),(We={},We[Rr]=Be,We)))})},[$t,Xt]),br=S.useCallback(function(Rr,Be){Be===void 0&&(Be=void 0),Xt(d_(Rr)),Be&&$t(Be),Se(1)},[$t,Xt,Se]);S.useEffect(function(){Wd(l,Nt.current)||(Nt.current=l,Xt(l))},[l]),S.useEffect(function(){if(!(E||!r)){var Rr=r;if(ur){var Be=rV(ur);Rr=r.filter(function(We){return Object.entries(Be).every(function(Ut){var qt=Ut[0],Ht=Ut[1],gr=_i(We,qt),Tr=Array.isArray(gr)?Array.isArray(Ht)?gr.some(function(Mr){return Ht.includes(Mr)}):gr.includes(Ht):Array.isArray(Ht)?Ht.includes(gr):qt==="q"?Object.keys(We).some(function(Mr){return typeof We[Mr]=="string"&&We[Mr].toLowerCase().includes(Ht.toLowerCase())}):Ht==gr;return Tr})}).filter(j)}var Ye=Rr.length;et.field&&(Rr=Rr.sort(function(We,Ut){return _i(We,et.field)>_i(Ut,et.field)?et.order==="ASC"?1:-1:_i(We,et.field)<_i(Ut,et.field)?et.order==="ASC"?-1:1:0})),Rr=Rr.slice((Ce-1)*ze,Ce*ze),xe({data:Rr,total:Ye})}},[JSON.stringify(r),ur,E,Ce,ze,xe,et.field,et.order]),S.useEffect(function(){o!==G&&V(o)},[o,G,V]),S.useEffect(function(){m!==ne&&ae(m)},[m,ne,ae]),S.useEffect(function(){E!==te&&le(E)},[E,te,le]);var nn=S.useCallback(function(){var Rr=(r==null?void 0:r.map(function(Be){var Ye=Be.id;return Ye}))||[];Vt.select(Rr)},[r,Vt]);return{sort:et,data:te?void 0:(t=ve==null?void 0:ve.data)!==null&&t!==void 0?t:[],defaultTitle:"",error:n??null,displayedFilters:Dt,filterValues:ur,hasNextPage:(ve==null?void 0:ve.total)==null?!1:Ce*ze<ve.total,hasPreviousPage:Ce>1,hideFilter:mr,isFetching:G,isLoading:ne,isPending:te,onSelect:Vt.select,onSelectAll:nn,onToggleItem:Vt.toggle,onUnselectItems:Vt.clearSelection,page:Ce,perPage:ze,resource:"",refetch:qae,selectedIds:ut,setFilters:br,setPage:Se,setPerPage:ge,setSort:vt,showFilter:Vr,total:ve==null?void 0:ve.total}},Vae={},pc=function(){var e=S.useContext(P2);if(!e)throw new Error("useListContext must be used inside a ListContextProvider");return e},NR,$N;function Hae(){if($N)return NR;$N=1;var e=C2(),t=k_(),r=H7(),n=I_(),a=Object.prototype,l=a.hasOwnProperty,c=e(function(o,g){o=Object(o);var m=-1,_=g.length,E=_>2?g[2]:void 0;for(E&&r(g[0],g[1],E)&&(_=1);++m<_;)for(var R=g[m],O=n(R),I=-1,B=O.length;++I<B;){var $=O[I],q=o[$];(q===void 0||t(q,a[$])&&!l.call(o,$))&&(o[$]=R[$])}return o});return NR=c,NR}var Gae=Hae();const vV=zo(Gae);var R2=function(e){var t=S.useContext(P2);return S.useMemo(function(){return vV({},e!=null?Zae(e):{},t)},[t,e])},Zae=function(e){var t=e.sort,r=e.data,n=e.defaultTitle,a=e.displayedFilters,l=e.exporter,c=e.filterValues,o=e.hasCreate,g=e.hideFilter,m=e.isFetching,_=e.isLoading,E=e.isPending,R=e.onSelect,O=e.onSelectAll,I=e.onToggleItem,B=e.onUnselectItems,$=e.page,q=e.perPage,j=e.refetch,F=e.resource,N=e.selectedIds,G=e.setFilters,V=e.setPage,ee=e.setPerPage,ne=e.setSort,ae=e.showFilter,X=e.total;return{sort:t,data:r,defaultTitle:n,displayedFilters:a,exporter:l,filterValues:c,hasCreate:o,hideFilter:g,isFetching:m,isLoading:_,isPending:E,onSelect:R,onSelectAll:O,onToggleItem:I,onUnselectItems:B,page:$,perPage:q,refetch:j,resource:F,selectedIds:N,setFilters:G,setPage:V,setPerPage:ee,setSort:ne,showFilter:ae,total:X}},Wae=function(){var e=S.useContext(z3);if(!e)throw new Error("useListPaginationContext must be used inside a ListPaginationContextProvider");return e},bx=function(){return bx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},bx.apply(this,arguments)},Kae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Xae=[],Yae={},Qae=function(e){var t=e.filter,r=t===void 0?Yae:t,n=e.page,a=n===void 0?1:n,l=e.perPage,c=l===void 0?1e3:l,o=e.record,g=e.reference,m=e.sort,_=e.source,E=e.queryOptions,R=E===void 0?{}:E,O=Gu(),I=_i(o,_),B=R.meta,$=Kae(R,["meta"]),q=Array.isArray(I)?I:Xae,j=sV(g,{ids:q,meta:B},bx({onError:function(X){return O(typeof X=="string"?X:(X==null?void 0:X.message)||"ra.notification.http_error",{type:"error",messageArgs:{_:typeof X=="string"?X:X!=null&&X.message?X.message:void 0}})}},$)),F=j.data,N=j.error,G=j.isLoading,V=j.isFetching,ee=j.isPending,ne=j.refetch,ae=yV({data:F,error:N,filter:r,isFetching:V,isLoading:G,isPending:ee,page:a,perPage:c,sort:m});return bx(bx({},ae),{defaultTitle:void 0,refetch:ne,resource:g})},L1=e=>e.type==="checkbox",Py=e=>e instanceof Date,Ml=e=>e==null;const bV=e=>typeof e=="object";var lo=e=>!Ml(e)&&!Array.isArray(e)&&bV(e)&&!Py(e),_V=e=>lo(e)&&e.target?L1(e.target)?e.target.checked:e.target.value:e,Jae=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xV=(e,t)=>e.has(Jae(t)),eie=e=>{const t=e.constructor&&e.constructor.prototype;return lo(t)&&t.hasOwnProperty("isPrototypeOf")},B3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ks(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(B3&&(e instanceof Blob||n))&&(r||lo(e)))if(t=r?[]:{},!r&&!eie(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ks(e[a]));else return e;return t}var M2=e=>/^\w*$/.test(e),ro=e=>e===void 0,F3=e=>Array.isArray(e)?e.filter(Boolean):[],N3=e=>F3(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ir=(e,t,r)=>{if(!t||!lo(e))return r;const n=(M2(t)?[t]:N3(t)).reduce((a,l)=>Ml(a)?a:a[l],e);return ro(n)||n===e?ro(e[t])?r:e[t]:n},Wc=e=>typeof e=="boolean",Za=(e,t,r)=>{let n=-1;const a=M2(t)?[t]:N3(t),l=a.length,c=l-1;for(;++n<l;){const o=a[n];let g=r;if(n!==c){const m=e[o];g=lo(m)||Array.isArray(m)?m:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=g,e=e[o]}};const XS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cp={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j3=Cr.createContext(null);j3.displayName="HookFormContext";const O2=()=>Cr.useContext(j3),wV=e=>{const{children:t,...r}=e;return Cr.createElement(j3.Provider,{value:r},t)};var SV=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Gd.all&&(t._proxyFormState[c]=!n||Gd.all),r&&(r[c]=!0),e[c]}});return a};const $3=typeof window<"u"?S.useLayoutEffect:S.useEffect;function U3(e){const t=O2(),{control:r=t.control,disabled:n,name:a,exact:l}=e||{},[c,o]=Cr.useState(r._formState),g=Cr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $3(()=>r._subscribe({name:a,formState:g.current,exact:l,callback:m=>{!n&&o({...r._formState,...m})}}),[a,n,l]),Cr.useEffect(()=>{g.current.isValid&&r._setValid(!0)},[r]),Cr.useMemo(()=>SV(c,r,g.current,!1),[c,r])}var fh=e=>typeof e=="string",EV=(e,t,r,n,a)=>fh(e)?(n&&t.watch.add(e),Ir(r,e,a)):Array.isArray(e)?e.map(l=>(n&&t.watch.add(l),Ir(r,l))):(n&&(t.watchAll=!0),r);function tie(e){const t=O2(),{control:r=t.control,name:n,defaultValue:a,disabled:l,exact:c}=e||{},o=Cr.useRef(a),[g,m]=Cr.useState(r._getWatch(n,o.current));return $3(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:_=>!l&&m(EV(n,r._names,_.values||r._formValues,!1,o.current))}),[n,r,l,c]),Cr.useEffect(()=>r._removeUnmounted()),g}function rie(e){const t=O2(),{name:r,disabled:n,control:a=t.control,shouldUnregister:l}=e,c=xV(a._names.array,r),o=tie({control:a,name:r,defaultValue:Ir(a._formValues,r,Ir(a._defaultValues,r,e.defaultValue)),exact:!0}),g=U3({control:a,name:r,exact:!0}),m=Cr.useRef(e),_=Cr.useRef(a.register(r,{...e.rules,value:o,...Wc(e.disabled)?{disabled:e.disabled}:{}})),E=Cr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ir(g.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ir(g.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ir(g.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ir(g.validatingFields,r)},error:{enumerable:!0,get:()=>Ir(g.errors,r)}}),[g,r]),R=Cr.useCallback($=>_.current.onChange({target:{value:_V($),name:r},type:XS.CHANGE}),[r]),O=Cr.useCallback(()=>_.current.onBlur({target:{value:Ir(a._formValues,r),name:r},type:XS.BLUR}),[r,a._formValues]),I=Cr.useCallback($=>{const q=Ir(a._fields,r);q&&$&&(q._f.ref={focus:()=>$.focus&&$.focus(),select:()=>$.select&&$.select(),setCustomValidity:j=>$.setCustomValidity(j),reportValidity:()=>$.reportValidity()})},[a._fields,r]),B=Cr.useMemo(()=>({name:r,value:o,...Wc(n)||g.disabled?{disabled:g.disabled||n}:{},onChange:R,onBlur:O,ref:I}),[r,n,g.disabled,R,O,I,o]);return Cr.useEffect(()=>{const $=a._options.shouldUnregister||l;a.register(r,{...m.current.rules,...Wc(m.current.disabled)?{disabled:m.current.disabled}:{}});const q=(j,F)=>{const N=Ir(a._fields,j);N&&N._f&&(N._f.mount=F)};if(q(r,!0),$){const j=ks(Ir(a._options.defaultValues,r));Za(a._defaultValues,r,j),ro(Ir(a._formValues,r))&&Za(a._formValues,r,j)}return!c&&a.register(r),()=>{(c?$&&!a._state.action:$)?a.unregister(r):q(r,!1)}},[r,a,c,l]),Cr.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Cr.useMemo(()=>({field:B,formState:g,fieldState:E}),[B,g,E])}var nie=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},_x=e=>Array.isArray(e)?e:[e],UN=()=>{let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}},Zk=e=>Ml(e)||!bV(e);function Fm(e,t){if(Zk(e)||Zk(t))return e===t;if(Py(e)&&Py(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const l=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const c=t[a];if(Py(l)&&Py(c)||lo(l)&&lo(c)||Array.isArray(l)&&Array.isArray(c)?!Fm(l,c):l!==c)return!1}}return!0}var oc=e=>lo(e)&&!Object.keys(e).length,q3=e=>e.type==="file",Zd=e=>typeof e=="function",YS=e=>{if(!B3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},CV=e=>e.type==="select-multiple",V3=e=>e.type==="radio",aie=e=>V3(e)||L1(e),jR=e=>YS(e)&&e.isConnected;function iie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ro(e)?n++:e[t[n++]];return e}function oie(e){for(const t in e)if(e.hasOwnProperty(t)&&!ro(e[t]))return!1;return!0}function Xo(e,t){const r=Array.isArray(t)?t:M2(t)?[t]:N3(t),n=r.length===1?e:iie(e,r),a=r.length-1,l=r[a];return n&&delete n[l],a!==0&&(lo(n)&&oc(n)||Array.isArray(n)&&oie(n))&&Xo(e,r.slice(0,-1)),e}var TV=e=>{for(const t in e)if(Zd(e[t]))return!0;return!1};function QS(e,t={}){const r=Array.isArray(e);if(lo(e)||r)for(const n in e)Array.isArray(e[n])||lo(e[n])&&!TV(e[n])?(t[n]=Array.isArray(e[n])?[]:{},QS(e[n],t[n])):Ml(e[n])||(t[n]=!0);return t}function AV(e,t,r){const n=Array.isArray(e);if(lo(e)||n)for(const a in e)Array.isArray(e[a])||lo(e[a])&&!TV(e[a])?ro(t)||Zk(r[a])?r[a]=Array.isArray(e[a])?QS(e[a],[]):{...QS(e[a])}:AV(e[a],Ml(t)?{}:t[a],r[a]):r[a]=!Fm(e[a],t[a]);return r}var U0=(e,t)=>AV(e,t,QS(t));const qN={value:!1,isValid:!1},VN={value:!0,isValid:!0};var PV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ro(e[0].attributes.value)?ro(e[0].value)||e[0].value===""?VN:{value:e[0].value,isValid:!0}:VN:qN}return qN},RV=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ro(e)?e:t?e===""?NaN:e&&+e:r&&fh(e)?new Date(e):n?n(e):e;const HN={isValid:!1,value:null};var MV=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,HN):HN;function GN(e){const t=e.ref;return q3(t)?t.files:V3(t)?MV(e.refs).value:CV(t)?[...t.selectedOptions].map(({value:r})=>r):L1(t)?PV(e.refs).value:RV(ro(t.value)?e.ref.value:t.value,e)}var sie=(e,t,r,n)=>{const a={};for(const l of e){const c=Ir(t,l);c&&Za(a,l,c._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},JS=e=>e instanceof RegExp,q0=e=>ro(e)?e:JS(e)?e.source:lo(e)?JS(e.value)?e.value.source:e.value:e,ZN=e=>({isOnSubmit:!e||e===Gd.onSubmit,isOnBlur:e===Gd.onBlur,isOnChange:e===Gd.onChange,isOnAll:e===Gd.all,isOnTouch:e===Gd.onTouched});const WN="AsyncFunction";var lie=e=>!!e&&!!e.validate&&!!(Zd(e.validate)&&e.validate.constructor.name===WN||lo(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===WN)),cie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),KN=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const xx=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const l=Ir(e,a);if(l){const{_f:c,...o}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],a)&&!n)return!0;if(c.ref&&t(c.ref,c.name)&&!n)return!0;if(xx(o,t))break}else if(lo(o)&&xx(o,t))break}}};function XN(e,t,r){const n=Ir(e,r);if(n||M2(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const l=a.join("."),c=Ir(t,l),o=Ir(e,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(o&&o.type)return{name:l,error:o};if(o&&o.root&&o.root.type)return{name:`${l}.root`,error:o.root};a.pop()}return{name:r}}var uie=(e,t,r,n)=>{r(e);const{name:a,...l}=e;return oc(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!n||Gd.all))},die=(e,t,r)=>!e||!t||e===t||_x(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),fie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,hie=(e,t)=>!F3(Ir(e,t)).length&&Xo(e,t),pie=(e,t,r)=>{const n=_x(Ir(e,r));return Za(n,"root",t[r]),Za(e,r,n),e},bS=e=>fh(e);function YN(e,t,r="validate"){if(bS(e)||Array.isArray(e)&&e.every(bS)||Wc(e)&&!e)return{type:r,message:bS(e)?e:"",ref:t}}var pb=e=>lo(e)&&!JS(e)?e:{value:e,message:""},QN=async(e,t,r,n,a,l)=>{const{ref:c,refs:o,required:g,maxLength:m,minLength:_,min:E,max:R,pattern:O,validate:I,name:B,valueAsNumber:$,mount:q}=e._f,j=Ir(r,B);if(!q||t.has(B))return{};const F=o?o[0]:c,N=le=>{a&&F.reportValidity&&(F.setCustomValidity(Wc(le)?"":le||""),F.reportValidity())},G={},V=V3(c),ee=L1(c),ne=V||ee,ae=($||q3(c))&&ro(c.value)&&ro(j)||YS(c)&&c.value===""||j===""||Array.isArray(j)&&!j.length,X=nie.bind(null,B,n,G),te=(le,we,ve,xe=cp.maxLength,ce=cp.minLength)=>{const Ce=le?we:ve;G[B]={type:le?xe:ce,message:Ce,ref:c,...X(le?xe:ce,Ce)}};if(l?!Array.isArray(j)||!j.length:g&&(!ne&&(ae||Ml(j))||Wc(j)&&!j||ee&&!PV(o).isValid||V&&!MV(o).isValid)){const{value:le,message:we}=bS(g)?{value:!!g,message:g}:pb(g);if(le&&(G[B]={type:cp.required,message:we,ref:F,...X(cp.required,we)},!n))return N(we),G}if(!ae&&(!Ml(E)||!Ml(R))){let le,we;const ve=pb(R),xe=pb(E);if(!Ml(j)&&!isNaN(j)){const ce=c.valueAsNumber||j&&+j;Ml(ve.value)||(le=ce>ve.value),Ml(xe.value)||(we=ce<xe.value)}else{const ce=c.valueAsDate||new Date(j),Ce=ge=>new Date(new Date().toDateString()+" "+ge),Se=c.type=="time",ze=c.type=="week";fh(ve.value)&&j&&(le=Se?Ce(j)>Ce(ve.value):ze?j>ve.value:ce>new Date(ve.value)),fh(xe.value)&&j&&(we=Se?Ce(j)<Ce(xe.value):ze?j<xe.value:ce<new Date(xe.value))}if((le||we)&&(te(!!le,ve.message,xe.message,cp.max,cp.min),!n))return N(G[B].message),G}if((m||_)&&!ae&&(fh(j)||l&&Array.isArray(j))){const le=pb(m),we=pb(_),ve=!Ml(le.value)&&j.length>+le.value,xe=!Ml(we.value)&&j.length<+we.value;if((ve||xe)&&(te(ve,le.message,we.message),!n))return N(G[B].message),G}if(O&&!ae&&fh(j)){const{value:le,message:we}=pb(O);if(JS(le)&&!j.match(le)&&(G[B]={type:cp.pattern,message:we,ref:c,...X(cp.pattern,we)},!n))return N(we),G}if(I){if(Zd(I)){const le=await I(j,r),we=YN(le,F);if(we&&(G[B]={...we,...X(cp.validate,we.message)},!n))return N(we.message),G}else if(lo(I)){let le={};for(const we in I){if(!oc(le)&&!n)break;const ve=YN(await I[we](j,r),F,we);ve&&(le={...ve,...X(we,ve.message)},N(ve.message),n&&(G[B]=le))}if(!oc(le)&&(G[B]={ref:F,...le},!n))return G}}return N(!0),G};const mie={mode:Gd.onSubmit,reValidateMode:Gd.onChange,shouldFocusError:!0};function gie(e={}){let t={...mie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zd(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=lo(t.defaultValues)||lo(t.values)?ks(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:ks(a),c={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={..._};const R={array:UN(),state:UN()},O=t.criteriaMode===Gd.all,I=Be=>Ye=>{clearTimeout(m),m=setTimeout(Be,Ye)},B=async Be=>{if(!t.disabled&&(_.isValid||E.isValid||Be)){const Ye=t.resolver?oc((await ee()).errors):await ae(n,!0);Ye!==r.isValid&&R.state.next({isValid:Ye})}},$=(Be,Ye)=>{!t.disabled&&(_.isValidating||_.validatingFields||E.isValidating||E.validatingFields)&&((Be||Array.from(o.mount)).forEach(We=>{We&&(Ye?Za(r.validatingFields,We,Ye):Xo(r.validatingFields,We))}),R.state.next({validatingFields:r.validatingFields,isValidating:!oc(r.validatingFields)}))},q=(Be,Ye=[],We,Ut,qt=!0,Ht=!0)=>{if(Ut&&We&&!t.disabled){if(c.action=!0,Ht&&Array.isArray(Ir(n,Be))){const gr=We(Ir(n,Be),Ut.argA,Ut.argB);qt&&Za(n,Be,gr)}if(Ht&&Array.isArray(Ir(r.errors,Be))){const gr=We(Ir(r.errors,Be),Ut.argA,Ut.argB);qt&&Za(r.errors,Be,gr),hie(r.errors,Be)}if((_.touchedFields||E.touchedFields)&&Ht&&Array.isArray(Ir(r.touchedFields,Be))){const gr=We(Ir(r.touchedFields,Be),Ut.argA,Ut.argB);qt&&Za(r.touchedFields,Be,gr)}(_.dirtyFields||E.dirtyFields)&&(r.dirtyFields=U0(a,l)),R.state.next({name:Be,isDirty:te(Be,Ye),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Za(l,Be,Ye)},j=(Be,Ye)=>{Za(r.errors,Be,Ye),R.state.next({errors:r.errors})},F=Be=>{r.errors=Be,R.state.next({errors:r.errors,isValid:!1})},N=(Be,Ye,We,Ut)=>{const qt=Ir(n,Be);if(qt){const Ht=Ir(l,Be,ro(We)?Ir(a,Be):We);ro(Ht)||Ut&&Ut.defaultChecked||Ye?Za(l,Be,Ye?Ht:GN(qt._f)):ve(Be,Ht),c.mount&&B()}},G=(Be,Ye,We,Ut,qt)=>{let Ht=!1,gr=!1;const Tr={name:Be};if(!t.disabled){if(!We||Ut){(_.isDirty||E.isDirty)&&(gr=r.isDirty,r.isDirty=Tr.isDirty=te(),Ht=gr!==Tr.isDirty);const Mr=Fm(Ir(a,Be),Ye);gr=!!Ir(r.dirtyFields,Be),Mr?Xo(r.dirtyFields,Be):Za(r.dirtyFields,Be,!0),Tr.dirtyFields=r.dirtyFields,Ht=Ht||(_.dirtyFields||E.dirtyFields)&&gr!==!Mr}if(We){const Mr=Ir(r.touchedFields,Be);Mr||(Za(r.touchedFields,Be,We),Tr.touchedFields=r.touchedFields,Ht=Ht||(_.touchedFields||E.touchedFields)&&Mr!==We)}Ht&&qt&&R.state.next(Tr)}return Ht?Tr:{}},V=(Be,Ye,We,Ut)=>{const qt=Ir(r.errors,Be),Ht=(_.isValid||E.isValid)&&Wc(Ye)&&r.isValid!==Ye;if(t.delayError&&We?(g=I(()=>j(Be,We)),g(t.delayError)):(clearTimeout(m),g=null,We?Za(r.errors,Be,We):Xo(r.errors,Be)),(We?!Fm(qt,We):qt)||!oc(Ut)||Ht){const gr={...Ut,...Ht&&Wc(Ye)?{isValid:Ye}:{},errors:r.errors,name:Be};r={...r,...gr},R.state.next(gr)}},ee=async Be=>{$(Be,!0);const Ye=await t.resolver(l,t.context,sie(Be||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return $(Be),Ye},ne=async Be=>{const{errors:Ye}=await ee(Be);if(Be)for(const We of Be){const Ut=Ir(Ye,We);Ut?Za(r.errors,We,Ut):Xo(r.errors,We)}else r.errors=Ye;return Ye},ae=async(Be,Ye,We={valid:!0})=>{for(const Ut in Be){const qt=Be[Ut];if(qt){const{_f:Ht,...gr}=qt;if(Ht){const Tr=o.array.has(Ht.name),Mr=qt._f&&lie(qt._f);Mr&&_.validatingFields&&$([Ut],!0);const Qr=await QN(qt,o.disabled,l,O,t.shouldUseNativeValidation&&!Ye,Tr);if(Mr&&_.validatingFields&&$([Ut]),Qr[Ht.name]&&(We.valid=!1,Ye))break;!Ye&&(Ir(Qr,Ht.name)?Tr?pie(r.errors,Qr,Ht.name):Za(r.errors,Ht.name,Qr[Ht.name]):Xo(r.errors,Ht.name))}!oc(gr)&&await ae(gr,Ye,We)}}return We.valid},X=()=>{for(const Be of o.unMount){const Ye=Ir(n,Be);Ye&&(Ye._f.refs?Ye._f.refs.every(We=>!jR(We)):!jR(Ye._f.ref))&&Vt(Be)}o.unMount=new Set},te=(Be,Ye)=>!t.disabled&&(Be&&Ye&&Za(l,Be,Ye),!Fm(ge(),a)),le=(Be,Ye,We)=>EV(Be,o,{...c.mount?l:ro(Ye)?a:fh(Be)?{[Be]:Ye}:Ye},We,Ye),we=Be=>F3(Ir(c.mount?l:a,Be,t.shouldUnregister?Ir(a,Be,[]):[])),ve=(Be,Ye,We={})=>{const Ut=Ir(n,Be);let qt=Ye;if(Ut){const Ht=Ut._f;Ht&&(!Ht.disabled&&Za(l,Be,RV(Ye,Ht)),qt=YS(Ht.ref)&&Ml(Ye)?"":Ye,CV(Ht.ref)?[...Ht.ref.options].forEach(gr=>gr.selected=qt.includes(gr.value)):Ht.refs?L1(Ht.ref)?Ht.refs.forEach(gr=>{(!gr.defaultChecked||!gr.disabled)&&(Array.isArray(qt)?gr.checked=!!qt.find(Tr=>Tr===gr.value):gr.checked=qt===gr.value||!!qt)}):Ht.refs.forEach(gr=>gr.checked=gr.value===qt):q3(Ht.ref)?Ht.ref.value="":(Ht.ref.value=qt,Ht.ref.type||R.state.next({name:Be,values:ks(l)})))}(We.shouldDirty||We.shouldTouch)&&G(Be,qt,We.shouldTouch,We.shouldDirty,!0),We.shouldValidate&&ze(Be)},xe=(Be,Ye,We)=>{for(const Ut in Ye){if(!Ye.hasOwnProperty(Ut))return;const qt=Ye[Ut],Ht=Be+"."+Ut,gr=Ir(n,Ht);(o.array.has(Be)||lo(qt)||gr&&!gr._f)&&!Py(qt)?xe(Ht,qt,We):ve(Ht,qt,We)}},ce=(Be,Ye,We={})=>{const Ut=Ir(n,Be),qt=o.array.has(Be),Ht=ks(Ye);Za(l,Be,Ht),qt?(R.array.next({name:Be,values:ks(l)}),(_.isDirty||_.dirtyFields||E.isDirty||E.dirtyFields)&&We.shouldDirty&&R.state.next({name:Be,dirtyFields:U0(a,l),isDirty:te(Be,Ht)})):Ut&&!Ut._f&&!Ml(Ht)?xe(Be,Ht,We):ve(Be,Ht,We),KN(Be,o)&&R.state.next({...r}),R.state.next({name:c.mount?Be:void 0,values:ks(l)})},Ce=async Be=>{c.mount=!0;const Ye=Be.target;let We=Ye.name,Ut=!0;const qt=Ir(n,We),Ht=Mr=>{Ut=Number.isNaN(Mr)||Py(Mr)&&isNaN(Mr.getTime())||Fm(Mr,Ir(l,We,Mr))},gr=ZN(t.mode),Tr=ZN(t.reValidateMode);if(qt){let Mr,Qr;const gn=Ye.type?GN(qt._f):_V(Be),wr=Be.type===XS.BLUR||Be.type===XS.FOCUS_OUT,wn=!cie(qt._f)&&!t.resolver&&!Ir(r.errors,We)&&!qt._f.deps||fie(wr,Ir(r.touchedFields,We),r.isSubmitted,Tr,gr),Kr=KN(We,o,wr);Za(l,We,gn),wr?(qt._f.onBlur&&qt._f.onBlur(Be),g&&g(0)):qt._f.onChange&&qt._f.onChange(Be);const en=G(We,gn,wr),Ge=!oc(en)||Kr;if(!wr&&R.state.next({name:We,type:Be.type,values:ks(l)}),wn)return(_.isValid||E.isValid)&&(t.mode==="onBlur"?wr&&B():wr||B()),Ge&&R.state.next({name:We,...Kr?{}:en});if(!wr&&Kr&&R.state.next({...r}),t.resolver){const{errors:me}=await ee([We]);if(Ht(gn),Ut){const ye=XN(r.errors,n,We),Ae=XN(me,n,ye.name||We);Mr=Ae.error,We=Ae.name,Qr=oc(me)}}else $([We],!0),Mr=(await QN(qt,o.disabled,l,O,t.shouldUseNativeValidation))[We],$([We]),Ht(gn),Ut&&(Mr?Qr=!1:(_.isValid||E.isValid)&&(Qr=await ae(n,!0)));Ut&&(qt._f.deps&&ze(qt._f.deps),V(We,Qr,Mr,en))}},Se=(Be,Ye)=>{if(Ir(r.errors,Ye)&&Be.focus)return Be.focus(),1},ze=async(Be,Ye={})=>{let We,Ut;const qt=_x(Be);if(t.resolver){const Ht=await ne(ro(Be)?Be:qt);We=oc(Ht),Ut=Be?!qt.some(gr=>Ir(Ht,gr)):We}else Be?(Ut=(await Promise.all(qt.map(async Ht=>{const gr=Ir(n,Ht);return await ae(gr&&gr._f?{[Ht]:gr}:gr)}))).every(Boolean),!(!Ut&&!r.isValid)&&B()):Ut=We=await ae(n);return R.state.next({...!fh(Be)||(_.isValid||E.isValid)&&We!==r.isValid?{}:{name:Be},...t.resolver||!Be?{isValid:We}:{},errors:r.errors}),Ye.shouldFocus&&!Ut&&xx(n,Se,Be?qt:o.mount),Ut},ge=Be=>{const Ye={...c.mount?l:a};return ro(Be)?Ye:fh(Be)?Ir(Ye,Be):Be.map(We=>Ir(Ye,We))},je=(Be,Ye)=>({invalid:!!Ir((Ye||r).errors,Be),isDirty:!!Ir((Ye||r).dirtyFields,Be),error:Ir((Ye||r).errors,Be),isValidating:!!Ir(r.validatingFields,Be),isTouched:!!Ir((Ye||r).touchedFields,Be)}),et=Be=>{Be&&_x(Be).forEach(Ye=>Xo(r.errors,Ye)),R.state.next({errors:Be?r.errors:{}})},rt=(Be,Ye,We)=>{const Ut=(Ir(n,Be,{_f:{}})._f||{}).ref,qt=Ir(r.errors,Be)||{},{ref:Ht,message:gr,type:Tr,...Mr}=qt;Za(r.errors,Be,{...Mr,...Ye,ref:Ut}),R.state.next({name:Be,errors:r.errors,isValid:!1}),We&&We.shouldFocus&&Ut&&Ut.focus&&Ut.focus()},vt=(Be,Ye)=>Zd(Be)?R.state.subscribe({next:We=>Be(le(void 0,Ye),We)}):le(Be,Ye,!0),ht=Be=>R.state.subscribe({next:Ye=>{die(Be.name,Ye.name,Be.exact)&&uie(Ye,Be.formState||_,br,Be.reRenderRoot)&&Be.callback({values:{...l},...r,...Ye})}}).unsubscribe,ut=Be=>(c.mount=!0,E={...E,...Be.formState},ht({...Be,formState:E})),Vt=(Be,Ye={})=>{for(const We of Be?_x(Be):o.mount)o.mount.delete(We),o.array.delete(We),Ye.keepValue||(Xo(n,We),Xo(l,We)),!Ye.keepError&&Xo(r.errors,We),!Ye.keepDirty&&Xo(r.dirtyFields,We),!Ye.keepTouched&&Xo(r.touchedFields,We),!Ye.keepIsValidating&&Xo(r.validatingFields,We),!t.shouldUnregister&&!Ye.keepDefaultValue&&Xo(a,We);R.state.next({values:ks(l)}),R.state.next({...r,...Ye.keepDirty?{isDirty:te()}:{}}),!Ye.keepIsValid&&B()},Nt=({disabled:Be,name:Ye})=>{(Wc(Be)&&c.mount||Be||o.disabled.has(Ye))&&(Be?o.disabled.add(Ye):o.disabled.delete(Ye))},lr=(Be,Ye={})=>{let We=Ir(n,Be);const Ut=Wc(Ye.disabled)||Wc(t.disabled);return Za(n,Be,{...We||{},_f:{...We&&We._f?We._f:{ref:{name:Be}},name:Be,mount:!0,...Ye}}),o.mount.add(Be),We?Nt({disabled:Wc(Ye.disabled)?Ye.disabled:t.disabled,name:Be}):N(Be,!0,Ye.value),{...Ut?{disabled:Ye.disabled||t.disabled}:{},...t.progressive?{required:!!Ye.required,min:q0(Ye.min),max:q0(Ye.max),minLength:q0(Ye.minLength),maxLength:q0(Ye.maxLength),pattern:q0(Ye.pattern)}:{},name:Be,onChange:Ce,onBlur:Ce,ref:qt=>{if(qt){lr(Be,Ye),We=Ir(n,Be);const Ht=ro(qt.value)&&qt.querySelectorAll&&qt.querySelectorAll("input,select,textarea")[0]||qt,gr=aie(Ht),Tr=We._f.refs||[];if(gr?Tr.find(Mr=>Mr===Ht):Ht===We._f.ref)return;Za(n,Be,{_f:{...We._f,...gr?{refs:[...Tr.filter(jR),Ht,...Array.isArray(Ir(a,Be))?[{}]:[]],ref:{type:Ht.type,name:Be}}:{ref:Ht}}}),N(Be,!1,void 0,Ht)}else We=Ir(n,Be,{}),We._f&&(We._f.mount=!1),(t.shouldUnregister||Ye.shouldUnregister)&&!(xV(o.array,Be)&&c.action)&&o.unMount.add(Be)}}},Dt=()=>t.shouldFocusError&&xx(n,Se,o.mount),$t=Be=>{Wc(Be)&&(R.state.next({disabled:Be}),xx(n,(Ye,We)=>{const Ut=Ir(n,We);Ut&&(Ye.disabled=Ut._f.disabled||Be,Array.isArray(Ut._f.refs)&&Ut._f.refs.forEach(qt=>{qt.disabled=Ut._f.disabled||Be}))},0,!1))},tr=(Be,Ye)=>async We=>{let Ut;We&&(We.preventDefault&&We.preventDefault(),We.persist&&We.persist());let qt=ks(l);if(R.state.next({isSubmitting:!0}),t.resolver){const{errors:Ht,values:gr}=await ee();r.errors=Ht,qt=gr}else await ae(n);if(o.disabled.size)for(const Ht of o.disabled)Za(qt,Ht,void 0);if(Xo(r.errors,"root"),oc(r.errors)){R.state.next({errors:{}});try{await Be(qt,We)}catch(Ht){Ut=Ht}}else Ye&&await Ye({...r.errors},We),Dt(),setTimeout(Dt);if(R.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oc(r.errors)&&!Ut,submitCount:r.submitCount+1,errors:r.errors}),Ut)throw Ut},ur=(Be,Ye={})=>{Ir(n,Be)&&(ro(Ye.defaultValue)?ce(Be,ks(Ir(a,Be))):(ce(Be,Ye.defaultValue),Za(a,Be,ks(Ye.defaultValue))),Ye.keepTouched||Xo(r.touchedFields,Be),Ye.keepDirty||(Xo(r.dirtyFields,Be),r.isDirty=Ye.defaultValue?te(Be,ks(Ir(a,Be))):te()),Ye.keepError||(Xo(r.errors,Be),_.isValid&&B()),R.state.next({...r}))},Xt=(Be,Ye={})=>{const We=Be?ks(Be):a,Ut=ks(We),qt=oc(Be),Ht=qt?a:Ut;if(Ye.keepDefaultValues||(a=We),!Ye.keepValues){if(Ye.keepDirtyValues){const gr=new Set([...o.mount,...Object.keys(U0(a,l))]);for(const Tr of Array.from(gr))Ir(r.dirtyFields,Tr)?Za(Ht,Tr,Ir(l,Tr)):ce(Tr,Ir(Ht,Tr))}else{if(B3&&ro(Be))for(const gr of o.mount){const Tr=Ir(n,gr);if(Tr&&Tr._f){const Mr=Array.isArray(Tr._f.refs)?Tr._f.refs[0]:Tr._f.ref;if(YS(Mr)){const Qr=Mr.closest("form");if(Qr){Qr.reset();break}}}}for(const gr of o.mount)ce(gr,Ir(Ht,gr))}l=ks(Ht),R.array.next({values:{...Ht}}),R.state.next({values:{...Ht}})}o={mount:Ye.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!Ye.keepIsValid||!!Ye.keepDirtyValues,c.watch=!!t.shouldUnregister,R.state.next({submitCount:Ye.keepSubmitCount?r.submitCount:0,isDirty:qt?!1:Ye.keepDirty?r.isDirty:!!(Ye.keepDefaultValues&&!Fm(Be,a)),isSubmitted:Ye.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:qt?{}:Ye.keepDirtyValues?Ye.keepDefaultValues&&l?U0(a,l):r.dirtyFields:Ye.keepDefaultValues&&Be?U0(a,Be):Ye.keepDirty?r.dirtyFields:{},touchedFields:Ye.keepTouched?r.touchedFields:{},errors:Ye.keepErrors?r.errors:{},isSubmitSuccessful:Ye.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},mr=(Be,Ye)=>Xt(Zd(Be)?Be(l):Be,Ye),Vr=(Be,Ye={})=>{const We=Ir(n,Be),Ut=We&&We._f;if(Ut){const qt=Ut.refs?Ut.refs[0]:Ut.ref;qt.focus&&(qt.focus(),Ye.shouldSelect&&Zd(qt.select)&&qt.select())}},br=Be=>{r={...r,...Be}},Rr={control:{register:lr,unregister:Vt,getFieldState:je,handleSubmit:tr,setError:rt,_subscribe:ht,_runSchema:ee,_focusError:Dt,_getWatch:le,_getDirty:te,_setValid:B,_setFieldArray:q,_setDisabledField:Nt,_setErrors:F,_getFieldArray:we,_reset:Xt,_resetDefaultValues:()=>Zd(t.defaultValues)&&t.defaultValues().then(Be=>{mr(Be,t.resetOptions),R.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:$t,_subjects:R,_proxyFormState:_,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(Be){c=Be},get _defaultValues(){return a},get _names(){return o},set _names(Be){o=Be},get _formState(){return r},get _options(){return t},set _options(Be){t={...t,...Be}}},subscribe:ut,trigger:ze,register:lr,handleSubmit:tr,watch:vt,setValue:ce,getValues:ge,reset:mr,resetField:ur,clearErrors:et,unregister:Vt,setError:rt,setFocus:Vr,getFieldState:je};return{...Rr,formControl:Rr}}function OV(e={}){const t=Cr.useRef(void 0),r=Cr.useRef(void 0),[n,a]=Cr.useState({isDirty:!1,isValidating:!1,isLoading:Zd(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Zd(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Zd(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...o}=gie(e);t.current={...o,formState:n}}const l=t.current.control;return l._options=e,$3(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),l._formState.isReady=!0,c},[l]),Cr.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Cr.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),Cr.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),Cr.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),Cr.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),Cr.useEffect(()=>{e.values&&!Fm(e.values,r.current)?(l._reset(e.values,l._options.resetOptions),r.current=e.values,a(c=>({...c}))):l._resetDefaultValues()},[l,e.values]),Cr.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=SV(n,l),t.current}var kV=S.createContext(void 0),JN=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},IV=function(e){var t=e.children,r=S.useRef({}),n=S.useRef({}),a=S.useMemo(function(){return{subscribe:function(l,c){return n.current[l]||(n.current[l]=[]),n.current[l].push(c),function(){n.current[l]=n.current[l].filter(function(o){return o!==c})}},getGroupFields:function(l){return r.current[l]||[]},registerGroup:function(l){r.current[l]=r.current[l]||[]},unregisterGroup:function(l){delete r[l]},registerField:function(l,c){c!=null&&((r.current[c]||[]).includes(l)||(r.current[c]=JN(JN([],r.current[c]||[],!0),[l],!1),n.current[c]&&n.current[c].forEach(function(o){return o()})))},unregisterField:function(l,c){if(c!=null)if(!r.current[c])console.warn("Invalid form group ".concat(c));else{var o=new Set(r.current[c]);o.delete(l),r.current[c]=Array.from(o),n.current[c]&&n.current[c].forEach(function(g){return g()})}}}},[]);return S.createElement(kV.Provider,{value:a},t)},yie=function(e,t,r){var n=on(),a=U3(r?{control:r}:void 0),l=a.isSubmitSuccessful,c=a.dirtyFields,o=Object.keys(c).length>0,g=S.useState(!1),m=g[0],_=g[1],E=!e||!o||l,R=ZY(function(O){var I=O.currentLocation,B=O.nextLocation;if(E)return!1;var $=t||I.pathname,q=B.pathname.startsWith($),j=B.pathname.startsWith("".concat($,"/show")),F=q&&!j;return!F});S.useEffect(function(){if(R.state==="blocked"){if(E){R.proceed();return}_(!0)}},[R.state]),S.useEffect(function(){if(m){var O=window.confirm(n("ra.message.unsaved_changes"));O?R.proceed&&R.proceed():R.reset&&R.reset()}_(!1)},[m,n]),S.useEffect(function(){var O=function(I){I.preventDefault(),I.returnValue=!0};if(!E)return window.addEventListener("beforeunload",O),function(){window.removeEventListener("beforeunload",O)}},[E])},vie=function(e){var t=e.enable,r=t===void 0?!0:t,n=e.formRootPathName,a=e.formControl;return yie(r,n,a),null};function bie(e,t){var r=C3({},_ie(e,t),t);return r}function _ie(e,t){return typeof e=="object"?e:typeof e=="function"?e(t):{}}var zm=function(){return zm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},zm.apply(this,arguments)},xie=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},wie=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},DV=function(e){return function(t){return xie(void 0,void 0,void 0,function(){var r,n;return wie(this,function(a){switch(a.label){case 0:return[4,e(t)];case 1:return r=a.sent(),!r||eE(r)?[2,{values:t,errors:{}}]:(n=Wk(r),!n||eE(n)?[2,{values:t,errors:{}}]:[2,{values:{},errors:n}])}})})}},Wk=function(e){return Object.keys(e).reduce(function(t,r){var n,a,l;if(Array.isArray(e[r])){var c=!1,o=e[r].map(function(g){return eE(g)||(c=!0),Wk(g)});return c?zm(zm({},t),(n={},n[r]=o,n)):t}return eE(e[r])?t:typeof e[r]=="object"&&!zV(e[r])?zm(zm({},t),(a={},a[r]=Wk(e[r]),a)):zm(zm({},t),(l={},l[r]=Sie(e[r]),l))},{})},Sie=function(e){return{type:"manual",message:zV(e)?e:{message:e}}},zV=function(e){return Object.keys(e).includes("message")&&Object.keys(e).includes("args")},eE=function(e){return e==null||Object.getOwnPropertyNames(e).length===0},Eie=function(e,t){var r=function(n,a){Object.entries(n).forEach(function(l){var c=l[0],o=l[1];if(typeof o=="object"){r(o,"".concat(a).concat(c,"."));return}t("".concat(a).concat(c),{type:"server",message:o.toString()})})};r(e,"")},Cie=function(e,t){t===void 0&&(t=!0);var r=U3(e?{control:e}:void 0),n=r.submitCount,a=r.errors,l=S.useRef(n),c=Gu();S.useEffect(function(){var o,g;if(n>l.current&&t&&(l.current=n,Object.keys(a).length>0)){var m=typeof((g=(o=a.root)===null||o===void 0?void 0:o.serverError)===null||g===void 0?void 0:g.message)=="string"?a.root.serverError.message:void 0;c(m||"ra.message.invalid_form",{type:"error"})}},[a,n,c,t])},Tie=function(e,t){t===void 0&&(t={});var r={};return Object.keys(e).forEach(function(n){e[n]==null||e[n]===""?t.hasOwnProperty(n)&&(r[n]=null):r[n]=e[n]}),r},Aie=function(e){e===void 0&&(e={});var t=e.searchSource,r=e.stateSource,n=Jo(),a=S.useState(function(){return e6(n,{stateSource:r,searchSource:t})}),l=a[0],c=a[1],o=S.useRef(l);return S.useEffect(function(){var g=e6(n,{stateSource:r,searchSource:t});Wd(g,o.current)||(o.current=g,c(g))},[n,r,t]),l},e6=function(e,t){var r=e.state,n=e.search,a=t===void 0?{}:t,l=a.searchSource,c=l===void 0?"source":l,o=a.stateSource,g=o===void 0?"record":o;if(r&&r[g])return r[g];if(n)try{var m=T2.parse(n),_=m[c];if(_)return Array.isArray(_)?(console.error("Failed to parse location ".concat(c," parameter '").concat(n,"'. To pre-fill some fields in the Create form, pass a stringified ").concat(c," parameter (e.g. '?").concat(c,`={"title":"foo"}')`)),null):JSON.parse(_)}catch{console.error("Failed to parse location ".concat(c," parameter '").concat(n,"'. To pre-fill some fields in the Create form, pass a stringified ").concat(c," parameter (e.g. '?").concat(c,`={"title":"foo"}')`))}return null},Kk=function(){return Kk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Kk.apply(this,arguments)},Pie=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},Rie=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Mie=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Oie=function(e){var t=e.criteriaMode,r=t===void 0?"firstError":t,n=e.defaultValues;e.formRootPathname;var a=e.resolver,l=e.reValidateMode,c=l===void 0?"onChange":l,o=e.onSubmit,g=e.sanitizeEmptyValues,m=e.validate,_=e.disableInvalidFormNotification,E=Mie(e,["criteriaMode","defaultValues","formRootPathname","resolver","reValidateMode","onSubmit","sanitizeEmptyValues","validate","disableInvalidFormNotification"]),R=Jne(),O=hc(e),I=S.useMemo(function(){return bie(n,O)},[JSON.stringify({defaultValues:typeof n=="function"?"function":n,record:O})]),B=a||(m?DV(m):void 0),$=OV(Kk({criteriaMode:r,values:I,reValidateMode:c,resolver:B},E)),q=S.useRef($);Cie($.control,!_);var j=Aie(),F=S.useRef(!1),N=$.reset;S.useEffect(function(){j&&!F.current&&(N(C3({},I,j),{keepDefaultValues:!0}),F.current=!0)},[I,j,N]);var G=S.useCallback(function(ee,ne){return Pie(void 0,void 0,void 0,function(){var ae,X;return Rie(this,function(te){switch(te.label){case 0:return X=g?Tie(ee,O):ee,o?[4,o(X,ne)]:[3,2];case 1:ae=te.sent(),te.label=2;case 2:return o==null&&(R!=null&&R.save)?[4,R.save(X,ne)]:[3,4];case 3:ae=te.sent(),te.label=4;case 4:return ae!=null&&Eie(ae,q.current.setError),[2]}})})},[o,R,g,O]),V=S.useCallback(function(ee){ee.defaultPrevented||(ee.stopPropagation(),$.handleSubmit(G)(ee))},[$,G]);return{form:$,handleSubmit:G,formHandleSubmit:V}},Xk=function(){return Xk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Xk.apply(this,arguments)};function kie(e){var t=e.children,r=e.id,n=e.className,a=e.noValidate,l=a===void 0?!1:a,c=e.formRootPathname,o=e.warnWhenUnsavedChanges,g=e.WarnWhenUnsavedChangesComponent,m=g===void 0?vie:g,_=hc(e),E=ia(e),R=Oie(e),O=R.form,I=R.formHandleSubmit,B=S.useMemo(function(){return{getSource:function(j){return j},getLabel:function(j){return"resources.".concat(E,".fields.").concat(j)}}},[E]),$=S.useContext(ug),q=S.useContext(P_);return S.createElement(eae,{value:_},S.createElement(KV,{value:B},S.createElement(wV,Xk({},O),S.createElement(IV,null,S.createElement("form",{onSubmit:I,noValidate:l,id:r,className:n},t),o&&$&&q&&S.createElement(m,{enable:!0,formRootPathName:c,formControl:O.control})))))}var Iie=S.createContext(null),Die=function(){var e=S.useContext(kV);return e},zie=function(){var e=S.useContext(Iie);return e},Lie=function(e){var t=e.inputProps,r=e.isArrayInput,n=e.fieldArrayInputControl,a=t.defaultValue,l=t.source,c=t.disabled,o=YV(l),g=hc(t),m=O2(),_=m.getValues,E=m.resetField,R=m.formState,O=m.reset,I=_i(g,o),B=_i(_(),o),$=R.dirtyFields,q=Object.keys($).includes(o);S.useEffect(function(){if(!(a==null||B!=null||c||I!==void 0||q)){var j=o.split(".").some(function(G){return Bie.test(G)});if(j){var F=o.split(".").slice(0,-1).join("."),N=_i(_(),F);if(N==null)return}if(r){if(!n)throw new Error("useApplyInputDefaultValues: No fieldArrayInputControl passed in props for array input usage");n.replace(a),O({},{keepValues:!0});return}E(o,{defaultValue:a})}})},Bie=/^\d+$/,Fie=b7();const LV=zo(Fie);var Nie=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,hg=function(e){return typeof e>"u"||e===null||e===""||Array.isArray(e)&&e.length===0};function jie(e){return e?e.hasOwnProperty("message"):!1}var pg=function(e,t,r,n){return typeof e=="function"?e({args:t,value:r,values:n}):t?{message:e,args:t}:e},mg=function(e){return LV(e,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return JSON.stringify(t)})},$ie=function(e){return typeof e=="function"},Uie=function(e,t){return function(r,n,a){var l=e(r,n,a);return l?typeof l=="string"||jie(l)?l:l.then(function(c){return c||t(r,n,a)}):t(r,n,a)}},qie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(Array.isArray(e[0])?e[0]:e).filter($ie);return r.reduce(Uie,function(){return null})},t6=mg(function(e){return e===void 0&&(e="ra.validation.required"),Object.assign(function(t,r){return hg(t)?pg(e,void 0,t,r):void 0},{isRequired:!0})});mg(function(e,t){return t===void 0&&(t="ra.validation.minLength"),function(r,n){return!hg(r)&&r.length<e?pg(t,{min:e},r,n):void 0}});mg(function(e,t){return t===void 0&&(t="ra.validation.maxLength"),function(r,n){return!hg(r)&&r.length>e?pg(t,{max:e},r,n):void 0}});mg(function(e,t){return t===void 0&&(t="ra.validation.minValue"),function(r,n){return!hg(r)&&r<e?pg(t,{min:e},r,n):void 0}});mg(function(e,t){return t===void 0&&(t="ra.validation.maxValue"),function(r,n){return!hg(r)&&r>e?pg(t,{max:e},r,n):void 0}});mg(function(e){return e===void 0&&(e="ra.validation.number"),function(t,r){return!hg(t)&&isNaN(Number(t))?pg(e,void 0,t,r):void 0}});var Vie=LV(function(e,t){return t===void 0&&(t="ra.validation.regex"),function(r,n){return!hg(r)&&typeof r=="string"&&!e.test(r)?pg(t,{pattern:e},r,n):void 0}},function(e,t){return e.toString()+t});mg(function(e){return e===void 0&&(e="ra.validation.email"),Vie(Nie,e)});var Hie=function(e){var t=e.args;return{message:"ra.validation.oneOf",args:t}};mg(function(e,t){return t===void 0&&(t=Hie),function(r,n){return!hg(r)&&e.indexOf(r)===-1?pg(t,{list:e},r,n):void 0}});var Gie=function(e){return e&&e.isRequired?!0:Array.isArray(e)?!!e.find(function(t){return t.isRequired}):!1},Yk=function(){return Yk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Yk.apply(this,arguments)},r6="@@react-admin@@",Zie=function(e){var t=e.error,r=t,n=on();if(typeof t=="string"&&t.startsWith(r6)&&(r=JSON.parse(t.substring(r6.length))),r.message){var a=r,l=a.message,c=a.args;return S.createElement(S.Fragment,null,n(l,Yk({_:l},c)))}return S.createElement(S.Fragment,null,n(r,{_:r}))},by=function(){return by=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},by.apply(this,arguments)},Wie=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,[])).next())})},Kie=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Xie=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Yie=function(e){return e??""},Qie=function(e){return e===""?null:e},Jie=function(e){var t=e.defaultValue,r=e.format,n=r===void 0?Yie:r,a=e.id,l=e.isRequired,c=e.name,o=e.onBlur,g=e.onChange,m=e.parse,_=m===void 0?Qie:m,E=e.source,R=e.validate,O=Xie(e,["defaultValue","format","id","isRequired","name","onBlur","onChange","parse","source","validate"]),I=YV(E),B=c||I,$=zie(),q=Die(),j=hc(),F=Xa(_),N=S.useId();S.useEffect(function(){if(!(!q||$==null))return q.registerField(I,$),function(){q.unregisterField(I,$)}},[q,$,I]);var G=Array.isArray(R)?qie(R):R,V=rie(by({name:B,defaultValue:_i(j,I,t),rules:{validate:function(we,ve){return Wie(void 0,void 0,void 0,function(){var xe;return Kie(this,function(ce){switch(ce.label){case 0:return G?[4,G(we,ve,by(by({},e),{finalSource:I}))]:[2,!0];case 1:return xe=ce.sent(),xe?[2,"@@react-admin@@".concat(JSON.stringify(xe))]:[2,!0]}})})}}},O)),ee=V.field,ne=V.fieldState,ae=V.formState;Lie({inputProps:e});var X=Xa(function(){for(var we=[],ve=0;ve<arguments.length;ve++)we[ve]=arguments[ve];ee.onBlur(),o&&o.apply(void 0,we)}),te=Xa(function(){for(var we,ve,xe,ce,Ce,Se=[],ze=0;ze<arguments.length;ze++)Se[ze]=arguments[ze];var ge=e.type==="checkbox"&&((ve=(we=Se[0])===null||we===void 0?void 0:we.target)===null||ve===void 0?void 0:ve.value)==="on"?Se[0].target.checked:(Ce=(ce=(xe=Se[0])===null||xe===void 0?void 0:xe.target)===null||ce===void 0?void 0:ce.value)!==null&&Ce!==void 0?Ce:Se[0];ee.onChange(F?F(ge):ge),g&&g.apply(void 0,Se)}),le=by(by({},ee),{value:n?n(ee.value):ee.value,onBlur:X,onChange:te});return{id:a||N,field:le,fieldState:ne,formState:ae,isRequired:l||Gie(R)}},$R,n6;function eoe(){if(n6)return $R;n6=1;var e=$7(),t=G7(),r=t(function(n,a,l,c){e(n,a,l,c)});return $R=r,$R}var toe=eoe();const roe=zo(toe);var n1=function(){return n1=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n1.apply(this,arguments)},noe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},aoe=function(e){var t=pc(),r=t.filterValues,n=t.setFilters,a=ia(e),l=e.debounce,c=l===void 0?500:l,o=e.resolver,g=e.validate,m=e.children,_=e.formComponent,E=_===void 0?ioe:_,R=noe(e,["debounce","resolver","validate","children","formComponent"]),O=o||(g?DV(g):void 0),I=OV(n1({mode:"onChange",resolver:O},R)),B=I.handleSubmit,$=I.getValues,q=I.reset,j=I.watch,F=I.formState,N=F.isValid;S.useEffect(function(){var ne=loe($(),r),ae=$();Wd(ne,ae)||q(ne)},[JSON.stringify(r),$,q]);var G=function(ne){N&&n(soe(r,ne))},V=Xoe(G,c||0);S.useEffect(function(){var ne=j(function(ae,X){var te=X.name;if(te)if(_i(ae,te)===""){var le=X7(ae);s3(le,te,""),V(le)}else V(ae)}).unsubscribe;return function(){return ne()}},[j,V]);var ee=S.useMemo(function(){return{getSource:function(ne){return ne},getLabel:function(ne){return"resources.".concat(a,".fields.").concat(ne)}}},[a]);return S.createElement(wV,n1({},I),S.createElement(IV,null,S.createElement(KV,{value:ee},S.createElement(E,{onSubmit:B(G)},m))))},ioe=function(e){return S.createElement("form",n1({},e))},ooe=function(e,t){if(Array.isArray(t))return t},soe=function(e,t){return roe(X7(e),t,ooe)},loe=function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=BV(e,n,t),r},{})},BV=function(e,t,r){if(e[t]===void 0||e[t]===null||Array.isArray(e[t])||e[t]instanceof Date)return _i(r,t,"");if(typeof e[t]=="object"){var n=Object.keys(e[t]).reduce(function(a,l){var c,o=BV(e[t],l,(c=(r||{})[t])!==null&&c!==void 0?c:{});return a[l]=o,a},{});return Object.keys(n).length?n:""}return _i(r,t,"")},FV=S.createContext(function(){}),NV=S.createContext(function(){}),a6=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},coe=function(e){var t=e.children,r=S.useState([]),n=r[0],a=r[1],l=S.useCallback(function(o){a(function(g){return a6(a6([],g,!0),[o],!1)})},[]),c=S.useCallback(function(){if(n.length!==0){var o=n[0],g=n.slice(1);return a(g),o}},[n]);return S.createElement(NV.Provider,{value:c},S.createElement(FV.Provider,{value:l},t))},uoe=function(){return S.useContext(FV)},doe=function(){return S.useContext(NV)},Cl=function(){return Cl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Cl.apply(this,arguments)},i6=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},o6=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},s6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Nw=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},jV=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var n=z1(),a=Hu(),l=uoe(),c=t.ids,o=r.mutationMode,g=o===void 0?"pessimistic":o,m=s6(r,["mutationMode"]),_=S.useRef(g),E=S.useRef({}),R=S.useRef([]),O=S.useRef(!1),I=S.useRef(!1),B=S.useRef(!1),$=function(N){var G=N.resource,V=N.ids,ee=Date.now(),ne=_.current==="undoable"?ee+5*1e3:ee,ae=function(X){if(!X)return X;var te=Nw([],X,!0);return V.forEach(function(le){var we=te.findIndex(function(ve){return ve.id==le});we!==-1&&(te=Nw(Nw([],te.slice(0,we),!0),te.slice(we+1),!0))}),te};a.setQueriesData({queryKey:[G,"getList"]},function(X){if(!X||!X.data)return X;var te=ae(X.data),le=te.length<X.data.length;return le?{data:te,total:X.total?X.total-(X.data.length-te.length):void 0,pageInfo:X.pageInfo}:X},{updatedAt:ne}),a.setQueriesData({queryKey:[G,"getInfiniteList"]},function(X){return!X||!X.pages?X:Cl(Cl({},X),{pages:X.pages.map(function(te){var le=ae(te.data),we=le.length<te.data.length;return we?Cl(Cl({},te),{data:le,total:te.total?te.total-(te.data.length-le.length):void 0,pageInfo:te.pageInfo}):te})})},{updatedAt:ne}),a.setQueriesData({queryKey:[G,"getMany"]},function(X){return X&&X.length>0?ae(X):X},{updatedAt:ne}),a.setQueriesData({queryKey:[G,"getManyReference"]},function(X){if(!X||!X.data)return X;var te=ae(X.data),le=te.length<X.data.length;if(!le)return X;if(X.total)return{data:te,total:X.total-(X.data.length-te.length)};if(X.pageInfo)return{data:te,pageInfo:X.pageInfo};throw new Error("Found getList result in cache without total or pageInfo")},{updatedAt:ne})},q=m7(Cl(Cl({mutationFn:function(N){var G=N===void 0?{}:N,V=G.resource,ee=V===void 0?e:V,ne=G.ids,ae=ne===void 0?E.current.ids:ne,X=G.meta,te=X===void 0?E.current.meta:X;if(!ee)throw new Error("useDeleteMany mutation requires a non-empty resource");if(!ae)throw new Error("useDeleteMany mutation requires an array of ids");return ae.length===0?Promise.resolve([]):n.deleteMany(ee,{ids:ae,meta:te}).then(function(le){var we=le.data;return we||[]})}},m),{onMutate:function(N){return i6(void 0,void 0,void 0,function(){var G;return o6(this,function(V){switch(V.label){case 0:return m.onMutate?[4,m.onMutate(N)]:[3,2];case 1:return G=V.sent()||{},[2,Cl({snapshot:R.current},G)];case 2:return[2,{snapshot:R.current}]}})})},onError:function(N,G,V){if(G===void 0&&(G={}),(_.current==="optimistic"||_.current==="undoable")&&V.snapshot.forEach(function(ee){var ne=ee[0],ae=ee[1];a.setQueryData(ne,ae)}),m.onError&&!O.current)return m.onError(N,G,V)},onSuccess:function(N,G,V){if(G===void 0&&(G={}),_.current==="pessimistic"){var ee=G.resource,ne=ee===void 0?e:ee,ae=G.ids,X=ae===void 0?c:ae;$({resource:ne,ids:X}),m.onSuccess&&!I.current&&m.onSuccess(N,G,V)}},onSettled:function(N,G,V,ee){if(V===void 0&&(V={}),(_.current==="optimistic"||_.current==="undoable")&&ee.snapshot.forEach(function(ne){var ae=ne[0];a.invalidateQueries({queryKey:ae})}),m.onSettled&&!B.current)return m.onSettled(N,G,V,ee)}})),j=function(){for(var N=[],G=0;G<arguments.length;G++)N[G]=arguments[G];return i6(void 0,Nw([],N,!0),void 0,function(V,ee,ne){var ae,X,te,le,we;return V===void 0&&(V=e),ee===void 0&&(ee={}),ne===void 0&&(ne={}),o6(this,function(ve){switch(ve.label){case 0:if(ae=ne.mutationMode,X=s6(ne,["mutationMode"]),O.current=!!ne.onError,I.current=!!ne.onSuccess,B.current=!!ne.onSettled,E.current=t,ae&&(_.current=ae),_.current==="pessimistic")return[2,q.mutate(Cl({resource:V},ee),{onSuccess:X.onSuccess,onSettled:X.onSettled,onError:X.onError})];if(te=ee.ids,le=te===void 0?c:te,!le)throw new Error("useDeleteMany mutation requires an array of ids");return we=[[V,"getList"],[V,"getInfiniteList"],[V,"getMany"],[V,"getManyReference"]],R.current=we.reduce(function(xe,ce){return xe.concat(a.getQueriesData({queryKey:ce}))},[]),[4,Promise.all(R.current.map(function(xe){var ce=xe[0];return a.cancelQueries({queryKey:ce})}))];case 1:return ve.sent(),$({resource:V,ids:le}),setTimeout(function(){X.onSuccess?X.onSuccess(le,Cl({resource:V},ee),{snapshot:R.current}):m.onSuccess&&m.onSuccess(le,Cl({resource:V},ee),{snapshot:R.current})},0),_.current==="optimistic"?[2,q.mutate(Cl({resource:V},ee),{onSettled:X.onSettled,onError:X.onError})]:(l(function(xe){var ce=xe.isUndo;ce?R.current.forEach(function(Ce){var Se=Ce[0],ze=Ce[1];a.setQueryData(Se,ze)}):q.mutate(Cl({resource:V},ee),{onSettled:X.onSettled,onError:X.onError})}),[2])}})})},F=S.useMemo(function(){return Cl({isLoading:q.isPending},q)},[q]);return[Xa(j),F]},$V=S.createContext(void 0),foe=function(e){var t=e.children,r=S.useState(!1),n=r[0],a=r[1],l=S.useState(null),c=l[0],o=l[1],g=S.useState(null),m=g[0],_=g[1],E=S.useState(null),R=E[0],O=E[1],I=S.useState(null),B=I[0],$=I[1],q=S.useState(),j=q[0],F=q[1],N=S.useCallback(function(){return a(!0)},[]),G=S.useCallback(function(){a(!1),o(null)},[]),V=S.useCallback(function(ne,ae){$(ne),F(ae)},[]),ee=S.useMemo(function(){return{editor:c,setEditor:o,preferenceKey:m,setPreferenceKey:_,title:B,titleOptions:j,setTitle:V,isEnabled:n,disable:G,enable:N,path:R,setPath:O}},[G,N,c,m,n,R,O,B,j,V]);return S.createElement($V.Provider,{value:ee},t)},hoe=w7(),poe=function(e){var t=e.authProvider,r=e.basename,n=e.dataProvider,a=n===void 0?P3:n,l=e.i18nProvider,c=e.store,o=c===void 0?hoe:c,g=e.children,m=e.queryClient;if(!a)throw new Error(`Missing dataProvider prop.
React-admin requires a valid dataProvider function to work.`);var _=S.useMemo(function(){return m||new WJ},[m]),E=S.useMemo(function(){return t instanceof Function?fse(t):t},[t]),R=S.useMemo(function(){return a instanceof Function?Jre(a):a},[a]);return S.createElement(YD.Provider,{value:E},S.createElement(R3.Provider,{value:R},S.createElement(tte,{value:o},S.createElement(foe,null,S.createElement(JJ,{client:_},S.createElement(gre,{basename:r},S.createElement(Ite,{value:l},S.createElement(Mte,null,S.createElement(coe,null,S.createElement(Ore,null,g))))))))))};const moe=S.createContext(null),UR={didCatch:!1,error:null};class UV extends S.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=UR}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var r,n,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];(r=(n=this.props).onReset)===null||r===void 0||r.call(n,{args:l,reason:"imperative-api"}),this.setState(UR)}}componentDidCatch(t,r){var n,a;(n=(a=this.props).onError)===null||n===void 0||n.call(a,t,r)}componentDidUpdate(t,r){const{didCatch:n}=this.state,{resetKeys:a}=this.props;if(n&&r.error!==null&&goe(t.resetKeys,a)){var l,c;(l=(c=this.props).onReset)===null||l===void 0||l.call(c,{next:a,prev:t.resetKeys,reason:"keys"}),this.setState(UR)}}render(){const{children:t,fallbackRender:r,FallbackComponent:n,fallback:a}=this.props,{didCatch:l,error:c}=this.state;let o=t;if(l){const g={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")o=r(g);else if(n)o=S.createElement(n,g);else if(a!==void 0)o=a;else throw c}return S.createElement(moe.Provider,{value:{didCatch:l,error:c,resetErrorBoundary:this.resetErrorBoundary}},o)}}function goe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((r,n)=>!Object.is(r,t[n]))}var _y=function(){return _y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_y.apply(this,arguments)},yoe=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},voe=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},boe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},_oe={},qV=function(e,t){e===void 0&&(e=_oe),t===void 0&&(t={staleTime:5*60*1e3});var r=au(),n=nV(),a=t??{},l=a.onSuccess,c=a.onError,o=a.onSettled,g=boe(a,["onSuccess","onError","onSettled"]),m=fg(_y({queryKey:["auth","getPermissions",e],queryFn:function(I){return yoe(void 0,[I],void 0,function(B){var $,q=B.signal;return voe(this,function(j){switch(j.label){case 0:return!r||!r.getPermissions?[2,[]]:[4,r.getPermissions(_y(_y({},e),{signal:q}))];case 1:return $=j.sent(),[2,$??null]}})})}},g)),_=Xa(l??l6),E=Xa(o??l6),R=Xa(c??function(I){n(I)});S.useEffect(function(){m.data===void 0||m.isFetching||_(m.data)},[_,m.data,m.isFetching]),S.useEffect(function(){m.error==null||m.isFetching||R(m.error)},[R,m.error,m.isFetching]),S.useEffect(function(){m.status==="pending"||m.isFetching||E(m.data,m.error)},[E,m.data,m.error,m.status,m.isFetching]);var O=S.useMemo(function(){return _y(_y({},m),{permissions:m.data})},[m]);return!r||!r.getPermissions?VV:O},l6=function(){},VV={permissions:void 0,data:void 0,dataUpdatedAt:0,error:null,errorUpdatedAt:0,errorUpdateCount:0,failureCount:0,failureReason:null,fetchStatus:"idle",isError:!1,isInitialLoading:!1,isLoading:!1,isLoadingError:!1,isFetched:!0,isFetchedAfterMount:!0,isFetching:!1,isPaused:!1,isPlaceholderData:!1,isPending:!1,isRefetchError:!1,isRefetching:!1,isStale:!1,isSuccess:!0,status:"success",refetch:function(){return Promise.resolve(VV)}},Qk=function(){return Qk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qk.apply(this,arguments)},c6=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},u6=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},xoe=function(e){var t=qV(),r=t.permissions,n=t.isPending,a=woe(e,r,n),l=a[0],c=a[1];return Eoe(l.resources,r),{customRoutesWithLayout:l.customRoutesWithLayout,customRoutesWithoutLayout:l.customRoutesWithoutLayout,status:c,resources:l.resources}},woe=function(e,t,r){var n=z_(),a=Soe(ux(e)),l=a[0],c=a[1],o=a[2],g=S.useState(function(){return Coe(Qk({children:e},l))}),m=g[0],_=g[1];if(!m)throw new Error("Status should be defined");return S.useEffect(function(){var E=function(O){return c6(void 0,void 0,void 0,function(){var I;return u6(this,function(B){try{I=O(t),I!=null&&I.then?I.then(function($){o(ux($)),_("ready")}):(o(ux(I)),_("ready"))}catch($){console.error($),n()}return[2]})})},R=function(){return c6(void 0,void 0,void 0,function(){var O,I;return u6(this,function(B){return O=HV(e),I=ux(e),c(I),_(O?"loading":I.resources.length>0||I.customRoutesWithLayout.length>0||I.customRoutesWithoutLayout.length>0?"ready":"empty"),O&&E(O),[2]})})};r||R()},[e,n,r,o,t,c,_]),[l,m]},Soe=function(e){var t=S.useState(e),r=t[0],n=t[1],a=S.useCallback(function(l){n(function(c){return{customRoutesWithLayout:c.customRoutesWithLayout.concat(l.customRoutesWithLayout),customRoutesWithoutLayout:c.customRoutesWithoutLayout.concat(l.customRoutesWithoutLayout),resources:c.resources.concat(l.resources)}})},[]);return[r,n,a]},Eoe=function(e,t){var r=eV(),n=r.register,a=r.unregister;S.useEffect(function(){return e.forEach(function(l){if(typeof l.type.registerResource=="function"){var c=l.type.registerResource(l.props,t);n(c)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")}),function(){e.forEach(function(l){if(typeof l.type.registerResource=="function"){var c=l.type.registerResource(l.props,t);a(c)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")})}},[t,n,e,a])},Coe=function(e){var t=e.children,r=e.resources,n=e.customRoutesWithLayout,a=e.customRoutesWithoutLayout;return HV(t)?"loading":r.length>0||n.length>0||a.length>0?"ready":"empty"},HV=function(e){var t=Array.isArray(e)?e:[e],r=t.filter(function(n){return typeof n=="function"});if(r.length>1)throw new Error("You can only provide one function child to AdminRouter");return r.length===0?null:r[0]},ux=function(e){var t=[],r=[],n=[];return typeof e=="function"?{customRoutesWithLayout:[],customRoutesWithoutLayout:[],resources:[]}:(S.Children.forEach(e,function(a){if(S.isValidElement(a)){if(a.type===S.Fragment){var l=ux(a.props.children);t.push.apply(t,l.customRoutesWithLayout),r.push.apply(r,l.customRoutesWithoutLayout),n.push.apply(n,l.resources)}if(a.type.raName==="CustomRoutes"){var c=a;c.props.noLayout?r.push(c.props.children):t.push(c.props.children)}else a.type.raName==="Resource"&&n.push(a)}}),{customRoutesWithLayout:t,customRoutesWithoutLayout:r,resources:n})},GV=S.createContext(!1),Toe=GV.Provider,Aoe=function(){return S.useContext(GV)},tE=function(){return tE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},tE.apply(this,arguments)},d6=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},f6=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Poe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Roe=function(e){var t=au(),r=hc(e),n=e.action,a=e.resources,l=Poe(e,["action","resources"]),c=fg(tE({queryKey:["auth","canAccess",a,n,r],queryFn:function(m){return d6(void 0,[m],void 0,function(_){var E,R,O=_.signal;return f6(this,function(I){switch(I.label){case 0:return[4,Promise.all(a.map(function(B){return d6(void 0,void 0,void 0,function(){var $;return f6(this,function(q){switch(q.label){case 0:return!t||!t.canAccess?[2,{canAccess:!0,resource:B}]:[4,t.canAccess({resource:B,action:n,record:r,signal:t.supportAbortSignal?O:void 0})];case 1:return $=q.sent(),[2,{canAccess:$,resource:B}]}})})}))];case 1:return E=I.sent(),R=E.reduce(function(B,$){var q=$.resource,j=$.canAccess;return B[q]=j,B},{}),[2,R]}})})}},l)),o=S.useMemo(function(){return tE({canAccess:c.data},c)},[c]),g=S.useMemo(function(){return{canAccess:a.reduce(function(m,_){return m[_]=!0,m},{}),isPending:!1,isError:!1,error:null}},[a]);return!t||!t.canAccess?g:o},Moe=function(){var e=D2().isPending,t=D_(),r=Object.keys(t).filter(function(o){return t[o].hasList}),n=Roe({action:"list",resources:r,enabled:!e}),a=n.canAccess,l=n.isPending,c=r.find(function(o){return a&&a[o]===!0});return{resource:c,isPending:l}},Ooe=function(e){var t=e.loading,r=Moe(),n=r.resource,a=r.isPending,l=tv();if(a)return S.createElement(t,null);if(n)return S.createElement(tQ,{to:l({resource:n,type:"list"}),replace:!0})},koe=function(e){jre();var t=xoe(e.children),r=t.customRoutesWithLayout,n=t.customRoutesWithoutLayout,a=t.status,l=t.resources,c=e.layout,o=e.catchAll,g=e.dashboard,m=e.loading,_=e.requireAuth,E=e.ready,R=e.authenticationError,O=R===void 0?h6:R,I=e.accessDenied,B=I===void 0?h6:I,$=X3(void 0,!1,{enabled:_}),q=$.authenticated,j=$.isPending;if(a==="empty"){if(!E)throw new Error("The admin is empty. Please provide an empty component, or pass Resource or CustomRoutes as children.");return S.createElement(E,null)}return a==="loading"||_&&j?S.createElement(Ay,null,n,S.createElement(Yo,{path:"*",element:S.createElement("div",{style:{height:"100vh"}},S.createElement(m,null))})):_&&(j||!q)?S.createElement(Ay,null,n,S.createElement(Yo,{path:"*",element:S.createElement(mse,null)})):S.createElement(Ay,null,n,S.createElement(Yo,{path:"/*",element:S.createElement(Toe,{value:!!g},S.createElement(c,null,S.createElement(Ay,null,r,S.Children.map(l,function(F){return S.createElement(Yo,{key:F.props.name,path:"".concat(F.props.name,"/*"),element:F})}),S.createElement(Yo,{path:"/",element:g?S.createElement(ise,{authParams:Ioe,component:g,loading:m}):S.createElement(Ooe,{loading:m})}),S.createElement(Yo,{path:"/authentication-error",element:S.createElement(O,null)}),S.createElement(Yo,{path:"/access-denied",element:S.createElement(B,null)}),S.createElement(Yo,{path:"*",element:S.createElement(o,null)}))))}))},Ioe={params:{route:"dashboard"}},h6=function(){return null},ZV=S.createContext("React Admin"),Doe=ZV.Provider,H3=function(){return S.useContext(ZV)},zoe=function(e){var t=e.children;return S.createElement(S.Fragment,null,t)},Loe=function(e){var t=e.error,r=e.errorInfo,n=e.resetErrorBoundary;return tV(n),S.createElement("div",null,S.createElement("h1",null,"Error"),S.createElement("pre",null,t.message,r==null?void 0:r.componentStack))},Boe=function(e){var t=S.useState({}),r=t[0],n=t[1],a=e.authCallbackPage,l=a===void 0?!1:a,c=e.catchAll,o=c===void 0?jw:c,g=e.children,m=e.dashboard,_=e.disableTelemetry,E=_===void 0?!1:_,R=e.error,O=R===void 0?Loe:R,I=e.layout,B=I===void 0?zoe:I,$=e.loading,q=$===void 0?jw:$,j=e.loginPage,F=j===void 0?!1:j,N=e.ready,G=N===void 0?Voe:N,V=e.requireAuth,ee=V===void 0?!1:V,ne=e.title,ae=ne===void 0?"React Admin":ne,X=e.authenticationError,te=X===void 0?jw:X,le=e.accessDenied,we=le===void 0?jw:le;S.useEffect(function(){if(!(E||typeof window>"u"||typeof window.location>"u"||typeof Image>"u")){var xe=new Image;xe.src="https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=".concat(window.location.hostname)}},[E]);var ve=function(xe,ce){return n(ce)};return S.createElement(Doe,{value:ae},S.createElement(UV,{onError:ve,fallbackRender:function(xe){var ce=xe.error,Ce=xe.resetErrorBoundary;return S.createElement("div",{style:{minHeight:"100vh"}},S.createElement(O,{error:ce,errorInfo:r,resetErrorBoundary:Ce}))}},S.createElement(Ay,null,F!==!1&&F!==!0?S.createElement(Yo,{path:"/login",element:p6(F)}):null,l!==!1&&l!==!0?S.createElement(Yo,{path:"/auth-callback",element:p6(l)}):null,S.createElement(Yo,{path:"/*",element:S.createElement(koe,{catchAll:o,dashboard:m,layout:B,loading:q,requireAuth:ee,ready:G,authenticationError:te,accessDenied:we},g)}))))},p6=function(e){return S.isValidElement(e)?e:S.createElement(e)},jw=function(){return null},k2=function(e){var t=e.children,r=e.value;return r?S.createElement(Q7.Provider,{value:r},t):t},WV=function(e){var t=e.value,r=e.children;return t?S.createElement(k2,{value:t},r):r},qR={exports:{}},La={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m6;function Foe(){if(m6)return La;m6=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.for("react.view_transition"),O=Symbol.for("react.client.reference");function I(B){if(typeof B=="object"&&B!==null){var $=B.$$typeof;switch($){case e:switch(B=B.type,B){case r:case a:case n:case g:case m:case R:return B;default:switch(B=B&&B.$$typeof,B){case c:case o:case E:case _:return B;case l:return B;default:return $}}case t:return $}}}return La.ContextConsumer=l,La.ContextProvider=c,La.Element=e,La.ForwardRef=o,La.Fragment=r,La.Lazy=E,La.Memo=_,La.Portal=t,La.Profiler=a,La.StrictMode=n,La.Suspense=g,La.SuspenseList=m,La.isContextConsumer=function(B){return I(B)===l},La.isContextProvider=function(B){return I(B)===c},La.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===e},La.isForwardRef=function(B){return I(B)===o},La.isFragment=function(B){return I(B)===r},La.isLazy=function(B){return I(B)===E},La.isMemo=function(B){return I(B)===_},La.isPortal=function(B){return I(B)===t},La.isProfiler=function(B){return I(B)===a},La.isStrictMode=function(B){return I(B)===n},La.isSuspense=function(B){return I(B)===g},La.isSuspenseList=function(B){return I(B)===m},La.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===r||B===a||B===n||B===g||B===m||typeof B=="object"&&B!==null&&(B.$$typeof===E||B.$$typeof===_||B.$$typeof===c||B.$$typeof===l||B.$$typeof===o||B.$$typeof===O||B.getModuleId!==void 0)},La.typeOf=I,La}var g6;function Noe(){return g6||(g6=1,qR.exports=Foe()),qR.exports}var G3=Noe(),Z3=function(e){var t=e.create,r=e.edit,n=e.list,a=e.name,l=e.show;return S.createElement(k2,{value:a},S.createElement(Ay,null,t&&S.createElement(Yo,{path:"create/*",element:$w(t)}),l&&S.createElement(Yo,{path:":id/show/*",element:$w(l)}),r&&S.createElement(Yo,{path:":id/*",element:$w(r)}),n&&S.createElement(Yo,{path:"/*",element:S.createElement(Pre,{storeKey:"".concat(a,".list.scrollPosition")},$w(n))}),e.children))},$w=function(e){if(S.isValidElement(e))return e;if(G3.isValidElementType(e)){var t=e;return S.createElement(t,null)}return null};Z3.raName="Resource";Z3.registerResource=function(e){var t=e.create,r=e.edit,n=e.icon,a=e.list,l=e.name,c=e.options,o=e.show,g=e.recordRepresentation,m=e.hasCreate,_=e.hasEdit,E=e.hasShow;return{name:l,options:c,hasList:!!a,hasCreate:!!t||!!m,hasEdit:!!r||!!_,hasShow:!!o||!!E,icon:n,recordRepresentation:g}};var W3=S.createContext(void 0),joe={getSource:function(e){return e},getLabel:function(e){return e}},KV=W3.Provider,$oe=function(){var e=S.useContext(W3);return e||joe},Uoe=function(){return S.useContext(W3)},ls={},y6;function qoe(){if(y6)return ls;y6=1;/*!
 * inflection
 * Copyright(c) 2011 Ben Lin <ben@dreamerslab.com>
 * MIT Licensed
 *
 * @fileoverview
 * A port of inflection-js to node.js module.
 */Object.defineProperty(ls,"__esModule",{value:!0}),ls.pluralize=E,ls.singularize=R,ls.inflect=O,ls.camelize=I,ls.underscore=B,ls.humanize=$,ls.capitalize=q,ls.dasherize=j,ls.titleize=F,ls.demodulize=N,ls.tableize=G,ls.classify=V,ls.foreignKey=ee,ls.ordinalize=ne,ls.transform=X;const e=["accommodation","adulthood","advertising","advice","aggression","aid","air","aircraft","alcohol","anger","applause","arithmetic","assistance","athletics","bacon","baggage","beef","biology","blood","botany","bread","butter","carbon","cardboard","cash","chalk","chaos","chess","crossroads","countryside","dancing","deer","dignity","dirt","dust","economics","education","electricity","engineering","enjoyment","envy","equipment","ethics","evidence","evolution","fame","fiction","flour","flu","food","fuel","fun","furniture","gallows","garbage","garlic","genetics","gold","golf","gossip","gratitude","grief","guilt","gymnastics","happiness","hardware","harm","hate","hatred","health","heat","help","homework","honesty","honey","hospitality","housework","humour","hunger","hydrogen","ice","importance","inflation","information","innocence","iron","irony","jam","jewelry","judo","karate","knowledge","lack","laughter","lava","leather","leisure","lightning","linguine","linguini","linguistics","literature","litter","livestock","logic","loneliness","luck","luggage","macaroni","machinery","magic","management","mankind","marble","mathematics","mayonnaise","measles","methane","milk","minus","money","mud","music","mumps","nature","news","nitrogen","nonsense","nurture","nutrition","obedience","obesity","oxygen","pasta","patience","physics","poetry","pollution","poverty","pride","psychology","publicity","punctuation","quartz","racism","relaxation","reliability","research","respect","revenge","rice","rubbish","rum","safety","scenery","seafood","seaside","series","shame","sheep","shopping","sleep","smoke","smoking","snow","soap","software","soil","spaghetti","species","steam","stuff","stupidity","sunshine","symmetry","tennis","thirst","thunder","timber","traffic","transportation","trust","underwear","unemployment","unity","validity","veal","vegetation","vegetarianism","vengeance","violence","vitality","warmth","wealth","weather","welfare","wheat","wildlife","wisdom","yoga","zinc","zoology"],t={plural:{men:new RegExp("^(m|wom)en$","gi"),people:new RegExp("(pe)ople$","gi"),children:new RegExp("(child)ren$","gi"),tia:new RegExp("([ti])a$","gi"),analyses:new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),databases:new RegExp("(database)s$","gi"),drives:new RegExp("(drive)s$","gi"),hives:new RegExp("(hi|ti)ves$","gi"),curves:new RegExp("(curve)s$","gi"),lrves:new RegExp("([lr])ves$","gi"),aves:new RegExp("([a])ves$","gi"),foves:new RegExp("([^fo])ves$","gi"),movies:new RegExp("(m)ovies$","gi"),aeiouyies:new RegExp("([^aeiouy]|qu)ies$","gi"),series:new RegExp("(s)eries$","gi"),xes:new RegExp("(x|ch|ss|sh)es$","gi"),mice:new RegExp("([m|l])ice$","gi"),buses:new RegExp("(bus)es$","gi"),oes:new RegExp("(o)es$","gi"),shoes:new RegExp("(shoe)s$","gi"),crises:new RegExp("(cris|ax|test)es$","gi"),octopuses:new RegExp("(octop|vir)uses$","gi"),aliases:new RegExp("(alias|canvas|status|campus)es$","gi"),summonses:new RegExp("^(summons|bonus)es$","gi"),oxen:new RegExp("^(ox)en","gi"),matrices:new RegExp("(matr)ices$","gi"),vertices:new RegExp("(vert|ind)ices$","gi"),feet:new RegExp("^feet$","gi"),teeth:new RegExp("^teeth$","gi"),geese:new RegExp("^geese$","gi"),quizzes:new RegExp("(quiz)zes$","gi"),whereases:new RegExp("^(whereas)es$","gi"),criteria:new RegExp("^(criteri)a$","gi"),genera:new RegExp("^genera$","gi"),ss:new RegExp("ss$","gi"),s:new RegExp("s$","gi")},singular:{man:new RegExp("^(m|wom)an$","gi"),person:new RegExp("(pe)rson$","gi"),child:new RegExp("(child)$","gi"),drive:new RegExp("(drive)$","gi"),ox:new RegExp("^(ox)$","gi"),axis:new RegExp("(ax|test)is$","gi"),octopus:new RegExp("(octop|vir)us$","gi"),alias:new RegExp("(alias|status|canvas|campus)$","gi"),summons:new RegExp("^(summons|bonus)$","gi"),bus:new RegExp("(bu)s$","gi"),buffalo:new RegExp("(buffal|tomat|potat)o$","gi"),tium:new RegExp("([ti])um$","gi"),sis:new RegExp("sis$","gi"),ffe:new RegExp("(?:([^f])fe|([lr])f)$","gi"),focus:new RegExp("^(focus)$","gi"),hive:new RegExp("(hi|ti)ve$","gi"),aeiouyy:new RegExp("([^aeiouy]|qu)y$","gi"),x:new RegExp("(x|ch|ss|sh)$","gi"),matrix:new RegExp("(matr)ix$","gi"),vertex:new RegExp("(vert|ind)ex$","gi"),mouse:new RegExp("([m|l])ouse$","gi"),foot:new RegExp("^foot$","gi"),tooth:new RegExp("^tooth$","gi"),goose:new RegExp("^goose$","gi"),quiz:new RegExp("(quiz)$","gi"),whereas:new RegExp("^(whereas)$","gi"),criterion:new RegExp("^(criteri)on$","gi"),genus:new RegExp("^genus$","gi"),s:new RegExp("s$","gi"),common:new RegExp("$","gi")}},r=[[t.plural.men],[t.plural.people],[t.plural.children],[t.plural.tia],[t.plural.analyses],[t.plural.databases],[t.plural.drives],[t.plural.hives],[t.plural.curves],[t.plural.lrves],[t.plural.foves],[t.plural.aeiouyies],[t.plural.series],[t.plural.movies],[t.plural.xes],[t.plural.mice],[t.plural.buses],[t.plural.oes],[t.plural.shoes],[t.plural.crises],[t.plural.octopuses],[t.plural.aliases],[t.plural.summonses],[t.plural.oxen],[t.plural.matrices],[t.plural.feet],[t.plural.teeth],[t.plural.geese],[t.plural.quizzes],[t.plural.whereases],[t.plural.criteria],[t.plural.genera],[t.singular.man,"$1en"],[t.singular.person,"$1ople"],[t.singular.child,"$1ren"],[t.singular.drive,"$1s"],[t.singular.ox,"$1en"],[t.singular.axis,"$1es"],[t.singular.octopus,"$1uses"],[t.singular.alias,"$1es"],[t.singular.summons,"$1es"],[t.singular.bus,"$1ses"],[t.singular.buffalo,"$1oes"],[t.singular.tium,"$1a"],[t.singular.sis,"ses"],[t.singular.ffe,"$1$2ves"],[t.singular.focus,"$1es"],[t.singular.hive,"$1ves"],[t.singular.aeiouyy,"$1ies"],[t.singular.matrix,"$1ices"],[t.singular.vertex,"$1ices"],[t.singular.x,"$1es"],[t.singular.mouse,"$1ice"],[t.singular.foot,"feet"],[t.singular.tooth,"teeth"],[t.singular.goose,"geese"],[t.singular.quiz,"$1zes"],[t.singular.whereas,"$1es"],[t.singular.criterion,"$1a"],[t.singular.genus,"genera"],[t.singular.s,"s"],[t.singular.common,"s"]],n=[[t.singular.man],[t.singular.person],[t.singular.child],[t.singular.drive],[t.singular.ox],[t.singular.axis],[t.singular.octopus],[t.singular.alias],[t.singular.summons],[t.singular.bus],[t.singular.buffalo],[t.singular.tium],[t.singular.sis],[t.singular.ffe],[t.singular.focus],[t.singular.hive],[t.singular.aeiouyy],[t.singular.x],[t.singular.matrix],[t.singular.mouse],[t.singular.foot],[t.singular.tooth],[t.singular.goose],[t.singular.quiz],[t.singular.whereas],[t.singular.criterion],[t.singular.genus],[t.plural.men,"$1an"],[t.plural.people,"$1rson"],[t.plural.children,"$1"],[t.plural.databases,"$1"],[t.plural.drives,"$1"],[t.plural.genera,"genus"],[t.plural.criteria,"$1on"],[t.plural.tia,"$1um"],[t.plural.analyses,"$1$2sis"],[t.plural.hives,"$1ve"],[t.plural.curves,"$1"],[t.plural.lrves,"$1f"],[t.plural.aves,"$1ve"],[t.plural.foves,"$1fe"],[t.plural.movies,"$1ovie"],[t.plural.aeiouyies,"$1y"],[t.plural.series,"$1eries"],[t.plural.xes,"$1"],[t.plural.mice,"$1ouse"],[t.plural.buses,"$1"],[t.plural.oes,"$1"],[t.plural.shoes,"$1"],[t.plural.crises,"$1is"],[t.plural.octopuses,"$1us"],[t.plural.aliases,"$1"],[t.plural.summonses,"$1"],[t.plural.oxen,"$1"],[t.plural.matrices,"$1ix"],[t.plural.vertices,"$1ex"],[t.plural.feet,"foot"],[t.plural.teeth,"tooth"],[t.plural.geese,"goose"],[t.plural.quizzes,"$1"],[t.plural.whereases,"$1"],[t.plural.ss,"ss"],[t.plural.s,""]],a=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],l=new RegExp("(_ids|_id)$","g"),c=new RegExp("_","g"),o=new RegExp("[ _]","g"),g=new RegExp("([A-Z])","g"),m=new RegExp("^_");function _(te,le,we,ve){if(ve)return ve;if(we.includes(te.toLocaleLowerCase()))return te;for(const xe of le)if(te.match(xe[0]))return xe[1]!==void 0?te.replace(xe[0],xe[1]):te;return te}function E(te,le){return _(te,r,e,le)}function R(te,le){return _(te,n,e,le)}function O(te,le,we,ve){return isNaN(le)?te:le===1?_(te,n,e,we):_(te,r,e,ve)}function I(te,le){const we=te.split("/"),ve=we.length;let xe,ce,Ce,Se;for(let ze=0;ze<ve;ze++){for(xe=we[ze].split("_"),ce=0,Ce=xe.length;ce<Ce;ce++)ce!==0&&(xe[ce]=xe[ce].toLowerCase()),Se=xe[ce].charAt(0),Se=le&&ze===0&&ce===0?Se.toLowerCase():Se.toUpperCase(),xe[ce]=Se+xe[ce].substring(1);we[ze]=xe.join("")}return we.join("::")}function B(te,le){if(le&&te===te.toUpperCase())return te;const we=te.split("::"),ve=we.length;for(let xe=0;xe<ve;xe++)we[xe]=we[xe].replace(g,"_$1"),we[xe]=we[xe].replace(m,"");return we.join("/").toLowerCase()}function $(te,le){return te=te.toLowerCase(),te=te.replace(l,""),te=te.replace(c," "),le||(te=q(te)),te}function q(te){return te=te.toLowerCase(),te.substring(0,1).toUpperCase()+te.substring(1)}function j(te){return te.replace(o,"-")}function F(te){te=te.toLowerCase().replace(c," ");const le=te.split(" "),we=le.length;let ve,xe;for(let ce=0;ce<we;ce++){ve=le[ce].split("-"),xe=ve.length;for(let Ce=0;Ce<xe;Ce++)a.indexOf(ve[Ce].toLowerCase())<0&&(ve[Ce]=q(ve[Ce]));le[ce]=ve.join("-")}return te=le.join(" "),te=te.substring(0,1).toUpperCase()+te.substring(1),te}function N(te){const le=te.split("::");return le[le.length-1]}function G(te){return te=B(te),te=E(te),te}function V(te){return te=I(te),te=R(te),te}function ee(te,le){return te=N(te),te=B(te)+(le?"":"_")+"id",te}function ne(te){const le=te.split(" "),we=le.length;for(let ve=0;ve<we;ve++){const xe=parseInt(le[ve],10);if(!isNaN(xe)){const ce=le[ve].substring(le[ve].length-2),Ce=le[ve].substring(le[ve].length-1);let Se="th";ce!="11"&&ce!="12"&&ce!="13"&&(Ce==="1"?Se="st":Ce==="2"?Se="nd":Ce==="3"&&(Se="rd")),le[ve]+=Se}}return le.join(" ")}const ae={pluralize:E,singularize:R,camelize:I,underscore:B,humanize:$,capitalize:q,dasherize:j,titleize:F,demodulize:N,tableize:G,classify:V,foreignKey:ee,ordinalize:ne};function X(te,le){const we=le.length;for(let ve=0;ve<we;ve++){const xe=le[ve],ce=ae[xe];ce&&(te=ce(te))}return te}return ls}var Qc=qoe(),I2=function(){var e=on(),t=D_();return function(r,n){n===void 0&&(n=2);var a=t[r],l=e("resources.".concat(r,".name"),{smart_count:n,_:a&&a.options&&a.options.label?e(a.options.label,{smart_count:n,_:a.options.label}):Qc.humanize(Qc.inflect(r,n))});return l}},B1=function(e){var t=ia(e),r=D_(),n=e||{},a=n.hasCreate,l=n.hasEdit,c=n.hasList,o=n.hasShow,g=n.recordRepresentation,m=S.useMemo(function(){return vV({},{hasCreate:a,hasEdit:l,hasList:c,hasShow:o,recordRepresentation:g},t?r[t]:{})},[t,r,a,l,c,o,g]);return m},XV=function(e){var t=B1({resource:e}).recordRepresentation;return S.useCallback(function(r){return r?typeof t=="function"?t(r):typeof t=="string"?_i(r,t):S.isValidElement(t)?t:(r==null?void 0:r.name)!=null&&(r==null?void 0:r.name)!==""?r.name:(r==null?void 0:r.title)!=null&&(r==null?void 0:r.title)!==""?r.title:(r==null?void 0:r.label)!=null&&(r==null?void 0:r.label)!==""?r.label:(r==null?void 0:r.reference)!=null&&(r==null?void 0:r.reference)!==""?r.reference:"#".concat(r.id):""},[t])},YV=function(e){var t=$oe();return t.getSource(e)},K3=function(){var e=on(),t=ia(),r=Uoe();return S.useCallback(function(n){var a=n.source,l=n.label,c=n.resource;return l===!1||l===""?null:l&&typeof l!="string"?l:e.apply(void 0,Hoe({label:l,defaultLabel:a?r==null?void 0:r.getLabel(a):void 0,resource:c,resourceFromContext:t,source:a}))},[t,e,r])},QV=function(e){var t=e.source,r=e.label,n=e.resource,a=e.isRequired,l=K3();if(r===!0)throw new Error("Label parameter must be a string, a ReactElement or false");return r===!1||r===""?null:r!=null&&typeof r!="string"?r:S.createElement("span",null,l({label:r,resource:n,source:t}),a&&S.createElement("span",{"aria-hidden":"true"},"*"))};QV.displayName="FieldTitle";const a1=S.memo(QV),Voe=function(){return S.createElement("span",null)},JV=function(e,t){};var Hoe=function(e){if(!e)return[""];var t=e.label,r=e.defaultLabel,n=e.resource,a=e.resourceFromContext,l=e.source;if(typeof t<"u")return[t,{_:t}];if(typeof l>"u")return[""];var c=Goe(l),o=c.sourceWithoutDigits,g=c.sourceSuffix,m=Qc.transform(g.replace(/\./g," "),["underscore","humanize"]);return n?[v6(n,o),{_:m}]:r?[r,{_:m}]:[v6(a||"undefined",o),{_:m}]},v6=function(e,t){return"resources.".concat(e,".fields.").concat(t)},Goe=function(e){var t=e.replace(/\.\d+\./g,"."),r=e.split("."),n;r.forEach(function(l,c){Zoe(l)&&(n=c)});var a=n!=null?r.slice(n+1).join("."):e;return{sourceWithoutDigits:t,sourceSuffix:a}},Zoe=function(e){for(var t=e.length-1;t>=0;t--){var r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0},Woe=typeof window<"u"?S.useLayoutEffect:S.useEffect,Xa=function(e){var t=S.useRef(function(){throw new Error("Cannot call an event handler while rendering.")});return Woe(function(){t.current=e}),S.useCallback(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.current.apply(t,r)},[])},Koe=typeof window<"u"?S.useLayoutEffect:S.useEffect,Xoe=function(e,t){var r=S.useRef(function(){throw new Error("Cannot call an event handler while rendering.")}),n=Xa(e);return Koe(function(){r.current=T3(n,t)},[n,t]),S.useCallback(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return r.current.apply(r,a)},[])},wh=function(e){var t=e.defaultValue,r=e.source,n=hc(e);return _i(n,r,t)};function Qo(e,t){var r=b2(),n=r.getItem,a=r.setItem,l=r.subscribe,c=S.useState(function(){return n(e,t)}),o=c[0],g=c[1];S.useEffect(function(){var _=n(e,t);Wd(o,_)||g(_);var E=l(e,function(R){g(typeof R>"u"?t:R)});return function(){return E()}},[e,l,t,n,o]);var m=Xa(function(_,E){var R=typeof _=="function"?_(o):_;a(e,typeof R>"u"?typeof E>"u"?t:E:R)});return[o,m]}var Yoe=function(e){var t=b2().removeItem;return S.useCallback(function(r){if(typeof r>"u"&&typeof e>"u")throw new Error("You must provide a key to remove an item from the store");return t(r??e)},[t,e])},Qoe=function(e){var t=b2().removeItems;return S.useCallback(function(r){if(typeof r>"u"&&typeof e>"u")throw new Error("You must provide a key to remove an item from the store");return t(r??e)},[t,e])},Joe=function(){var e=b2().reset;return e},z_=function(){var e=au(),t=Hu(),r=Joe(),n=ef(),a=S.useRef(n),l=Jo(),c=S.useRef(l),o=Ap(),g=ah("".concat(o,"/").concat(d2.loginUrl));S.useEffect(function(){c.current=l,a.current=n},[l,n]);var m=S.useCallback(function(_,E,R){return _===void 0&&(_={}),E===void 0&&(E=g),R===void 0&&(R=!0),e?e.logout(_).then(function(O){if(O===!1||E===!1){r(),t.clear();return}var I=O||E;if(I!=null&&I.startsWith("http"))return r(),t.clear(),window.location.href=I,I;var B=I.split("?"),$={pathname:B[0]},q={};return R&&c.current&&c.current.pathname&&(q={state:{nextPathname:c.current.pathname,nextSearch:c.current.search}}),B[1]&&($.search=B[1]),setTimeout(function(){a.current($,q),r(),t.clear()},0),O}):(a.current({pathname:g},{state:{nextPathname:c.current&&c.current.pathname}}),r(),t.clear(),Promise.resolve())},[e,r,g,t]);return m},xy=function(){return xy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xy.apply(this,arguments)},ese=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},b6={},X3=function(e,t,r){e===void 0&&(e=b6),t===void 0&&(t=!1),r===void 0&&(r=b6);var n=au(),a=z_(),l=Ap(),c=Gu(),o=r.onSuccess,g=r.onError,m=r.onSettled,_=ese(r,["onSuccess","onError","onSettled"]),E=fg(xy({queryKey:["auth","checkAuth",e],queryFn:function($){var q=$.signal;return n?n.checkAuth(xy(xy({},e),{signal:q})).then(function(){return!0}).catch(function(j){throw j??new Error}):!0},retry:!1},_)),R=Xa(o??_6),O=Xa(m??_6),I=Xa(g??function($){if(t){var q=ah("".concat(l,"/").concat(d2.loginUrl));a({},$&&$.redirectTo!=null?$.redirectTo:q);var j=$&&$.message===!1;!j&&c(tse($,"ra.auth.auth_check_error"),{type:"error"})}});S.useEffect(function(){E.data===void 0||E.isFetching||r.enabled!==!1&&R(E.data)},[R,E.data,E.isFetching,r.enabled]),S.useEffect(function(){E.error==null||E.isFetching||r.enabled!==!1&&I(E.error)},[I,E.error,E.isFetching,r.enabled]),S.useEffect(function(){E.status==="pending"||E.isFetching||r.enabled!==!1&&O(E.data,E.error)},[O,E.data,E.error,E.status,E.isFetching,r.enabled]);var B=S.useMemo(function(){return xy(xy({},E),{authenticated:E.error?!1:E.data})},[E]);return n!=null?B:eH},tse=function(e,t){return typeof e=="string"?e:typeof e>"u"||!e.message?t:e.message},_6=function(){},eH={authenticated:!0,data:!0,dataUpdatedAt:0,error:null,errorUpdatedAt:0,errorUpdateCount:0,failureCount:0,failureReason:null,fetchStatus:"idle",isError:!1,isInitialLoading:!1,isLoading:!1,isLoadingError:!1,isFetched:!0,isFetchedAfterMount:!0,isFetching:!1,isPaused:!1,isPlaceholderData:!1,isPending:!1,isRefetchError:!1,isRefetching:!1,isStale:!1,isSuccess:!0,status:"success",refetch:function(){return Promise.resolve(eH)}},rse=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},D2=function(e){e===void 0&&(e={});var t=e.params,r=e.logoutOnFailure,n=r===void 0?!0:r,a=rse(e,["params","logoutOnFailure"]);return X3(t??nse,n,a)},nse={},wx=function(){return wx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},wx.apply(this,arguments)},ase=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},x6=function(e){return S.Children.count(e)===0},ise=function(e){var t=e.authParams,r=e.children,n=e.render,a=e.component,l=e.loading,c=l===void 0?null:l;e.staticContext;var o=ase(e,["authParams","children","render","component","loading","staticContext"]);JV(n&&r&&!x6(r)||n&&a||a&&r&&!x6(r),"You should only use one of the `component`, `render` and `children` props in <WithPermissions>");var g=D2(t).isPending,m=qV(t,{enabled:!g}),_=m.permissions,E=m.isPending;if(g||E)return c?S.createElement(c,null):null;if(a)return S.createElement(a,wx({permissions:_},o));if(n)return n(wx({permissions:_},o));if(r)return r(wx({permissions:_},o))},ose=function(){var e=au(),t=Hu(),r=Jo(),n=r.state,a=ef(),l=Ap(),c=D7().resetNotifications,o=n&&n.nextPathname,g=n&&n.nextSearch,m=ah("".concat(l,"/").concat(d2.afterLoginUrl)),_=S.useCallback(function(E,R){return E===void 0&&(E={}),e?e.login(E).then(function(O){if(c(),t.invalidateQueries({queryKey:["auth","getPermissions"]}),O&&O.hasOwnProperty("redirectTo"))O&&a(O.redirectTo);else{var I=R||o+g||m;a(I)}return O}):(c(),a(m),Promise.resolve())},[e,t,a,o,g,c,m]);return _},sse="AUTH_LOGIN",lse="AUTH_CHECK",cse="AUTH_ERROR",use="AUTH_LOGOUT",dse="AUTH_GET_PERMISSIONS";const fse=function(e){var t=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.apply(null,r)};return t.login=function(r){return e(sse,r)},t.logout=function(r){return e(use,r)},t.checkAuth=function(r){return e(lse,r)},t.checkError=function(r){return e(cse,r)},t.getPermissions=function(r){return e(dse,r)},t};var hp=function(){return hp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},hp.apply(this,arguments)},hse=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},pse=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Xy=function(e){var t=au(),r=ia(e);if(!r)throw new Error("useCanAccess must be used inside a <Resource> component or provide a resource prop");var n=hc(e),a=!!(t!=null&&t.canAccess),l=fg(hp({queryKey:["auth","canAccess",hp(hp({},e),{record:n,resource:r})],queryFn:function(o){return hse(void 0,[o],void 0,function(g){var m=g.signal;return pse(this,function(_){return!t||!t.canAccess?[2,!0]:[2,t.canAccess(hp(hp({},e),{record:n,resource:r,signal:t.supportAbortSignal?m:void 0}))]})})},enabled:a},e)),c=S.useMemo(function(){return hp(hp({},l),{canAccess:l.data})},[l]);return a?c:tH},tH={canAccess:!0,data:!0,dataUpdatedAt:0,error:null,errorUpdatedAt:0,errorUpdateCount:0,failureCount:0,failureReason:null,fetchStatus:"idle",isError:!1,isInitialLoading:!1,isLoading:!1,isLoadingError:!1,isFetched:!0,isFetchedAfterMount:!0,isFetching:!1,isPaused:!1,isPlaceholderData:!1,isPending:!1,isRefetchError:!1,isRefetching:!1,isStale:!1,isSuccess:!0,status:"success",refetch:function(){return Promise.resolve(tH)}},mse=function(){var e=z_();return S.useEffect(function(){e()},[e]),null},gse=function(){var e=au(),t=Gu(),r=z_(),n=Ap(),a=ah("".concat(n,"/").concat(d2.loginUrl)),l=S.useCallback(function(c,o,g){return c===void 0&&(c={}),o===void 0&&(o=!0),g===void 0&&(g=a),e?e.checkAuth(c).catch(function(m){if(o){r({},m&&m.redirectTo!=null?m.redirectTo:g);var _=m&&m.message===!1;!_&&t(vse(m,"ra.auth.auth_check_error"),{type:"error"})}throw m}):yse()},[e,r,t,a]);return l},yse=function(){return Promise.resolve()},vse=function(e,t){return typeof e=="string"?e:typeof e>"u"||!e.message?t:e.message},Sx=function(){return Sx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Sx.apply(this,arguments)},bse=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},_se=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},xse=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},wse={id:""},Sse={staleTime:5*60*1e3},Ese=function(e){e===void 0&&(e=Sse);var t=au(),r=e.onSuccess,n=e.onError,a=e.onSettled,l=xse(e,["onSuccess","onError","onSettled"]),c=fg(Sx({queryKey:["auth","getIdentity"],queryFn:function(_){return bse(void 0,[_],void 0,function(E){var R=E.signal;return _se(this,function(O){return t&&typeof t.getIdentity=="function"?[2,t.getIdentity({signal:R})]:[2,wse]})})}},l)),o=Xa(r??VR),g=Xa(n??VR),m=Xa(a??VR);return S.useEffect(function(){c.data===void 0||c.isFetching||o(c.data)},[o,c.data,c.isFetching]),S.useEffect(function(){c.error==null||c.isFetching||g(c.error)},[g,c.error,c.isFetching]),S.useEffect(function(){c.status==="pending"||c.isFetching||m(c.data,c.error)},[m,c.data,c.error,c.status,c.isFetching]),S.useMemo(function(){return Sx(Sx({},c),{identity:c.data})},[c])},VR=function(){},Jk=function(){return Jk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Jk.apply(this,arguments)},Cse=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Tse=function(e){var t=au(),r=Nre(),n=Jo(),a=n.state,l=a&&a.nextPathname,c=a&&a.nextSearch,o=l?l+c:"/",g={},m=g.onSuccess,_=g.onError,E=g.onSettled,R=Cse(g,["onSuccess","onError","onSettled"]),O,I=fg(Jk({queryKey:["auth","handleCallback"],queryFn:function(j){var F=j.signal;return O||(O=t&&typeof t.handleCallback=="function"?t.handleCallback({signal:F}).then(function(N){return N??null}):Promise.resolve()),O},retry:!1},R)),B=Xa(m??function(j){var F,N=localStorage.getItem(Ase),G=(F=j==null?void 0:j.redirectTo)!==null&&F!==void 0?F:N;G!==!1&&r(G??o)}),$=Xa(_??w6),q=Xa(E??w6);return S.useEffect(function(){I.error==null||I.isFetching||$(I.error)},[$,I.error,I.isFetching]),S.useEffect(function(){I.data===void 0||I.isFetching||B(I.data)},[B,I.data,I.isFetching]),S.useEffect(function(){I.status==="pending"||I.isFetching||q(I.data,I.error)},[q,I.data,I.error,I.status,I.isFetching]),I},Ase="@react-admin/nextPathname",w6=function(){},Pse=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Rse=function(e){var t=e.action,r=Pse(e,["action"]),n=Hu(),a=au(),l=ia(r);if(!a)return!1;var c=n.getQueryState(["auth","checkAuth",{}]),o=n.getQueryState(["auth","canAccess",{action:t,resource:l}]);return!!((c==null?void 0:c.status)==="pending"||a.canAccess&&(o==null?void 0:o.status)==="pending")},Mse=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Ose=function(e){var t=Xy(e),r=t.canAccess;t.data;var n=t.error,a=Mse(t,["canAccess","data","error"]),l=ef(),c=Ap();return S.useEffect(function(){a.isPending||r===!1&&l("".concat(c,"/access-denied"))},[c,r,l,a.isPending]),S.useEffect(function(){n&&l("".concat(c,"/authentication-error"))},[c,l,n]),a},rH=S.createContext(""),nH=function(e){var t=e.value,r=t===void 0?"":t,n=e.children;return S.createElement(rH.Provider,{value:r},n)},kse=function(){return S.useContext(rH)};function aH(e,t){e===void 0&&(e=""),t===void 0&&(t=void 0);var r=kse();if(!r)throw new Error("usePreference cannot be used outside of a Configurable component. Did you forget to wrap your component with <Configurable>? If you don't want to use Configurable, you can use the useStore hook instead.");return Qo(r&&e?"".concat(r,".").concat(e):r??e,t)}var Y3=function(){var e=S.useContext($V);if(!e)throw new Error("usePreferencesEditor must be used within a PreferencesEditorContextProvider");return e},Ise=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},Dse=function(e,t){var r=aH(e,t),n=r[0],a=r[1],l=S.useState(n),c=l[0],o=l[1];S.useEffect(function(){o(n||t)},[n,t]);var g=function(E){o(E.target.value===""?t:E.target.value)},m=function(){a(c)},_=function(E){var R;if(E.key==="Enter"){a(c);var O=E.target.form;if(O){var I=Ise([],O,!0).indexOf(E.target);(R=O.elements[I+1])===null||R===void 0||R.focus()}E.preventDefault()}};return{value:c,onChange:g,onBlur:m,onKeyDown:_}},zse=function(e,t){var r=Y3();if(!r)throw new Error("useSetInspectorTitle cannot be called outside of a PreferencesEditorContext");var n=r.setTitle;S.useEffect(function(){n(e,t)},[e,JSON.stringify(t),n])},HR,S6;function Lse(){if(S6)return HR;S6=1;var e=u3(),t=aV(),r=iV(),n=_7(),a=w2(),l=d3(),c=200;function o(g,m,_,E){var R=-1,O=t,I=!0,B=g.length,$=[],q=m.length;if(!B)return $;_&&(m=n(m,a(_))),E?(O=r,I=!1):m.length>=c&&(O=l,I=!1,m=new e(m));e:for(;++R<B;){var j=g[R],F=_==null?j:_(j);if(j=E||j!==0?j:0,I&&F===F){for(var N=q;N--;)if(m[N]===F)continue e;$.push(j)}else O(m,F,E)||$.push(j)}return $}return HR=o,HR}var GR,E6;function Bse(){if(E6)return GR;E6=1;var e=Lse(),t=O3(),r=C2(),n=E3(),a=r(function(l,c){return n(l)?e(l,t(c,1,n,!0)):[]});return GR=a,GR}var Fse=Bse();const Nse=zo(Fse);var iH=S.createContext({expandSingle:!1,hover:!0,hasBulkActions:!1}),oH=function(){return S.useContext(iH)},sH=S.createContext({}),F1=function(){return S.useContext(sH)},lH=S.createContext(void 0),Q3=function(){return S.useContext(lH)},cH=S.createContext(void 0),uH=function(){return S.useContext(cH)},dH=S.createContext(void 0),jse=function(){return S.useContext(dH)},fH=S.createContext({storeKey:"",defaultHiddenColumns:[]}),z2=function(){return S.useContext(fH)},$se=function(t){var r=ia(t),n=t.children,a=t.empty,l=t.expand,c=t.hiddenColumns,o=c===void 0?Use:c,g=t.hasBulkActions,m=t.hover,_=t.loading,E=t.isRowSelectable,R=t.isRowExpandable,O=t.resource,I=t.rowClick,B=t.expandSingle,$=B===void 0?!1:B,q=R2(t),j=q.sort,F=q.data,N=q.isPending,G=q.onSelect,V=q.onToggleItem,ee=q.selectedIds,ne=q.setSort,ae=q.total,X=t.storeKey||"".concat(r,".datatable"),te=Xa(function(Ce){if(Ce.stopPropagation(),!!ne){var Se=Ce.currentTarget.dataset.field||"id",ze=(j==null?void 0:j.field)===Se?(j==null?void 0:j.order)==="ASC"?"DESC":"ASC":Ce.currentTarget.dataset.order||"ASC";ne({field:Se,order:ze})}}),le=S.useRef(null);S.useEffect(function(){(!ee||ee.length===0)&&(le.current=null)},[JSON.stringify(ee)]);var we=Xa(function(Ce,Se){if(F){var ze=F.map(function(vt){return vt.id}),ge=ze.indexOf(le.current);if(le.current=Se.target.checked?Ce:null,Se.shiftKey&&ge!==-1){var je=ze.indexOf(Ce),et=ze.slice(Math.min(ge,je),Math.max(ge,je)+1),rt=Se.target.checked?oV(ee,et):Nse(ee,et);G==null||G(E?rt.filter(function(vt){return E(F.find(function(ht){return ht.id===vt}))}):rt)}else V==null||V(Ce)}}),ve=S.useMemo(function(){return{storeKey:X,defaultHiddenColumns:o}},[X,o]),xe=S.useMemo(function(){return{expand:l,expandSingle:$,hasBulkActions:g,hover:m}},[l,$,g,m]),ce=S.useMemo(function(){return{handleSort:ne?te:void 0,handleToggleItem:V?we:void 0,isRowExpandable:R,isRowSelectable:E,onSelect:G,rowClick:I}},[ne,te,we,R,E,G,V,I]);return N===!0?_:F==null||F.length===0||ae===0?a||null:S.createElement(fH.Provider,{value:ve},S.createElement(dH.Provider,{value:j},S.createElement(cH.Provider,{value:ee},S.createElement(sH.Provider,{value:ce},S.createElement(iH.Provider,{value:xe},S.createElement(WV,{value:O},S.createElement(lH.Provider,{value:F},n)))))))},Use=[],hH=S.createContext(void 0),qse=function(){return S.useContext(hH)},_S=S.createContext("data"),Vse=function(){return S.useContext(_S)};const pH=function(e){return e.reduce(function(t,r){return Object.keys(r).forEach(function(n){if(t[n]||(t[n]=[]),r[n]!=null){var a=Array.isArray(r[n])?[r[n]]:r[n];t[n]=t[n].concat(a)}}),t},{})};var kb=function(){return kb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},kb.apply(this,arguments)},Zo=function(){function e(t,r,n){this.type=t,this.props=r,this.children=n}return e.prototype.getElement=function(t){if(t===void 0&&(t={}),!(!this.type||!this.type.component))return this.children?S.createElement(this.type.component,kb(kb({},this.props),t),this.children.length>0?this.children.map(function(r,n){return r.getElement({key:n})}):this.children.getElement()):S.createElement(this.type.component,kb(kb({},this.props),t))},e.prototype.getProps=function(){return this.props},e.prototype.isDefined=function(){return!!this.type},e.prototype.getRepresentation=function(){return this.type?this.type.representation?this.type.representation(this.props,this.children):this.type.component?"<".concat(this.type.component.displayName||this.type.component.name,' source="').concat(this.props.source,'" />'):"":""},e}();function kl(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function no(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function mH(e,t){const r=kl(e);return isNaN(t)?no(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const gH=6048e5,J3=6e4,ez=36e5,Hse=1e3;let Gse={};function N1(){return Gse}function rg(e,t){var o,g,m,_;const r=N1(),n=(t==null?void 0:t.weekStartsOn)??((g=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((_=(m=r.locale)==null?void 0:m.options)==null?void 0:_.weekStartsOn)??0,a=kl(e),l=a.getDay(),c=(l<n?7:0)+l-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function h_(e){return rg(e,{weekStartsOn:1})}function Zse(e){const t=kl(e),r=t.getFullYear(),n=no(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=h_(n),l=no(e,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=h_(l);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function yH(e){const t=kl(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Wse(e){const t=Zse(e),r=no(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),h_(r)}function Kse(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vH(e){if(!Kse(e)&&typeof e!="number")return!1;const t=kl(e);return!isNaN(Number(t))}const Xse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yse=(e,t,r)=>{let n;const a=Xse[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ZR(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Qse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ele={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tle={date:ZR({formats:Qse,defaultWidth:"full"}),time:ZR({formats:Jse,defaultWidth:"full"}),dateTime:ZR({formats:ele,defaultWidth:"full"})},rle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nle=(e,t,r,n)=>rle[e];function V0(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):c;a=e.formattingValues[o]||e.formattingValues[c]}else{const c=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const ale={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ile={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ole={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ule=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dle={ordinalNumber:ule,era:V0({values:ale,defaultWidth:"wide"}),quarter:V0({values:ile,defaultWidth:"wide",argumentCallback:e=>e-1}),month:V0({values:ole,defaultWidth:"wide"}),day:V0({values:sle,defaultWidth:"wide"}),dayPeriod:V0({values:lle,defaultWidth:"wide",formattingValues:cle,defaultFormattingWidth:"wide"})};function H0(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(o)?hle(o,E=>E.test(c)):fle(o,E=>E.test(c));let m;m=e.valueCallback?e.valueCallback(g):g,m=r.valueCallback?r.valueCallback(m):m;const _=t.slice(c.length);return{value:m,rest:_}}}function fle(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ple(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const o=t.slice(a.length);return{value:c,rest:o}}}const mle=/^(\d+)(th|st|nd|rd)?/i,gle=/\d+/i,yle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vle={any:[/^b/i,/^(a|c)/i]},ble={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_le={any:[/1/i,/2/i,/3/i,/4/i]},xle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ele={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ale={ordinalNumber:ple({matchPattern:mle,parsePattern:gle,valueCallback:e=>parseInt(e,10)}),era:H0({matchPatterns:yle,defaultMatchWidth:"wide",parsePatterns:vle,defaultParseWidth:"any"}),quarter:H0({matchPatterns:ble,defaultMatchWidth:"wide",parsePatterns:_le,defaultParseWidth:"any",valueCallback:e=>e+1}),month:H0({matchPatterns:xle,defaultMatchWidth:"wide",parsePatterns:wle,defaultParseWidth:"any"}),day:H0({matchPatterns:Sle,defaultMatchWidth:"wide",parsePatterns:Ele,defaultParseWidth:"any"}),dayPeriod:H0({matchPatterns:Cle,defaultMatchWidth:"any",parsePatterns:Tle,defaultParseWidth:"any"})},Ple={code:"en-US",formatDistance:Yse,formatLong:tle,formatRelative:nle,localize:dle,match:Ale,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rle(e){const t=kl(e),r=+h_(t)-+Wse(t);return Math.round(r/gH)+1}function bH(e,t){var _,E,R,O;const r=kl(e),n=r.getFullYear(),a=N1(),l=(t==null?void 0:t.firstWeekContainsDate)??((E=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??a.firstWeekContainsDate??((O=(R=a.locale)==null?void 0:R.options)==null?void 0:O.firstWeekContainsDate)??1,c=no(e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const o=rg(c,t),g=no(e,0);g.setFullYear(n,0,l),g.setHours(0,0,0,0);const m=rg(g,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=m.getTime()?n:n-1}function Mle(e,t){var o,g,m,_;const r=N1(),n=(t==null?void 0:t.firstWeekContainsDate)??((g=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(m=r.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??1,a=bH(e,t),l=no(e,0);return l.setFullYear(a,0,n),l.setHours(0,0,0,0),rg(l,t)}function Ole(e,t){const r=kl(e),n=+rg(r,t)-+Mle(r,t);return Math.round(n/gH)+1}const C6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_H=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},kle=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return C6(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",C6(n,t)).replace("{{time}}",_H(a,t))},T6={p:_H,P:kle},Ile=/^D+$/,Dle=/^Y+$/,zle=["D","DD","YY","YYYY"];function Lle(e){return Ile.test(e)}function Ble(e){return Dle.test(e)}function A6(e,t,r){const n=Fle(e,t,r);if(console.warn(n),zle.includes(e))throw new RangeError(n)}function Fle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Nle(){return Object.assign({},N1())}function jle(e){let r=kl(e).getDay();return r===0&&(r=7),r}function $le(e,t){const r=t instanceof Date?no(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const Ule=10;class xH{constructor(){or(this,"subPriority",0)}validate(t,r){return!0}}class qle extends xH{constructor(t,r,n,a,l){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,l&&(this.subPriority=l)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Vle extends xH{constructor(){super(...arguments);or(this,"priority",Ule);or(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:no(r,$le(r,Date))}}let va=class{run(t,r,n,a){const l=this.parse(t,r,n,a);return l?{setter:new qle(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,r,n){return!0}};class Hle extends va{constructor(){super(...arguments);or(this,"priority",140);or(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const io={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},lh={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function oo(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ri(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function ch(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(a*ez+l*J3+c*Hse),rest:t.slice(r[0].length)}}function wH(e){return Ri(io.anyDigitsSigned,e)}function Vi(e,t){switch(e){case 1:return Ri(io.singleDigit,t);case 2:return Ri(io.twoDigits,t);case 3:return Ri(io.threeDigits,t);case 4:return Ri(io.fourDigits,t);default:return Ri(new RegExp("^\\d{1,"+e+"}"),t)}}function rE(e,t){switch(e){case 1:return Ri(io.singleDigitSigned,t);case 2:return Ri(io.twoDigitsSigned,t);case 3:return Ri(io.threeDigitsSigned,t);case 4:return Ri(io.fourDigitsSigned,t);default:return Ri(new RegExp("^-?\\d{1,"+e+"}"),t)}}function tz(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function SH(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const l=n+50,c=Math.trunc(l/100)*100,o=e>=l%100;a=e+c-(o?100:0)}return r?a:1-a}function EH(e){return e%400===0||e%4===0&&e%100!==0}class Gle extends va{constructor(){super(...arguments);or(this,"priority",130);or(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const l=c=>({year:c,isTwoDigitYear:n==="yy"});switch(n){case"y":return oo(Vi(4,r),l);case"yo":return oo(a.ordinalNumber(r,{unit:"year"}),l);default:return oo(Vi(n.length,r),l)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const l=r.getFullYear();if(a.isTwoDigitYear){const o=SH(a.year,l);return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}const c=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}}class Zle extends va{constructor(){super(...arguments);or(this,"priority",130);or(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const l=c=>({year:c,isTwoDigitYear:n==="YY"});switch(n){case"Y":return oo(Vi(4,r),l);case"Yo":return oo(a.ordinalNumber(r,{unit:"year"}),l);default:return oo(Vi(n.length,r),l)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,l){const c=bH(r,l);if(a.isTwoDigitYear){const g=SH(a.year,c);return r.setFullYear(g,0,l.firstWeekContainsDate),r.setHours(0,0,0,0),rg(r,l)}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,l.firstWeekContainsDate),r.setHours(0,0,0,0),rg(r,l)}}class Wle extends va{constructor(){super(...arguments);or(this,"priority",130);or(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return rE(n==="R"?4:n.length,r)}set(r,n,a){const l=no(r,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),h_(l)}}class Kle extends va{constructor(){super(...arguments);or(this,"priority",130);or(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return rE(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Xle extends va{constructor(){super(...arguments);or(this,"priority",120);or(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Vi(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Yle extends va{constructor(){super(...arguments);or(this,"priority",120);or(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Vi(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Qle extends va{constructor(){super(...arguments);or(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);or(this,"priority",110)}parse(r,n,a){const l=c=>c-1;switch(n){case"M":return oo(Ri(io.month,r),l);case"MM":return oo(Vi(2,r),l);case"Mo":return oo(a.ordinalNumber(r,{unit:"month"}),l);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Jle extends va{constructor(){super(...arguments);or(this,"priority",110);or(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const l=c=>c-1;switch(n){case"L":return oo(Ri(io.month,r),l);case"LL":return oo(Vi(2,r),l);case"Lo":return oo(a.ordinalNumber(r,{unit:"month"}),l);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function ece(e,t,r){const n=kl(e),a=Ole(n,r)-t;return n.setDate(n.getDate()-a*7),n}class tce extends va{constructor(){super(...arguments);or(this,"priority",100);or(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Ri(io.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Vi(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,l){return rg(ece(r,a,l),l)}}function rce(e,t){const r=kl(e),n=Rle(r)-t;return r.setDate(r.getDate()-n*7),r}class nce extends va{constructor(){super(...arguments);or(this,"priority",100);or(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Ri(io.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Vi(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return h_(rce(r,a))}}const ace=[31,28,31,30,31,30,31,31,30,31,30,31],ice=[31,29,31,30,31,30,31,31,30,31,30,31];class oce extends va{constructor(){super(...arguments);or(this,"priority",90);or(this,"subPriority",1);or(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Ri(io.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Vi(n.length,r)}}validate(r,n){const a=r.getFullYear(),l=EH(a),c=r.getMonth();return l?n>=1&&n<=ice[c]:n>=1&&n<=ace[c]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class sce extends va{constructor(){super(...arguments);or(this,"priority",90);or(this,"subpriority",1);or(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Ri(io.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Vi(n.length,r)}}validate(r,n){const a=r.getFullYear();return EH(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function rz(e,t,r){var E,R,O,I;const n=N1(),a=(r==null?void 0:r.weekStartsOn)??((R=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:R.weekStartsOn)??n.weekStartsOn??((I=(O=n.locale)==null?void 0:O.options)==null?void 0:I.weekStartsOn)??0,l=kl(e),c=l.getDay(),g=(t%7+7)%7,m=7-a,_=t<0||t>6?t-(c+m)%7:(g+m)%7-(c+m)%7;return mH(l,_)}class lce extends va{constructor(){super(...arguments);or(this,"priority",90);or(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,l){return r=rz(r,a,l),r.setHours(0,0,0,0),r}}class cce extends va{constructor(){super(...arguments);or(this,"priority",90);or(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,l){const c=o=>{const g=Math.floor((o-1)/7)*7;return(o+l.weekStartsOn+6)%7+g};switch(n){case"e":case"ee":return oo(Vi(n.length,r),c);case"eo":return oo(a.ordinalNumber(r,{unit:"day"}),c);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,l){return r=rz(r,a,l),r.setHours(0,0,0,0),r}}class uce extends va{constructor(){super(...arguments);or(this,"priority",90);or(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,l){const c=o=>{const g=Math.floor((o-1)/7)*7;return(o+l.weekStartsOn+6)%7+g};switch(n){case"c":case"cc":return oo(Vi(n.length,r),c);case"co":return oo(a.ordinalNumber(r,{unit:"day"}),c);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,l){return r=rz(r,a,l),r.setHours(0,0,0,0),r}}function dce(e,t){const r=kl(e),n=jle(r),a=t-n;return mH(r,a)}class fce extends va{constructor(){super(...arguments);or(this,"priority",90);or(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const l=c=>c===0?7:c;switch(n){case"i":case"ii":return Vi(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return oo(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),l);case"iiiii":return oo(a.day(r,{width:"narrow",context:"formatting"}),l);case"iiiiii":return oo(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),l);case"iiii":default:return oo(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),l)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=dce(r,a),r.setHours(0,0,0,0),r}}class hce extends va{constructor(){super(...arguments);or(this,"priority",80);or(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(tz(a),0,0,0),r}}class pce extends va{constructor(){super(...arguments);or(this,"priority",80);or(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(tz(a),0,0,0),r}}class mce extends va{constructor(){super(...arguments);or(this,"priority",80);or(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(tz(a),0,0,0),r}}class gce extends va{constructor(){super(...arguments);or(this,"priority",70);or(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Ri(io.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Vi(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const l=r.getHours()>=12;return l&&a<12?r.setHours(a+12,0,0,0):!l&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class yce extends va{constructor(){super(...arguments);or(this,"priority",70);or(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Ri(io.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Vi(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class vce extends va{constructor(){super(...arguments);or(this,"priority",70);or(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Ri(io.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Vi(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class bce extends va{constructor(){super(...arguments);or(this,"priority",70);or(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Ri(io.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Vi(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const l=a<=24?a%24:a;return r.setHours(l,0,0,0),r}}class _ce extends va{constructor(){super(...arguments);or(this,"priority",60);or(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Ri(io.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Vi(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class xce extends va{constructor(){super(...arguments);or(this,"priority",50);or(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Ri(io.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Vi(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class wce extends va{constructor(){super(...arguments);or(this,"priority",30);or(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=l=>Math.trunc(l*Math.pow(10,-n.length+3));return oo(Vi(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Sce extends va{constructor(){super(...arguments);or(this,"priority",10);or(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return ch(lh.basicOptionalMinutes,r);case"XX":return ch(lh.basic,r);case"XXXX":return ch(lh.basicOptionalSeconds,r);case"XXXXX":return ch(lh.extendedOptionalSeconds,r);case"XXX":default:return ch(lh.extended,r)}}set(r,n,a){return n.timestampIsSet?r:no(r,r.getTime()-yH(r)-a)}}class Ece extends va{constructor(){super(...arguments);or(this,"priority",10);or(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return ch(lh.basicOptionalMinutes,r);case"xx":return ch(lh.basic,r);case"xxxx":return ch(lh.basicOptionalSeconds,r);case"xxxxx":return ch(lh.extendedOptionalSeconds,r);case"xxx":default:return ch(lh.extended,r)}}set(r,n,a){return n.timestampIsSet?r:no(r,r.getTime()-yH(r)-a)}}class Cce extends va{constructor(){super(...arguments);or(this,"priority",40);or(this,"incompatibleTokens","*")}parse(r){return wH(r)}set(r,n,a){return[no(r,a*1e3),{timestampIsSet:!0}]}}class Tce extends va{constructor(){super(...arguments);or(this,"priority",20);or(this,"incompatibleTokens","*")}parse(r){return wH(r)}set(r,n,a){return[no(r,a),{timestampIsSet:!0}]}}const Ace={G:new Hle,y:new Gle,Y:new Zle,R:new Wle,u:new Kle,Q:new Xle,q:new Yle,M:new Qle,L:new Jle,w:new tce,I:new nce,d:new oce,D:new sce,E:new lce,e:new cce,c:new uce,i:new fce,a:new hce,b:new pce,B:new mce,h:new gce,H:new yce,K:new vce,k:new bce,m:new _ce,s:new xce,S:new wce,X:new Sce,x:new Ece,t:new Cce,T:new Tce},Pce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mce=/^'([^]*?)'?$/,Oce=/''/g,kce=/\S/,Ice=/[a-zA-Z]/;function Dce(e,t,r,n){var B,$,q,j;const a=Nle(),l=a.locale??Ple,c=a.firstWeekContainsDate??(($=(B=a.locale)==null?void 0:B.options)==null?void 0:$.firstWeekContainsDate)??1,o=a.weekStartsOn??((j=(q=a.locale)==null?void 0:q.options)==null?void 0:j.weekStartsOn)??0;if(t==="")return e===""?kl(r):no(r,NaN);const g={firstWeekContainsDate:c,weekStartsOn:o,locale:l},m=[new Vle],_=t.match(Rce).map(F=>{const N=F[0];if(N in T6){const G=T6[N];return G(F,l.formatLong)}return F}).join("").match(Pce),E=[];for(let F of _){Ble(F)&&A6(F,t,e),Lle(F)&&A6(F,t,e);const N=F[0],G=Ace[N];if(G){const{incompatibleTokens:V}=G;if(Array.isArray(V)){const ne=E.find(ae=>V.includes(ae.token)||ae.token===N);if(ne)throw new RangeError(`The format string mustn't contain \`${ne.fullToken}\` and \`${F}\` at the same time`)}else if(G.incompatibleTokens==="*"&&E.length>0)throw new RangeError(`The format string mustn't contain \`${F}\` and any other token at the same time`);E.push({token:N,fullToken:F});const ee=G.run(e,F,l.match,g);if(!ee)return no(r,NaN);m.push(ee.setter),e=ee.rest}else{if(N.match(Ice))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(F==="''"?F="'":N==="'"&&(F=zce(F)),e.indexOf(F)===0)e=e.slice(F.length);else return no(r,NaN)}}if(e.length>0&&kce.test(e))return no(r,NaN);const R=m.map(F=>F.priority).sort((F,N)=>N-F).filter((F,N,G)=>G.indexOf(F)===N).map(F=>m.filter(N=>N.priority===F).sort((N,G)=>G.subPriority-N.subPriority)).map(F=>F[0]);let O=kl(r);if(isNaN(O.getTime()))return no(r,NaN);const I={};for(const F of R){if(!F.validate(O,g))return no(r,NaN);const N=F.set(O,I,g);Array.isArray(N)?(O=N[0],Object.assign(I,N[1])):O=N}return no(r,O)}function zce(e){return e.match(Mce)[1].replace(Oce,"'")}function P6(e,t,r){return vH(Dce(e,t,new Date))}function Lce(e,t){const n=jce(e);let a;if(n.date){const g=$ce(n.date,2);a=Uce(g.restDateString,g.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const l=a.getTime();let c=0,o;if(n.time&&(c=qce(n.time),isNaN(c)))return new Date(NaN);if(n.timezone){if(o=Vce(n.timezone),isNaN(o))return new Date(NaN)}else{const g=new Date(l+c),m=new Date(0);return m.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),m.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),m}return new Date(l+c+o)}const Uw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Bce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Nce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jce(e){const t={},r=e.split(Uw.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Uw.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Uw.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Uw.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function $ce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((n[1]||n[2]).length)}}function Uce(e,t){if(t===null)return new Date(NaN);const r=e.match(Bce);if(!r)return new Date(NaN);const n=!!r[4],a=G0(r[1]),l=G0(r[2])-1,c=G0(r[3]),o=G0(r[4]),g=G0(r[5])-1;if(n)return Kce(t,o,g)?Hce(t,o,g):new Date(NaN);{const m=new Date(0);return!Zce(t,l,c)||!Wce(t,a)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(a,c)),m)}}function G0(e){return e?parseInt(e):1}function qce(e){const t=e.match(Fce);if(!t)return NaN;const r=WR(t[1]),n=WR(t[2]),a=WR(t[3]);return Xce(r,n,a)?r*ez+n*J3+a*1e3:NaN}function WR(e){return e&&parseFloat(e.replace(",","."))||0}function Vce(e){if(e==="Z")return 0;const t=e.match(Nce);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Yce(n,a)?r*(n*ez+a*J3):NaN}function Hce(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,l=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+l),n}const Gce=[31,null,31,30,31,30,31,31,30,31,30,31];function CH(e){return e%400===0||e%4===0&&e%100!==0}function Zce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Gce[t]||(CH(e)?29:28))}function Wce(e,t){return t>=1&&t<=(CH(e)?366:365)}function Kce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Yce(e,t){return t>=0&&t<=59}var Qce=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Jce=function(e){return e.every(Qce)},eue=function(e){return Number.isInteger(e)||!isNaN(parseInt(e))},tue=function(e){return e.every(eue)},rue=function(e){return typeof e=="boolean"},nue=function(e){return e.every(rue)},aue=function(e){return typeof e=="string"},iue=function(e){return e.every(aue)},oue=/<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i,sue=function(e){return!e||oue.test(e)},lue=function(e){return e.every(sue)},cue=function(e){return Array.isArray(e)},uue=function(e){return e.every(cue)},due=function(e){return!e||e instanceof Date},fue=function(e){return e.every(due)},hue=function(e){return!e||typeof e=="string"&&(P6(e,"MM/dd/yyyy")||P6(e,"MM/dd/yy")||vH(Lce(e)))},pue=function(e){return e.every(hue)},TH=function(e){return Object.prototype.toString.call(e)==="[object Object]"},mue=function(e){return e.every(TH)},gue=function(){return S.createElement("span",null,";")},Nd={type:gue,representation:function(){return"<DefaultComponent />"}},yue={array:Nd,boolean:Nd,date:Nd,email:Nd,id:Nd,number:Nd,reference:Nd,referenceArray:Nd,richText:Nd,string:Nd,url:Nd},Vc=function(e,t){return typeof t[e]<"u"},eI=function(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=yue),e==="id"&&Vc("id",r))return new Zo(r.id,{source:e});if(e.substr(e.length-3)==="_id"&&Vc("reference",r)){var n=Qc.pluralize(e.substr(0,e.length-3));return r.reference&&new Zo(r.reference,{source:e,reference:n})}if(e.substr(e.length-2)==="Id"&&Vc("reference",r)){var n=Qc.pluralize(e.substr(0,e.length-2));return r.reference&&new Zo(r.reference,{source:e,reference:n})}if(e.substr(e.length-4)==="_ids"&&Vc("referenceArray",r)){var n=Qc.pluralize(e.substr(0,e.length-4));return r.referenceArray&&new Zo(r.referenceArray,{source:e,reference:n})}if(e.substr(e.length-3)==="Ids"&&Vc("referenceArray",r)){var n=Qc.pluralize(e.substr(0,e.length-3));return r.referenceArray&&new Zo(r.referenceArray,{source:e,reference:n})}if(t.length===0)return new Zo(r.string,{source:e});if(uue(t)){if(TH(t[0][0])&&Vc("array",r)){var a=pH(t.reduce(function(o,g){return o.concat(g)},[]));return r.array&&new Zo(r.array,{source:e},Object.keys(a).map(function(o){return eI(o,a[o],r)}))}return new Zo(r.string,{source:e})}if(nue(t)&&Vc("boolean",r))return new Zo(r.boolean,{source:e});if(fue(t)&&Vc("date",r))return new Zo(r.date,{source:e});if(iue(t))return e==="email"&&Vc("email",r)?new Zo(r.email,{source:e}):e==="url"&&Vc("url",r)?new Zo(r.url,{source:e}):pue(t)&&Vc("date",r)?new Zo(r.date,{source:e}):lue(t)&&Vc("richText",r)?new Zo(r.richText,{source:e}):new Zo(r.string,{source:e});if((tue(t)||Jce(t))&&Vc("number",r))return new Zo(r.number,{source:e});if(mue(t)){var l=Object.keys(t[0]).shift();if(!l)return new Zo(r.string,{source:e});var c=t.map(function(o){return o[l]});return eI("".concat(e,".").concat(l),c,r)}return new Zo(r.string,{source:e})};const vue=function(e,t){var r=pH(e);return Object.keys(r).reduce(function(n,a){return n.concat(eI(a,r[a],t))},[]).filter(function(n){return n.isDefined()})},i1={black:"#000",white:"#fff"},mb={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},gb={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},yb={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},vb={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},bb={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Z0={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},bue={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Sp(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const Nu="$$material";function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(null,arguments)}function _ue(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function xue(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var wue=function(){function e(r){var n=this;this._insertTag=function(a){var l;n.tags.length===0?n.insertionPoint?l=n.insertionPoint.nextSibling:n.prepend?l=n.container.firstChild:l=n.before:l=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,l),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xue(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=_ue(a);try{l.insertRule(n,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),el="-ms-",aE="-moz-",ga="-webkit-",AH="comm",nz="rule",az="decl",Sue="@import",PH="@keyframes",Eue="@layer",Cue=Math.abs,L2=String.fromCharCode,Tue=Object.assign;function Aue(e,t){return zs(e,0)^45?(((t<<2^zs(e,0))<<2^zs(e,1))<<2^zs(e,2))<<2^zs(e,3):0}function RH(e){return e.trim()}function Pue(e,t){return(e=t.exec(e))?e[0]:e}function ya(e,t,r){return e.replace(t,r)}function tI(e,t){return e.indexOf(t)}function zs(e,t){return e.charCodeAt(t)|0}function o1(e,t,r){return e.slice(t,r)}function ih(e){return e.length}function iz(e){return e.length}function qw(e,t){return t.push(e),e}function Rue(e,t){return e.map(t).join("")}var B2=1,p_=1,MH=0,fc=0,Mo=0,L_="";function F2(e,t,r,n,a,l,c){return{value:e,root:t,parent:r,type:n,props:a,children:l,line:B2,column:p_,length:c,return:""}}function W0(e,t){return Tue(F2("",null,null,"",null,null,0),e,{length:-e.length},t)}function Mue(){return Mo}function Oue(){return Mo=fc>0?zs(L_,--fc):0,p_--,Mo===10&&(p_=1,B2--),Mo}function Jc(){return Mo=fc<MH?zs(L_,fc++):0,p_++,Mo===10&&(p_=1,B2++),Mo}function ph(){return zs(L_,fc)}function xS(){return fc}function j1(e,t){return o1(L_,e,t)}function s1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OH(e){return B2=p_=1,MH=ih(L_=e),fc=0,[]}function kH(e){return L_="",e}function wS(e){return RH(j1(fc-1,rI(e===91?e+2:e===40?e+1:e)))}function kue(e){for(;(Mo=ph())&&Mo<33;)Jc();return s1(e)>2||s1(Mo)>3?"":" "}function Iue(e,t){for(;--t&&Jc()&&!(Mo<48||Mo>102||Mo>57&&Mo<65||Mo>70&&Mo<97););return j1(e,xS()+(t<6&&ph()==32&&Jc()==32))}function rI(e){for(;Jc();)switch(Mo){case e:return fc;case 34:case 39:e!==34&&e!==39&&rI(Mo);break;case 40:e===41&&rI(e);break;case 92:Jc();break}return fc}function Due(e,t){for(;Jc()&&e+Mo!==57;)if(e+Mo===84&&ph()===47)break;return"/*"+j1(t,fc-1)+"*"+L2(e===47?e:Jc())}function zue(e){for(;!s1(ph());)Jc();return j1(e,fc)}function Lue(e){return kH(SS("",null,null,null,[""],e=OH(e),0,[0],e))}function SS(e,t,r,n,a,l,c,o,g){for(var m=0,_=0,E=c,R=0,O=0,I=0,B=1,$=1,q=1,j=0,F="",N=a,G=l,V=n,ee=F;$;)switch(I=j,j=Jc()){case 40:if(I!=108&&zs(ee,E-1)==58){tI(ee+=ya(wS(j),"&","&\f"),"&\f")!=-1&&(q=-1);break}case 34:case 39:case 91:ee+=wS(j);break;case 9:case 10:case 13:case 32:ee+=kue(I);break;case 92:ee+=Iue(xS()-1,7);continue;case 47:switch(ph()){case 42:case 47:qw(Bue(Due(Jc(),xS()),t,r),g);break;default:ee+="/"}break;case 123*B:o[m++]=ih(ee)*q;case 125*B:case 59:case 0:switch(j){case 0:case 125:$=0;case 59+_:q==-1&&(ee=ya(ee,/\f/g,"")),O>0&&ih(ee)-E&&qw(O>32?M6(ee+";",n,r,E-1):M6(ya(ee," ","")+";",n,r,E-2),g);break;case 59:ee+=";";default:if(qw(V=R6(ee,t,r,m,_,a,o,F,N=[],G=[],E),l),j===123)if(_===0)SS(ee,t,V,V,N,l,E,o,G);else switch(R===99&&zs(ee,3)===110?100:R){case 100:case 108:case 109:case 115:SS(e,V,V,n&&qw(R6(e,V,V,0,0,a,o,F,a,N=[],E),G),a,G,E,o,n?N:G);break;default:SS(ee,V,V,V,[""],G,0,o,G)}}m=_=O=0,B=q=1,F=ee="",E=c;break;case 58:E=1+ih(ee),O=I;default:if(B<1){if(j==123)--B;else if(j==125&&B++==0&&Oue()==125)continue}switch(ee+=L2(j),j*B){case 38:q=_>0?1:(ee+="\f",-1);break;case 44:o[m++]=(ih(ee)-1)*q,q=1;break;case 64:ph()===45&&(ee+=wS(Jc())),R=ph(),_=E=ih(F=ee+=zue(xS())),j++;break;case 45:I===45&&ih(ee)==2&&(B=0)}}return l}function R6(e,t,r,n,a,l,c,o,g,m,_){for(var E=a-1,R=a===0?l:[""],O=iz(R),I=0,B=0,$=0;I<n;++I)for(var q=0,j=o1(e,E+1,E=Cue(B=c[I])),F=e;q<O;++q)(F=RH(B>0?R[q]+" "+j:ya(j,/&\f/g,R[q])))&&(g[$++]=F);return F2(e,t,r,a===0?nz:o,g,m,_)}function Bue(e,t,r){return F2(e,t,r,AH,L2(Mue()),o1(e,2,-2),0)}function M6(e,t,r,n){return F2(e,t,r,az,o1(e,0,n),o1(e,n+1,-1),n)}function $b(e,t){for(var r="",n=iz(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function Fue(e,t,r,n){switch(e.type){case Eue:if(e.children.length)break;case Sue:case az:return e.return=e.return||e.value;case AH:return"";case PH:return e.return=e.value+"{"+$b(e.children,n)+"}";case nz:e.value=e.props.join(",")}return ih(r=$b(e.children,n))?e.return=e.value+"{"+r+"}":""}function Nue(e){var t=iz(e);return function(r,n,a,l){for(var c="",o=0;o<t;o++)c+=e[o](r,n,a,l)||"";return c}}function jue(e){return function(t){t.root||(t=t.return)&&e(t)}}function IH(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var $ue=function(t,r,n){for(var a=0,l=0;a=l,l=ph(),a===38&&l===12&&(r[n]=1),!s1(l);)Jc();return j1(t,fc)},Uue=function(t,r){var n=-1,a=44;do switch(s1(a)){case 0:a===38&&ph()===12&&(r[n]=1),t[n]+=$ue(fc-1,r,n);break;case 2:t[n]+=wS(a);break;case 4:if(a===44){t[++n]=ph()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=L2(a)}while(a=Jc());return t},que=function(t,r){return kH(Uue(OH(t),r))},O6=new WeakMap,Vue=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!O6.get(n))&&!a){O6.set(t,!0);for(var l=[],c=que(r,l),o=n.props,g=0,m=0;g<c.length;g++)for(var _=0;_<o.length;_++,m++)t.props[m]=l[g]?c[g].replace(/&\f/g,o[_]):o[_]+" "+c[g]}}},Hue=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function DH(e,t){switch(Aue(e,t)){case 5103:return ga+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ga+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ga+e+aE+e+el+e+e;case 6828:case 4268:return ga+e+el+e+e;case 6165:return ga+e+el+"flex-"+e+e;case 5187:return ga+e+ya(e,/(\w+).+(:[^]+)/,ga+"box-$1$2"+el+"flex-$1$2")+e;case 5443:return ga+e+el+"flex-item-"+ya(e,/flex-|-self/,"")+e;case 4675:return ga+e+el+"flex-line-pack"+ya(e,/align-content|flex-|-self/,"")+e;case 5548:return ga+e+el+ya(e,"shrink","negative")+e;case 5292:return ga+e+el+ya(e,"basis","preferred-size")+e;case 6060:return ga+"box-"+ya(e,"-grow","")+ga+e+el+ya(e,"grow","positive")+e;case 4554:return ga+ya(e,/([^-])(transform)/g,"$1"+ga+"$2")+e;case 6187:return ya(ya(ya(e,/(zoom-|grab)/,ga+"$1"),/(image-set)/,ga+"$1"),e,"")+e;case 5495:case 3959:return ya(e,/(image-set\([^]*)/,ga+"$1$`$1");case 4968:return ya(ya(e,/(.+:)(flex-)?(.*)/,ga+"box-pack:$3"+el+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ga+e+e;case 4095:case 3583:case 4068:case 2532:return ya(e,/(.+)-inline(.+)/,ga+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ih(e)-1-t>6)switch(zs(e,t+1)){case 109:if(zs(e,t+4)!==45)break;case 102:return ya(e,/(.+:)(.+)-([^]+)/,"$1"+ga+"$2-$3$1"+aE+(zs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~tI(e,"stretch")?DH(ya(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(zs(e,t+1)!==115)break;case 6444:switch(zs(e,ih(e)-3-(~tI(e,"!important")&&10))){case 107:return ya(e,":",":"+ga)+e;case 101:return ya(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ga+(zs(e,14)===45?"inline-":"")+"box$3$1"+ga+"$2$3$1"+el+"$2box$3")+e}break;case 5936:switch(zs(e,t+11)){case 114:return ga+e+el+ya(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ga+e+el+ya(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ga+e+el+ya(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ga+e+el+e+e}return e}var Gue=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case az:t.return=DH(t.value,t.length);break;case PH:return $b([W0(t,{value:ya(t.value,"@","@"+ga)})],a);case nz:if(t.length)return Rue(t.props,function(l){switch(Pue(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $b([W0(t,{props:[ya(l,/:(read-\w+)/,":"+aE+"$1")]})],a);case"::placeholder":return $b([W0(t,{props:[ya(l,/:(plac\w+)/,":"+ga+"input-$1")]}),W0(t,{props:[ya(l,/:(plac\w+)/,":"+aE+"$1")]}),W0(t,{props:[ya(l,/:(plac\w+)/,el+"input-$1")]})],a)}return""})}},Zue=[Gue],Wue=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(B){var $=B.getAttribute("data-emotion");$.indexOf(" ")!==-1&&(document.head.appendChild(B),B.setAttribute("data-s",""))})}var a=t.stylisPlugins||Zue,l={},c,o=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(B){for(var $=B.getAttribute("data-emotion").split(" "),q=1;q<$.length;q++)l[$[q]]=!0;o.push(B)});var g,m=[Vue,Hue];{var _,E=[Fue,jue(function(B){_.insert(B)})],R=Nue(m.concat(a,E)),O=function($){return $b(Lue($),R)};g=function($,q,j,F){_=j,O($?$+"{"+q.styles+"}":q.styles),F&&(I.inserted[q.name]=!0)}}var I={key:r,sheet:new wue({key:r,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:g};return I.sheet.hydrate(o),I},KR={exports:{}},Ea={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6;function Kue(){if(k6)return Ea;k6=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,g=e?Symbol.for("react.async_mode"):60111,m=e?Symbol.for("react.concurrent_mode"):60111,_=e?Symbol.for("react.forward_ref"):60112,E=e?Symbol.for("react.suspense"):60113,R=e?Symbol.for("react.suspense_list"):60120,O=e?Symbol.for("react.memo"):60115,I=e?Symbol.for("react.lazy"):60116,B=e?Symbol.for("react.block"):60121,$=e?Symbol.for("react.fundamental"):60117,q=e?Symbol.for("react.responder"):60118,j=e?Symbol.for("react.scope"):60119;function F(G){if(typeof G=="object"&&G!==null){var V=G.$$typeof;switch(V){case t:switch(G=G.type,G){case g:case m:case n:case l:case a:case E:return G;default:switch(G=G&&G.$$typeof,G){case o:case _:case I:case O:case c:return G;default:return V}}case r:return V}}}function N(G){return F(G)===m}return Ea.AsyncMode=g,Ea.ConcurrentMode=m,Ea.ContextConsumer=o,Ea.ContextProvider=c,Ea.Element=t,Ea.ForwardRef=_,Ea.Fragment=n,Ea.Lazy=I,Ea.Memo=O,Ea.Portal=r,Ea.Profiler=l,Ea.StrictMode=a,Ea.Suspense=E,Ea.isAsyncMode=function(G){return N(G)||F(G)===g},Ea.isConcurrentMode=N,Ea.isContextConsumer=function(G){return F(G)===o},Ea.isContextProvider=function(G){return F(G)===c},Ea.isElement=function(G){return typeof G=="object"&&G!==null&&G.$$typeof===t},Ea.isForwardRef=function(G){return F(G)===_},Ea.isFragment=function(G){return F(G)===n},Ea.isLazy=function(G){return F(G)===I},Ea.isMemo=function(G){return F(G)===O},Ea.isPortal=function(G){return F(G)===r},Ea.isProfiler=function(G){return F(G)===l},Ea.isStrictMode=function(G){return F(G)===a},Ea.isSuspense=function(G){return F(G)===E},Ea.isValidElementType=function(G){return typeof G=="string"||typeof G=="function"||G===n||G===m||G===l||G===a||G===E||G===R||typeof G=="object"&&G!==null&&(G.$$typeof===I||G.$$typeof===O||G.$$typeof===c||G.$$typeof===o||G.$$typeof===_||G.$$typeof===$||G.$$typeof===q||G.$$typeof===j||G.$$typeof===B)},Ea.typeOf=F,Ea}var I6;function Xue(){return I6||(I6=1,KR.exports=Kue()),KR.exports}var XR,D6;function Yue(){if(D6)return XR;D6=1;var e=Xue(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[e.ForwardRef]=n,l[e.Memo]=a;function c(I){return e.isMemo(I)?a:l[I.$$typeof]||t}var o=Object.defineProperty,g=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,R=Object.prototype;function O(I,B,$){if(typeof B!="string"){if(R){var q=E(B);q&&q!==R&&O(I,q,$)}var j=g(B);m&&(j=j.concat(m(B)));for(var F=c(I),N=c(B),G=0;G<j.length;++G){var V=j[G];if(!r[V]&&!($&&$[V])&&!(N&&N[V])&&!(F&&F[V])){var ee=_(B,V);try{o(I,V,ee)}catch{}}}}return I}return XR=O,XR}Yue();var Que=!0;function zH(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var oz=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||Que===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},sz=function(t,r,n){oz(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var l=r;do t.insert(r===l?"."+a:"",l,t.sheet,!0),l=l.next;while(l!==void 0)}};function Jue(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ede={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tde=/[A-Z]|^ms/g,rde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LH=function(t){return t.charCodeAt(1)===45},z6=function(t){return t!=null&&typeof t!="boolean"},YR=IH(function(e){return LH(e)?e:e.replace(tde,"-$&").toLowerCase()}),L6=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(rde,function(n,a,l){return oh={name:a,styles:l,next:oh},a})}return ede[t]!==1&&!LH(t)&&typeof r=="number"&&r!==0?r+"px":r};function l1(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return oh={name:a.name,styles:a.styles,next:oh},a.name;var l=r;if(l.styles!==void 0){var c=l.next;if(c!==void 0)for(;c!==void 0;)oh={name:c.name,styles:c.styles,next:oh},c=c.next;var o=l.styles+";";return o}return nde(e,t,r)}case"function":{if(e!==void 0){var g=oh,m=r(e);return oh=g,l1(e,t,m)}break}}var _=r;if(t==null)return _;var E=t[_];return E!==void 0?E:_}function nde(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=l1(e,t,r[a])+";";else for(var l in r){var c=r[l];if(typeof c!="object"){var o=c;t!=null&&t[o]!==void 0?n+=l+"{"+t[o]+"}":z6(o)&&(n+=YR(l)+":"+L6(l,o)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(t==null||t[c[0]]===void 0))for(var g=0;g<c.length;g++)z6(c[g])&&(n+=YR(l)+":"+L6(l,c[g])+";");else{var m=l1(e,t,c);switch(l){case"animation":case"animationName":{n+=YR(l)+":"+m+";";break}default:n+=l+"{"+m+"}"}}}return n}var B6=/label:\s*([^\s;{]+)\s*(;|$)/g,oh;function $1(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";oh=void 0;var l=e[0];if(l==null||l.raw===void 0)n=!1,a+=l1(r,t,l);else{var c=l;a+=c[0]}for(var o=1;o<e.length;o++)if(a+=l1(r,t,e[o]),n){var g=l;a+=g[o]}B6.lastIndex=0;for(var m="",_;(_=B6.exec(a))!==null;)m+="-"+_[1];var E=Jue(a)+m;return{name:E,styles:a,next:oh}}var ade=function(t){return t()},BH=$S.useInsertionEffect?$S.useInsertionEffect:!1,FH=BH||ade,F6=BH||S.useLayoutEffect,NH=S.createContext(typeof HTMLElement<"u"?Wue({key:"css"}):null);NH.Provider;var lz=function(t){return S.forwardRef(function(r,n){var a=S.useContext(NH);return t(r,a,n)})},U1=S.createContext({}),cz={}.hasOwnProperty,nI="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ide=function(t,r){var n={};for(var a in r)cz.call(r,a)&&(n[a]=r[a]);return n[nI]=t,n},ode=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return oz(r,n,a),FH(function(){return sz(r,n,a)}),null},sde=lz(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[nI],l=[n],c="";typeof e.className=="string"?c=zH(t.registered,l,e.className):e.className!=null&&(c=e.className+" ");var o=$1(l,void 0,S.useContext(U1));c+=t.key+"-"+o.name;var g={};for(var m in e)cz.call(e,m)&&m!=="css"&&m!==nI&&(g[m]=e[m]);return g.className=c,r&&(g.ref=r),S.createElement(S.Fragment,null,S.createElement(ode,{cache:t,serialized:o,isStringTag:typeof a=="string"}),S.createElement(a,g))}),lde=sde,N6=function(t,r){var n=arguments;if(r==null||!cz.call(r,"css"))return S.createElement.apply(void 0,n);var a=n.length,l=new Array(a);l[0]=lde,l[1]=ide(t,r);for(var c=2;c<a;c++)l[c]=n[c];return S.createElement.apply(null,l)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(N6||(N6={}));var cde=lz(function(e,t){var r=e.styles,n=$1([r],void 0,S.useContext(U1)),a=S.useRef();return F6(function(){var l=t.key+"-global",c=new t.sheet.constructor({key:l,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,g=document.querySelector('style[data-emotion="'+l+" "+n.name+'"]');return t.sheet.tags.length&&(c.before=t.sheet.tags[0]),g!==null&&(o=!0,g.setAttribute("data-emotion",l),c.hydrate([g])),a.current=[c,o],function(){c.flush()}},[t]),F6(function(){var l=a.current,c=l[0],o=l[1];if(o){l[1]=!1;return}if(n.next!==void 0&&sz(t,n.next,!0),c.tags.length){var g=c.tags[c.tags.length-1].nextElementSibling;c.before=g,c.flush()}t.insert("",n,c,!1)},[t,n.name]),null});function B_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return $1(t)}function gg(){var e=B_.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ude=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dde=IH(function(e){return ude.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),fde=dde,hde=function(t){return t!=="theme"},j6=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?fde:hde},$6=function(t,r,n){var a;if(r){var l=r.shouldForwardProp;a=t.__emotion_forwardProp&&l?function(c){return t.__emotion_forwardProp(c)&&l(c)}:l}return typeof a!="function"&&n&&(a=t.__emotion_forwardProp),a},pde=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return oz(r,n,a),FH(function(){return sz(r,n,a)}),null},mde=function e(t,r){var n=t.__emotion_real===t,a=n&&t.__emotion_base||t,l,c;r!==void 0&&(l=r.label,c=r.target);var o=$6(t,r,n),g=o||j6(a),m=!g("as");return function(){var _=arguments,E=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(l!==void 0&&E.push("label:"+l+";"),_[0]==null||_[0].raw===void 0)E.push.apply(E,_);else{var R=_[0];E.push(R[0]);for(var O=_.length,I=1;I<O;I++)E.push(_[I],R[I])}var B=lz(function($,q,j){var F=m&&$.as||a,N="",G=[],V=$;if($.theme==null){V={};for(var ee in $)V[ee]=$[ee];V.theme=S.useContext(U1)}typeof $.className=="string"?N=zH(q.registered,G,$.className):$.className!=null&&(N=$.className+" ");var ne=$1(E.concat(G),q.registered,V);N+=q.key+"-"+ne.name,c!==void 0&&(N+=" "+c);var ae=m&&o===void 0?j6(F):g,X={};for(var te in $)m&&te==="as"||ae(te)&&(X[te]=$[te]);return X.className=N,j&&(X.ref=j),S.createElement(S.Fragment,null,S.createElement(pde,{cache:q,serialized:ne,isStringTag:typeof F=="string"}),S.createElement(F,X))});return B.displayName=l!==void 0?l:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",B.defaultProps=t.defaultProps,B.__emotion_real=B,B.__emotion_base=a,B.__emotion_styles=E,B.__emotion_forwardProp=o,Object.defineProperty(B,"toString",{value:function(){return"."+c}}),B.withComponent=function($,q){var j=e($,nE({},r,q,{shouldForwardProp:$6(B,q,!0)}));return j.apply(void 0,E)},B}},gde=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],aI=mde.bind(null);gde.forEach(function(e){aI[e]=aI(e)});function yde(e){return e==null||Object.keys(e).length===0}function jH(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?a=>t(yde(a)?r:a):t;return Oe.jsx(cde,{styles:n})}function $H(e,t){return aI(e,t)}function vde(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const U6=[];function q6(e){return U6[0]=e,$1(U6)}function uh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function UH(e){if(S.isValidElement(e)||G3.isValidElementType(e)||!uh(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=UH(e[r])}),t}function ko(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return uh(e)&&uh(t)&&Object.keys(t).forEach(a=>{S.isValidElement(t[a])||G3.isValidElementType(t[a])?n[a]=t[a]:uh(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&uh(e[a])?n[a]=ko(e[a],t[a],r):r.clone?n[a]=uh(t[a])?UH(t[a]):t[a]:n[a]=t[a]}),n}const bde=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function _de(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...a}=e,l=bde(t),c=Object.keys(l);function o(R){return`@media (min-width:${typeof t[R]=="number"?t[R]:R}${r})`}function g(R){return`@media (max-width:${(typeof t[R]=="number"?t[R]:R)-n/100}${r})`}function m(R,O){const I=c.indexOf(O);return`@media (min-width:${typeof t[R]=="number"?t[R]:R}${r}) and (max-width:${(I!==-1&&typeof t[c[I]]=="number"?t[c[I]]:O)-n/100}${r})`}function _(R){return c.indexOf(R)+1<c.length?m(R,c[c.indexOf(R)+1]):o(R)}function E(R){const O=c.indexOf(R);return O===0?o(c[1]):O===c.length-1?g(c[O]):m(R,c[c.indexOf(R)+1]).replace("@media","@media not all and")}return{keys:c,values:l,up:o,down:g,between:m,only:_,not:E,unit:r,...a}}function xde(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,a)=>{var c,o;const l=/min-width:\s*([0-9.]+)/;return+(((c=n.match(l))==null?void 0:c[1])||0)-+(((o=a.match(l))==null?void 0:o[1])||0)});return r.length?r.reduce((n,a)=>{const l=t[a];return delete n[a],n[a]=l,n},{...t}):t}function wde(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function Sde(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,a]=r,l=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(l)}function Ede(e){const t=(l,c)=>l.replace("@media",c?`@container ${c}`:"@container");function r(l,c){l.up=(...o)=>t(e.breakpoints.up(...o),c),l.down=(...o)=>t(e.breakpoints.down(...o),c),l.between=(...o)=>t(e.breakpoints.between(...o),c),l.only=(...o)=>t(e.breakpoints.only(...o),c),l.not=(...o)=>{const g=t(e.breakpoints.not(...o),c);return g.includes("not all and")?g.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):g}}const n={},a=l=>(r(n,l),n);return r(a),{...e,containerQueries:a}}const Cde={borderRadius:4};function Ex(e,t){return t?ko(e,t,{clone:!1}):e}const N2={xs:0,sm:600,md:900,lg:1200,xl:1536},V6={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${N2[e]}px)`},Tde={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:N2[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function Yd(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const l=n.breakpoints||V6;return t.reduce((c,o,g)=>(c[l.up(l.keys[g])]=r(t[g]),c),{})}if(typeof t=="object"){const l=n.breakpoints||V6;return Object.keys(t).reduce((c,o)=>{if(wde(l.keys,o)){const g=Sde(n.containerQueries?n:Tde,o);g&&(c[g]=r(t[o],o))}else if(Object.keys(l.values||N2).includes(o)){const g=l.up(o);c[g]=r(t[o],o)}else{const g=o;c[g]=t[g]}return c},{})}return r(t)}function qH(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,a)=>{const l=e.up(a);return n[l]={},n},{}))||{}}function VH(e,t){return e.reduce((r,n)=>{const a=r[n];return(!a||Object.keys(a).length===0)&&delete r[n],r},t)}function Ade(e,...t){const r=qH(e),n=[r,...t].reduce((a,l)=>ko(a,l),{});return VH(Object.keys(r),n)}function Pde(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((a,l)=>{l<e.length&&(r[a]=!0)}):n.forEach(a=>{e[a]!=null&&(r[a]=!0)}),r}function QR({values:e,breakpoints:t,base:r}){const n=r||Pde(e,t),a=Object.keys(n);if(a.length===0)return e;let l;return a.reduce((c,o,g)=>(Array.isArray(e)?(c[o]=e[g]!=null?e[g]:e[l],l=g):typeof e=="object"?(c[o]=e[o]!=null?e[o]:e[l],l=o):c[o]=e,c),{})}function jt(e){if(typeof e!="string")throw new Error(Sp(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Xm(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,e);if(n!=null)return n}return t.split(".").reduce((n,a)=>n&&n[a]!=null?n[a]:null,e)}function iE(e,t,r,n=r){let a;return typeof e=="function"?a=e(r):Array.isArray(e)?a=e[r]||n:a=Xm(e,r)||n,t&&(a=t(a,n,e)),a}function uo(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:a}=e,l=c=>{if(c[t]==null)return null;const o=c[t],g=c.theme,m=Xm(g,n)||{};return Yd(c,o,E=>{let R=iE(m,a,E);return E===R&&typeof E=="string"&&(R=iE(m,a,`${t}${E==="default"?"":jt(E)}`,E)),r===!1?R:{[r]:R}})};return l.propTypes={},l.filterProps=[t],l}function Rde(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const Mde={m:"margin",p:"padding"},Ode={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},H6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kde=Rde(e=>{if(e.length>2)if(H6[e])e=H6[e];else return[e];const[t,r]=e.split(""),n=Mde[t],a=Ode[r]||"";return Array.isArray(a)?a.map(l=>n+l):[n+a]}),uz=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],dz=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...uz,...dz];function q1(e,t,r,n){const a=Xm(e,t,!0)??r;return typeof a=="number"||typeof a=="string"?l=>typeof l=="string"?l:typeof a=="string"?a.startsWith("var(")&&l===0?0:a.startsWith("var(")&&l===1?a:`calc(${l} * ${a})`:a*l:Array.isArray(a)?l=>{if(typeof l=="string")return l;const c=Math.abs(l),o=a[c];return l>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof a=="function"?a:()=>{}}function j2(e){return q1(e,"spacing",8)}function Yy(e,t){return typeof t=="string"||t==null?t:e(t)}function Ide(e,t){return r=>e.reduce((n,a)=>(n[a]=Yy(t,r),n),{})}function Dde(e,t,r,n){if(!t.includes(r))return null;const a=kde(r),l=Ide(a,n),c=e[r];return Yd(e,c,l)}function HH(e,t){const r=j2(e.theme);return Object.keys(e).map(n=>Dde(e,t,n,r)).reduce(Ex,{})}function Ni(e){return HH(e,uz)}Ni.propTypes={};Ni.filterProps=uz;function ji(e){return HH(e,dz)}ji.propTypes={};ji.filterProps=dz;function GH(e=8,t=j2({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(l=>{const c=t(l);return typeof c=="number"?`${c}px`:c}).join(" ");return r.mui=!0,r}function $2(...e){const t=e.reduce((n,a)=>(a.filterProps.forEach(l=>{n[l]=a}),n),{}),r=n=>Object.keys(n).reduce((a,l)=>t[l]?Ex(a,t[l](n)):a,{});return r.propTypes={},r.filterProps=e.reduce((n,a)=>n.concat(a.filterProps),[]),r}function Fu(e){return typeof e!="number"?e:`${e}px solid`}function Zu(e,t){return uo({prop:e,themeKey:"borders",transform:t})}const zde=Zu("border",Fu),Lde=Zu("borderTop",Fu),Bde=Zu("borderRight",Fu),Fde=Zu("borderBottom",Fu),Nde=Zu("borderLeft",Fu),jde=Zu("borderColor"),$de=Zu("borderTopColor"),Ude=Zu("borderRightColor"),qde=Zu("borderBottomColor"),Vde=Zu("borderLeftColor"),Hde=Zu("outline",Fu),Gde=Zu("outlineColor"),U2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=q1(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:Yy(t,n)});return Yd(e,e.borderRadius,r)}return null};U2.propTypes={};U2.filterProps=["borderRadius"];$2(zde,Lde,Bde,Fde,Nde,jde,$de,Ude,qde,Vde,U2,Hde,Gde);const q2=e=>{if(e.gap!==void 0&&e.gap!==null){const t=q1(e.theme,"spacing",8),r=n=>({gap:Yy(t,n)});return Yd(e,e.gap,r)}return null};q2.propTypes={};q2.filterProps=["gap"];const V2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=q1(e.theme,"spacing",8),r=n=>({columnGap:Yy(t,n)});return Yd(e,e.columnGap,r)}return null};V2.propTypes={};V2.filterProps=["columnGap"];const H2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=q1(e.theme,"spacing",8),r=n=>({rowGap:Yy(t,n)});return Yd(e,e.rowGap,r)}return null};H2.propTypes={};H2.filterProps=["rowGap"];const Zde=uo({prop:"gridColumn"}),Wde=uo({prop:"gridRow"}),Kde=uo({prop:"gridAutoFlow"}),Xde=uo({prop:"gridAutoColumns"}),Yde=uo({prop:"gridAutoRows"}),Qde=uo({prop:"gridTemplateColumns"}),Jde=uo({prop:"gridTemplateRows"}),efe=uo({prop:"gridTemplateAreas"}),tfe=uo({prop:"gridArea"});$2(q2,V2,H2,Zde,Wde,Kde,Xde,Yde,Qde,Jde,efe,tfe);function Ub(e,t){return t==="grey"?t:e}const rfe=uo({prop:"color",themeKey:"palette",transform:Ub}),nfe=uo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ub}),afe=uo({prop:"backgroundColor",themeKey:"palette",transform:Ub});$2(rfe,nfe,afe);function Xc(e){return e<=1&&e!==0?`${e*100}%`:e}const ife=uo({prop:"width",transform:Xc}),fz=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var a,l,c,o,g;const n=((c=(l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.values)==null?void 0:c[r])||N2[r];return n?((g=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:g.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Xc(r)}};return Yd(e,e.maxWidth,t)}return null};fz.filterProps=["maxWidth"];const ofe=uo({prop:"minWidth",transform:Xc}),sfe=uo({prop:"height",transform:Xc}),lfe=uo({prop:"maxHeight",transform:Xc}),cfe=uo({prop:"minHeight",transform:Xc});uo({prop:"size",cssProperty:"width",transform:Xc});uo({prop:"size",cssProperty:"height",transform:Xc});const ufe=uo({prop:"boxSizing"});$2(ife,fz,ofe,sfe,lfe,cfe,ufe);const V1={border:{themeKey:"borders",transform:Fu},borderTop:{themeKey:"borders",transform:Fu},borderRight:{themeKey:"borders",transform:Fu},borderBottom:{themeKey:"borders",transform:Fu},borderLeft:{themeKey:"borders",transform:Fu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:U2},color:{themeKey:"palette",transform:Ub},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ub},backgroundColor:{themeKey:"palette",transform:Ub},p:{style:ji},pt:{style:ji},pr:{style:ji},pb:{style:ji},pl:{style:ji},px:{style:ji},py:{style:ji},padding:{style:ji},paddingTop:{style:ji},paddingRight:{style:ji},paddingBottom:{style:ji},paddingLeft:{style:ji},paddingX:{style:ji},paddingY:{style:ji},paddingInline:{style:ji},paddingInlineStart:{style:ji},paddingInlineEnd:{style:ji},paddingBlock:{style:ji},paddingBlockStart:{style:ji},paddingBlockEnd:{style:ji},m:{style:Ni},mt:{style:Ni},mr:{style:Ni},mb:{style:Ni},ml:{style:Ni},mx:{style:Ni},my:{style:Ni},margin:{style:Ni},marginTop:{style:Ni},marginRight:{style:Ni},marginBottom:{style:Ni},marginLeft:{style:Ni},marginX:{style:Ni},marginY:{style:Ni},marginInline:{style:Ni},marginInlineStart:{style:Ni},marginInlineEnd:{style:Ni},marginBlock:{style:Ni},marginBlockStart:{style:Ni},marginBlockEnd:{style:Ni},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:q2},rowGap:{style:H2},columnGap:{style:V2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Xc},maxWidth:{style:fz},minWidth:{transform:Xc},height:{transform:Xc},maxHeight:{transform:Xc},minHeight:{transform:Xc},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function dfe(...e){const t=e.reduce((n,a)=>n.concat(Object.keys(a)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function ffe(e,t){return typeof e=="function"?e(t):e}function hfe(){function e(r,n,a,l){const c={[r]:n,theme:a},o=l[r];if(!o)return{[r]:n};const{cssProperty:g=r,themeKey:m,transform:_,style:E}=o;if(n==null)return null;if(m==="typography"&&n==="inherit")return{[r]:n};const R=Xm(a,m)||{};return E?E(c):Yd(c,n,I=>{let B=iE(R,_,I);return I===B&&typeof I=="string"&&(B=iE(R,_,`${r}${I==="default"?"":jt(I)}`,I)),g===!1?B:{[g]:B}})}function t(r){const{sx:n,theme:a={}}=r||{};if(!n)return null;const l=a.unstable_sxConfig??V1;function c(o){let g=o;if(typeof o=="function")g=o(a);else if(typeof o!="object")return o;if(!g)return null;const m=qH(a.breakpoints),_=Object.keys(m);let E=m;return Object.keys(g).forEach(R=>{const O=ffe(g[R],a);if(O!=null)if(typeof O=="object")if(l[R])E=Ex(E,e(R,O,a,l));else{const I=Yd({theme:a},O,B=>({[R]:B}));dfe(I,O)?E[R]=t({sx:O,theme:a}):E=Ex(E,I)}else E=Ex(E,e(R,O,a,l))}),xde(a,VH(_,E))}return Array.isArray(n)?n.map(c):c(n)}return t}const ng=hfe();ng.filterProps=["sx"];function pfe(e,t){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let a=r.getColorSchemeSelector(e);return a==="&"?t:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:t})}return r.palette.mode===e?t:{}}function G2(e={},...t){const{breakpoints:r={},palette:n={},spacing:a,shape:l={},...c}=e,o=_de(r),g=GH(a);let m=ko({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:g,shape:{...Cde,...l}},c);return m=Ede(m),m.applyStyles=pfe,m=t.reduce((_,E)=>ko(_,E),m),m.unstable_sxConfig={...V1,...c==null?void 0:c.unstable_sxConfig},m.unstable_sx=function(E){return ng({sx:E,theme:this})},m}function mfe(e){return Object.keys(e).length===0}function hz(e=null){const t=S.useContext(U1);return!t||mfe(t)?e:t}const gfe=G2();function Z2(e=gfe){return hz(e)}function yfe({styles:e,themeId:t,defaultTheme:r={}}){const n=Z2(r),a=typeof e=="function"?e(t&&n[t]||n):e;return Oe.jsx(jH,{styles:a})}const vfe=e=>{var n;const t={systemProps:{},otherProps:{}},r=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??V1;return Object.keys(e).forEach(a=>{r[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]}),t};function pz(e){const{sx:t,...r}=e,{systemProps:n,otherProps:a}=vfe(r);let l;return Array.isArray(t)?l=[n,...t]:typeof t=="function"?l=(...c)=>{const o=t(...c);return uh(o)?{...n,...o}:n}:l={...n,...t},{...a,sx:l}}const G6=e=>e,bfe=()=>{let e=G6;return{configure(t){e=t},generate(t){return e(t)},reset(){e=G6}}},ZH=bfe();function WH(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=WH(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function er(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=WH(e))&&(n&&(n+=" "),n+=t);return n}function _fe(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:a}=e,l=$H("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(ng);return S.forwardRef(function(g,m){const _=Z2(r),{className:E,component:R="div",...O}=pz(g);return Oe.jsx(l,{as:R,ref:m,className:er(E,a?a(n):n),theme:t&&_[t]||_,...O})})}const xfe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Gr(e,t,r="Mui"){const n=xfe[t];return n?`${r}-${n}`:`${ZH.generate(e)}-${t}`}function Zr(e,t,r="Mui"){const n={};return t.forEach(a=>{n[a]=Gr(e,a,r)}),n}function KH(e){const{variants:t,...r}=e,n={variants:t,style:q6(r),isProcessed:!0};return n.style===r||t&&t.forEach(a=>{typeof a.style!="function"&&(a.style=q6(a.style))}),n}const wfe=G2();function JR(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Sfe(e){return e?(t,r)=>r[e]:null}function Efe(e,t,r){e.theme=Tfe(e.theme)?r:e.theme[t]||e.theme}function ES(e,t){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(n=>ES(e,n));if(Array.isArray(r==null?void 0:r.variants)){let n;if(r.isProcessed)n=r.style;else{const{variants:a,...l}=r;n=l}return XH(e,r.variants,[n])}return r!=null&&r.isProcessed?r.style:r}function XH(e,t,r=[]){var a;let n;e:for(let l=0;l<t.length;l+=1){const c=t[l];if(typeof c.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!c.props(n))continue}else for(const o in c.props)if(e[o]!==c.props[o]&&((a=e.ownerState)==null?void 0:a[o])!==c.props[o])continue e;typeof c.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(c.style(n))):r.push(c.style)}return r}function YH(e={}){const{themeId:t,defaultTheme:r=wfe,rootShouldForwardProp:n=JR,slotShouldForwardProp:a=JR}=e;function l(o){Efe(o,t,r)}return(o,g={})=>{vde(o,G=>G.filter(V=>V!==ng));const{name:m,slot:_,skipVariantsResolver:E,skipSx:R,overridesResolver:O=Sfe(Pfe(_)),...I}=g,B=E!==void 0?E:_&&_!=="Root"&&_!=="root"||!1,$=R||!1;let q=JR;_==="Root"||_==="root"?q=n:_?q=a:Afe(o)&&(q=void 0);const j=$H(o,{shouldForwardProp:q,label:Cfe(),...I}),F=G=>{if(G.__emotion_real===G)return G;if(typeof G=="function")return function(ee){return ES(ee,G)};if(uh(G)){const V=KH(G);return V.variants?function(ne){return ES(ne,V)}:V.style}return G},N=(...G)=>{const V=[],ee=G.map(F),ne=[];if(V.push(l),m&&O&&ne.push(function(le){var ce,Ce;const ve=(Ce=(ce=le.theme.components)==null?void 0:ce[m])==null?void 0:Ce.styleOverrides;if(!ve)return null;const xe={};for(const Se in ve)xe[Se]=ES(le,ve[Se]);return O(le,xe)}),m&&!B&&ne.push(function(le){var xe,ce;const we=le.theme,ve=(ce=(xe=we==null?void 0:we.components)==null?void 0:xe[m])==null?void 0:ce.variants;return ve?XH(le,ve):null}),$||ne.push(ng),Array.isArray(ee[0])){const te=ee.shift(),le=new Array(V.length).fill(""),we=new Array(ne.length).fill("");let ve;ve=[...le,...te,...we],ve.raw=[...le,...te.raw,...we],V.unshift(ve)}const ae=[...V,...ee,...ne],X=j(...ae);return o.muiName&&(X.muiName=o.muiName),X};return j.withConfig&&(N.withConfig=j.withConfig),N}}function Cfe(e,t){return void 0}function Tfe(e){for(const t in e)return!1;return!0}function Afe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Pfe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const Rfe=YH();function c1(e,t){const r={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=n;if(a==="components"||a==="slots")r[a]={...e[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const l=e[a],c=t[a];if(!c)r[a]=l||{};else if(!l)r[a]=c;else{r[a]={...c};for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const g=o;r[a][g]=c1(l[g],c[g])}}}else r[a]===void 0&&(r[a]=e[a])}return r}function QH(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:c1(t.components[r].defaultProps,n)}function JH({props:e,name:t,defaultTheme:r,themeId:n}){let a=Z2(r);return n&&(a=a[n]||a),QH({theme:a,name:t,props:e})}const Uu=typeof window<"u"?S.useLayoutEffect:S.useEffect;function Mfe(e,t,r,n,a){const[l,c]=S.useState(()=>a&&r?r(e).matches:n?n(e).matches:t);return Uu(()=>{if(!r)return;const o=r(e),g=()=>{c(o.matches)};return g(),o.addEventListener("change",g),()=>{o.removeEventListener("change",g)}},[e,r]),l}const Ofe={...$S},eG=Ofe.useSyncExternalStore;function kfe(e,t,r,n,a){const l=S.useCallback(()=>t,[t]),c=S.useMemo(()=>{if(a&&r)return()=>r(e).matches;if(n!==null){const{matches:_}=n(e);return()=>_}return l},[l,e,n,a,r]),[o,g]=S.useMemo(()=>{if(r===null)return[l,()=>()=>{}];const _=r(e);return[()=>_.matches,E=>(_.addEventListener("change",E),()=>{_.removeEventListener("change",E)})]},[l,r,e]);return eG(g,o,c)}function tG(e={}){const{themeId:t}=e;return function(n,a={}){let l=hz();l&&t&&(l=l[t]||l);const c=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:g=c?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:_=!1}=QH({name:"MuiUseMediaQuery",props:a,theme:l});let E=typeof n=="function"?n(l):n;return E=E.replace(/^@media( ?)/m,""),E.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(eG!==void 0?kfe:Mfe)(E,o,g,m,_)}}tG();function Ife(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function mz(e,t=0,r=1){return Ife(e,t,r)}function Dfe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,a)=>a<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function ag(e){if(e.type)return e;if(e.charAt(0)==="#")return ag(Dfe(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Sp(9,e));let n=e.substring(t+1,e.length-1),a;if(r==="color"){if(n=n.split(" "),a=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Sp(10,a))}else n=n.split(",");return n=n.map(l=>parseFloat(l)),{type:r,values:n,colorSpace:a}}const zfe=e=>{const t=ag(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},dx=(e,t)=>{try{return zfe(e)}catch{return e}};function W2(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((a,l)=>l<3?parseInt(a,10):a):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function rG(e){e=ag(e);const{values:t}=e,r=t[0],n=t[1]/100,a=t[2]/100,l=n*Math.min(a,1-a),c=(m,_=(m+r/30)%12)=>a-l*Math.max(Math.min(_-3,9-_,1),-1);let o="rgb";const g=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return e.type==="hsla"&&(o+="a",g.push(t[3])),W2({type:o,values:g})}function iI(e){e=ag(e);let t=e.type==="hsl"||e.type==="hsla"?ag(rG(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Lfe(e,t){const r=iI(e),n=iI(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function En(e,t){return e=ag(e),t=mz(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,W2(e)}function Vw(e,t,r){try{return En(e,t)}catch{return e}}function F_(e,t){if(e=ag(e),t=mz(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return W2(e)}function qa(e,t,r){try{return F_(e,t)}catch{return e}}function rv(e,t){if(e=ag(e),t=mz(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return W2(e)}function Va(e,t,r){try{return rv(e,t)}catch{return e}}function oI(e,t=.15){return iI(e)>.5?F_(e,t):rv(e,t)}function Hw(e,t,r){try{return oI(e,t)}catch{return e}}const nG=S.createContext(null);function gz(){return S.useContext(nG)}const Bfe=typeof Symbol=="function"&&Symbol.for,Ffe=Bfe?Symbol.for("mui.nested"):"__THEME_NESTED__";function Nfe(e,t){return typeof t=="function"?t(e):{...e,...t}}function jfe(e){const{children:t,theme:r}=e,n=gz(),a=S.useMemo(()=>{const l=n===null?{...r}:Nfe(n,r);return l!=null&&(l[Ffe]=n!==null),l},[r,n]);return Oe.jsx(nG.Provider,{value:a,children:t})}const aG=S.createContext();function $fe({value:e,...t}){return Oe.jsx(aG.Provider,{value:e??!0,...t})}const nv=()=>S.useContext(aG)??!1,iG=S.createContext(void 0);function Ufe({value:e,children:t}){return Oe.jsx(iG.Provider,{value:e,children:t})}function qfe(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const a=t.components[r];return a.defaultProps?c1(a.defaultProps,n):!a.styleOverrides&&!a.variants?c1(a,n):n}function Vfe({props:e,name:t}){const r=S.useContext(iG);return qfe({props:e,name:t,theme:{components:r}})}const Z6={};function W6(e,t,r,n=!1){return S.useMemo(()=>{const a=e&&t[e]||t;if(typeof r=="function"){const l=r(a),c=e?{...t,[e]:l}:l;return n?()=>c:c}return e?{...t,[e]:r}:{...t,...r}},[e,t,r,n])}function oG(e){const{children:t,theme:r,themeId:n}=e,a=hz(Z6),l=gz()||Z6,c=W6(n,a,r),o=W6(n,l,r,!0),g=(n?c[n]:c).direction==="rtl";return Oe.jsx(jfe,{theme:o,children:Oe.jsx(U1.Provider,{value:c,children:Oe.jsx($fe,{value:g,children:Oe.jsx(Ufe,{value:n?c[n].components:c.components,children:t})})})})}const K6={theme:void 0};function Hfe(e){let t,r;return function(a){let l=t;return(l===void 0||a.theme!==r)&&(K6.theme=a.theme,l=KH(e(K6)),t=l,r=a.theme),l}}const yz="mode",vz="color-scheme",Gfe="data-color-scheme";function Zfe(e){const{defaultMode:t="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:a=yz,colorSchemeStorageKey:l=vz,attribute:c=Gfe,colorSchemeNode:o="document.documentElement",nonce:g}=e||{};let m="",_=c;if(c==="class"&&(_=".%s"),c==="data"&&(_="[data-%s]"),_.startsWith(".")){const R=_.substring(1);m+=`${o}.classList.remove('${R}'.replace('%s', light), '${R}'.replace('%s', dark));
      ${o}.classList.add('${R}'.replace('%s', colorScheme));`}const E=_.match(/\[([^\]]+)\]/);if(E){const[R,O]=E[1].split("=");O||(m+=`${o}.removeAttribute('${R}'.replace('%s', light));
      ${o}.removeAttribute('${R}'.replace('%s', dark));`),m+=`
      ${o}.setAttribute('${R}'.replace('%s', colorScheme), ${O?`${O}.replace('%s', colorScheme)`:'""'});`}else m+=`${o}.setAttribute('${_}', colorScheme);`;return Oe.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${t}';
  const dark = localStorage.getItem('${l}-dark') || '${n}';
  const light = localStorage.getItem('${l}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Wfe(){}const Kfe=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(r){if(typeof window>"u")return;if(!t)return r;let n;try{n=t.localStorage.getItem(e)}catch{}return n||r},set:r=>{if(t)try{t.localStorage.setItem(e,r)}catch{}},subscribe:r=>{if(!t)return Wfe;const n=a=>{const l=a.newValue;a.key===e&&r(l)};return t.addEventListener("storage",n),()=>{t.removeEventListener("storage",n)}}});function eM(){}function X6(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function sG(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function Xfe(e){return sG(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function Yfe(e){const{defaultMode:t="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:a=[],modeStorageKey:l=yz,colorSchemeStorageKey:c=vz,storageWindow:o=typeof window>"u"?void 0:window,storageManager:g=Kfe,noSsr:m=!1}=e,_=a.join(","),E=a.length>1,R=S.useMemo(()=>g==null?void 0:g({key:l,storageWindow:o}),[g,l,o]),O=S.useMemo(()=>g==null?void 0:g({key:`${c}-light`,storageWindow:o}),[g,c,o]),I=S.useMemo(()=>g==null?void 0:g({key:`${c}-dark`,storageWindow:o}),[g,c,o]),[B,$]=S.useState(()=>{const ne=(R==null?void 0:R.get(t))||t,ae=(O==null?void 0:O.get(r))||r,X=(I==null?void 0:I.get(n))||n;return{mode:ne,systemMode:X6(ne),lightColorScheme:ae,darkColorScheme:X}}),[q,j]=S.useState(m||!E);S.useEffect(()=>{j(!0)},[]);const F=Xfe(B),N=S.useCallback(ne=>{$(ae=>{if(ne===ae.mode)return ae;const X=ne??t;return R==null||R.set(X),{...ae,mode:X,systemMode:X6(X)}})},[R,t]),G=S.useCallback(ne=>{ne?typeof ne=="string"?ne&&!_.includes(ne)?console.error(`\`${ne}\` does not exist in \`theme.colorSchemes\`.`):$(ae=>{const X={...ae};return sG(ae,te=>{te==="light"&&(O==null||O.set(ne),X.lightColorScheme=ne),te==="dark"&&(I==null||I.set(ne),X.darkColorScheme=ne)}),X}):$(ae=>{const X={...ae},te=ne.light===null?r:ne.light,le=ne.dark===null?n:ne.dark;return te&&(_.includes(te)?(X.lightColorScheme=te,O==null||O.set(te)):console.error(`\`${te}\` does not exist in \`theme.colorSchemes\`.`)),le&&(_.includes(le)?(X.darkColorScheme=le,I==null||I.set(le)):console.error(`\`${le}\` does not exist in \`theme.colorSchemes\`.`)),X}):$(ae=>(O==null||O.set(r),I==null||I.set(n),{...ae,lightColorScheme:r,darkColorScheme:n}))},[_,O,I,r,n]),V=S.useCallback(ne=>{B.mode==="system"&&$(ae=>{const X=ne!=null&&ne.matches?"dark":"light";return ae.systemMode===X?ae:{...ae,systemMode:X}})},[B.mode]),ee=S.useRef(V);return ee.current=V,S.useEffect(()=>{if(typeof window.matchMedia!="function"||!E)return;const ne=(...X)=>ee.current(...X),ae=window.matchMedia("(prefers-color-scheme: dark)");return ae.addListener(ne),ne(ae),()=>{ae.removeListener(ne)}},[E]),S.useEffect(()=>{if(E){const ne=(R==null?void 0:R.subscribe(te=>{(!te||["light","dark","system"].includes(te))&&N(te||t)}))||eM,ae=(O==null?void 0:O.subscribe(te=>{(!te||_.match(te))&&G({light:te})}))||eM,X=(I==null?void 0:I.subscribe(te=>{(!te||_.match(te))&&G({dark:te})}))||eM;return()=>{ne(),ae(),X()}}},[G,N,_,t,o,E,R,O,I]),{...B,mode:q?B.mode:void 0,systemMode:q?B.systemMode:void 0,colorScheme:q?F:void 0,setMode:N,setColorScheme:G}}const Qfe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Jfe(e){const{themeId:t,theme:r={},modeStorageKey:n=yz,colorSchemeStorageKey:a=vz,disableTransitionOnChange:l=!1,defaultColorScheme:c,resolveTheme:o}=e,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=S.createContext(void 0),_=()=>S.useContext(m)||g,E={},R={};function O(q){var gr,Tr,Mr,Qr;const{children:j,theme:F,modeStorageKey:N=n,colorSchemeStorageKey:G=a,disableTransitionOnChange:V=l,storageManager:ee,storageWindow:ne=typeof window>"u"?void 0:window,documentNode:ae=typeof document>"u"?void 0:document,colorSchemeNode:X=typeof document>"u"?void 0:document.documentElement,disableNestedContext:te=!1,disableStyleSheetGeneration:le=!1,defaultMode:we="system",forceThemeRerender:ve=!1,noSsr:xe}=q,ce=S.useRef(!1),Ce=gz(),Se=S.useContext(m),ze=!!Se&&!te,ge=S.useMemo(()=>F||(typeof r=="function"?r():r),[F]),je=ge[t],et=je||ge,{colorSchemes:rt=E,components:vt=R,cssVarPrefix:ht}=et,ut=Object.keys(rt).filter(gn=>!!rt[gn]).join(","),Vt=S.useMemo(()=>ut.split(","),[ut]),Nt=typeof c=="string"?c:c.light,lr=typeof c=="string"?c:c.dark,Dt=rt[Nt]&&rt[lr]?we:((Tr=(gr=rt[et.defaultColorScheme])==null?void 0:gr.palette)==null?void 0:Tr.mode)||((Mr=et.palette)==null?void 0:Mr.mode),{mode:$t,setMode:tr,systemMode:ur,lightColorScheme:Xt,darkColorScheme:mr,colorScheme:Vr,setColorScheme:br}=Yfe({supportedColorSchemes:Vt,defaultLightColorScheme:Nt,defaultDarkColorScheme:lr,modeStorageKey:N,colorSchemeStorageKey:G,defaultMode:Dt,storageManager:ee,storageWindow:ne,noSsr:xe});let nn=$t,Rr=Vr;ze&&(nn=Se.mode,Rr=Se.colorScheme);let Be=Rr||et.defaultColorScheme;et.vars&&!ve&&(Be=et.defaultColorScheme);const Ye=S.useMemo(()=>{var wn;const gn=((wn=et.generateThemeVars)==null?void 0:wn.call(et))||et.vars,wr={...et,components:vt,colorSchemes:rt,cssVarPrefix:ht,vars:gn};if(typeof wr.generateSpacing=="function"&&(wr.spacing=wr.generateSpacing()),Be){const Kr=rt[Be];Kr&&typeof Kr=="object"&&Object.keys(Kr).forEach(en=>{Kr[en]&&typeof Kr[en]=="object"?wr[en]={...wr[en],...Kr[en]}:wr[en]=Kr[en]})}return o?o(wr):wr},[et,Be,vt,rt,ht]),We=et.colorSchemeSelector;Uu(()=>{if(Rr&&X&&We&&We!=="media"){const gn=We;let wr=We;if(gn==="class"&&(wr=".%s"),gn==="data"&&(wr="[data-%s]"),gn!=null&&gn.startsWith("data-")&&!gn.includes("%s")&&(wr=`[${gn}="%s"]`),wr.startsWith("."))X.classList.remove(...Vt.map(wn=>wr.substring(1).replace("%s",wn))),X.classList.add(wr.substring(1).replace("%s",Rr));else{const wn=wr.replace("%s",Rr).match(/\[([^\]]+)\]/);if(wn){const[Kr,en]=wn[1].split("=");en||Vt.forEach(Ge=>{X.removeAttribute(Kr.replace(Rr,Ge))}),X.setAttribute(Kr,en?en.replace(/"|'/g,""):"")}else X.setAttribute(wr,Rr)}}},[Rr,We,X,Vt]),S.useEffect(()=>{let gn;if(V&&ce.current&&ae){const wr=ae.createElement("style");wr.appendChild(ae.createTextNode(Qfe)),ae.head.appendChild(wr),window.getComputedStyle(ae.body),gn=setTimeout(()=>{ae.head.removeChild(wr)},1)}return()=>{clearTimeout(gn)}},[Rr,V,ae]),S.useEffect(()=>(ce.current=!0,()=>{ce.current=!1}),[]);const Ut=S.useMemo(()=>({allColorSchemes:Vt,colorScheme:Rr,darkColorScheme:mr,lightColorScheme:Xt,mode:nn,setColorScheme:br,setMode:tr,systemMode:ur}),[Vt,Rr,mr,Xt,nn,br,tr,ur,Ye.colorSchemeSelector]);let qt=!0;(le||et.cssVariables===!1||ze&&(Ce==null?void 0:Ce.cssVarPrefix)===ht)&&(qt=!1);const Ht=Oe.jsxs(S.Fragment,{children:[Oe.jsx(oG,{themeId:je?t:void 0,theme:Ye,children:j}),qt&&Oe.jsx(jH,{styles:((Qr=Ye.generateStyleSheets)==null?void 0:Qr.call(Ye))||[]})]});return ze?Ht:Oe.jsx(m.Provider,{value:Ut,children:Ht})}const I=typeof c=="string"?c:c.light,B=typeof c=="string"?c:c.dark;return{CssVarsProvider:O,useColorScheme:_,getInitColorSchemeScript:q=>Zfe({colorSchemeStorageKey:a,defaultLightColorScheme:I,defaultDarkColorScheme:B,modeStorageKey:n,...q})}}function ehe(e=""){function t(...n){if(!n.length)return"";const a=n[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${a}${t(...n.slice(1))})`:`, ${a}`}return(n,...a)=>`var(--${e?`${e}-`:""}${n}${t(...a)})`}const Y6=(e,t,r,n=[])=>{let a=e;t.forEach((l,c)=>{c===t.length-1?Array.isArray(a)?a[Number(l)]=r:a&&typeof a=="object"&&(a[l]=r):a&&typeof a=="object"&&(a[l]||(a[l]=n.includes(l)?[]:{}),a=a[l])})},the=(e,t,r)=>{function n(a,l=[],c=[]){Object.entries(a).forEach(([o,g])=>{(!r||r&&!r([...l,o]))&&g!=null&&(typeof g=="object"&&Object.keys(g).length>0?n(g,[...l,o],Array.isArray(g)?[...c,o]:c):t([...l,o],g,c))})}n(e)},rhe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function tM(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},a={},l={},c={};return the(e,(o,g,m)=>{if((typeof g=="string"||typeof g=="number")&&(!n||!n(o,g))){const _=`--${r?`${r}-`:""}${o.join("-")}`,E=rhe(o,g);Object.assign(a,{[_]:E}),Y6(l,o,`var(${_})`,m),Y6(c,o,`var(${_}, ${E})`,m)}},o=>o[0]==="vars"),{css:a,vars:l,varsWithDefaults:c}}function nhe(e,t={}){const{getSelector:r=$,disableCssColorScheme:n,colorSchemeSelector:a}=t,{colorSchemes:l={},components:c,defaultColorScheme:o="light",...g}=e,{vars:m,css:_,varsWithDefaults:E}=tM(g,t);let R=E;const O={},{[o]:I,...B}=l;if(Object.entries(B||{}).forEach(([F,N])=>{const{vars:G,css:V,varsWithDefaults:ee}=tM(N,t);R=ko(R,ee),O[F]={css:V,vars:G}}),I){const{css:F,vars:N,varsWithDefaults:G}=tM(I,t);R=ko(R,G),O[o]={css:F,vars:N}}function $(F,N){var V,ee;let G=a;if(a==="class"&&(G=".%s"),a==="data"&&(G="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(G=`[${a}="%s"]`),F){if(G==="media")return e.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${((ee=(V=l[F])==null?void 0:V.palette)==null?void 0:ee.mode)||F})`]:{":root":N}};if(G)return e.defaultColorScheme===F?`:root, ${G.replace("%s",String(F))}`:G.replace("%s",String(F))}return":root"}return{vars:R,generateThemeVars:()=>{let F={...m};return Object.entries(O).forEach(([,{vars:N}])=>{F=ko(F,N)}),F},generateStyleSheets:()=>{var ne,ae;const F=[],N=e.defaultColorScheme||"light";function G(X,te){Object.keys(te).length&&F.push(typeof X=="string"?{[X]:{...te}}:X)}G(r(void 0,{..._}),_);const{[N]:V,...ee}=O;if(V){const{css:X}=V,te=(ae=(ne=l[N])==null?void 0:ne.palette)==null?void 0:ae.mode,le=!n&&te?{colorScheme:te,...X}:{...X};G(r(N,{...le}),le)}return Object.entries(ee).forEach(([X,{css:te}])=>{var ve,xe;const le=(xe=(ve=l[X])==null?void 0:ve.palette)==null?void 0:xe.mode,we=!n&&le?{colorScheme:le,...te}:{...te};G(r(X,{...we}),we)}),F}}}function ahe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function Wr(e,t,r=void 0){const n={};for(const a in e){const l=e[a];let c="",o=!0;for(let g=0;g<l.length;g+=1){const m=l[g];m&&(c+=(o===!0?"":" ")+t(m),o=!1,r&&r[m]&&(c+=" "+r[m]))}n[a]=c}return n}function rM(e,t){var r,n,a;return S.isValidElement(e)&&t.indexOf(e.type.muiName??((a=(n=(r=e.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:a.muiName))!==-1}const ihe=G2(),ohe=Rfe("div",{name:"MuiStack",slot:"Root"});function she(e){return JH({props:e,name:"MuiStack",defaultTheme:ihe})}function lhe(e,t){const r=S.Children.toArray(e).filter(Boolean);return r.reduce((n,a,l)=>(n.push(a),l<r.length-1&&n.push(S.cloneElement(t,{key:`separator-${l}`})),n),[])}const che=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],uhe=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...Yd({theme:t},QR({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n}))};if(e.spacing){const n=j2(t),a=Object.keys(t.breakpoints.values).reduce((g,m)=>((typeof e.spacing=="object"&&e.spacing[m]!=null||typeof e.direction=="object"&&e.direction[m]!=null)&&(g[m]=!0),g),{}),l=QR({values:e.direction,base:a}),c=QR({values:e.spacing,base:a});typeof l=="object"&&Object.keys(l).forEach((g,m,_)=>{if(!l[g]){const R=m>0?l[_[m-1]]:"column";l[g]=R}}),r=ko(r,Yd({theme:t},c,(g,m)=>e.useFlexGap?{gap:Yy(n,g)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${che(m?l[m]:e.direction)}`]:Yy(n,g)}}))}return r=Ade(t.breakpoints,r),r};function dhe(e={}){const{createStyledComponent:t=ohe,useThemeProps:r=she,componentName:n="MuiStack"}=e,a=()=>Wr({root:["root"]},g=>Gr(n,g),{}),l=t(uhe);return S.forwardRef(function(g,m){const _=r(g),E=pz(_),{component:R="div",direction:O="column",spacing:I=0,divider:B,children:$,className:q,useFlexGap:j=!1,...F}=E,N={direction:O,spacing:I,useFlexGap:j},G=a();return Oe.jsx(l,{as:R,ownerState:N,ref:m,className:er(G.root,q),...F,children:B?lhe($,B):$})})}function lG(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:i1.white,default:i1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const fhe=lG();function cG(){return{text:{primary:i1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:i1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Q6=cG();function J6(e,t,r,n){const a=n.light||n,l=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=rv(e.main,a):t==="dark"&&(e.dark=F_(e.main,l)))}function hhe(e="light"){return e==="dark"?{main:yb[200],light:yb[50],dark:yb[400]}:{main:yb[700],light:yb[400],dark:yb[800]}}function phe(e="light"){return e==="dark"?{main:gb[200],light:gb[50],dark:gb[400]}:{main:gb[500],light:gb[300],dark:gb[700]}}function mhe(e="light"){return e==="dark"?{main:mb[500],light:mb[300],dark:mb[700]}:{main:mb[700],light:mb[400],dark:mb[800]}}function ghe(e="light"){return e==="dark"?{main:vb[400],light:vb[300],dark:vb[700]}:{main:vb[700],light:vb[500],dark:vb[900]}}function yhe(e="light"){return e==="dark"?{main:bb[400],light:bb[300],dark:bb[700]}:{main:bb[800],light:bb[500],dark:bb[900]}}function vhe(e="light"){return e==="dark"?{main:Z0[400],light:Z0[300],dark:Z0[700]}:{main:"#ed6c02",light:Z0[500],dark:Z0[900]}}function bz(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,...a}=e,l=e.primary||hhe(t),c=e.secondary||phe(t),o=e.error||mhe(t),g=e.info||ghe(t),m=e.success||yhe(t),_=e.warning||vhe(t);function E(B){return Lfe(B,Q6.text.primary)>=r?Q6.text.primary:fhe.text.primary}const R=({color:B,name:$,mainShade:q=500,lightShade:j=300,darkShade:F=700})=>{if(B={...B},!B.main&&B[q]&&(B.main=B[q]),!B.hasOwnProperty("main"))throw new Error(Sp(11,$?` (${$})`:"",q));if(typeof B.main!="string")throw new Error(Sp(12,$?` (${$})`:"",JSON.stringify(B.main)));return J6(B,"light",j,n),J6(B,"dark",F,n),B.contrastText||(B.contrastText=E(B.main)),B};let O;return t==="light"?O=lG():t==="dark"&&(O=cG()),ko({common:{...i1},mode:t,primary:R({color:l,name:"primary"}),secondary:R({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:o,name:"error"}),warning:R({color:_,name:"warning"}),info:R({color:g,name:"info"}),success:R({color:m,name:"success"}),grey:bue,contrastThreshold:r,getContrastText:E,augmentColor:R,tonalOffset:n,...O},a)}function bhe(e){const t={};return Object.entries(e).forEach(n=>{const[a,l]=n;typeof l=="object"&&(t[a]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),t}function _he(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function xhe(e){return Math.round(e*1e5)/1e5}const ej={textTransform:"uppercase"},tj='"Roboto", "Helvetica", "Arial", sans-serif';function uG(e,t){const{fontFamily:r=tj,fontSize:n=14,fontWeightLight:a=300,fontWeightRegular:l=400,fontWeightMedium:c=500,fontWeightBold:o=700,htmlFontSize:g=16,allVariants:m,pxToRem:_,...E}=typeof t=="function"?t(e):t,R=n/14,O=_||($=>`${$/g*R}rem`),I=($,q,j,F,N)=>({fontFamily:r,fontWeight:$,fontSize:O(q),lineHeight:j,...r===tj?{letterSpacing:`${xhe(F/q)}em`}:{},...N,...m}),B={h1:I(a,96,1.167,-1.5),h2:I(a,60,1.2,-.5),h3:I(l,48,1.167,0),h4:I(l,34,1.235,.25),h5:I(l,24,1.334,0),h6:I(c,20,1.6,.15),subtitle1:I(l,16,1.75,.15),subtitle2:I(c,14,1.57,.1),body1:I(l,16,1.5,.15),body2:I(l,14,1.43,.15),button:I(c,14,1.75,.4,ej),caption:I(l,12,1.66,.4),overline:I(l,12,2.66,1,ej),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ko({htmlFontSize:g,pxToRem:O,fontFamily:r,fontSize:n,fontWeightLight:a,fontWeightRegular:l,fontWeightMedium:c,fontWeightBold:o,...B},E,{clone:!1})}const whe=.2,She=.14,Ehe=.12;function bi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${whe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${She})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Ehe})`].join(",")}const Che=["none",bi(0,2,1,-1,0,1,1,0,0,1,3,0),bi(0,3,1,-2,0,2,2,0,0,1,5,0),bi(0,3,3,-2,0,3,4,0,0,1,8,0),bi(0,2,4,-1,0,4,5,0,0,1,10,0),bi(0,3,5,-1,0,5,8,0,0,1,14,0),bi(0,3,5,-1,0,6,10,0,0,1,18,0),bi(0,4,5,-2,0,7,10,1,0,2,16,1),bi(0,5,5,-3,0,8,10,1,0,3,14,2),bi(0,5,6,-3,0,9,12,1,0,3,16,2),bi(0,6,6,-3,0,10,14,1,0,4,18,3),bi(0,6,7,-4,0,11,15,1,0,4,20,3),bi(0,7,8,-4,0,12,17,2,0,5,22,4),bi(0,7,8,-4,0,13,19,2,0,5,24,4),bi(0,7,9,-4,0,14,21,2,0,5,26,4),bi(0,8,9,-5,0,15,22,2,0,6,28,5),bi(0,8,10,-5,0,16,24,2,0,6,30,5),bi(0,8,11,-5,0,17,26,2,0,6,32,5),bi(0,9,11,-5,0,18,28,2,0,7,34,6),bi(0,9,12,-6,0,19,29,2,0,7,36,6),bi(0,10,13,-6,0,20,31,3,0,8,38,7),bi(0,10,13,-6,0,21,33,3,0,8,40,7),bi(0,10,14,-6,0,22,35,3,0,8,42,7),bi(0,11,14,-7,0,23,36,3,0,9,44,8),bi(0,11,15,-7,0,24,38,3,0,9,46,8)],The={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rj(e){return`${Math.round(e)}ms`}function Ahe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Phe(e){const t={...The,...e.easing},r={...dG,...e.duration};return{getAutoHeightDuration:Ahe,create:(a=["all"],l={})=>{const{duration:c=r.standard,easing:o=t.easeInOut,delay:g=0,...m}=l;return(Array.isArray(a)?a:[a]).map(_=>`${_} ${typeof c=="string"?c:rj(c)} ${o} ${typeof g=="string"?g:rj(g)}`).join(",")},...e,easing:t,duration:r}}const Rhe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Mhe(e){return uh(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function fG(e={}){const t={...e};function r(n){const a=Object.entries(n);for(let l=0;l<a.length;l++){const[c,o]=a[l];!Mhe(o)||c.startsWith("unstable_")?delete n[c]:uh(o)&&(n[c]={...o},r(n[c]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function sI(e={},...t){const{breakpoints:r,mixins:n={},spacing:a,palette:l={},transitions:c={},typography:o={},shape:g,...m}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Sp(20));const _=bz(l),E=G2(e);let R=ko(E,{mixins:_he(E.breakpoints,n),palette:_,shadows:Che.slice(),typography:uG(_,o),transitions:Phe(c),zIndex:{...Rhe}});return R=ko(R,m),R=t.reduce((O,I)=>ko(O,I),R),R.unstable_sxConfig={...V1,...m==null?void 0:m.unstable_sxConfig},R.unstable_sx=function(I){return ng({sx:I,theme:this})},R.toRuntimeSource=fG,R}function lI(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Ohe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=lI(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function hG(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function pG(e){return e==="dark"?Ohe:[]}function khe(e){const{palette:t={mode:"light"},opacity:r,overlays:n,...a}=e,l=bz(t);return{palette:l,opacity:{...hG(l.mode),...r},overlays:n||pG(l.mode),...a}}function Ihe(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Dhe=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],zhe=e=>(t,r)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let l=a;if(a==="class"&&(l=".%s"),a==="data"&&(l="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(l=`[${a}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const c={};return Dhe(e.cssVarPrefix).forEach(o=>{c[o]=r[o],delete r[o]}),l==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:c}}:l?{[l.replace("%s",t)]:c,[`${n}, ${l.replace("%s",t)}`]:r}:{[n]:{...r,...c}}}if(l&&l!=="media")return`${n}, ${l.replace("%s",String(t))}`}else if(t){if(l==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(l)return l.replace("%s",String(t))}return n};function Lhe(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Zt(e,t,r){!e[t]&&r&&(e[t]=r)}function fx(e){return typeof e!="string"||!e.startsWith("hsl")?e:rG(e)}function up(e,t){`${t}Channel`in e||(e[`${t}Channel`]=dx(fx(e[t])))}function Bhe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Zf=e=>{try{return e()}catch{}},Fhe=(e="mui")=>ehe(e);function nM(e,t,r,n){if(!t)return;t=t===!0?{}:t;const a=n==="dark"?"dark":"light";if(!r){e[n]=khe({...t,palette:{mode:a,...t==null?void 0:t.palette}});return}const{palette:l,...c}=sI({...r,palette:{mode:a,...t==null?void 0:t.palette}});return e[n]={...t,palette:l,opacity:{...hG(a),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||pG(a)},c}function Nhe(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:a=!1,cssVarPrefix:l="mui",shouldSkipGeneratingVar:c=Ihe,colorSchemeSelector:o=r.light&&r.dark?"media":void 0,rootSelector:g=":root",...m}=e,_=Object.keys(r)[0],E=n||(r.light&&_!=="light"?"light":_),R=Fhe(l),{[E]:O,light:I,dark:B,...$}=r,q={...$};let j=O;if((E==="dark"&&!("dark"in r)||E==="light"&&!("light"in r))&&(j=!0),!j)throw new Error(Sp(21,E));const F=nM(q,j,m,E);I&&!q.light&&nM(q,I,void 0,"light"),B&&!q.dark&&nM(q,B,void 0,"dark");let N={defaultColorScheme:E,...F,cssVarPrefix:l,colorSchemeSelector:o,rootSelector:g,getCssVar:R,colorSchemes:q,font:{...bhe(F.typography),...F.font},spacing:Bhe(m.spacing)};Object.keys(N.colorSchemes).forEach(ae=>{const X=N.colorSchemes[ae].palette,te=le=>{const we=le.split("-"),ve=we[1],xe=we[2];return R(le,X[ve][xe])};if(X.mode==="light"&&(Zt(X.common,"background","#fff"),Zt(X.common,"onBackground","#000")),X.mode==="dark"&&(Zt(X.common,"background","#000"),Zt(X.common,"onBackground","#fff")),Lhe(X,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),X.mode==="light"){Zt(X.Alert,"errorColor",qa(X.error.light,.6)),Zt(X.Alert,"infoColor",qa(X.info.light,.6)),Zt(X.Alert,"successColor",qa(X.success.light,.6)),Zt(X.Alert,"warningColor",qa(X.warning.light,.6)),Zt(X.Alert,"errorFilledBg",te("palette-error-main")),Zt(X.Alert,"infoFilledBg",te("palette-info-main")),Zt(X.Alert,"successFilledBg",te("palette-success-main")),Zt(X.Alert,"warningFilledBg",te("palette-warning-main")),Zt(X.Alert,"errorFilledColor",Zf(()=>X.getContrastText(X.error.main))),Zt(X.Alert,"infoFilledColor",Zf(()=>X.getContrastText(X.info.main))),Zt(X.Alert,"successFilledColor",Zf(()=>X.getContrastText(X.success.main))),Zt(X.Alert,"warningFilledColor",Zf(()=>X.getContrastText(X.warning.main))),Zt(X.Alert,"errorStandardBg",Va(X.error.light,.9)),Zt(X.Alert,"infoStandardBg",Va(X.info.light,.9)),Zt(X.Alert,"successStandardBg",Va(X.success.light,.9)),Zt(X.Alert,"warningStandardBg",Va(X.warning.light,.9)),Zt(X.Alert,"errorIconColor",te("palette-error-main")),Zt(X.Alert,"infoIconColor",te("palette-info-main")),Zt(X.Alert,"successIconColor",te("palette-success-main")),Zt(X.Alert,"warningIconColor",te("palette-warning-main")),Zt(X.AppBar,"defaultBg",te("palette-grey-100")),Zt(X.Avatar,"defaultBg",te("palette-grey-400")),Zt(X.Button,"inheritContainedBg",te("palette-grey-300")),Zt(X.Button,"inheritContainedHoverBg",te("palette-grey-A100")),Zt(X.Chip,"defaultBorder",te("palette-grey-400")),Zt(X.Chip,"defaultAvatarColor",te("palette-grey-700")),Zt(X.Chip,"defaultIconColor",te("palette-grey-700")),Zt(X.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Zt(X.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Zt(X.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Zt(X.LinearProgress,"primaryBg",Va(X.primary.main,.62)),Zt(X.LinearProgress,"secondaryBg",Va(X.secondary.main,.62)),Zt(X.LinearProgress,"errorBg",Va(X.error.main,.62)),Zt(X.LinearProgress,"infoBg",Va(X.info.main,.62)),Zt(X.LinearProgress,"successBg",Va(X.success.main,.62)),Zt(X.LinearProgress,"warningBg",Va(X.warning.main,.62)),Zt(X.Skeleton,"bg",`rgba(${te("palette-text-primaryChannel")} / 0.11)`),Zt(X.Slider,"primaryTrack",Va(X.primary.main,.62)),Zt(X.Slider,"secondaryTrack",Va(X.secondary.main,.62)),Zt(X.Slider,"errorTrack",Va(X.error.main,.62)),Zt(X.Slider,"infoTrack",Va(X.info.main,.62)),Zt(X.Slider,"successTrack",Va(X.success.main,.62)),Zt(X.Slider,"warningTrack",Va(X.warning.main,.62));const le=Hw(X.background.default,.8);Zt(X.SnackbarContent,"bg",le),Zt(X.SnackbarContent,"color",Zf(()=>X.getContrastText(le))),Zt(X.SpeedDialAction,"fabHoverBg",Hw(X.background.paper,.15)),Zt(X.StepConnector,"border",te("palette-grey-400")),Zt(X.StepContent,"border",te("palette-grey-400")),Zt(X.Switch,"defaultColor",te("palette-common-white")),Zt(X.Switch,"defaultDisabledColor",te("palette-grey-100")),Zt(X.Switch,"primaryDisabledColor",Va(X.primary.main,.62)),Zt(X.Switch,"secondaryDisabledColor",Va(X.secondary.main,.62)),Zt(X.Switch,"errorDisabledColor",Va(X.error.main,.62)),Zt(X.Switch,"infoDisabledColor",Va(X.info.main,.62)),Zt(X.Switch,"successDisabledColor",Va(X.success.main,.62)),Zt(X.Switch,"warningDisabledColor",Va(X.warning.main,.62)),Zt(X.TableCell,"border",Va(Vw(X.divider,1),.88)),Zt(X.Tooltip,"bg",Vw(X.grey[700],.92))}if(X.mode==="dark"){Zt(X.Alert,"errorColor",Va(X.error.light,.6)),Zt(X.Alert,"infoColor",Va(X.info.light,.6)),Zt(X.Alert,"successColor",Va(X.success.light,.6)),Zt(X.Alert,"warningColor",Va(X.warning.light,.6)),Zt(X.Alert,"errorFilledBg",te("palette-error-dark")),Zt(X.Alert,"infoFilledBg",te("palette-info-dark")),Zt(X.Alert,"successFilledBg",te("palette-success-dark")),Zt(X.Alert,"warningFilledBg",te("palette-warning-dark")),Zt(X.Alert,"errorFilledColor",Zf(()=>X.getContrastText(X.error.dark))),Zt(X.Alert,"infoFilledColor",Zf(()=>X.getContrastText(X.info.dark))),Zt(X.Alert,"successFilledColor",Zf(()=>X.getContrastText(X.success.dark))),Zt(X.Alert,"warningFilledColor",Zf(()=>X.getContrastText(X.warning.dark))),Zt(X.Alert,"errorStandardBg",qa(X.error.light,.9)),Zt(X.Alert,"infoStandardBg",qa(X.info.light,.9)),Zt(X.Alert,"successStandardBg",qa(X.success.light,.9)),Zt(X.Alert,"warningStandardBg",qa(X.warning.light,.9)),Zt(X.Alert,"errorIconColor",te("palette-error-main")),Zt(X.Alert,"infoIconColor",te("palette-info-main")),Zt(X.Alert,"successIconColor",te("palette-success-main")),Zt(X.Alert,"warningIconColor",te("palette-warning-main")),Zt(X.AppBar,"defaultBg",te("palette-grey-900")),Zt(X.AppBar,"darkBg",te("palette-background-paper")),Zt(X.AppBar,"darkColor",te("palette-text-primary")),Zt(X.Avatar,"defaultBg",te("palette-grey-600")),Zt(X.Button,"inheritContainedBg",te("palette-grey-800")),Zt(X.Button,"inheritContainedHoverBg",te("palette-grey-700")),Zt(X.Chip,"defaultBorder",te("palette-grey-700")),Zt(X.Chip,"defaultAvatarColor",te("palette-grey-300")),Zt(X.Chip,"defaultIconColor",te("palette-grey-300")),Zt(X.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Zt(X.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Zt(X.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Zt(X.LinearProgress,"primaryBg",qa(X.primary.main,.5)),Zt(X.LinearProgress,"secondaryBg",qa(X.secondary.main,.5)),Zt(X.LinearProgress,"errorBg",qa(X.error.main,.5)),Zt(X.LinearProgress,"infoBg",qa(X.info.main,.5)),Zt(X.LinearProgress,"successBg",qa(X.success.main,.5)),Zt(X.LinearProgress,"warningBg",qa(X.warning.main,.5)),Zt(X.Skeleton,"bg",`rgba(${te("palette-text-primaryChannel")} / 0.13)`),Zt(X.Slider,"primaryTrack",qa(X.primary.main,.5)),Zt(X.Slider,"secondaryTrack",qa(X.secondary.main,.5)),Zt(X.Slider,"errorTrack",qa(X.error.main,.5)),Zt(X.Slider,"infoTrack",qa(X.info.main,.5)),Zt(X.Slider,"successTrack",qa(X.success.main,.5)),Zt(X.Slider,"warningTrack",qa(X.warning.main,.5));const le=Hw(X.background.default,.98);Zt(X.SnackbarContent,"bg",le),Zt(X.SnackbarContent,"color",Zf(()=>X.getContrastText(le))),Zt(X.SpeedDialAction,"fabHoverBg",Hw(X.background.paper,.15)),Zt(X.StepConnector,"border",te("palette-grey-600")),Zt(X.StepContent,"border",te("palette-grey-600")),Zt(X.Switch,"defaultColor",te("palette-grey-300")),Zt(X.Switch,"defaultDisabledColor",te("palette-grey-600")),Zt(X.Switch,"primaryDisabledColor",qa(X.primary.main,.55)),Zt(X.Switch,"secondaryDisabledColor",qa(X.secondary.main,.55)),Zt(X.Switch,"errorDisabledColor",qa(X.error.main,.55)),Zt(X.Switch,"infoDisabledColor",qa(X.info.main,.55)),Zt(X.Switch,"successDisabledColor",qa(X.success.main,.55)),Zt(X.Switch,"warningDisabledColor",qa(X.warning.main,.55)),Zt(X.TableCell,"border",qa(Vw(X.divider,1),.68)),Zt(X.Tooltip,"bg",Vw(X.grey[700],.92))}up(X.background,"default"),up(X.background,"paper"),up(X.common,"background"),up(X.common,"onBackground"),up(X,"divider"),Object.keys(X).forEach(le=>{const we=X[le];le!=="tonalOffset"&&we&&typeof we=="object"&&(we.main&&Zt(X[le],"mainChannel",dx(fx(we.main))),we.light&&Zt(X[le],"lightChannel",dx(fx(we.light))),we.dark&&Zt(X[le],"darkChannel",dx(fx(we.dark))),we.contrastText&&Zt(X[le],"contrastTextChannel",dx(fx(we.contrastText))),le==="text"&&(up(X[le],"primary"),up(X[le],"secondary")),le==="action"&&(we.active&&up(X[le],"active"),we.selected&&up(X[le],"selected")))})}),N=t.reduce((ae,X)=>ko(ae,X),N);const G={prefix:l,disableCssColorScheme:a,shouldSkipGeneratingVar:c,getSelector:zhe(N)},{vars:V,generateThemeVars:ee,generateStyleSheets:ne}=nhe(N,G);return N.vars=V,Object.entries(N.colorSchemes[N.defaultColorScheme]).forEach(([ae,X])=>{N[ae]=X}),N.generateThemeVars=ee,N.generateStyleSheets=ne,N.generateSpacing=function(){return GH(m.spacing,j2(this))},N.getColorSchemeSelector=ahe(o),N.spacing=N.generateSpacing(),N.shouldSkipGeneratingVar=c,N.unstable_sxConfig={...V1,...m==null?void 0:m.unstable_sxConfig},N.unstable_sx=function(X){return ng({sx:X,theme:this})},N.toRuntimeSource=fG,N}function nj(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:bz({...r===!0?{}:r.palette,mode:t})})}function u1(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:a=r?void 0:{light:!0},defaultColorScheme:l=r==null?void 0:r.mode,...c}=e,o=l||"light",g=a==null?void 0:a[o],m={...a,...r?{[o]:{...typeof g!="boolean"&&g,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return sI(e,...t);let _=r;"palette"in e||m[o]&&(m[o]!==!0?_=m[o].palette:o==="dark"&&(_={mode:"dark"}));const E=sI({...e,palette:_},...t);return E.defaultColorScheme=o,E.colorSchemes=m,E.palette.mode==="light"&&(E.colorSchemes.light={...m.light!==!0&&m.light,palette:E.palette},nj(E,"dark",m.dark)),E.palette.mode==="dark"&&(E.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:E.palette},nj(E,"light",m.light)),E}return!r&&!("light"in m)&&o==="light"&&(m.light=!0),Nhe({...c,colorSchemes:m,defaultColorScheme:o,...typeof n!="boolean"&&n},...t)}const K2=u1();function Wu(){const e=Z2(K2);return e[Nu]||e}function dn({props:e,name:t}){return JH({props:e,name:t,defaultTheme:K2,themeId:Nu})}function mG(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ls=e=>mG(e)&&e!=="classes",mt=YH({themeId:Nu,defaultTheme:K2,rootShouldForwardProp:Ls});function jhe({theme:e,...t}){const r=Nu in e?e[Nu]:void 0;return Oe.jsx(oG,{...t,themeId:r?Nu:void 0,theme:r||e})}const Gw={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:$he}=Jfe({themeId:Nu,theme:()=>u1({cssVariables:!0}),colorSchemeStorageKey:Gw.colorSchemeStorageKey,modeStorageKey:Gw.modeStorageKey,defaultColorScheme:{light:Gw.defaultLightColorScheme,dark:Gw.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:uG(e.palette,e.typography)};return t.unstable_sx=function(n){return ng({sx:n,theme:this})},t}}),Uhe=$he;function qhe({theme:e,...t}){const r=S.useMemo(()=>{if(typeof e=="function")return e;const n=Nu in e?e[Nu]:e;return"colorSchemes"in n?null:"vars"in n?e:{...e,vars:null}},[e]);return r?Oe.jsx(jhe,{theme:r,...t}):Oe.jsx(Uhe,{theme:e,...t})}function aj(...e){return e.reduce((t,r)=>r==null?t:function(...a){t.apply(this,a),r.apply(this,a)},()=>{})}function Vhe(e){return Oe.jsx(yfe,{...e,defaultTheme:K2,themeId:Nu})}function _z(e){return function(r){return Oe.jsx(Vhe,{styles:typeof e=="function"?n=>e({theme:n,...r}):e})}}function Hhe(){return pz}const Ur=Hfe;function Yr(e){return Vfe(e)}function Ghe(e){return Gr("MuiSvgIcon",e)}Zr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Zhe=e=>{const{color:t,fontSize:r,classes:n}=e,a={root:["root",t!=="inherit"&&`color${jt(t)}`,`fontSize${jt(r)}`]};return Wr(a,Ghe,n)},Whe=mt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${jt(r.color)}`],t[`fontSize${jt(r.fontSize)}`]]}})(Ur(({theme:e})=>{var t,r,n,a,l,c,o,g,m,_,E,R,O,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(t=e.transitions)==null?void 0:t.create)==null?void 0:a.call(t,"fill",{duration:(n=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:B=>!B.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((g=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:g.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((_=(m=e.typography)==null?void 0:m.pxToRem)==null?void 0:_.call(m,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,B])=>B&&B.main).map(([B])=>{var $,q;return{props:{color:B},style:{color:(q=($=(e.vars??e).palette)==null?void 0:$[B])==null?void 0:q.main}}}),{props:{color:"action"},style:{color:(R=(E=(e.vars??e).palette)==null?void 0:E.action)==null?void 0:R.active}},{props:{color:"disabled"},style:{color:(I=(O=(e.vars??e).palette)==null?void 0:O.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),cI=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiSvgIcon"}),{children:a,className:l,color:c="inherit",component:o="svg",fontSize:g="medium",htmlColor:m,inheritViewBox:_=!1,titleAccess:E,viewBox:R="0 0 24 24",...O}=n,I=S.isValidElement(a)&&a.type==="svg",B={...n,color:c,component:o,fontSize:g,instanceFontSize:t.fontSize,inheritViewBox:_,viewBox:R,hasSvgAsChild:I},$={};_||($.viewBox=R);const q=Zhe(B);return Oe.jsxs(Whe,{as:o,className:er(q.root,l),focusable:"false",color:m,"aria-hidden":E?void 0:!0,role:E?"img":void 0,ref:r,...$,...O,...I&&a.props,ownerState:B,children:[I?a.props.children:a,E?Oe.jsx("title",{children:E}):null]})});cI.muiName="SvgIcon";function hn(e,t){function r(n,a){return Oe.jsx(cI,{"data-testid":void 0,ref:a,...n,children:e})}return r.muiName=cI.muiName,S.memo(S.forwardRef(r))}function xz(e,t=166){let r;function n(...a){const l=()=>{e.apply(this,a)};clearTimeout(r),r=setTimeout(l,t)}return n.clear=()=>{clearTimeout(r)},n}function al(e){return e&&e.ownerDocument||document}function Qd(e){return al(e).defaultView||window}function ij(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let oj=0;function Khe(e){const[t,r]=S.useState(e),n=e||t;return S.useEffect(()=>{t==null&&(oj+=1,r(`mui-${oj}`))},[t]),n}const Xhe={...$S},sj=Xhe.useId;function ig(e){if(sj!==void 0){const t=sj();return e??t}return Khe(e)}function d1(e){const{controlled:t,default:r,name:n,state:a="value"}=e,{current:l}=S.useRef(t!==void 0),[c,o]=S.useState(r),g=l?t:c,m=S.useCallback(_=>{l||o(_)},[]);return[g,m]}function ju(e){const t=S.useRef(e);return Uu(()=>{t.current=e}),S.useRef((...r)=>(0,t.current)(...r)).current}function Hi(...e){const t=S.useRef(void 0),r=S.useCallback(n=>{const a=e.map(l=>{if(l==null)return null;if(typeof l=="function"){const c=l,o=c(n);return typeof o=="function"?o:()=>{c(null)}}return l.current=n,()=>{l.current=null}});return()=>{a.forEach(l=>l==null?void 0:l())}},e);return S.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function Yhe(e,t){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function wz(e,t){if(!e)return t;function r(c,o){const g={};return Object.keys(o).forEach(m=>{Yhe(m,o[m])&&typeof c[m]=="function"&&(g[m]=(..._)=>{c[m](..._),o[m](..._)})}),g}if(typeof e=="function"||typeof t=="function")return c=>{const o=typeof t=="function"?t(c):t,g=typeof e=="function"?e({...c,...o}):e,m=er(c==null?void 0:c.className,o==null?void 0:o.className,g==null?void 0:g.className),_=r(g,o);return{...o,...g,..._,...!!m&&{className:m},...(o==null?void 0:o.style)&&(g==null?void 0:g.style)&&{style:{...o.style,...g.style}},...(o==null?void 0:o.sx)&&(g==null?void 0:g.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(g.sx)?g.sx:[g.sx]]}}};const n=t,a=r(e,n),l=er(n==null?void 0:n.className,e==null?void 0:e.className);return{...t,...e,...a,...!!l&&{className:l},...(n==null?void 0:n.style)&&(e==null?void 0:e.style)&&{style:{...n.style,...e.style}},...(n==null?void 0:n.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function gG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uI(e,t){return uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},uI(e,t)}function yG(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,uI(e,t)}const lj={disabled:!1},oE=Cr.createContext(null);var Qhe=function(t){return t.scrollTop},hx="unmounted",my="exited",gy="entering",Pb="entered",dI="exiting",Ku=function(e){yG(t,e);function t(n,a){var l;l=e.call(this,n,a)||this;var c=a,o=c&&!c.isMounting?n.enter:n.appear,g;return l.appearStatus=null,n.in?o?(g=my,l.appearStatus=gy):g=Pb:n.unmountOnExit||n.mountOnEnter?g=hx:g=my,l.state={status:g},l.nextCallback=null,l}t.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===hx?{status:my}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==gy&&c!==Pb&&(l=gy):(c===gy||c===Pb)&&(l=dI)}this.updateStatus(!1,l)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,l,c,o;return l=c=o=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,o=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:o}},r.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===gy){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Lw.findDOMNode(this);c&&Qhe(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===my&&this.setState({status:hx})},r.performEnter=function(a){var l=this,c=this.props.enter,o=this.context?this.context.isMounting:a,g=this.props.nodeRef?[o]:[Lw.findDOMNode(this),o],m=g[0],_=g[1],E=this.getTimeouts(),R=o?E.appear:E.enter;if(!a&&!c||lj.disabled){this.safeSetState({status:Pb},function(){l.props.onEntered(m)});return}this.props.onEnter(m,_),this.safeSetState({status:gy},function(){l.props.onEntering(m,_),l.onTransitionEnd(R,function(){l.safeSetState({status:Pb},function(){l.props.onEntered(m,_)})})})},r.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),o=this.props.nodeRef?void 0:Lw.findDOMNode(this);if(!l||lj.disabled){this.safeSetState({status:my},function(){a.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:dI},function(){a.props.onExiting(o),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:my},function(){a.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},r.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(o){c&&(c=!1,l.nextCallback=null,a(o))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Lw.findDOMNode(this),o=a==null&&!this.props.addEndListener;if(!c||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],m=g[0],_=g[1];this.props.addEndListener(m,_)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===hx)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var o=gG(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Cr.createElement(oE.Provider,{value:null},typeof c=="function"?c(a,o):Cr.cloneElement(Cr.Children.only(c),o))},t}(Cr.Component);Ku.contextType=oE;Ku.propTypes={};function _b(){}Ku.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_b,onEntering:_b,onEntered:_b,onExit:_b,onExiting:_b,onExited:_b};Ku.UNMOUNTED=hx;Ku.EXITED=my;Ku.ENTERING=gy;Ku.ENTERED=Pb;Ku.EXITING=dI;function Jhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sz(e,t){var r=function(l){return t&&S.isValidElement(l)?t(l):l},n=Object.create(null);return e&&S.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=r(a)}),n}function epe(e,t){e=e||{},t=t||{};function r(_){return _ in t?t[_]:e[_]}var n=Object.create(null),a=[];for(var l in e)l in t?a.length&&(n[l]=a,a=[]):a.push(l);var c,o={};for(var g in t){if(n[g])for(c=0;c<n[g].length;c++){var m=n[g][c];o[n[g][c]]=r(m)}o[g]=r(g)}for(c=0;c<a.length;c++)o[a[c]]=r(a[c]);return o}function Ry(e,t,r){return r[t]!=null?r[t]:e.props[t]}function tpe(e,t){return Sz(e.children,function(r){return S.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ry(r,"appear",e),enter:Ry(r,"enter",e),exit:Ry(r,"exit",e)})})}function rpe(e,t,r){var n=Sz(e.children),a=epe(t,n);return Object.keys(a).forEach(function(l){var c=a[l];if(S.isValidElement(c)){var o=l in t,g=l in n,m=t[l],_=S.isValidElement(m)&&!m.props.in;g&&(!o||_)?a[l]=S.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:Ry(c,"exit",e),enter:Ry(c,"enter",e)}):!g&&o&&!_?a[l]=S.cloneElement(c,{in:!1}):g&&o&&S.isValidElement(m)&&(a[l]=S.cloneElement(c,{onExited:r.bind(null,c),in:m.props.in,exit:Ry(c,"exit",e),enter:Ry(c,"enter",e)}))}}),a}var npe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ape={component:"div",childFactory:function(t){return t}},Ez=function(e){yG(t,e);function t(n,a){var l;l=e.call(this,n,a)||this;var c=l.handleExited.bind(Jhe(l));return l.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},l}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,l){var c=l.children,o=l.handleExited,g=l.firstRender;return{children:g?tpe(a,o):rpe(a,c,o),firstRender:!1}},r.handleExited=function(a,l){var c=Sz(this.props.children);a.key in c||(a.props.onExited&&a.props.onExited(l),this.mounted&&this.setState(function(o){var g=nE({},o.children);return delete g[a.key],{children:g}}))},r.render=function(){var a=this.props,l=a.component,c=a.childFactory,o=gG(a,["component","childFactory"]),g=this.state.contextValue,m=npe(this.state.children).map(c);return delete o.appear,delete o.enter,delete o.exit,l===null?Cr.createElement(oE.Provider,{value:g},m):Cr.createElement(oE.Provider,{value:g},Cr.createElement(l,o,m))},t}(Cr.Component);Ez.propTypes={};Ez.defaultProps=ape;const cj={};function vG(e,t){const r=S.useRef(cj);return r.current===cj&&(r.current=e(t)),r}const ipe=[];function ope(e){S.useEffect(e,ipe)}class X2{constructor(){or(this,"currentId",null);or(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});or(this,"disposeEffect",()=>this.clear)}static create(){return new X2}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function Ym(){const e=vG(X2.create).current;return ope(e.disposeEffect),e}const Cz=e=>e.scrollTop;function og(e,t){const{timeout:r,easing:n,style:a={}}=e;return{duration:a.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:a.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:a.transitionDelay}}function spe(e){return Gr("MuiCollapse",e)}Zr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const lpe=e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Wr(n,spe,r)},cpe=mt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(Ur(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),upe=mt("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),dpe=mt("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),fI=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiCollapse"}),{addEndListener:a,children:l,className:c,collapsedSize:o="0px",component:g,easing:m,in:_,onEnter:E,onEntered:R,onEntering:O,onExit:I,onExited:B,onExiting:$,orientation:q="vertical",style:j,timeout:F=dG.standard,TransitionComponent:N=Ku,...G}=n,V={...n,orientation:q,collapsedSize:o},ee=lpe(V),ne=Wu(),ae=Ym(),X=S.useRef(null),te=S.useRef(),le=typeof o=="number"?`${o}px`:o,we=q==="horizontal",ve=we?"width":"height",xe=S.useRef(null),ce=Hi(r,xe),Ce=ut=>Vt=>{if(ut){const Nt=xe.current;Vt===void 0?ut(Nt):ut(Nt,Vt)}},Se=()=>X.current?X.current[we?"clientWidth":"clientHeight"]:0,ze=Ce((ut,Vt)=>{X.current&&we&&(X.current.style.position="absolute"),ut.style[ve]=le,E&&E(ut,Vt)}),ge=Ce((ut,Vt)=>{const Nt=Se();X.current&&we&&(X.current.style.position="");const{duration:lr,easing:Dt}=og({style:j,timeout:F,easing:m},{mode:"enter"});if(F==="auto"){const $t=ne.transitions.getAutoHeightDuration(Nt);ut.style.transitionDuration=`${$t}ms`,te.current=$t}else ut.style.transitionDuration=typeof lr=="string"?lr:`${lr}ms`;ut.style[ve]=`${Nt}px`,ut.style.transitionTimingFunction=Dt,O&&O(ut,Vt)}),je=Ce((ut,Vt)=>{ut.style[ve]="auto",R&&R(ut,Vt)}),et=Ce(ut=>{ut.style[ve]=`${Se()}px`,I&&I(ut)}),rt=Ce(B),vt=Ce(ut=>{const Vt=Se(),{duration:Nt,easing:lr}=og({style:j,timeout:F,easing:m},{mode:"exit"});if(F==="auto"){const Dt=ne.transitions.getAutoHeightDuration(Vt);ut.style.transitionDuration=`${Dt}ms`,te.current=Dt}else ut.style.transitionDuration=typeof Nt=="string"?Nt:`${Nt}ms`;ut.style[ve]=le,ut.style.transitionTimingFunction=lr,$&&$(ut)}),ht=ut=>{F==="auto"&&ae.start(te.current||0,ut),a&&a(xe.current,ut)};return Oe.jsx(N,{in:_,onEnter:ze,onEntered:je,onEntering:ge,onExit:et,onExited:rt,onExiting:vt,addEndListener:ht,nodeRef:xe,timeout:F==="auto"?null:F,...G,children:(ut,{ownerState:Vt,...Nt})=>Oe.jsx(cpe,{as:g,className:er(ee.root,c,{entered:ee.entered,exited:!_&&le==="0px"&&ee.hidden}[ut]),style:{[we?"minWidth":"minHeight"]:le,...j},ref:ce,ownerState:{...V,state:ut},...Nt,children:Oe.jsx(upe,{ownerState:{...V,state:ut},className:ee.wrapper,ref:X,children:Oe.jsx(dpe,{ownerState:{...V,state:ut},className:ee.wrapperInner,children:l})})})})});fI&&(fI.muiSupportAuto=!0);function fpe(e){return Gr("MuiPaper",e)}Zr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hpe=e=>{const{square:t,elevation:r,variant:n,classes:a}=e,l={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return Wr(l,fpe,a)},ppe=mt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(Ur(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),yg=S.forwardRef(function(t,r){var O;const n=Yr({props:t,name:"MuiPaper"}),a=Wu(),{className:l,component:c="div",elevation:o=1,square:g=!1,variant:m="elevation",..._}=n,E={...n,component:c,elevation:o,square:g,variant:m},R=hpe(E);return Oe.jsx(ppe,{as:c,ownerState:E,className:er(R.root,l),ref:r,..._,style:{...m==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[o],...a.vars&&{"--Paper-overlay":(O=a.vars.overlays)==null?void 0:O[o]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${En("#fff",lI(o))}, ${En("#fff",lI(o))})`}},..._.style}})});function mpe(e){return typeof e=="string"}function bG(e,t,r){return e===void 0||mpe(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function _G(e,t,r){return typeof e=="function"?e(t,r):e}function sE(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function uj(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function xG(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:a,className:l}=e;if(!t){const O=er(r==null?void 0:r.className,l,a==null?void 0:a.className,n==null?void 0:n.className),I={...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},B={...r,...a,...n};return O.length>0&&(B.className=O),Object.keys(I).length>0&&(B.style=I),{props:B,internalRef:void 0}}const c=sE({...a,...n}),o=uj(n),g=uj(a),m=t(c),_=er(m==null?void 0:m.className,r==null?void 0:r.className,l,a==null?void 0:a.className,n==null?void 0:n.className),E={...m==null?void 0:m.style,...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},R={...m,...r,...g,...o};return _.length>0&&(R.className=_),Object.keys(E).length>0&&(R.style=E),{props:R,internalRef:m.ref}}function Jr(e,t){const{className:r,elementType:n,ownerState:a,externalForwardedProps:l,internalForwardedProps:c,shouldForwardComponentProp:o=!1,...g}=t,{component:m,slots:_={[e]:void 0},slotProps:E={[e]:void 0},...R}=l,O=_[e]||n,I=_G(E[e],a),{props:{component:B,...$},internalRef:q}=xG({className:r,...g,externalForwardedProps:e==="root"?R:void 0,externalSlotProps:I}),j=Hi(q,I==null?void 0:I.ref,t.ref),F=e==="root"?B||m:B,N=bG(O,{...e==="root"&&!m&&!_[e]&&c,...e!=="root"&&!_[e]&&c,...$,...F&&!o&&{as:F},...F&&o&&{component:F},ref:j},a);return[O,N]}function m_(e){try{return e.matches(":focus-visible")}catch{}return!1}class lE{constructor(){or(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new lE}static use(){const t=vG(lE.create).current,[r,n]=S.useState(!1);return t.shouldMount=r,t.setShouldMount=n,S.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=ype(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function gpe(){return lE.use()}function ype(){let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r}function vpe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:a,rippleY:l,rippleSize:c,in:o,onExited:g,timeout:m}=e,[_,E]=S.useState(!1),R=er(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),O={width:c,height:c,top:-(c/2)+l,left:-(c/2)+a},I=er(r.child,_&&r.childLeaving,n&&r.childPulsate);return!o&&!_&&E(!0),S.useEffect(()=>{if(!o&&g!=null){const B=setTimeout(g,m);return()=>{clearTimeout(B)}}},[g,o,m]),Oe.jsx("span",{className:R,style:O,children:Oe.jsx("span",{className:I})})}const Bu=Zr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),hI=550,bpe=80,_pe=gg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,xpe=gg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,wpe=gg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Spe=mt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Epe=mt(vpe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Bu.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${_pe};
    animation-duration: ${hI}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Bu.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Bu.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Bu.childLeaving} {
    opacity: 0;
    animation-name: ${xpe};
    animation-duration: ${hI}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Bu.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${wpe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Cpe=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:l={},className:c,...o}=n,[g,m]=S.useState([]),_=S.useRef(0),E=S.useRef(null);S.useEffect(()=>{E.current&&(E.current(),E.current=null)},[g]);const R=S.useRef(!1),O=Ym(),I=S.useRef(null),B=S.useRef(null),$=S.useCallback(N=>{const{pulsate:G,rippleX:V,rippleY:ee,rippleSize:ne,cb:ae}=N;m(X=>[...X,Oe.jsx(Epe,{classes:{ripple:er(l.ripple,Bu.ripple),rippleVisible:er(l.rippleVisible,Bu.rippleVisible),ripplePulsate:er(l.ripplePulsate,Bu.ripplePulsate),child:er(l.child,Bu.child),childLeaving:er(l.childLeaving,Bu.childLeaving),childPulsate:er(l.childPulsate,Bu.childPulsate)},timeout:hI,pulsate:G,rippleX:V,rippleY:ee,rippleSize:ne},_.current)]),_.current+=1,E.current=ae},[l]),q=S.useCallback((N={},G={},V=()=>{})=>{const{pulsate:ee=!1,center:ne=a||G.pulsate,fakeElement:ae=!1}=G;if((N==null?void 0:N.type)==="mousedown"&&R.current){R.current=!1;return}(N==null?void 0:N.type)==="touchstart"&&(R.current=!0);const X=ae?null:B.current,te=X?X.getBoundingClientRect():{width:0,height:0,left:0,top:0};let le,we,ve;if(ne||N===void 0||N.clientX===0&&N.clientY===0||!N.clientX&&!N.touches)le=Math.round(te.width/2),we=Math.round(te.height/2);else{const{clientX:xe,clientY:ce}=N.touches&&N.touches.length>0?N.touches[0]:N;le=Math.round(xe-te.left),we=Math.round(ce-te.top)}if(ne)ve=Math.sqrt((2*te.width**2+te.height**2)/3),ve%2===0&&(ve+=1);else{const xe=Math.max(Math.abs((X?X.clientWidth:0)-le),le)*2+2,ce=Math.max(Math.abs((X?X.clientHeight:0)-we),we)*2+2;ve=Math.sqrt(xe**2+ce**2)}N!=null&&N.touches?I.current===null&&(I.current=()=>{$({pulsate:ee,rippleX:le,rippleY:we,rippleSize:ve,cb:V})},O.start(bpe,()=>{I.current&&(I.current(),I.current=null)})):$({pulsate:ee,rippleX:le,rippleY:we,rippleSize:ve,cb:V})},[a,$,O]),j=S.useCallback(()=>{q({},{pulsate:!0})},[q]),F=S.useCallback((N,G)=>{if(O.clear(),(N==null?void 0:N.type)==="touchend"&&I.current){I.current(),I.current=null,O.start(0,()=>{F(N,G)});return}I.current=null,m(V=>V.length>0?V.slice(1):V),E.current=G},[O]);return S.useImperativeHandle(r,()=>({pulsate:j,start:q,stop:F}),[j,q,F]),Oe.jsx(Spe,{className:er(Bu.root,l.root,c),ref:B,...o,children:Oe.jsx(Ez,{component:null,exit:!0,children:g})})});function Tpe(e){return Gr("MuiButtonBase",e)}const Ape=Zr("MuiButtonBase",["root","disabled","focusVisible"]),Ppe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:a}=e,c=Wr({root:["root",t&&"disabled",r&&"focusVisible"]},Tpe,a);return r&&n&&(c.root+=` ${n}`),c},Rpe=mt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ape.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ep=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiButtonBase"}),{action:a,centerRipple:l=!1,children:c,className:o,component:g="button",disabled:m=!1,disableRipple:_=!1,disableTouchRipple:E=!1,focusRipple:R=!1,focusVisibleClassName:O,LinkComponent:I="a",onBlur:B,onClick:$,onContextMenu:q,onDragLeave:j,onFocus:F,onFocusVisible:N,onKeyDown:G,onKeyUp:V,onMouseDown:ee,onMouseLeave:ne,onMouseUp:ae,onTouchEnd:X,onTouchMove:te,onTouchStart:le,tabIndex:we=0,TouchRippleProps:ve,touchRippleRef:xe,type:ce,...Ce}=n,Se=S.useRef(null),ze=gpe(),ge=Hi(ze.ref,xe),[je,et]=S.useState(!1);m&&je&&et(!1),S.useImperativeHandle(a,()=>({focusVisible:()=>{et(!0),Se.current.focus()}}),[]);const rt=ze.shouldMount&&!_&&!m;S.useEffect(()=>{je&&R&&!_&&ze.pulsate()},[_,R,je,ze]);const vt=dp(ze,"start",ee,E),ht=dp(ze,"stop",q,E),ut=dp(ze,"stop",j,E),Vt=dp(ze,"stop",ae,E),Nt=dp(ze,"stop",We=>{je&&We.preventDefault(),ne&&ne(We)},E),lr=dp(ze,"start",le,E),Dt=dp(ze,"stop",X,E),$t=dp(ze,"stop",te,E),tr=dp(ze,"stop",We=>{m_(We.target)||et(!1),B&&B(We)},!1),ur=ju(We=>{Se.current||(Se.current=We.currentTarget),m_(We.target)&&(et(!0),N&&N(We)),F&&F(We)}),Xt=()=>{const We=Se.current;return g&&g!=="button"&&!(We.tagName==="A"&&We.href)},mr=ju(We=>{R&&!We.repeat&&je&&We.key===" "&&ze.stop(We,()=>{ze.start(We)}),We.target===We.currentTarget&&Xt()&&We.key===" "&&We.preventDefault(),G&&G(We),We.target===We.currentTarget&&Xt()&&We.key==="Enter"&&!m&&(We.preventDefault(),$&&$(We))}),Vr=ju(We=>{R&&We.key===" "&&je&&!We.defaultPrevented&&ze.stop(We,()=>{ze.pulsate(We)}),V&&V(We),$&&We.target===We.currentTarget&&Xt()&&We.key===" "&&!We.defaultPrevented&&$(We)});let br=g;br==="button"&&(Ce.href||Ce.to)&&(br=I);const nn={};br==="button"?(nn.type=ce===void 0?"button":ce,nn.disabled=m):(!Ce.href&&!Ce.to&&(nn.role="button"),m&&(nn["aria-disabled"]=m));const Rr=Hi(r,Se),Be={...n,centerRipple:l,component:g,disabled:m,disableRipple:_,disableTouchRipple:E,focusRipple:R,tabIndex:we,focusVisible:je},Ye=Ppe(Be);return Oe.jsxs(Rpe,{as:br,className:er(Ye.root,o),ownerState:Be,onBlur:tr,onClick:$,onContextMenu:ht,onFocus:ur,onKeyDown:mr,onKeyUp:Vr,onMouseDown:vt,onMouseLeave:Nt,onMouseUp:Vt,onDragLeave:ut,onTouchEnd:Dt,onTouchMove:$t,onTouchStart:lr,ref:Rr,tabIndex:m?-1:we,type:ce,...nn,...Ce,children:[c,rt?Oe.jsx(Cpe,{ref:ge,center:l,...ve}):null]})});function dp(e,t,r,n=!1){return ju(a=>(r&&r(a),n||e[t](a),!0))}function Mpe(e){return typeof e.main=="string"}function Ope(e,t=[]){if(!Mpe(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function li(e=[]){return([,t])=>t&&Ope(t,e)}function kpe(e){return Gr("MuiCircularProgress",e)}Zr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Am=44,pI=gg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,mI=gg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Ipe=typeof pI!="string"?B_`
        animation: ${pI} 1.4s linear infinite;
      `:null,Dpe=typeof mI!="string"?B_`
        animation: ${mI} 1.4s ease-in-out infinite;
      `:null,zpe=e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e,l={root:["root",r,`color${jt(n)}`],svg:["svg"],circle:["circle",`circle${jt(r)}`,a&&"circleDisableShrink"]};return Wr(l,kpe,t)},Lpe=mt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${jt(r.color)}`]]}})(Ur(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Ipe||{animation:`${pI} 1.4s linear infinite`}},...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),Bpe=mt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Fpe=mt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${jt(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Ur(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:Dpe||{animation:`${mI} 1.4s ease-in-out infinite`}}]}))),H1=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiCircularProgress"}),{className:a,color:l="primary",disableShrink:c=!1,size:o=40,style:g,thickness:m=3.6,value:_=0,variant:E="indeterminate",...R}=n,O={...n,color:l,disableShrink:c,size:o,thickness:m,value:_,variant:E},I=zpe(O),B={},$={},q={};if(E==="determinate"){const j=2*Math.PI*((Am-m)/2);B.strokeDasharray=j.toFixed(3),q["aria-valuenow"]=Math.round(_),B.strokeDashoffset=`${((100-_)/100*j).toFixed(3)}px`,$.transform="rotate(-90deg)"}return Oe.jsx(Lpe,{className:er(I.root,a),style:{width:o,height:o,...$,...g},ownerState:O,ref:r,role:"progressbar",...q,...R,children:Oe.jsx(Bpe,{className:I.svg,ownerState:O,viewBox:`${Am/2} ${Am/2} ${Am} ${Am}`,children:Oe.jsx(Fpe,{className:I.circle,style:B,ownerState:O,cx:Am,cy:Am,r:(Am-m)/2,fill:"none",strokeWidth:m})})})});function Npe(e){return Gr("MuiIconButton",e)}const dj=Zr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),jpe=e=>{const{classes:t,disabled:r,color:n,edge:a,size:l,loading:c}=e,o={root:["root",c&&"loading",r&&"disabled",n!=="default"&&`color${jt(n)}`,a&&`edge${jt(a)}`,`size${jt(l)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Wr(o,Npe,t)},$pe=mt(Ep,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${jt(r.color)}`],r.edge&&t[`edge${jt(r.edge)}`],t[`size${jt(r.size)}`]]}})(Ur(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ur(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:En((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${dj.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${dj.loading}`]:{color:"transparent"}}))),Upe=mt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Oo=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiIconButton"}),{edge:a=!1,children:l,className:c,color:o="default",disabled:g=!1,disableFocusRipple:m=!1,size:_="medium",id:E,loading:R=null,loadingIndicator:O,...I}=n,B=ig(E),$=O??Oe.jsx(H1,{"aria-labelledby":B,color:"inherit",size:16}),q={...n,edge:a,color:o,disabled:g,disableFocusRipple:m,loading:R,loadingIndicator:$,size:_},j=jpe(q);return Oe.jsxs($pe,{id:R?B:E,className:er(j.root,c),centerRipple:!0,focusRipple:!m,disabled:g||R,ref:r,...I,ownerState:q,children:[typeof R=="boolean"&&Oe.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:Oe.jsx(Upe,{className:j.loadingIndicator,ownerState:q,children:R&&$})}),l]})});function qpe(e){return Gr("MuiTypography",e)}const fj=Zr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Vpe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Hpe=Hhe(),Gpe=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:a,variant:l,classes:c}=e,o={root:["root",l,e.align!=="inherit"&&`align${jt(t)}`,r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return Wr(o,qpe,c)},Zpe=mt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${jt(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Ur(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(li()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${jt(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),hj={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Jn=S.forwardRef(function(t,r){const{color:n,...a}=Yr({props:t,name:"MuiTypography"}),l=!Vpe[n],c=Hpe({...a,...l&&{color:n}}),{align:o="inherit",className:g,component:m,gutterBottom:_=!1,noWrap:E=!1,paragraph:R=!1,variant:O="body1",variantMapping:I=hj,...B}=c,$={...c,align:o,color:n,className:g,component:m,gutterBottom:_,noWrap:E,paragraph:R,variant:O,variantMapping:I},q=m||(R?"p":I[O]||hj[O])||"span",j=Gpe($);return Oe.jsx(Zpe,{as:q,ref:r,className:er(j.root,g),...B,ownerState:$,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...B.style}})});function Wpe(e){return Gr("MuiAppBar",e)}Zr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Kpe=e=>{const{color:t,position:r,classes:n}=e,a={root:["root",`color${jt(t)}`,`position${jt(r)}`]};return Wr(a,Wpe,n)},pj=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Xpe=mt(yg,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${jt(r.position)}`],t[`color${jt(r.color)}`]]}})(Ur(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(li(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?pj(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?pj(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Ype=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiAppBar"}),{className:a,color:l="primary",enableColorOnDark:c=!1,position:o="fixed",...g}=n,m={...n,color:l,position:o,enableColorOnDark:c},_=Kpe(m);return Oe.jsx(Xpe,{square:!0,component:"header",ownerState:m,elevation:4,className:er(_.root,a,o==="fixed"&&"mui-fixed"),ref:r,...g})});var cc="top",qu="bottom",Vu="right",uc="left",Tz="auto",G1=[cc,qu,Vu,uc],g_="start",f1="end",Qpe="clippingParents",wG="viewport",K0="popper",Jpe="reference",mj=G1.reduce(function(e,t){return e.concat([t+"-"+g_,t+"-"+f1])},[]),SG=[].concat(G1,[Tz]).reduce(function(e,t){return e.concat([t,t+"-"+g_,t+"-"+f1])},[]),eme="beforeRead",tme="read",rme="afterRead",nme="beforeMain",ame="main",ime="afterMain",ome="beforeWrite",sme="write",lme="afterWrite",cme=[eme,tme,rme,nme,ame,ime,ome,sme,lme];function yh(e){return e?(e.nodeName||"").toLowerCase():null}function eu(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qy(e){var t=eu(e).Element;return e instanceof t||e instanceof Element}function $u(e){var t=eu(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Az(e){if(typeof ShadowRoot>"u")return!1;var t=eu(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ume(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},a=t.attributes[r]||{},l=t.elements[r];!$u(l)||!yh(l)||(Object.assign(l.style,n),Object.keys(a).forEach(function(c){var o=a[c];o===!1?l.removeAttribute(c):l.setAttribute(c,o===!0?"":o)}))})}function dme(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var a=t.elements[n],l=t.attributes[n]||{},c=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),o=c.reduce(function(g,m){return g[m]="",g},{});!$u(a)||!yh(a)||(Object.assign(a.style,o),Object.keys(l).forEach(function(g){a.removeAttribute(g)}))})}}const fme={name:"applyStyles",enabled:!0,phase:"write",fn:ume,effect:dme,requires:["computeStyles"]};function mh(e){return e.split("-")[0]}var Uy=Math.max,cE=Math.min,y_=Math.round;function gI(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function EG(){return!/^((?!chrome|android).)*safari/i.test(gI())}function v_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,l=1;t&&$u(e)&&(a=e.offsetWidth>0&&y_(n.width)/e.offsetWidth||1,l=e.offsetHeight>0&&y_(n.height)/e.offsetHeight||1);var c=Qy(e)?eu(e):window,o=c.visualViewport,g=!EG()&&r,m=(n.left+(g&&o?o.offsetLeft:0))/a,_=(n.top+(g&&o?o.offsetTop:0))/l,E=n.width/a,R=n.height/l;return{width:E,height:R,top:_,right:m+E,bottom:_+R,left:m,x:m,y:_}}function Pz(e){var t=v_(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function CG(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Az(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Cp(e){return eu(e).getComputedStyle(e)}function hme(e){return["table","td","th"].indexOf(yh(e))>=0}function vg(e){return((Qy(e)?e.ownerDocument:e.document)||window.document).documentElement}function Y2(e){return yh(e)==="html"?e:e.assignedSlot||e.parentNode||(Az(e)?e.host:null)||vg(e)}function gj(e){return!$u(e)||Cp(e).position==="fixed"?null:e.offsetParent}function pme(e){var t=/firefox/i.test(gI()),r=/Trident/i.test(gI());if(r&&$u(e)){var n=Cp(e);if(n.position==="fixed")return null}var a=Y2(e);for(Az(a)&&(a=a.host);$u(a)&&["html","body"].indexOf(yh(a))<0;){var l=Cp(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||t&&l.willChange==="filter"||t&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function Z1(e){for(var t=eu(e),r=gj(e);r&&hme(r)&&Cp(r).position==="static";)r=gj(r);return r&&(yh(r)==="html"||yh(r)==="body"&&Cp(r).position==="static")?t:r||pme(e)||t}function Rz(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Cx(e,t,r){return Uy(e,cE(t,r))}function mme(e,t,r){var n=Cx(e,t,r);return n>r?r:n}function TG(){return{top:0,right:0,bottom:0,left:0}}function AG(e){return Object.assign({},TG(),e)}function PG(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var gme=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,AG(typeof t!="number"?t:PG(t,G1))};function yme(e){var t,r=e.state,n=e.name,a=e.options,l=r.elements.arrow,c=r.modifiersData.popperOffsets,o=mh(r.placement),g=Rz(o),m=[uc,Vu].indexOf(o)>=0,_=m?"height":"width";if(!(!l||!c)){var E=gme(a.padding,r),R=Pz(l),O=g==="y"?cc:uc,I=g==="y"?qu:Vu,B=r.rects.reference[_]+r.rects.reference[g]-c[g]-r.rects.popper[_],$=c[g]-r.rects.reference[g],q=Z1(l),j=q?g==="y"?q.clientHeight||0:q.clientWidth||0:0,F=B/2-$/2,N=E[O],G=j-R[_]-E[I],V=j/2-R[_]/2+F,ee=Cx(N,V,G),ne=g;r.modifiersData[n]=(t={},t[ne]=ee,t.centerOffset=ee-V,t)}}function vme(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||CG(t.elements.popper,a)&&(t.elements.arrow=a))}const bme={name:"arrow",enabled:!0,phase:"main",fn:yme,effect:vme,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function b_(e){return e.split("-")[1]}var _me={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xme(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:y_(r*a)/a||0,y:y_(n*a)/a||0}}function yj(e){var t,r=e.popper,n=e.popperRect,a=e.placement,l=e.variation,c=e.offsets,o=e.position,g=e.gpuAcceleration,m=e.adaptive,_=e.roundOffsets,E=e.isFixed,R=c.x,O=R===void 0?0:R,I=c.y,B=I===void 0?0:I,$=typeof _=="function"?_({x:O,y:B}):{x:O,y:B};O=$.x,B=$.y;var q=c.hasOwnProperty("x"),j=c.hasOwnProperty("y"),F=uc,N=cc,G=window;if(m){var V=Z1(r),ee="clientHeight",ne="clientWidth";if(V===eu(r)&&(V=vg(r),Cp(V).position!=="static"&&o==="absolute"&&(ee="scrollHeight",ne="scrollWidth")),V=V,a===cc||(a===uc||a===Vu)&&l===f1){N=qu;var ae=E&&V===G&&G.visualViewport?G.visualViewport.height:V[ee];B-=ae-n.height,B*=g?1:-1}if(a===uc||(a===cc||a===qu)&&l===f1){F=Vu;var X=E&&V===G&&G.visualViewport?G.visualViewport.width:V[ne];O-=X-n.width,O*=g?1:-1}}var te=Object.assign({position:o},m&&_me),le=_===!0?xme({x:O,y:B},eu(r)):{x:O,y:B};if(O=le.x,B=le.y,g){var we;return Object.assign({},te,(we={},we[N]=j?"0":"",we[F]=q?"0":"",we.transform=(G.devicePixelRatio||1)<=1?"translate("+O+"px, "+B+"px)":"translate3d("+O+"px, "+B+"px, 0)",we))}return Object.assign({},te,(t={},t[N]=j?B+"px":"",t[F]=q?O+"px":"",t.transform="",t))}function wme(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,l=r.adaptive,c=l===void 0?!0:l,o=r.roundOffsets,g=o===void 0?!0:o,m={placement:mh(t.placement),variation:b_(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yj(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:g})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yj(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Sme={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wme,data:{}};var Zw={passive:!0};function Eme(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,l=a===void 0?!0:a,c=n.resize,o=c===void 0?!0:c,g=eu(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return l&&m.forEach(function(_){_.addEventListener("scroll",r.update,Zw)}),o&&g.addEventListener("resize",r.update,Zw),function(){l&&m.forEach(function(_){_.removeEventListener("scroll",r.update,Zw)}),o&&g.removeEventListener("resize",r.update,Zw)}}const Cme={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Eme,data:{}};var Tme={left:"right",right:"left",bottom:"top",top:"bottom"};function CS(e){return e.replace(/left|right|bottom|top/g,function(t){return Tme[t]})}var Ame={start:"end",end:"start"};function vj(e){return e.replace(/start|end/g,function(t){return Ame[t]})}function Mz(e){var t=eu(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Oz(e){return v_(vg(e)).left+Mz(e).scrollLeft}function Pme(e,t){var r=eu(e),n=vg(e),a=r.visualViewport,l=n.clientWidth,c=n.clientHeight,o=0,g=0;if(a){l=a.width,c=a.height;var m=EG();(m||!m&&t==="fixed")&&(o=a.offsetLeft,g=a.offsetTop)}return{width:l,height:c,x:o+Oz(e),y:g}}function Rme(e){var t,r=vg(e),n=Mz(e),a=(t=e.ownerDocument)==null?void 0:t.body,l=Uy(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Uy(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+Oz(e),g=-n.scrollTop;return Cp(a||r).direction==="rtl"&&(o+=Uy(r.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:o,y:g}}function kz(e){var t=Cp(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function RG(e){return["html","body","#document"].indexOf(yh(e))>=0?e.ownerDocument.body:$u(e)&&kz(e)?e:RG(Y2(e))}function Tx(e,t){var r;t===void 0&&(t=[]);var n=RG(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),l=eu(n),c=a?[l].concat(l.visualViewport||[],kz(n)?n:[]):n,o=t.concat(c);return a?o:o.concat(Tx(Y2(c)))}function yI(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Mme(e,t){var r=v_(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function bj(e,t,r){return t===wG?yI(Pme(e,r)):Qy(t)?Mme(t,r):yI(Rme(vg(e)))}function Ome(e){var t=Tx(Y2(e)),r=["absolute","fixed"].indexOf(Cp(e).position)>=0,n=r&&$u(e)?Z1(e):e;return Qy(n)?t.filter(function(a){return Qy(a)&&CG(a,n)&&yh(a)!=="body"}):[]}function kme(e,t,r,n){var a=t==="clippingParents"?Ome(e):[].concat(t),l=[].concat(a,[r]),c=l[0],o=l.reduce(function(g,m){var _=bj(e,m,n);return g.top=Uy(_.top,g.top),g.right=cE(_.right,g.right),g.bottom=cE(_.bottom,g.bottom),g.left=Uy(_.left,g.left),g},bj(e,c,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function MG(e){var t=e.reference,r=e.element,n=e.placement,a=n?mh(n):null,l=n?b_(n):null,c=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,g;switch(a){case cc:g={x:c,y:t.y-r.height};break;case qu:g={x:c,y:t.y+t.height};break;case Vu:g={x:t.x+t.width,y:o};break;case uc:g={x:t.x-r.width,y:o};break;default:g={x:t.x,y:t.y}}var m=a?Rz(a):null;if(m!=null){var _=m==="y"?"height":"width";switch(l){case g_:g[m]=g[m]-(t[_]/2-r[_]/2);break;case f1:g[m]=g[m]+(t[_]/2-r[_]/2);break}}return g}function h1(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,l=r.strategy,c=l===void 0?e.strategy:l,o=r.boundary,g=o===void 0?Qpe:o,m=r.rootBoundary,_=m===void 0?wG:m,E=r.elementContext,R=E===void 0?K0:E,O=r.altBoundary,I=O===void 0?!1:O,B=r.padding,$=B===void 0?0:B,q=AG(typeof $!="number"?$:PG($,G1)),j=R===K0?Jpe:K0,F=e.rects.popper,N=e.elements[I?j:R],G=kme(Qy(N)?N:N.contextElement||vg(e.elements.popper),g,_,c),V=v_(e.elements.reference),ee=MG({reference:V,element:F,placement:a}),ne=yI(Object.assign({},F,ee)),ae=R===K0?ne:V,X={top:G.top-ae.top+q.top,bottom:ae.bottom-G.bottom+q.bottom,left:G.left-ae.left+q.left,right:ae.right-G.right+q.right},te=e.modifiersData.offset;if(R===K0&&te){var le=te[a];Object.keys(X).forEach(function(we){var ve=[Vu,qu].indexOf(we)>=0?1:-1,xe=[cc,qu].indexOf(we)>=0?"y":"x";X[we]+=le[xe]*ve})}return X}function Ime(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,l=r.rootBoundary,c=r.padding,o=r.flipVariations,g=r.allowedAutoPlacements,m=g===void 0?SG:g,_=b_(n),E=_?o?mj:mj.filter(function(I){return b_(I)===_}):G1,R=E.filter(function(I){return m.indexOf(I)>=0});R.length===0&&(R=E);var O=R.reduce(function(I,B){return I[B]=h1(e,{placement:B,boundary:a,rootBoundary:l,padding:c})[mh(B)],I},{});return Object.keys(O).sort(function(I,B){return O[I]-O[B]})}function Dme(e){if(mh(e)===Tz)return[];var t=CS(e);return[vj(e),t,vj(t)]}function zme(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,l=a===void 0?!0:a,c=r.altAxis,o=c===void 0?!0:c,g=r.fallbackPlacements,m=r.padding,_=r.boundary,E=r.rootBoundary,R=r.altBoundary,O=r.flipVariations,I=O===void 0?!0:O,B=r.allowedAutoPlacements,$=t.options.placement,q=mh($),j=q===$,F=g||(j||!I?[CS($)]:Dme($)),N=[$].concat(F).reduce(function(vt,ht){return vt.concat(mh(ht)===Tz?Ime(t,{placement:ht,boundary:_,rootBoundary:E,padding:m,flipVariations:I,allowedAutoPlacements:B}):ht)},[]),G=t.rects.reference,V=t.rects.popper,ee=new Map,ne=!0,ae=N[0],X=0;X<N.length;X++){var te=N[X],le=mh(te),we=b_(te)===g_,ve=[cc,qu].indexOf(le)>=0,xe=ve?"width":"height",ce=h1(t,{placement:te,boundary:_,rootBoundary:E,altBoundary:R,padding:m}),Ce=ve?we?Vu:uc:we?qu:cc;G[xe]>V[xe]&&(Ce=CS(Ce));var Se=CS(Ce),ze=[];if(l&&ze.push(ce[le]<=0),o&&ze.push(ce[Ce]<=0,ce[Se]<=0),ze.every(function(vt){return vt})){ae=te,ne=!1;break}ee.set(te,ze)}if(ne)for(var ge=I?3:1,je=function(ht){var ut=N.find(function(Vt){var Nt=ee.get(Vt);if(Nt)return Nt.slice(0,ht).every(function(lr){return lr})});if(ut)return ae=ut,"break"},et=ge;et>0;et--){var rt=je(et);if(rt==="break")break}t.placement!==ae&&(t.modifiersData[n]._skip=!0,t.placement=ae,t.reset=!0)}}const Lme={name:"flip",enabled:!0,phase:"main",fn:zme,requiresIfExists:["offset"],data:{_skip:!1}};function _j(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function xj(e){return[cc,Vu,qu,uc].some(function(t){return e[t]>=0})}function Bme(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,l=t.modifiersData.preventOverflow,c=h1(t,{elementContext:"reference"}),o=h1(t,{altBoundary:!0}),g=_j(c,n),m=_j(o,a,l),_=xj(g),E=xj(m);t.modifiersData[r]={referenceClippingOffsets:g,popperEscapeOffsets:m,isReferenceHidden:_,hasPopperEscaped:E},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":E})}const Fme={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Bme};function Nme(e,t,r){var n=mh(e),a=[uc,cc].indexOf(n)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=l[0],o=l[1];return c=c||0,o=(o||0)*a,[uc,Vu].indexOf(n)>=0?{x:o,y:c}:{x:c,y:o}}function jme(e){var t=e.state,r=e.options,n=e.name,a=r.offset,l=a===void 0?[0,0]:a,c=SG.reduce(function(_,E){return _[E]=Nme(E,t.rects,l),_},{}),o=c[t.placement],g=o.x,m=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=g,t.modifiersData.popperOffsets.y+=m),t.modifiersData[n]=c}const $me={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jme};function Ume(e){var t=e.state,r=e.name;t.modifiersData[r]=MG({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const qme={name:"popperOffsets",enabled:!0,phase:"read",fn:Ume,data:{}};function Vme(e){return e==="x"?"y":"x"}function Hme(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,l=a===void 0?!0:a,c=r.altAxis,o=c===void 0?!1:c,g=r.boundary,m=r.rootBoundary,_=r.altBoundary,E=r.padding,R=r.tether,O=R===void 0?!0:R,I=r.tetherOffset,B=I===void 0?0:I,$=h1(t,{boundary:g,rootBoundary:m,padding:E,altBoundary:_}),q=mh(t.placement),j=b_(t.placement),F=!j,N=Rz(q),G=Vme(N),V=t.modifiersData.popperOffsets,ee=t.rects.reference,ne=t.rects.popper,ae=typeof B=="function"?B(Object.assign({},t.rects,{placement:t.placement})):B,X=typeof ae=="number"?{mainAxis:ae,altAxis:ae}:Object.assign({mainAxis:0,altAxis:0},ae),te=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,le={x:0,y:0};if(V){if(l){var we,ve=N==="y"?cc:uc,xe=N==="y"?qu:Vu,ce=N==="y"?"height":"width",Ce=V[N],Se=Ce+$[ve],ze=Ce-$[xe],ge=O?-ne[ce]/2:0,je=j===g_?ee[ce]:ne[ce],et=j===g_?-ne[ce]:-ee[ce],rt=t.elements.arrow,vt=O&&rt?Pz(rt):{width:0,height:0},ht=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:TG(),ut=ht[ve],Vt=ht[xe],Nt=Cx(0,ee[ce],vt[ce]),lr=F?ee[ce]/2-ge-Nt-ut-X.mainAxis:je-Nt-ut-X.mainAxis,Dt=F?-ee[ce]/2+ge+Nt+Vt+X.mainAxis:et+Nt+Vt+X.mainAxis,$t=t.elements.arrow&&Z1(t.elements.arrow),tr=$t?N==="y"?$t.clientTop||0:$t.clientLeft||0:0,ur=(we=te==null?void 0:te[N])!=null?we:0,Xt=Ce+lr-ur-tr,mr=Ce+Dt-ur,Vr=Cx(O?cE(Se,Xt):Se,Ce,O?Uy(ze,mr):ze);V[N]=Vr,le[N]=Vr-Ce}if(o){var br,nn=N==="x"?cc:uc,Rr=N==="x"?qu:Vu,Be=V[G],Ye=G==="y"?"height":"width",We=Be+$[nn],Ut=Be-$[Rr],qt=[cc,uc].indexOf(q)!==-1,Ht=(br=te==null?void 0:te[G])!=null?br:0,gr=qt?We:Be-ee[Ye]-ne[Ye]-Ht+X.altAxis,Tr=qt?Be+ee[Ye]+ne[Ye]-Ht-X.altAxis:Ut,Mr=O&&qt?mme(gr,Be,Tr):Cx(O?gr:We,Be,O?Tr:Ut);V[G]=Mr,le[G]=Mr-Be}t.modifiersData[n]=le}}const Gme={name:"preventOverflow",enabled:!0,phase:"main",fn:Hme,requiresIfExists:["offset"]};function Zme(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Wme(e){return e===eu(e)||!$u(e)?Mz(e):Zme(e)}function Kme(e){var t=e.getBoundingClientRect(),r=y_(t.width)/e.offsetWidth||1,n=y_(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Xme(e,t,r){r===void 0&&(r=!1);var n=$u(t),a=$u(t)&&Kme(t),l=vg(t),c=v_(e,a,r),o={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(n||!n&&!r)&&((yh(t)!=="body"||kz(l))&&(o=Wme(t)),$u(t)?(g=v_(t,!0),g.x+=t.clientLeft,g.y+=t.clientTop):l&&(g.x=Oz(l))),{x:c.left+o.scrollLeft-g.x,y:c.top+o.scrollTop-g.y,width:c.width,height:c.height}}function Yme(e){var t=new Map,r=new Set,n=[];e.forEach(function(l){t.set(l.name,l)});function a(l){r.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(o){if(!r.has(o)){var g=t.get(o);g&&a(g)}}),n.push(l)}return e.forEach(function(l){r.has(l.name)||a(l)}),n}function Qme(e){var t=Yme(e);return cme.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Jme(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function ege(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var wj={placement:"bottom",modifiers:[],strategy:"absolute"};function Sj(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function tge(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,l=a===void 0?wj:a;return function(o,g,m){m===void 0&&(m=l);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},wj,l),modifiersData:{},elements:{reference:o,popper:g},attributes:{},styles:{}},E=[],R=!1,O={state:_,setOptions:function(q){var j=typeof q=="function"?q(_.options):q;B(),_.options=Object.assign({},l,_.options,j),_.scrollParents={reference:Qy(o)?Tx(o):o.contextElement?Tx(o.contextElement):[],popper:Tx(g)};var F=Qme(ege([].concat(n,_.options.modifiers)));return _.orderedModifiers=F.filter(function(N){return N.enabled}),I(),O.update()},forceUpdate:function(){if(!R){var q=_.elements,j=q.reference,F=q.popper;if(Sj(j,F)){_.rects={reference:Xme(j,Z1(F),_.options.strategy==="fixed"),popper:Pz(F)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(X){return _.modifiersData[X.name]=Object.assign({},X.data)});for(var N=0;N<_.orderedModifiers.length;N++){if(_.reset===!0){_.reset=!1,N=-1;continue}var G=_.orderedModifiers[N],V=G.fn,ee=G.options,ne=ee===void 0?{}:ee,ae=G.name;typeof V=="function"&&(_=V({state:_,options:ne,name:ae,instance:O})||_)}}}},update:Jme(function(){return new Promise(function($){O.forceUpdate(),$(_)})}),destroy:function(){B(),R=!0}};if(!Sj(o,g))return O;O.setOptions(m).then(function($){!R&&m.onFirstUpdate&&m.onFirstUpdate($)});function I(){_.orderedModifiers.forEach(function($){var q=$.name,j=$.options,F=j===void 0?{}:j,N=$.effect;if(typeof N=="function"){var G=N({state:_,name:q,instance:O,options:F}),V=function(){};E.push(G||V)}})}function B(){E.forEach(function($){return $()}),E=[]}return O}}var rge=[Cme,qme,Sme,fme,$me,Lme,Gme,bme,Fme],nge=tge({defaultModifiers:rge});function OG(e){var E;const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:a=!1,...l}=e,c=a?{}:_G(r,n),{props:o,internalRef:g}=xG({...l,externalSlotProps:c}),m=Hi(g,c==null?void 0:c.ref,(E=e.additionalProps)==null?void 0:E.ref);return bG(t,{...o,ref:m},n)}function bg(e){var t;return parseInt(S.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function age(e){return typeof e=="function"?e():e}const kG=S.forwardRef(function(t,r){const{children:n,container:a,disablePortal:l=!1}=t,[c,o]=S.useState(null),g=Hi(S.isValidElement(n)?bg(n):null,r);if(Uu(()=>{l||o(age(a)||document.body)},[a,l]),Uu(()=>{if(c&&!l)return ij(r,c),()=>{ij(r,null)}},[r,c,l]),l){if(S.isValidElement(n)){const m={ref:g};return S.cloneElement(n,m)}return n}return c&&O1.createPortal(n,c)});function ige(e){return Gr("MuiPopper",e)}Zr("MuiPopper",["root"]);function oge(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function vI(e){return typeof e=="function"?e():e}function sge(e){return e.nodeType!==void 0}const lge=e=>{const{classes:t}=e;return Wr({root:["root"]},ige,t)},cge={},uge=S.forwardRef(function(t,r){const{anchorEl:n,children:a,direction:l,disablePortal:c,modifiers:o,open:g,placement:m,popperOptions:_,popperRef:E,slotProps:R={},slots:O={},TransitionProps:I,ownerState:B,...$}=t,q=S.useRef(null),j=Hi(q,r),F=S.useRef(null),N=Hi(F,E),G=S.useRef(N);Uu(()=>{G.current=N},[N]),S.useImperativeHandle(E,()=>F.current,[]);const V=oge(m,l),[ee,ne]=S.useState(V),[ae,X]=S.useState(vI(n));S.useEffect(()=>{F.current&&F.current.forceUpdate()}),S.useEffect(()=>{n&&X(vI(n))},[n]),Uu(()=>{if(!ae||!g)return;const xe=Se=>{ne(Se.placement)};let ce=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Se})=>{xe(Se)}}];o!=null&&(ce=ce.concat(o)),_&&_.modifiers!=null&&(ce=ce.concat(_.modifiers));const Ce=nge(ae,q.current,{placement:V,..._,modifiers:ce});return G.current(Ce),()=>{Ce.destroy(),G.current(null)}},[ae,c,o,g,_,V]);const te={placement:ee};I!==null&&(te.TransitionProps=I);const le=lge(t),we=O.root??"div",ve=OG({elementType:we,externalSlotProps:R.root,externalForwardedProps:$,additionalProps:{role:"tooltip",ref:j},ownerState:t,className:le.root});return Oe.jsx(we,{...ve,children:typeof a=="function"?a(te):a})}),dge=S.forwardRef(function(t,r){const{anchorEl:n,children:a,container:l,direction:c="ltr",disablePortal:o=!1,keepMounted:g=!1,modifiers:m,open:_,placement:E="bottom",popperOptions:R=cge,popperRef:O,style:I,transition:B=!1,slotProps:$={},slots:q={},...j}=t,[F,N]=S.useState(!0),G=()=>{N(!1)},V=()=>{N(!0)};if(!g&&!_&&(!B||F))return null;let ee;if(l)ee=l;else if(n){const X=vI(n);ee=X&&sge(X)?al(X).body:al(null).body}const ne=!_&&g&&(!B||F)?"none":void 0,ae=B?{in:_,onEnter:G,onExited:V}:void 0;return Oe.jsx(kG,{disablePortal:o,container:ee,children:Oe.jsx(uge,{anchorEl:n,direction:c,disablePortal:o,modifiers:m,ref:r,open:B?!F:_,placement:E,popperOptions:R,popperRef:O,slotProps:$,slots:q,...j,style:{position:"fixed",top:0,left:0,display:ne,...I},TransitionProps:ae,children:a})})}),fge=mt(dge,{name:"MuiPopper",slot:"Root"})({}),IG=S.forwardRef(function(t,r){const n=nv(),a=Yr({props:t,name:"MuiPopper"}),{anchorEl:l,component:c,components:o,componentsProps:g,container:m,disablePortal:_,keepMounted:E,modifiers:R,open:O,placement:I,popperOptions:B,popperRef:$,transition:q,slots:j,slotProps:F,...N}=a,G=(j==null?void 0:j.root)??(o==null?void 0:o.Root),V={anchorEl:l,container:m,disablePortal:_,keepMounted:E,modifiers:R,open:O,placement:I,popperOptions:B,popperRef:$,transition:q,...N};return Oe.jsx(fge,{as:c,direction:n?"rtl":"ltr",slots:{root:G},slotProps:F??g,...V,ref:r})}),hge=hn(Oe.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function pge(e){return Gr("MuiChip",e)}const Hn=Zr("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),mge=e=>{const{classes:t,disabled:r,size:n,color:a,iconColor:l,onDelete:c,clickable:o,variant:g}=e,m={root:["root",g,r&&"disabled",`size${jt(n)}`,`color${jt(a)}`,o&&"clickable",o&&`clickableColor${jt(a)}`,c&&"deletable",c&&`deletableColor${jt(a)}`,`${g}${jt(a)}`],label:["label",`label${jt(n)}`],avatar:["avatar",`avatar${jt(n)}`,`avatarColor${jt(a)}`],icon:["icon",`icon${jt(n)}`,`iconColor${jt(l)}`],deleteIcon:["deleteIcon",`deleteIcon${jt(n)}`,`deleteIconColor${jt(a)}`,`deleteIcon${jt(g)}Color${jt(a)}`]};return Wr(m,pge,t)},gge=mt("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:a,clickable:l,onDelete:c,size:o,variant:g}=r;return[{[`& .${Hn.avatar}`]:t.avatar},{[`& .${Hn.avatar}`]:t[`avatar${jt(o)}`]},{[`& .${Hn.avatar}`]:t[`avatarColor${jt(n)}`]},{[`& .${Hn.icon}`]:t.icon},{[`& .${Hn.icon}`]:t[`icon${jt(o)}`]},{[`& .${Hn.icon}`]:t[`iconColor${jt(a)}`]},{[`& .${Hn.deleteIcon}`]:t.deleteIcon},{[`& .${Hn.deleteIcon}`]:t[`deleteIcon${jt(o)}`]},{[`& .${Hn.deleteIcon}`]:t[`deleteIconColor${jt(n)}`]},{[`& .${Hn.deleteIcon}`]:t[`deleteIcon${jt(g)}Color${jt(n)}`]},t.root,t[`size${jt(o)}`],t[`color${jt(n)}`],l&&t.clickable,l&&n!=="default"&&t[`clickableColor${jt(n)})`],c&&t.deletable,c&&n!=="default"&&t[`deletableColor${jt(n)}`],t[g],t[`${g}${jt(n)}`]]}})(Ur(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Hn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Hn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Hn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Hn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Hn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Hn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Hn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:En(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:En(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Hn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Hn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(li(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${Hn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].contrastTextChannel} / 0.7)`:En(e.palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${Hn.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${Hn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Hn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:En(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(li(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${Hn.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:En(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Hn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:En(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(li(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${Hn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Hn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Hn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Hn.avatar}`]:{marginLeft:4},[`& .${Hn.avatarSmall}`]:{marginLeft:2},[`& .${Hn.icon}`]:{marginLeft:4},[`& .${Hn.iconSmall}`]:{marginLeft:2},[`& .${Hn.deleteIcon}`]:{marginRight:5},[`& .${Hn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(li()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:En(e.palette[r].main,.7)}`,[`&.${Hn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette[r].main,e.palette.action.hoverOpacity)},[`&.${Hn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.focusOpacity})`:En(e.palette[r].main,e.palette.action.focusOpacity)},[`& .${Hn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:En(e.palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),yge=mt("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${jt(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Ej(e){return e.key==="Backspace"||e.key==="Delete"}const DG=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiChip"}),{avatar:a,className:l,clickable:c,color:o="default",component:g,deleteIcon:m,disabled:_=!1,icon:E,label:R,onClick:O,onDelete:I,onKeyDown:B,onKeyUp:$,size:q="medium",variant:j="filled",tabIndex:F,skipFocusWhenDisabled:N=!1,slots:G={},slotProps:V={},...ee}=n,ne=S.useRef(null),ae=Hi(ne,r),X=ut=>{ut.stopPropagation(),I&&I(ut)},te=ut=>{ut.currentTarget===ut.target&&Ej(ut)&&ut.preventDefault(),B&&B(ut)},le=ut=>{ut.currentTarget===ut.target&&I&&Ej(ut)&&I(ut),$&&$(ut)},we=c!==!1&&O?!0:c,ve=we||I?Ep:g||"div",xe={...n,component:ve,disabled:_,size:q,color:o,iconColor:S.isValidElement(E)&&E.props.color||o,onDelete:!!I,clickable:we,variant:j},ce=mge(xe),Ce=ve===Ep?{component:g||"div",focusVisibleClassName:ce.focusVisible,...I&&{disableRipple:!0}}:{};let Se=null;I&&(Se=m&&S.isValidElement(m)?S.cloneElement(m,{className:er(m.props.className,ce.deleteIcon),onClick:X}):Oe.jsx(hge,{className:ce.deleteIcon,onClick:X}));let ze=null;a&&S.isValidElement(a)&&(ze=S.cloneElement(a,{className:er(ce.avatar,a.props.className)}));let ge=null;E&&S.isValidElement(E)&&(ge=S.cloneElement(E,{className:er(ce.icon,E.props.className)}));const je={slots:G,slotProps:V},[et,rt]=Jr("root",{elementType:gge,externalForwardedProps:{...je,...ee},ownerState:xe,shouldForwardComponentProp:!0,ref:ae,className:er(ce.root,l),additionalProps:{disabled:we&&_?!0:void 0,tabIndex:N&&_?-1:F,...Ce},getSlotProps:ut=>({...ut,onClick:Vt=>{var Nt;(Nt=ut.onClick)==null||Nt.call(ut,Vt),O(Vt)},onKeyDown:Vt=>{var Nt;(Nt=ut.onKeyDown)==null||Nt.call(ut,Vt),te(Vt)},onKeyUp:Vt=>{var Nt;(Nt=ut.onKeyUp)==null||Nt.call(ut,Vt),le(Vt)}})}),[vt,ht]=Jr("label",{elementType:yge,externalForwardedProps:je,ownerState:xe,className:ce.label});return Oe.jsxs(et,{as:ve,...rt,children:[ze||ge,Oe.jsx(vt,{...ht,children:R}),Se]})});function Ww(e){return parseInt(e,10)||0}const vge={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function bge(e){for(const t in e)return!1;return!0}function Cj(e){return bge(e)||e.outerHeightStyle===0&&!e.overflowing}const _ge=S.forwardRef(function(t,r){const{onChange:n,maxRows:a,minRows:l=1,style:c,value:o,...g}=t,{current:m}=S.useRef(o!=null),_=S.useRef(null),E=Hi(r,_),R=S.useRef(null),O=S.useRef(null),I=S.useCallback(()=>{const F=_.current,N=O.current;if(!F||!N)return;const V=Qd(F).getComputedStyle(F);if(V.width==="0px")return{outerHeightStyle:0,overflowing:!1};N.style.width=V.width,N.value=F.value||t.placeholder||"x",N.value.slice(-1)===`
`&&(N.value+=" ");const ee=V.boxSizing,ne=Ww(V.paddingBottom)+Ww(V.paddingTop),ae=Ww(V.borderBottomWidth)+Ww(V.borderTopWidth),X=N.scrollHeight;N.value="x";const te=N.scrollHeight;let le=X;l&&(le=Math.max(Number(l)*te,le)),a&&(le=Math.min(Number(a)*te,le)),le=Math.max(le,te);const we=le+(ee==="border-box"?ne+ae:0),ve=Math.abs(le-X)<=1;return{outerHeightStyle:we,overflowing:ve}},[a,l,t.placeholder]),B=ju(()=>{const F=_.current,N=I();if(!F||!N||Cj(N))return!1;const G=N.outerHeightStyle;return R.current!=null&&R.current!==G}),$=S.useCallback(()=>{const F=_.current,N=I();if(!F||!N||Cj(N))return;const G=N.outerHeightStyle;R.current!==G&&(R.current=G,F.style.height=`${G}px`),F.style.overflow=N.overflowing?"hidden":""},[I]),q=S.useRef(-1);Uu(()=>{const F=xz($),N=_==null?void 0:_.current;if(!N)return;const G=Qd(N);G.addEventListener("resize",F);let V;return typeof ResizeObserver<"u"&&(V=new ResizeObserver(()=>{B()&&(V.unobserve(N),cancelAnimationFrame(q.current),$(),q.current=requestAnimationFrame(()=>{V.observe(N)}))}),V.observe(N)),()=>{F.clear(),cancelAnimationFrame(q.current),G.removeEventListener("resize",F),V&&V.disconnect()}},[I,$,B]),Uu(()=>{$()});const j=F=>{m||$();const N=F.target,G=N.value.length,V=N.value.endsWith(`
`),ee=N.selectionStart===G;V&&ee&&N.setSelectionRange(G,G),n&&n(F)};return Oe.jsxs(S.Fragment,{children:[Oe.jsx("textarea",{value:o,onChange:j,ref:E,rows:l,style:c,...g}),Oe.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:O,tabIndex:-1,style:{...vge.shadow,...c,paddingTop:0,paddingBottom:0}})]})});function bI(e){return typeof e=="string"}function N_({props:e,states:t,muiFormControl:r}){return t.reduce((n,a)=>(n[a]=e[a],r&&typeof e[a]>"u"&&(n[a]=r[a]),n),{})}const Q2=S.createContext(void 0);function _g(){return S.useContext(Q2)}function Tj(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function uE(e,t=!1){return e&&(Tj(e.value)&&e.value!==""||t&&Tj(e.defaultValue)&&e.defaultValue!=="")}function xge(e){return e.startAdornment}function wge(e){return Gr("MuiInputBase",e)}const __=Zr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Aj;const J2=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${jt(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},eC=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},Sge=e=>{const{classes:t,color:r,disabled:n,error:a,endAdornment:l,focused:c,formControl:o,fullWidth:g,hiddenLabel:m,multiline:_,readOnly:E,size:R,startAdornment:O,type:I}=e,B={root:["root",`color${jt(r)}`,n&&"disabled",a&&"error",g&&"fullWidth",c&&"focused",o&&"formControl",R&&R!=="medium"&&`size${jt(R)}`,_&&"multiline",O&&"adornedStart",l&&"adornedEnd",m&&"hiddenLabel",E&&"readOnly"],input:["input",n&&"disabled",I==="search"&&"inputTypeSearch",_&&"inputMultiline",R==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",O&&"inputAdornedStart",l&&"inputAdornedEnd",E&&"readOnly"]};return Wr(B,wge,t)},tC=mt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:J2})(Ur(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${__.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),rC=mt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:eC})(Ur(({theme:e})=>{const t=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${__.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${__.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:l})=>!l.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:l})=>l.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Pj=_z({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),nC=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:l,autoFocus:c,className:o,color:g,components:m={},componentsProps:_={},defaultValue:E,disabled:R,disableInjectingGlobalStyles:O,endAdornment:I,error:B,fullWidth:$=!1,id:q,inputComponent:j="input",inputProps:F={},inputRef:N,margin:G,maxRows:V,minRows:ee,multiline:ne=!1,name:ae,onBlur:X,onChange:te,onClick:le,onFocus:we,onKeyDown:ve,onKeyUp:xe,placeholder:ce,readOnly:Ce,renderSuffix:Se,rows:ze,size:ge,slotProps:je={},slots:et={},startAdornment:rt,type:vt="text",value:ht,...ut}=n,Vt=F.value!=null?F.value:ht,{current:Nt}=S.useRef(Vt!=null),lr=S.useRef(),Dt=S.useCallback(wr=>{},[]),$t=Hi(lr,N,F.ref,Dt),[tr,ur]=S.useState(!1),Xt=_g(),mr=N_({props:n,muiFormControl:Xt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});mr.focused=Xt?Xt.focused:tr,S.useEffect(()=>{!Xt&&R&&tr&&(ur(!1),X&&X())},[Xt,R,tr,X]);const Vr=Xt&&Xt.onFilled,br=Xt&&Xt.onEmpty,nn=S.useCallback(wr=>{uE(wr)?Vr&&Vr():br&&br()},[Vr,br]);Uu(()=>{Nt&&nn({value:Vt})},[Vt,nn,Nt]);const Rr=wr=>{we&&we(wr),F.onFocus&&F.onFocus(wr),Xt&&Xt.onFocus?Xt.onFocus(wr):ur(!0)},Be=wr=>{X&&X(wr),F.onBlur&&F.onBlur(wr),Xt&&Xt.onBlur?Xt.onBlur(wr):ur(!1)},Ye=(wr,...wn)=>{if(!Nt){const Kr=wr.target||lr.current;if(Kr==null)throw new Error(Sp(1));nn({value:Kr.value})}F.onChange&&F.onChange(wr,...wn),te&&te(wr,...wn)};S.useEffect(()=>{nn(lr.current)},[]);const We=wr=>{lr.current&&wr.currentTarget===wr.target&&lr.current.focus(),le&&le(wr)};let Ut=j,qt=F;ne&&Ut==="input"&&(ze?qt={type:void 0,minRows:ze,maxRows:ze,...qt}:qt={type:void 0,maxRows:V,minRows:ee,...qt},Ut=_ge);const Ht=wr=>{nn(wr.animationName==="mui-auto-fill-cancel"?lr.current:{value:"x"})};S.useEffect(()=>{Xt&&Xt.setAdornedStart(!!rt)},[Xt,rt]);const gr={...n,color:mr.color||"primary",disabled:mr.disabled,endAdornment:I,error:mr.error,focused:mr.focused,formControl:Xt,fullWidth:$,hiddenLabel:mr.hiddenLabel,multiline:ne,size:mr.size,startAdornment:rt,type:vt},Tr=Sge(gr),Mr=et.root||m.Root||tC,Qr=je.root||_.root||{},gn=et.input||m.Input||rC;return qt={...qt,...je.input??_.input},Oe.jsxs(S.Fragment,{children:[!O&&typeof Pj=="function"&&(Aj||(Aj=Oe.jsx(Pj,{}))),Oe.jsxs(Mr,{...Qr,ref:r,onClick:We,...ut,...!bI(Mr)&&{ownerState:{...gr,...Qr.ownerState}},className:er(Tr.root,Qr.className,o,Ce&&"MuiInputBase-readOnly"),children:[rt,Oe.jsx(Q2.Provider,{value:null,children:Oe.jsx(gn,{"aria-invalid":mr.error,"aria-describedby":a,autoComplete:l,autoFocus:c,defaultValue:E,disabled:mr.disabled,id:q,onAnimationStart:Ht,name:ae,placeholder:ce,readOnly:Ce,required:mr.required,rows:ze,value:Vt,onKeyDown:ve,onKeyUp:xe,type:vt,...qt,...!bI(gn)&&{as:Ut,ownerState:{...gr,...qt.ownerState}},ref:$t,className:er(Tr.input,qt.className,Ce&&"MuiInputBase-readOnly"),onBlur:Be,onChange:Ye,onFocus:Rr})}),I,Se?Se({...mr,startAdornment:rt}):null]})]})});function Ege(e){return Gr("MuiInput",e)}const X0={...__,...Zr("MuiInput",["root","underline","input"])};function Cge(e){return Gr("MuiOutlinedInput",e)}const Wf={...__,...Zr("MuiOutlinedInput",["root","notchedOutline","input"])};function Tge(e){return Gr("MuiFilledInput",e)}const dy={...__,...Zr("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Age=hn(Oe.jsx("path",{d:"M7 10l5 5 5-5z"})),Pge=hn(Oe.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Rge(e){return Gr("MuiAvatar",e)}Zr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Mge=e=>{const{classes:t,variant:r,colorDefault:n}=e;return Wr({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},Rge,t)},Oge=mt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(Ur(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),kge=mt("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ige=mt(Pge,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function Dge({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[a,l]=S.useState(!1);return S.useEffect(()=>{if(!r&&!n)return;l(!1);let c=!0;const o=new Image;return o.onload=()=>{c&&l("loaded")},o.onerror=()=>{c&&l("error")},o.crossOrigin=e,o.referrerPolicy=t,o.src=r,n&&(o.srcset=n),()=>{c=!1}},[e,t,r,n]),a}const _I=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiAvatar"}),{alt:a,children:l,className:c,component:o="div",slots:g={},slotProps:m={},imgProps:_,sizes:E,src:R,srcSet:O,variant:I="circular",...B}=n;let $=null;const q={...n,component:o,variant:I},j=Dge({..._,...typeof m.img=="function"?m.img(q):m.img,src:R,srcSet:O}),F=R||O,N=F&&j!=="error";q.colorDefault=!N,delete q.ownerState;const G=Mge(q),[V,ee]=Jr("root",{ref:r,className:er(G.root,c),elementType:Oge,externalForwardedProps:{slots:g,slotProps:m,component:o,...B},ownerState:q}),[ne,ae]=Jr("img",{className:G.img,elementType:kge,externalForwardedProps:{slots:g,slotProps:{img:{..._,...m.img}}},additionalProps:{alt:a,src:R,srcSet:O,sizes:E},ownerState:q}),[X,te]=Jr("fallback",{className:G.fallback,elementType:Ige,externalForwardedProps:{slots:g,slotProps:m},shouldForwardComponentProp:!0,ownerState:q});return N?$=Oe.jsx(ne,{...ae}):l||l===0?$=l:F&&a?$=a[0]:$=Oe.jsx(X,{...te}),Oe.jsx(V,{...ee,children:$})}),zge={entering:{opacity:1},entered:{opacity:1}},xI=S.forwardRef(function(t,r){const n=Wu(),a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:o,easing:g,in:m,onEnter:_,onEntered:E,onEntering:R,onExit:O,onExited:I,onExiting:B,style:$,timeout:q=a,TransitionComponent:j=Ku,...F}=t,N=S.useRef(null),G=Hi(N,bg(o),r),V=ve=>xe=>{if(ve){const ce=N.current;xe===void 0?ve(ce):ve(ce,xe)}},ee=V(R),ne=V((ve,xe)=>{Cz(ve);const ce=og({style:$,timeout:q,easing:g},{mode:"enter"});ve.style.webkitTransition=n.transitions.create("opacity",ce),ve.style.transition=n.transitions.create("opacity",ce),_&&_(ve,xe)}),ae=V(E),X=V(B),te=V(ve=>{const xe=og({style:$,timeout:q,easing:g},{mode:"exit"});ve.style.webkitTransition=n.transitions.create("opacity",xe),ve.style.transition=n.transitions.create("opacity",xe),O&&O(ve)}),le=V(I),we=ve=>{l&&l(N.current,ve)};return Oe.jsx(j,{appear:c,in:m,nodeRef:N,onEnter:ne,onEntered:ae,onEntering:ee,onExit:te,onExited:le,onExiting:X,addEndListener:we,timeout:q,...F,children:(ve,{ownerState:xe,...ce})=>S.cloneElement(o,{style:{opacity:0,visibility:ve==="exited"&&!m?"hidden":void 0,...zge[ve],...$,...o.props.style},ref:G,...ce})})});function Lge(e){return Gr("MuiBackdrop",e)}Zr("MuiBackdrop",["root","invisible"]);const Bge=e=>{const{classes:t,invisible:r}=e;return Wr({root:["root",r&&"invisible"]},Lge,t)},Fge=mt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),zG=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",invisible:o=!1,open:g,components:m={},componentsProps:_={},slotProps:E={},slots:R={},TransitionComponent:O,transitionDuration:I,...B}=n,$={...n,component:c,invisible:o},q=Bge($),j={transition:O,root:m.Root,...R},F={..._,...E},N={slots:j,slotProps:F},[G,V]=Jr("root",{elementType:Fge,externalForwardedProps:N,className:er(q.root,l),ownerState:$}),[ee,ne]=Jr("transition",{elementType:xI,externalForwardedProps:N,ownerState:$});return Oe.jsx(ee,{in:g,timeout:I,...B,...ne,children:Oe.jsx(G,{"aria-hidden":!0,...V,classes:q,ref:r,children:a})})}),Nge=Zr("MuiBox",["root"]),jge=u1(),LG=_fe({themeId:Nu,defaultTheme:jge,defaultClassName:Nge.root,generateClassName:ZH.generate});function $ge(e){return Gr("MuiButton",e)}const fy=Zr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Uge=S.createContext({}),qge=S.createContext(void 0),Vge=e=>{const{color:t,disableElevation:r,fullWidth:n,size:a,variant:l,loading:c,loadingPosition:o,classes:g}=e,m={root:["root",c&&"loading",l,`${l}${jt(t)}`,`size${jt(a)}`,`${l}Size${jt(a)}`,`color${jt(t)}`,r&&"disableElevation",n&&"fullWidth",c&&`loadingPosition${jt(o)}`],startIcon:["icon","startIcon",`iconSize${jt(a)}`],endIcon:["icon","endIcon",`iconSize${jt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},_=Wr(m,$ge,g);return{...g,..._}},BG=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Hge=mt(Ep,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${jt(r.color)}`],t[`size${jt(r.size)}`],t[`${r.variant}Size${jt(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(Ur(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${fy.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${fy.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${fy.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${fy.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(li()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:En(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${fy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${fy.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${fy.loading}`]:{color:"transparent"}}}]}})),Gge=mt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${jt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...BG]})),Zge=mt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${jt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...BG]})),Wge=mt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Rj=mt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),tu=S.forwardRef(function(t,r){const n=S.useContext(Uge),a=S.useContext(qge),l=c1(n,t),c=Yr({props:l,name:"MuiButton"}),{children:o,color:g="primary",component:m="button",className:_,disabled:E=!1,disableElevation:R=!1,disableFocusRipple:O=!1,endIcon:I,focusVisibleClassName:B,fullWidth:$=!1,id:q,loading:j=null,loadingIndicator:F,loadingPosition:N="center",size:G="medium",startIcon:V,type:ee,variant:ne="text",...ae}=c,X=ig(q),te=F??Oe.jsx(H1,{"aria-labelledby":X,color:"inherit",size:16}),le={...c,color:g,component:m,disabled:E,disableElevation:R,disableFocusRipple:O,fullWidth:$,loading:j,loadingIndicator:te,loadingPosition:N,size:G,type:ee,variant:ne},we=Vge(le),ve=(V||j&&N==="start")&&Oe.jsx(Gge,{className:we.startIcon,ownerState:le,children:V||Oe.jsx(Rj,{className:we.loadingIconPlaceholder,ownerState:le})}),xe=(I||j&&N==="end")&&Oe.jsx(Zge,{className:we.endIcon,ownerState:le,children:I||Oe.jsx(Rj,{className:we.loadingIconPlaceholder,ownerState:le})}),ce=a||"",Ce=typeof j=="boolean"?Oe.jsx("span",{className:we.loadingWrapper,style:{display:"contents"},children:j&&Oe.jsx(Wge,{className:we.loadingIndicator,ownerState:le,children:te})}):null;return Oe.jsxs(Hge,{ownerState:le,className:er(n.className,we.root,_,ce),component:m,disabled:E||j,focusRipple:!O,focusVisibleClassName:er(we.focusVisible,B),ref:r,type:ee,id:j?X:q,...ae,classes:we,children:[ve,N!=="end"&&Ce,o,N==="end"&&Ce,xe]})});function Kge(e){return Gr("MuiCard",e)}Zr("MuiCard",["root"]);const Xge=e=>{const{classes:t}=e;return Wr({root:["root"]},Kge,t)},Yge=mt(yg,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),FG=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiCard"}),{className:a,raised:l=!1,...c}=n,o={...n,raised:l},g=Xge(o);return Oe.jsx(Yge,{className:er(g.root,a),elevation:l?8:void 0,ref:r,ownerState:o,...c})});function Qge(e){return Gr("MuiCardContent",e)}Zr("MuiCardContent",["root"]);const Jge=e=>{const{classes:t}=e;return Wr({root:["root"]},Qge,t)},eye=mt("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),NG=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiCardContent"}),{className:a,component:l="div",...c}=n,o={...n,component:l},g=Jge(o);return Oe.jsx(eye,{as:l,className:er(g.root,a),ownerState:o,ref:r,...c})});function tye(e){return Gr("PrivateSwitchBase",e)}Zr("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const rye=e=>{const{classes:t,checked:r,disabled:n,edge:a}=e,l={root:["root",r&&"checked",n&&"disabled",a&&`edge${jt(a)}`],input:["input"]};return Wr(l,tye,t)},nye=mt(Ep)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),aye=mt("input",{shouldForwardProp:Ls})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),jG=S.forwardRef(function(t,r){const{autoFocus:n,checked:a,checkedIcon:l,defaultChecked:c,disabled:o,disableFocusRipple:g=!1,edge:m=!1,icon:_,id:E,inputProps:R,inputRef:O,name:I,onBlur:B,onChange:$,onFocus:q,readOnly:j,required:F=!1,tabIndex:N,type:G,value:V,slots:ee={},slotProps:ne={},...ae}=t,[X,te]=d1({controlled:a,default:!!c,name:"SwitchBase",state:"checked"}),le=_g(),we=ht=>{q&&q(ht),le&&le.onFocus&&le.onFocus(ht)},ve=ht=>{B&&B(ht),le&&le.onBlur&&le.onBlur(ht)},xe=ht=>{if(ht.nativeEvent.defaultPrevented)return;const ut=ht.target.checked;te(ut),$&&$(ht,ut)};let ce=o;le&&typeof ce>"u"&&(ce=le.disabled);const Ce=G==="checkbox"||G==="radio",Se={...t,checked:X,disabled:ce,disableFocusRipple:g,edge:m},ze=rye(Se),ge={slots:ee,slotProps:{input:R,...ne}},[je,et]=Jr("root",{ref:r,elementType:nye,className:ze.root,shouldForwardComponentProp:!0,externalForwardedProps:{...ge,component:"span",...ae},getSlotProps:ht=>({...ht,onFocus:ut=>{var Vt;(Vt=ht.onFocus)==null||Vt.call(ht,ut),we(ut)},onBlur:ut=>{var Vt;(Vt=ht.onBlur)==null||Vt.call(ht,ut),ve(ut)}}),ownerState:Se,additionalProps:{centerRipple:!0,focusRipple:!g,disabled:ce,role:void 0,tabIndex:null}}),[rt,vt]=Jr("input",{ref:O,elementType:aye,className:ze.input,externalForwardedProps:ge,getSlotProps:ht=>({...ht,onChange:ut=>{var Vt;(Vt=ht.onChange)==null||Vt.call(ht,ut),xe(ut)}}),ownerState:Se,additionalProps:{autoFocus:n,checked:a,defaultChecked:c,disabled:ce,id:Ce?E:void 0,name:I,readOnly:j,required:F,tabIndex:N,type:G,...G==="checkbox"&&V===void 0?{}:{value:V}}});return Oe.jsxs(je,{...et,children:[Oe.jsx(rt,{...vt}),X?l:_]})}),iye=hn(Oe.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),oye=hn(Oe.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),sye=hn(Oe.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function lye(e){return Gr("MuiCheckbox",e)}const aM=Zr("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),cye=e=>{const{classes:t,indeterminate:r,color:n,size:a}=e,l={root:["root",r&&"indeterminate",`color${jt(n)}`,`size${jt(a)}`]},c=Wr(l,lye,t);return{...t,...c}},uye=mt(jG,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${jt(r.size)}`],r.color!=="default"&&t[`color${jt(r.color)}`]]}})(Ur(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{[`&.${aM.checked}, &.${aM.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${aM.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),dye=Oe.jsx(oye,{}),fye=Oe.jsx(iye,{}),hye=Oe.jsx(sye,{}),dE=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiCheckbox"}),{checkedIcon:a=dye,color:l="primary",icon:c=fye,indeterminate:o=!1,indeterminateIcon:g=hye,inputProps:m,size:_="medium",disableRipple:E=!1,className:R,slots:O={},slotProps:I={},...B}=n,$=o?g:c,q=o?g:a,j={...n,disableRipple:E,color:l,indeterminate:o,size:_},F=cye(j),N=I.input??m,[G,V]=Jr("root",{ref:r,elementType:uye,className:er(F.root,R),shouldForwardComponentProp:!0,externalForwardedProps:{slots:O,slotProps:I,...B},ownerState:j,additionalProps:{type:"checkbox",icon:S.cloneElement($,{fontSize:$.props.fontSize??_}),checkedIcon:S.cloneElement(q,{fontSize:q.props.fontSize??_}),disableRipple:E,slots:O,slotProps:{input:wz(typeof N=="function"?N(j):N,{"data-indeterminate":o})}}});return Oe.jsx(G,{...V,classes:F})});function Mj(e){return e.substring(2).toLowerCase()}function pye(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function mye(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:a,touchEvent:l="onTouchEnd"}=e,c=S.useRef(!1),o=S.useRef(null),g=S.useRef(!1),m=S.useRef(!1);S.useEffect(()=>(setTimeout(()=>{g.current=!0},0),()=>{g.current=!1}),[]);const _=Hi(bg(t),o),E=ju(I=>{const B=m.current;m.current=!1;const $=al(o.current);if(!g.current||!o.current||"clientX"in I&&pye(I,$))return;if(c.current){c.current=!1;return}let q;I.composedPath?q=I.composedPath().includes(o.current):q=!$.documentElement.contains(I.target)||o.current.contains(I.target),!q&&(r||!B)&&a(I)}),R=I=>B=>{m.current=!0;const $=t.props[I];$&&$(B)},O={ref:_};return l!==!1&&(O[l]=R(l)),S.useEffect(()=>{if(l!==!1){const I=Mj(l),B=al(o.current),$=()=>{c.current=!0};return B.addEventListener(I,E),B.addEventListener("touchmove",$),()=>{B.removeEventListener(I,E),B.removeEventListener("touchmove",$)}}},[E,l]),n!==!1&&(O[n]=R(n)),S.useEffect(()=>{if(n!==!1){const I=Mj(n),B=al(o.current);return B.addEventListener(I,E),()=>{B.removeEventListener(I,E)}}},[E,n]),S.cloneElement(t,O)}const wI=typeof _z({})=="function",gye=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),yye=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),$G=(e,t=!1)=>{var l,c;const r={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([o,g])=>{var _,E;const m=e.getColorSchemeSelector(o);m.startsWith("@")?r[m]={":root":{colorScheme:(_=g.palette)==null?void 0:_.mode}}:r[m.replace(/\s*&/,"")]={colorScheme:(E=g.palette)==null?void 0:E.mode}});let n={html:gye(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...yye(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...r};const a=(c=(l=e.components)==null?void 0:l.MuiCssBaseline)==null?void 0:c.styleOverrides;return a&&(n=[n,a]),n},TS="mui-ecs",vye=e=>{const t=$G(e,!1),r=Array.isArray(t)?t[0]:t;return!e.vars&&r&&(r.html[`:root:has(${TS})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([n,a])=>{var c,o;const l=e.getColorSchemeSelector(n);l.startsWith("@")?r[l]={[`:root:not(:has(.${TS}))`]:{colorScheme:(c=a.palette)==null?void 0:c.mode}}:r[l.replace(/\s*&/,"")]={[`&:not(:has(.${TS}))`]:{colorScheme:(o=a.palette)==null?void 0:o.mode}}}),t},bye=_z(wI?({theme:e,enableColorScheme:t})=>$G(e,t):({theme:e})=>vye(e));function _ye(e){const t=Yr({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return Oe.jsxs(S.Fragment,{children:[wI&&Oe.jsx(bye,{enableColorScheme:n}),!wI&&!n&&Oe.jsx("span",{className:TS,style:{display:"none"}}),r]})}function UG(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function xye(e){const t=al(e);return t.body===e?Qd(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Ax(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Oj(e){return parseInt(Qd(e).getComputedStyle(e).paddingRight,10)||0}function wye(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function kj(e,t,r,n,a){const l=[t,r,...n];[].forEach.call(e.children,c=>{const o=!l.includes(c),g=!wye(c);o&&g&&Ax(c,a)})}function iM(e,t){let r=-1;return e.some((n,a)=>t(n)?(r=a,!0):!1),r}function Sye(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(xye(n)){const c=UG(Qd(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${Oj(n)+c}px`;const o=al(n).querySelectorAll(".mui-fixed");[].forEach.call(o,g=>{r.push({value:g.style.paddingRight,property:"padding-right",el:g}),g.style.paddingRight=`${Oj(g)+c}px`})}let l;if(n.parentNode instanceof DocumentFragment)l=al(n).body;else{const c=n.parentElement,o=Qd(n);l=(c==null?void 0:c.nodeName)==="HTML"&&o.getComputedStyle(c).overflowY==="scroll"?c:n}r.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return()=>{r.forEach(({value:l,el:c,property:o})=>{l?c.style.setProperty(o,l):c.style.removeProperty(o)})}}function Eye(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class Cye{constructor(){this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Ax(t.modalRef,!1);const a=Eye(r);kj(r,t.mount,t.modalRef,a,!0);const l=iM(this.containers,c=>c.container===r);return l!==-1?(this.containers[l].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:a}),n)}mount(t,r){const n=iM(this.containers,l=>l.modals.includes(t)),a=this.containers[n];a.restore||(a.restore=Sye(a,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const a=iM(this.containers,c=>c.modals.includes(t)),l=this.containers[a];if(l.modals.splice(l.modals.indexOf(t),1),this.modals.splice(n,1),l.modals.length===0)l.restore&&l.restore(),t.modalRef&&Ax(t.modalRef,r),kj(l.container,t.mount,t.modalRef,l.hiddenSiblings,!1),this.containers.splice(a,1);else{const c=l.modals[l.modals.length-1];c.modalRef&&Ax(c.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Tye=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Aye(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Pye(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function Rye(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Pye(e))}function Mye(e){const t=[],r=[];return Array.from(e.querySelectorAll(Tye)).forEach((n,a)=>{const l=Aye(n);l===-1||!Rye(n)||(l===0?t.push(n):r.push({documentOrder:a,tabIndex:l,node:n}))}),r.sort((n,a)=>n.tabIndex===a.tabIndex?n.documentOrder-a.documentOrder:n.tabIndex-a.tabIndex).map(n=>n.node).concat(t)}function Oye(){return!0}function kye(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:a=!1,getTabbable:l=Mye,isEnabled:c=Oye,open:o}=e,g=S.useRef(!1),m=S.useRef(null),_=S.useRef(null),E=S.useRef(null),R=S.useRef(null),O=S.useRef(!1),I=S.useRef(null),B=Hi(bg(t),I),$=S.useRef(null);S.useEffect(()=>{!o||!I.current||(O.current=!r)},[r,o]),S.useEffect(()=>{if(!o||!I.current)return;const F=al(I.current);return I.current.contains(F.activeElement)||(I.current.hasAttribute("tabIndex")||I.current.setAttribute("tabIndex","-1"),O.current&&I.current.focus()),()=>{a||(E.current&&E.current.focus&&(g.current=!0,E.current.focus()),E.current=null)}},[o]),S.useEffect(()=>{if(!o||!I.current)return;const F=al(I.current),N=ee=>{$.current=ee,!(n||!c()||ee.key!=="Tab")&&F.activeElement===I.current&&ee.shiftKey&&(g.current=!0,_.current&&_.current.focus())},G=()=>{var ae,X;const ee=I.current;if(ee===null)return;if(!F.hasFocus()||!c()||g.current){g.current=!1;return}if(ee.contains(F.activeElement)||n&&F.activeElement!==m.current&&F.activeElement!==_.current)return;if(F.activeElement!==R.current)R.current=null;else if(R.current!==null)return;if(!O.current)return;let ne=[];if((F.activeElement===m.current||F.activeElement===_.current)&&(ne=l(I.current)),ne.length>0){const te=!!((ae=$.current)!=null&&ae.shiftKey&&((X=$.current)==null?void 0:X.key)==="Tab"),le=ne[0],we=ne[ne.length-1];typeof le!="string"&&typeof we!="string"&&(te?we.focus():le.focus())}else ee.focus()};F.addEventListener("focusin",G),F.addEventListener("keydown",N,!0);const V=setInterval(()=>{F.activeElement&&F.activeElement.tagName==="BODY"&&G()},50);return()=>{clearInterval(V),F.removeEventListener("focusin",G),F.removeEventListener("keydown",N,!0)}},[r,n,a,c,o,l]);const q=F=>{E.current===null&&(E.current=F.relatedTarget),O.current=!0,R.current=F.target;const N=t.props.onFocus;N&&N(F)},j=F=>{E.current===null&&(E.current=F.relatedTarget),O.current=!0};return Oe.jsxs(S.Fragment,{children:[Oe.jsx("div",{tabIndex:o?0:-1,onFocus:j,ref:m,"data-testid":"sentinelStart"}),S.cloneElement(t,{ref:B,onFocus:q}),Oe.jsx("div",{tabIndex:o?0:-1,onFocus:j,ref:_,"data-testid":"sentinelEnd"})]})}function Iye(e){return typeof e=="function"?e():e}function Dye(e){return e?e.props.hasOwnProperty("in"):!1}const Ij=()=>{},Kw=new Cye;function zye(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:o,onClose:g,open:m,rootRef:_}=e,E=S.useRef({}),R=S.useRef(null),O=S.useRef(null),I=Hi(O,_),[B,$]=S.useState(!m),q=Dye(o);let j=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(j=!1);const F=()=>al(R.current),N=()=>(E.current.modalRef=O.current,E.current.mount=R.current,E.current),G=()=>{Kw.mount(N(),{disableScrollLock:n}),O.current&&(O.current.scrollTop=0)},V=ju(()=>{const xe=Iye(t)||F().body;Kw.add(N(),xe),O.current&&G()}),ee=()=>Kw.isTopModal(N()),ne=ju(xe=>{R.current=xe,xe&&(m&&ee()?G():O.current&&Ax(O.current,j))}),ae=S.useCallback(()=>{Kw.remove(N(),j)},[j]);S.useEffect(()=>()=>{ae()},[ae]),S.useEffect(()=>{m?V():(!q||!a)&&ae()},[m,ae,q,a,V]);const X=xe=>ce=>{var Ce;(Ce=xe.onKeyDown)==null||Ce.call(xe,ce),!(ce.key!=="Escape"||ce.which===229||!ee())&&(r||(ce.stopPropagation(),g&&g(ce,"escapeKeyDown")))},te=xe=>ce=>{var Ce;(Ce=xe.onClick)==null||Ce.call(xe,ce),ce.target===ce.currentTarget&&g&&g(ce,"backdropClick")};return{getRootProps:(xe={})=>{const ce=sE(e);delete ce.onTransitionEnter,delete ce.onTransitionExited;const Ce={...ce,...xe};return{role:"presentation",...Ce,onKeyDown:X(Ce),ref:I}},getBackdropProps:(xe={})=>{const ce=xe;return{"aria-hidden":!0,...ce,onClick:te(ce),open:m}},getTransitionProps:()=>{const xe=()=>{$(!1),l&&l()},ce=()=>{$(!0),c&&c(),a&&ae()};return{onEnter:aj(xe,(o==null?void 0:o.props.onEnter)??Ij),onExited:aj(ce,(o==null?void 0:o.props.onExited)??Ij)}},rootRef:I,portalRef:ne,isTopModal:ee,exited:B,hasTransition:q}}function Lye(e){return Gr("MuiModal",e)}Zr("MuiModal",["root","hidden","backdrop"]);const Bye=e=>{const{open:t,exited:r,classes:n}=e;return Wr({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},Lye,n)},Fye=mt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(Ur(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Nye=mt(zG,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Iz=S.forwardRef(function(t,r){const n=Yr({name:"MuiModal",props:t}),{BackdropComponent:a=Nye,BackdropProps:l,classes:c,className:o,closeAfterTransition:g=!1,children:m,container:_,component:E,components:R={},componentsProps:O={},disableAutoFocus:I=!1,disableEnforceFocus:B=!1,disableEscapeKeyDown:$=!1,disablePortal:q=!1,disableRestoreFocus:j=!1,disableScrollLock:F=!1,hideBackdrop:N=!1,keepMounted:G=!1,onClose:V,onTransitionEnter:ee,onTransitionExited:ne,open:ae,slotProps:X={},slots:te={},theme:le,...we}=n,ve={...n,closeAfterTransition:g,disableAutoFocus:I,disableEnforceFocus:B,disableEscapeKeyDown:$,disablePortal:q,disableRestoreFocus:j,disableScrollLock:F,hideBackdrop:N,keepMounted:G},{getRootProps:xe,getBackdropProps:ce,getTransitionProps:Ce,portalRef:Se,isTopModal:ze,exited:ge,hasTransition:je}=zye({...ve,rootRef:r}),et={...ve,exited:ge},rt=Bye(et),vt={};if(m.props.tabIndex===void 0&&(vt.tabIndex="-1"),je){const{onEnter:Dt,onExited:$t}=Ce();vt.onEnter=Dt,vt.onExited=$t}const ht={slots:{root:R.Root,backdrop:R.Backdrop,...te},slotProps:{...O,...X}},[ut,Vt]=Jr("root",{ref:r,elementType:Fye,externalForwardedProps:{...ht,...we,component:E},getSlotProps:xe,ownerState:et,className:er(o,rt==null?void 0:rt.root,!et.open&&et.exited&&(rt==null?void 0:rt.hidden))}),[Nt,lr]=Jr("backdrop",{ref:l==null?void 0:l.ref,elementType:a,externalForwardedProps:ht,shouldForwardComponentProp:!0,additionalProps:l,getSlotProps:Dt=>ce({...Dt,onClick:$t=>{Dt!=null&&Dt.onClick&&Dt.onClick($t)}}),className:er(l==null?void 0:l.className,rt==null?void 0:rt.backdrop),ownerState:et});return!G&&!ae&&(!je||ge)?null:Oe.jsx(kG,{ref:Se,container:_,disablePortal:q,children:Oe.jsxs(ut,{...Vt,children:[!N&&a?Oe.jsx(Nt,{...lr}):null,Oe.jsx(kye,{disableEnforceFocus:B,disableAutoFocus:I,disableRestoreFocus:j,isEnabled:ze,open:ae,children:S.cloneElement(m,vt)})]})})});function jye(e){return Gr("MuiDialog",e)}const oM=Zr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),qG=S.createContext({}),$ye=mt(zG,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Uye=e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:a,fullScreen:l}=e,c={root:["root"],container:["container",`scroll${jt(r)}`],paper:["paper",`paperScroll${jt(r)}`,`paperWidth${jt(String(n))}`,a&&"paperFullWidth",l&&"paperFullScreen"]};return Wr(c,jye,t)},qye=mt(Iz,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Vye=mt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${jt(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Hye=mt(yg,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${jt(r.scroll)}`],t[`paperWidth${jt(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(Ur(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${oM.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${oM.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${oM.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Dz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiDialog"}),a=Wu(),l={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":o,"aria-modal":g=!0,BackdropComponent:m,BackdropProps:_,children:E,className:R,disableEscapeKeyDown:O=!1,fullScreen:I=!1,fullWidth:B=!1,maxWidth:$="sm",onClick:q,onClose:j,open:F,PaperComponent:N=yg,PaperProps:G={},scroll:V="paper",slots:ee={},slotProps:ne={},TransitionComponent:ae=xI,transitionDuration:X=l,TransitionProps:te,...le}=n,we={...n,disableEscapeKeyDown:O,fullScreen:I,fullWidth:B,maxWidth:$,scroll:V},ve=Uye(we),xe=S.useRef(),ce=ur=>{xe.current=ur.target===ur.currentTarget},Ce=ur=>{q&&q(ur),xe.current&&(xe.current=null,j&&j(ur,"backdropClick"))},Se=ig(o),ze=S.useMemo(()=>({titleId:Se}),[Se]),ge={transition:ae,...ee},je={transition:te,paper:G,backdrop:_,...ne},et={slots:ge,slotProps:je},[rt,vt]=Jr("root",{elementType:qye,shouldForwardComponentProp:!0,externalForwardedProps:et,ownerState:we,className:er(ve.root,R),ref:r}),[ht,ut]=Jr("backdrop",{elementType:$ye,shouldForwardComponentProp:!0,externalForwardedProps:et,ownerState:we}),[Vt,Nt]=Jr("paper",{elementType:Hye,shouldForwardComponentProp:!0,externalForwardedProps:et,ownerState:we,className:er(ve.paper,G.className)}),[lr,Dt]=Jr("container",{elementType:Vye,externalForwardedProps:et,ownerState:we,className:ve.container}),[$t,tr]=Jr("transition",{elementType:xI,externalForwardedProps:et,ownerState:we,additionalProps:{appear:!0,in:F,timeout:X,role:"presentation"}});return Oe.jsx(rt,{closeAfterTransition:!0,slots:{backdrop:ht},slotProps:{backdrop:{transitionDuration:X,as:m,...ut}},disableEscapeKeyDown:O,onClose:j,open:F,onClick:Ce,...vt,...le,children:Oe.jsx($t,{...tr,children:Oe.jsx(lr,{onMouseDown:ce,...Dt,children:Oe.jsx(Vt,{as:N,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":Se,"aria-modal":g,...Nt,children:Oe.jsx(qG.Provider,{value:ze,children:E})})})})})});function Gye(e){return Gr("MuiDialogActions",e)}Zr("MuiDialogActions",["root","spacing"]);const Zye=e=>{const{classes:t,disableSpacing:r}=e;return Wr({root:["root",!r&&"spacing"]},Gye,t)},Wye=mt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),zz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:l=!1,...c}=n,o={...n,disableSpacing:l},g=Zye(o);return Oe.jsx(Wye,{className:er(g.root,a),ownerState:o,ref:r,...c})});function Kye(e){return Gr("MuiDialogContent",e)}Zr("MuiDialogContent",["root","dividers"]);function Xye(e){return Gr("MuiDialogTitle",e)}const Yye=Zr("MuiDialogTitle",["root"]),Qye=e=>{const{classes:t,dividers:r}=e;return Wr({root:["root",r&&"dividers"]},Kye,t)},Jye=mt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(Ur(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Yye.root} + &`]:{paddingTop:0}}}]}))),Lz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiDialogContent"}),{className:a,dividers:l=!1,...c}=n,o={...n,dividers:l},g=Qye(o);return Oe.jsx(Jye,{className:er(g.root,a),ownerState:o,ref:r,...c})});function eve(e){return Gr("MuiDialogContentText",e)}Zr("MuiDialogContentText",["root"]);const tve=e=>{const{classes:t}=e,n=Wr({root:["root"]},eve,t);return{...t,...n}},rve=mt(Jn,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiDialogContentText",slot:"Root"})({}),VG=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiDialogContentText"}),{children:a,className:l,...c}=n,o=tve(c);return Oe.jsx(rve,{component:"p",variant:"body1",color:"textSecondary",ref:r,ownerState:c,className:er(o.root,l),...n,classes:o})}),nve=e=>{const{classes:t}=e;return Wr({root:["root"]},Xye,t)},ave=mt(Jn,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Bz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiDialogTitle"}),{className:a,id:l,...c}=n,o=n,g=nve(o),{titleId:m=l}=S.useContext(qG);return Oe.jsx(ave,{component:"h2",className:er(g.root,a),ownerState:o,ref:r,variant:"h6",id:l??m,...c})});function ive(e){return Gr("MuiDivider",e)}const Dj=Zr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ove=e=>{const{absolute:t,children:r,classes:n,flexItem:a,light:l,orientation:c,textAlign:o,variant:g}=e;return Wr({root:["root",t&&"absolute",g,l&&"light",c==="vertical"&&"vertical",a&&"flexItem",r&&"withChildren",r&&c==="vertical"&&"withChildrenVertical",o==="right"&&c!=="vertical"&&"textAlignRight",o==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},ive,n)},sve=mt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(Ur(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:En(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),lve=mt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(Ur(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),SI=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiDivider"}),{absolute:a=!1,children:l,className:c,orientation:o="horizontal",component:g=l||o==="vertical"?"div":"hr",flexItem:m=!1,light:_=!1,role:E=g!=="hr"?"separator":void 0,textAlign:R="center",variant:O="fullWidth",...I}=n,B={...n,absolute:a,component:g,flexItem:m,light:_,orientation:o,role:E,textAlign:R,variant:O},$=ove(B);return Oe.jsx(sve,{as:g,className:er($.root,c),role:E,ref:r,ownerState:B,"aria-orientation":E==="separator"&&(g!=="hr"||o==="vertical")?o:void 0,...I,children:l?Oe.jsx(lve,{className:$.wrapper,ownerState:B,children:l}):null})});SI&&(SI.muiSkipListHighlight=!0);function cve(e,t,r){const n=t.getBoundingClientRect(),a=r&&r.getBoundingClientRect(),l=Qd(t);let c;if(t.fakeTransform)c=t.fakeTransform;else{const m=l.getComputedStyle(t);c=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("transform")}let o=0,g=0;if(c&&c!=="none"&&typeof c=="string"){const m=c.split("(")[1].split(")")[0].split(",");o=parseInt(m[4],10),g=parseInt(m[5],10)}return e==="left"?a?`translateX(${a.right+o-n.left}px)`:`translateX(${l.innerWidth+o-n.left}px)`:e==="right"?a?`translateX(-${n.right-a.left-o}px)`:`translateX(-${n.left+n.width-o}px)`:e==="up"?a?`translateY(${a.bottom+g-n.top}px)`:`translateY(${l.innerHeight+g-n.top}px)`:a?`translateY(-${n.top-a.top+n.height-g}px)`:`translateY(-${n.top+n.height-g}px)`}function uve(e){return typeof e=="function"?e():e}function Xw(e,t,r){const n=uve(r),a=cve(e,t,n);a&&(t.style.webkitTransform=a,t.style.transform=a)}const HG=S.forwardRef(function(t,r){const n=Wu(),a={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},l={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:c,appear:o=!0,children:g,container:m,direction:_="down",easing:E=a,in:R,onEnter:O,onEntered:I,onEntering:B,onExit:$,onExited:q,onExiting:j,style:F,timeout:N=l,TransitionComponent:G=Ku,...V}=t,ee=S.useRef(null),ne=Hi(bg(g),ee,r),ae=Se=>ze=>{Se&&(ze===void 0?Se(ee.current):Se(ee.current,ze))},X=ae((Se,ze)=>{Xw(_,Se,m),Cz(Se),O&&O(Se,ze)}),te=ae((Se,ze)=>{const ge=og({timeout:N,style:F,easing:E},{mode:"enter"});Se.style.webkitTransition=n.transitions.create("-webkit-transform",{...ge}),Se.style.transition=n.transitions.create("transform",{...ge}),Se.style.webkitTransform="none",Se.style.transform="none",B&&B(Se,ze)}),le=ae(I),we=ae(j),ve=ae(Se=>{const ze=og({timeout:N,style:F,easing:E},{mode:"exit"});Se.style.webkitTransition=n.transitions.create("-webkit-transform",ze),Se.style.transition=n.transitions.create("transform",ze),Xw(_,Se,m),$&&$(Se)}),xe=ae(Se=>{Se.style.webkitTransition="",Se.style.transition="",q&&q(Se)}),ce=Se=>{c&&c(ee.current,Se)},Ce=S.useCallback(()=>{ee.current&&Xw(_,ee.current,m)},[_,m]);return S.useEffect(()=>{if(R||_==="down"||_==="right")return;const Se=xz(()=>{ee.current&&Xw(_,ee.current,m)}),ze=Qd(ee.current);return ze.addEventListener("resize",Se),()=>{Se.clear(),ze.removeEventListener("resize",Se)}},[_,R,m]),S.useEffect(()=>{R||Ce()},[R,Ce]),Oe.jsx(G,{nodeRef:ee,onEnter:X,onEntered:le,onEntering:te,onExit:ve,onExited:xe,onExiting:we,addEndListener:ce,appear:o,in:R,timeout:N,...V,children:(Se,{ownerState:ze,...ge})=>S.cloneElement(g,{ref:ne,style:{visibility:Se==="exited"&&!R?"hidden":void 0,...F,...g.props.style},...ge})})});function dve(e){return Gr("MuiDrawer",e)}Zr("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const GG=(e,t)=>{const{ownerState:r}=e;return[t.root,(r.variant==="permanent"||r.variant==="persistent")&&t.docked,t.modal]},fve=e=>{const{classes:t,anchor:r,variant:n}=e,a={root:["root",`anchor${jt(r)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${jt(r)}`,n!=="temporary"&&`paperAnchorDocked${jt(r)}`]};return Wr(a,dve,t)},hve=mt(Iz,{name:"MuiDrawer",slot:"Root",overridesResolver:GG})(Ur(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),pve=mt("div",{shouldForwardProp:Ls,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:GG})({flex:"0 0 auto"}),mve=mt(yg,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${jt(r.anchor)}`],r.variant!=="temporary"&&t[`paperAnchorDocked${jt(r.anchor)}`]]}})(Ur(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),ZG={left:"right",right:"left",top:"down",bottom:"up"};function gve(e){return["left","right"].includes(e)}function yve({direction:e},t){return e==="rtl"&&gve(t)?ZG[t]:t}const vve=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiDrawer"}),a=Wu(),l=nv(),c={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:g,children:m,className:_,elevation:E=16,hideBackdrop:R=!1,ModalProps:{BackdropProps:O,...I}={},onClose:B,open:$=!1,PaperProps:q={},SlideProps:j,TransitionComponent:F,transitionDuration:N=c,variant:G="temporary",slots:V={},slotProps:ee={},...ne}=n,ae=S.useRef(!1);S.useEffect(()=>{ae.current=!0},[]);const X=yve({direction:l?"rtl":"ltr"},o),le={...n,anchor:o,elevation:E,open:$,variant:G,...ne},we=fve(le),ve={slots:{transition:F,...V},slotProps:{paper:q,transition:j,...ee,backdrop:wz(ee.backdrop||{...g,...O},{transitionDuration:N})}},[xe,ce]=Jr("root",{ref:r,elementType:hve,className:er(we.root,we.modal,_),shouldForwardComponentProp:!0,ownerState:le,externalForwardedProps:{...ve,...ne,...I},additionalProps:{open:$,onClose:B,hideBackdrop:R,slots:{backdrop:ve.slots.backdrop},slotProps:{backdrop:ve.slotProps.backdrop}}}),[Ce,Se]=Jr("paper",{elementType:mve,shouldForwardComponentProp:!0,className:er(we.paper,q.className),ownerState:le,externalForwardedProps:ve,additionalProps:{elevation:G==="temporary"?E:0,square:!0}}),[ze,ge]=Jr("docked",{elementType:pve,ref:r,className:er(we.root,we.docked,_),ownerState:le,externalForwardedProps:ve,additionalProps:ne}),[je,et]=Jr("transition",{elementType:HG,ownerState:le,externalForwardedProps:ve,additionalProps:{in:$,direction:ZG[X],timeout:N,appear:ae.current}}),rt=Oe.jsx(Ce,{...Se,children:m});if(G==="permanent")return Oe.jsx(ze,{...ge,children:rt});const vt=Oe.jsx(je,{...et,children:rt});return G==="persistent"?Oe.jsx(ze,{...ge,children:vt}):Oe.jsx(xe,{...ce,children:vt})});function bve(e){return Gr("MuiFab",e)}const zj=Zr("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),_ve=e=>{const{color:t,variant:r,classes:n,size:a}=e,l={root:["root",r,`size${jt(a)}`,t==="inherit"?"colorInherit":t]},c=Wr(l,bve,n);return{...n,...c}},xve=mt(Ep,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>Ls(e)||e==="classes",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${jt(r.size)}`],r.color==="inherit"&&t.colorInherit,t[jt(r.size)],t[r.color]]}})(Ur(({theme:e})=>{var t,r;return{...e.typography.button,minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.grey[900]:(r=(t=e.palette).getContrastText)==null?void 0:r.call(t,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${zj.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),Ur(({theme:e})=>({variants:[...Object.entries(e.palette).filter(li(["dark","contrastText"])).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].contrastText,backgroundColor:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:(e.vars||e).palette[t].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t].main}}}}))]})),Ur(({theme:e})=>({[`&.${zj.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),wve=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiFab"}),{children:a,className:l,color:c="default",component:o="button",disabled:g=!1,disableFocusRipple:m=!1,focusVisibleClassName:_,size:E="large",variant:R="circular",...O}=n,I={...n,color:c,component:o,disabled:g,disableFocusRipple:m,size:E,variant:R},B=_ve(I);return Oe.jsx(xve,{className:er(B.root,l),component:o,disabled:g,focusRipple:!m,focusVisibleClassName:er(B.focusVisible,_),ownerState:I,ref:r,...O,classes:B,children:a})}),Sve=e=>{const{classes:t,disableUnderline:r,startAdornment:n,endAdornment:a,size:l,hiddenLabel:c,multiline:o}=e,g={root:["root",!r&&"underline",n&&"adornedStart",a&&"adornedEnd",l==="small"&&`size${jt(l)}`,c&&"hiddenLabel",o&&"multiline"],input:["input"]},m=Wr(g,Tge,t);return{...t,...m}},Eve=mt(tC,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...J2(e,t),!r.disableUnderline&&t.underline]}})(Ur(({theme:e})=>{const t=e.palette.mode==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${dy.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${dy.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l},variants:[{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dy.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dy.disabled}, .${dy.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${dy.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(li()).map(([c])=>{var o;return{props:{disableUnderline:!1,color:c},style:{"&::after":{borderBottom:`2px solid ${(o=(e.vars||e).palette[c])==null?void 0:o.main}`}}}}),{props:({ownerState:c})=>c.startAdornment,style:{paddingLeft:12}},{props:({ownerState:c})=>c.endAdornment,style:{paddingRight:12}},{props:({ownerState:c})=>c.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:c,size:o})=>c.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel&&c.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Cve=mt(rC,{name:"MuiFilledInput",slot:"Input",overridesResolver:eC})(Ur(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Fz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:l={},componentsProps:c,fullWidth:o=!1,hiddenLabel:g,inputComponent:m="input",multiline:_=!1,slotProps:E,slots:R={},type:O="text",...I}=n,B={...n,disableUnderline:a,fullWidth:o,inputComponent:m,multiline:_,type:O},$=Sve(n),q={root:{ownerState:B},input:{ownerState:B}},j=E??c?ko(q,E??c):q,F=R.root??l.Root??Eve,N=R.input??l.Input??Cve;return Oe.jsx(nC,{slots:{root:F,input:N},slotProps:j,fullWidth:o,inputComponent:m,multiline:_,ref:r,type:O,...I,classes:$})});Fz.muiName="Input";function Tve(e){return Gr("MuiFormControl",e)}Zr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ave=e=>{const{classes:t,margin:r,fullWidth:n}=e,a={root:["root",r!=="none"&&`margin${jt(r)}`,n&&"fullWidth"]};return Wr(a,Tve,t)},Pve=mt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`margin${jt(r.margin)}`],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Rve=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiFormControl"}),{children:a,className:l,color:c="primary",component:o="div",disabled:g=!1,error:m=!1,focused:_,fullWidth:E=!1,hiddenLabel:R=!1,margin:O="none",required:I=!1,size:B="medium",variant:$="outlined",...q}=n,j={...n,color:c,component:o,disabled:g,error:m,fullWidth:E,hiddenLabel:R,margin:O,required:I,size:B,variant:$},F=Ave(j),[N,G]=S.useState(()=>{let xe=!1;return a&&S.Children.forEach(a,ce=>{if(!rM(ce,["Input","Select"]))return;const Ce=rM(ce,["Select"])?ce.props.input:ce;Ce&&xge(Ce.props)&&(xe=!0)}),xe}),[V,ee]=S.useState(()=>{let xe=!1;return a&&S.Children.forEach(a,ce=>{rM(ce,["Input","Select"])&&(uE(ce.props,!0)||uE(ce.props.inputProps,!0))&&(xe=!0)}),xe}),[ne,ae]=S.useState(!1);g&&ne&&ae(!1);const X=_!==void 0&&!g?_:ne;let te;S.useRef(!1);const le=S.useCallback(()=>{ee(!0)},[]),we=S.useCallback(()=>{ee(!1)},[]),ve=S.useMemo(()=>({adornedStart:N,setAdornedStart:G,color:c,disabled:g,error:m,filled:V,focused:X,fullWidth:E,hiddenLabel:R,size:B,onBlur:()=>{ae(!1)},onFocus:()=>{ae(!0)},onEmpty:we,onFilled:le,registerEffect:te,required:I,variant:$}),[N,c,g,m,V,X,E,R,te,we,le,I,B,$]);return Oe.jsx(Q2.Provider,{value:ve,children:Oe.jsx(Pve,{as:o,ownerState:j,className:er(F.root,l),ref:r,...q,children:a})})});function Mve(e){return Gr("MuiFormHelperText",e)}const Lj=Zr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Bj;const Ove=e=>{const{classes:t,contained:r,size:n,disabled:a,error:l,filled:c,focused:o,required:g}=e,m={root:["root",a&&"disabled",l&&"error",n&&`size${jt(n)}`,r&&"contained",o&&"focused",c&&"filled",g&&"required"]};return Wr(m,Mve,t)},kve=mt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${jt(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(Ur(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Lj.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Lj.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),Ive=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiFormHelperText"}),{children:a,className:l,component:c="p",disabled:o,error:g,filled:m,focused:_,margin:E,required:R,variant:O,...I}=n,B=_g(),$=N_({props:n,muiFormControl:B,states:["variant","size","disabled","error","filled","focused","required"]}),q={...n,component:c,contained:$.variant==="filled"||$.variant==="outlined",variant:$.variant,size:$.size,disabled:$.disabled,error:$.error,filled:$.filled,focused:$.focused,required:$.required};delete q.ownerState;const j=Ove(q);return Oe.jsx(kve,{as:c,className:er(j.root,l),ref:r,...I,ownerState:q,children:a===" "?Bj||(Bj=Oe.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):a})});function Dve(e){return Gr("MuiFormLabel",e)}const Px=Zr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),zve=e=>{const{classes:t,color:r,focused:n,disabled:a,error:l,filled:c,required:o}=e,g={root:["root",`color${jt(r)}`,a&&"disabled",l&&"error",c&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",l&&"error"]};return Wr(g,Dve,t)},Lve=mt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color==="secondary"&&t.colorSecondary,r.filled&&t.filled]}})(Ur(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{[`&.${Px.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Px.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Px.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),Bve=mt("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ur(({theme:e})=>({[`&.${Px.error}`]:{color:(e.vars||e).palette.error.main}}))),Fve=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiFormLabel"}),{children:a,className:l,color:c,component:o="label",disabled:g,error:m,filled:_,focused:E,required:R,...O}=n,I=_g(),B=N_({props:n,muiFormControl:I,states:["color","required","focused","disabled","error","filled"]}),$={...n,color:B.color||"primary",component:o,disabled:B.disabled,error:B.error,filled:B.filled,focused:B.focused,required:B.required},q=zve($);return Oe.jsxs(Lve,{as:o,ownerState:$,className:er(q.root,l),ref:r,...O,children:[a,B.required&&Oe.jsxs(Bve,{ownerState:$,"aria-hidden":!0,className:q.asterisk,children:["","*"]})]})});function EI(e){return`scale(${e}, ${e**2})`}const Nve={entering:{opacity:1,transform:EI(1)},entered:{opacity:1,transform:"none"}},sM=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),p1=S.forwardRef(function(t,r){const{addEndListener:n,appear:a=!0,children:l,easing:c,in:o,onEnter:g,onEntered:m,onEntering:_,onExit:E,onExited:R,onExiting:O,style:I,timeout:B="auto",TransitionComponent:$=Ku,...q}=t,j=Ym(),F=S.useRef(),N=Wu(),G=S.useRef(null),V=Hi(G,bg(l),r),ee=xe=>ce=>{if(xe){const Ce=G.current;ce===void 0?xe(Ce):xe(Ce,ce)}},ne=ee(_),ae=ee((xe,ce)=>{Cz(xe);const{duration:Ce,delay:Se,easing:ze}=og({style:I,timeout:B,easing:c},{mode:"enter"});let ge;B==="auto"?(ge=N.transitions.getAutoHeightDuration(xe.clientHeight),F.current=ge):ge=Ce,xe.style.transition=[N.transitions.create("opacity",{duration:ge,delay:Se}),N.transitions.create("transform",{duration:sM?ge:ge*.666,delay:Se,easing:ze})].join(","),g&&g(xe,ce)}),X=ee(m),te=ee(O),le=ee(xe=>{const{duration:ce,delay:Ce,easing:Se}=og({style:I,timeout:B,easing:c},{mode:"exit"});let ze;B==="auto"?(ze=N.transitions.getAutoHeightDuration(xe.clientHeight),F.current=ze):ze=ce,xe.style.transition=[N.transitions.create("opacity",{duration:ze,delay:Ce}),N.transitions.create("transform",{duration:sM?ze:ze*.666,delay:sM?Ce:Ce||ze*.333,easing:Se})].join(","),xe.style.opacity=0,xe.style.transform=EI(.75),E&&E(xe)}),we=ee(R),ve=xe=>{B==="auto"&&j.start(F.current||0,xe),n&&n(G.current,xe)};return Oe.jsx($,{appear:a,in:o,nodeRef:G,onEnter:ae,onEntered:X,onEntering:ne,onExit:le,onExited:we,onExiting:te,addEndListener:ve,timeout:B==="auto"?null:B,...q,children:(xe,{ownerState:ce,...Ce})=>S.cloneElement(l,{style:{opacity:0,transform:EI(.75),visibility:xe==="exited"&&!o?"hidden":void 0,...Nve[xe],...I,...l.props.style},ref:V,...Ce})})});p1&&(p1.muiSupportAuto=!0);const jve=e=>{const{classes:t,disableUnderline:r}=e,a=Wr({root:["root",!r&&"underline"],input:["input"]},Ege,t);return{...t,...a}},$ve=mt(tC,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...J2(e,t),!r.disableUnderline&&t.underline]}})(Ur(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${X0.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${X0.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${X0.disabled}, .${X0.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${X0.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(li()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),Uve=mt(rC,{name:"MuiInput",slot:"Input",overridesResolver:eC})({}),Nz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiInput"}),{disableUnderline:a=!1,components:l={},componentsProps:c,fullWidth:o=!1,inputComponent:g="input",multiline:m=!1,slotProps:_,slots:E={},type:R="text",...O}=n,I=jve(n),$={root:{ownerState:{disableUnderline:a}}},q=_??c?ko(_??c,$):$,j=E.root??l.Root??$ve,F=E.input??l.Input??Uve;return Oe.jsx(nC,{slots:{root:j,input:F},slotProps:q,fullWidth:o,inputComponent:g,multiline:m,ref:r,type:R,...O,classes:I})});Nz.muiName="Input";function qve(e){return Gr("MuiInputAdornment",e)}const Fj=Zr("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Nj;const Vve=(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${jt(r.position)}`],r.disablePointerEvents===!0&&t.disablePointerEvents,t[r.variant]]},Hve=e=>{const{classes:t,disablePointerEvents:r,hiddenLabel:n,position:a,size:l,variant:c}=e,o={root:["root",r&&"disablePointerEvents",a&&`position${jt(a)}`,c,n&&"hiddenLabel",l&&`size${jt(l)}`]};return Wr(o,qve,t)},Gve=mt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Vve})(Ur(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Fj.positionStart}&:not(.${Fj.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),AS=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiInputAdornment"}),{children:a,className:l,component:c="div",disablePointerEvents:o=!1,disableTypography:g=!1,position:m,variant:_,...E}=n,R=_g()||{};let O=_;_&&R.variant,R&&!O&&(O=R.variant);const I={...n,hiddenLabel:R.hiddenLabel,size:R.size,disablePointerEvents:o,position:m,variant:O},B=Hve(I);return Oe.jsx(Q2.Provider,{value:null,children:Oe.jsx(Gve,{as:c,ownerState:I,className:er(B.root,l),ref:r,...E,children:typeof a=="string"&&!g?Oe.jsx(Jn,{color:"textSecondary",children:a}):Oe.jsxs(S.Fragment,{children:[m==="start"?Nj||(Nj=Oe.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,a]})})})});function Zve(e){return Gr("MuiInputLabel",e)}Zr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Wve=e=>{const{classes:t,formControl:r,size:n,shrink:a,disableAnimation:l,variant:c,required:o}=e,g={root:["root",r&&"formControl",!l&&"animated",a&&"shrink",n&&n!=="medium"&&`size${jt(n)}`,c],asterisk:[o&&"asterisk"]},m=Wr(g,Zve,t);return{...t,...m}},Kve=mt(Fve,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Px.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(Ur(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:r,size:n})=>t==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Xve=S.forwardRef(function(t,r){const n=Yr({name:"MuiInputLabel",props:t}),{disableAnimation:a=!1,margin:l,shrink:c,variant:o,className:g,...m}=n,_=_g();let E=c;typeof E>"u"&&_&&(E=_.filled||_.focused||_.adornedStart);const R=N_({props:n,muiFormControl:_,states:["size","variant","required","focused"]}),O={...n,disableAnimation:a,formControl:_,shrink:E,size:R.size,variant:R.variant,required:R.required,focused:R.focused},I=Wve(O);return Oe.jsx(Kve,{"data-shrink":E,ref:r,className:er(I.root,g),...m,ownerState:O,classes:I})});function Yve(e){return Gr("MuiLinearProgress",e)}Zr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const CI=4,TI=gg`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Qve=typeof TI!="string"?B_`
        animation: ${TI} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,AI=gg`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Jve=typeof AI!="string"?B_`
        animation: ${AI} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,PI=gg`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,ebe=typeof PI!="string"?B_`
        animation: ${PI} 3s infinite linear;
      `:null,tbe=e=>{const{classes:t,variant:r,color:n}=e,a={root:["root",`color${jt(n)}`,r],dashed:["dashed",`dashedColor${jt(n)}`],bar1:["bar","bar1",`barColor${jt(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",r!=="buffer"&&`barColor${jt(n)}`,r==="buffer"&&`color${jt(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return Wr(a,Yve,t)},jz=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?rv(e.palette[t].main,.62):F_(e.palette[t].main,.5),rbe=mt("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${jt(r.color)}`],t[r.variant]]}})(Ur(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{backgroundColor:jz(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),nbe=mt("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${jt(r.color)}`]]}})(Ur(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(li()).map(([t])=>{const r=jz(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),ebe||{animation:`${PI} 3s infinite linear`}),abe=mt("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar1,t[`barColor${jt(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(Ur(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${CI}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${CI}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Qve||{animation:`${TI} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),ibe=mt("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar2,t[`barColor${jt(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(Ur(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(li()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:jz(e,t),transition:`transform .${CI}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Jve||{animation:`${AI} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),obe=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiLinearProgress"}),{className:a,color:l="primary",value:c,valueBuffer:o,variant:g="indeterminate",...m}=n,_={...n,color:l,variant:g},E=tbe(_),R=nv(),O={},I={bar1:{},bar2:{}};if((g==="determinate"||g==="buffer")&&c!==void 0){O["aria-valuenow"]=Math.round(c),O["aria-valuemin"]=0,O["aria-valuemax"]=100;let B=c-100;R&&(B=-B),I.bar1.transform=`translateX(${B}%)`}if(g==="buffer"&&o!==void 0){let B=(o||0)-100;R&&(B=-B),I.bar2.transform=`translateX(${B}%)`}return Oe.jsxs(rbe,{className:er(E.root,a),ownerState:_,role:"progressbar",...O,ref:r,...m,children:[g==="buffer"?Oe.jsx(nbe,{className:E.dashed,ownerState:_}):null,Oe.jsx(abe,{className:E.bar1,ownerState:_,style:I.bar1}),g==="determinate"?null:Oe.jsx(ibe,{className:E.bar2,ownerState:_,style:I.bar2})]})});function sbe(e){return Gr("MuiLink",e)}const lbe=Zr("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),cbe=({theme:e,ownerState:t})=>{const r=t.color,n=Xm(e,`palette.${r}.main`,!1)||Xm(e,`palette.${r}`,!1)||t.color,a=Xm(e,`palette.${r}.mainChannel`)||Xm(e,`palette.${r}Channel`);return"vars"in e&&a?`rgba(${a} / 0.4)`:En(n,.4)},jj={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},ube=e=>{const{classes:t,component:r,focusVisible:n,underline:a}=e,l={root:["root",`underline${jt(a)}`,r==="button"&&"button",n&&"focusVisible"]};return Wr(l,sbe,t)},dbe=mt(Jn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${jt(r.underline)}`],r.component==="button"&&t.button]}})(Ur(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:r})=>t==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(li()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:En(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:En(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:En(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lbe.focusVisible}`]:{outline:"auto"}}}]}))),$z=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiLink"}),a=Wu(),{className:l,color:c="primary",component:o="a",onBlur:g,onFocus:m,TypographyClasses:_,underline:E="always",variant:R="inherit",sx:O,...I}=n,[B,$]=S.useState(!1),q=G=>{m_(G.target)||$(!1),g&&g(G)},j=G=>{m_(G.target)&&$(!0),m&&m(G)},F={...n,color:c,component:o,focusVisible:B,underline:E,variant:R},N=ube(F);return Oe.jsx(dbe,{color:c,className:er(N.root,l),classes:_,component:o,onBlur:q,onFocus:j,ref:r,ownerState:F,variant:R,...I,sx:[...jj[c]===void 0?[{color:c}]:[],...Array.isArray(O)?O:[O]],style:{...I.style,...E==="always"&&c!=="inherit"&&!jj[c]&&{"--Link-underlineColor":cbe({theme:a,ownerState:F})}}})}),m1=S.createContext({});function fbe(e){return Gr("MuiList",e)}Zr("MuiList",["root","padding","dense","subheader"]);const hbe=e=>{const{classes:t,disablePadding:r,dense:n,subheader:a}=e;return Wr({root:["root",!r&&"padding",n&&"dense",a&&"subheader"]},fbe,t)},pbe=mt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),mbe=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiList"}),{children:a,className:l,component:c="ul",dense:o=!1,disablePadding:g=!1,subheader:m,..._}=n,E=S.useMemo(()=>({dense:o}),[o]),R={...n,component:c,dense:o,disablePadding:g},O=hbe(R);return Oe.jsx(m1.Provider,{value:E,children:Oe.jsxs(pbe,{as:c,className:er(O.root,l),ref:r,ownerState:R,..._,children:[m,a]})})});function gbe(e){return Gr("MuiListItemIcon",e)}const $j=Zr("MuiListItemIcon",["root","alignItemsFlexStart"]),ybe=e=>{const{alignItems:t,classes:r}=e;return Wr({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},gbe,r)},vbe=mt("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Ur(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),My=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiListItemIcon"}),{className:a,...l}=n,c=S.useContext(m1),o={...n,alignItems:c.alignItems},g=ybe(o);return Oe.jsx(vbe,{className:er(g.root,a),ownerState:o,ref:r,...l})});function bbe(e){return Gr("MuiListItemText",e)}const Ib=Zr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),_be=e=>{const{classes:t,inset:r,primary:n,secondary:a,dense:l}=e;return Wr({root:["root",r&&"inset",l&&"dense",n&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},bbe,t)},xbe=mt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Ib.primary}`]:t.primary},{[`& .${Ib.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${fj.root}:where(& .${Ib.primary})`]:{display:"block"},[`.${fj.root}:where(& .${Ib.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Db=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiListItemText"}),{children:a,className:l,disableTypography:c=!1,inset:o=!1,primary:g,primaryTypographyProps:m,secondary:_,secondaryTypographyProps:E,slots:R={},slotProps:O={},...I}=n,{dense:B}=S.useContext(m1);let $=g??a,q=_;const j={...n,disableTypography:c,inset:o,primary:!!$,secondary:!!q,dense:B},F=_be(j),N={slots:R,slotProps:{primary:m,secondary:E,...O}},[G,V]=Jr("root",{className:er(F.root,l),elementType:xbe,externalForwardedProps:{...N,...I},ownerState:j,ref:r}),[ee,ne]=Jr("primary",{className:F.primary,elementType:Jn,externalForwardedProps:N,ownerState:j}),[ae,X]=Jr("secondary",{className:F.secondary,elementType:Jn,externalForwardedProps:N,ownerState:j});return $!=null&&$.type!==Jn&&!c&&($=Oe.jsx(ee,{variant:B?"body2":"body1",component:ne!=null&&ne.variant?void 0:"span",...ne,children:$})),q!=null&&q.type!==Jn&&!c&&(q=Oe.jsx(ae,{variant:"body2",color:"textSecondary",...X,children:q})),Oe.jsxs(G,{...V,children:[$,q]})});function lM(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function Uj(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function WG(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join(""))}function Y0(e,t,r,n,a,l){let c=!1,o=a(e,t,t?r:!1);for(;o;){if(o===e.firstChild){if(c)return!1;c=!0}const g=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!WG(o,l)||g)o=a(e,o,r);else return o.focus(),!0}return!1}const KG=S.forwardRef(function(t,r){const{actions:n,autoFocus:a=!1,autoFocusItem:l=!1,children:c,className:o,disabledItemsFocusable:g=!1,disableListWrap:m=!1,onKeyDown:_,variant:E="selectedMenu",...R}=t,O=S.useRef(null),I=S.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Uu(()=>{a&&O.current.focus()},[a]),S.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(F,{direction:N})=>{const G=!O.current.style.width;if(F.clientHeight<O.current.clientHeight&&G){const V=`${UG(Qd(F))}px`;O.current.style[N==="rtl"?"paddingLeft":"paddingRight"]=V,O.current.style.width=`calc(100% + ${V})`}return O.current}}),[]);const B=F=>{const N=O.current,G=F.key;if(F.ctrlKey||F.metaKey||F.altKey){_&&_(F);return}const ee=al(N).activeElement;if(G==="ArrowDown")F.preventDefault(),Y0(N,ee,m,g,lM);else if(G==="ArrowUp")F.preventDefault(),Y0(N,ee,m,g,Uj);else if(G==="Home")F.preventDefault(),Y0(N,null,m,g,lM);else if(G==="End")F.preventDefault(),Y0(N,null,m,g,Uj);else if(G.length===1){const ne=I.current,ae=G.toLowerCase(),X=performance.now();ne.keys.length>0&&(X-ne.lastTime>500?(ne.keys=[],ne.repeating=!0,ne.previousKeyMatched=!0):ne.repeating&&ae!==ne.keys[0]&&(ne.repeating=!1)),ne.lastTime=X,ne.keys.push(ae);const te=ee&&!ne.repeating&&WG(ee,ne);ne.previousKeyMatched&&(te||Y0(N,ee,!1,g,lM,ne))?F.preventDefault():ne.previousKeyMatched=!1}_&&_(F)},$=Hi(O,r);let q=-1;S.Children.forEach(c,(F,N)=>{if(!S.isValidElement(F)){q===N&&(q+=1,q>=c.length&&(q=-1));return}F.props.disabled||(E==="selectedMenu"&&F.props.selected||q===-1)&&(q=N),q===N&&(F.props.disabled||F.props.muiSkipListHighlight||F.type.muiSkipListHighlight)&&(q+=1,q>=c.length&&(q=-1))});const j=S.Children.map(c,(F,N)=>{if(N===q){const G={};return l&&(G.autoFocus=!0),F.props.tabIndex===void 0&&E==="selectedMenu"&&(G.tabIndex=0),S.cloneElement(F,G)}return F});return Oe.jsx(mbe,{role:"menu",ref:$,className:o,onKeyDown:B,tabIndex:a?0:-1,...R,children:j})});function wbe(e){return Gr("MuiPopover",e)}Zr("MuiPopover",["root","paper"]);function qj(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function Vj(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function Hj(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Yw(e){return typeof e=="function"?e():e}const Sbe=e=>{const{classes:t}=e;return Wr({root:["root"],paper:["paper"]},wbe,t)},Ebe=mt(Iz,{name:"MuiPopover",slot:"Root"})({}),XG=mt(yg,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),YG=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:g="anchorEl",children:m,className:_,container:E,elevation:R=8,marginThreshold:O=16,open:I,PaperProps:B={},slots:$={},slotProps:q={},transformOrigin:j={vertical:"top",horizontal:"left"},TransitionComponent:F,transitionDuration:N="auto",TransitionProps:G={},disableScrollLock:V=!1,...ee}=n,ne=S.useRef(),ae={...n,anchorOrigin:c,anchorReference:g,elevation:R,marginThreshold:O,transformOrigin:j,TransitionComponent:F,transitionDuration:N,TransitionProps:G},X=Sbe(ae),te=S.useCallback(()=>{if(g==="anchorPosition")return o;const Dt=Yw(l),tr=(Dt&&Dt.nodeType===1?Dt:al(ne.current).body).getBoundingClientRect();return{top:tr.top+qj(tr,c.vertical),left:tr.left+Vj(tr,c.horizontal)}},[l,c.horizontal,c.vertical,o,g]),le=S.useCallback(Dt=>({vertical:qj(Dt,j.vertical),horizontal:Vj(Dt,j.horizontal)}),[j.horizontal,j.vertical]),we=S.useCallback(Dt=>{const $t={width:Dt.offsetWidth,height:Dt.offsetHeight},tr=le($t);if(g==="none")return{top:null,left:null,transformOrigin:Hj(tr)};const ur=te();let Xt=ur.top-tr.vertical,mr=ur.left-tr.horizontal;const Vr=Xt+$t.height,br=mr+$t.width,nn=Qd(Yw(l)),Rr=nn.innerHeight-O,Be=nn.innerWidth-O;if(O!==null&&Xt<O){const Ye=Xt-O;Xt-=Ye,tr.vertical+=Ye}else if(O!==null&&Vr>Rr){const Ye=Vr-Rr;Xt-=Ye,tr.vertical+=Ye}if(O!==null&&mr<O){const Ye=mr-O;mr-=Ye,tr.horizontal+=Ye}else if(br>Be){const Ye=br-Be;mr-=Ye,tr.horizontal+=Ye}return{top:`${Math.round(Xt)}px`,left:`${Math.round(mr)}px`,transformOrigin:Hj(tr)}},[l,g,te,le,O]),[ve,xe]=S.useState(I),ce=S.useCallback(()=>{const Dt=ne.current;if(!Dt)return;const $t=we(Dt);$t.top!==null&&Dt.style.setProperty("top",$t.top),$t.left!==null&&(Dt.style.left=$t.left),Dt.style.transformOrigin=$t.transformOrigin,xe(!0)},[we]);S.useEffect(()=>(V&&window.addEventListener("scroll",ce),()=>window.removeEventListener("scroll",ce)),[l,V,ce]);const Ce=()=>{ce()},Se=()=>{xe(!1)};S.useEffect(()=>{I&&ce()}),S.useImperativeHandle(a,()=>I?{updatePosition:()=>{ce()}}:null,[I,ce]),S.useEffect(()=>{if(!I)return;const Dt=xz(()=>{ce()}),$t=Qd(Yw(l));return $t.addEventListener("resize",Dt),()=>{Dt.clear(),$t.removeEventListener("resize",Dt)}},[l,I,ce]);let ze=N;const ge={slots:{transition:F,...$},slotProps:{transition:G,paper:B,...q}},[je,et]=Jr("transition",{elementType:p1,externalForwardedProps:ge,ownerState:ae,getSlotProps:Dt=>({...Dt,onEntering:($t,tr)=>{var ur;(ur=Dt.onEntering)==null||ur.call(Dt,$t,tr),Ce()},onExited:$t=>{var tr;(tr=Dt.onExited)==null||tr.call(Dt,$t),Se()}}),additionalProps:{appear:!0,in:I}});N==="auto"&&!je.muiSupportAuto&&(ze=void 0);const rt=E||(l?al(Yw(l)).body:void 0),[vt,{slots:ht,slotProps:ut,...Vt}]=Jr("root",{ref:r,elementType:Ebe,externalForwardedProps:{...ge,...ee},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:$.backdrop},slotProps:{backdrop:wz(typeof q.backdrop=="function"?q.backdrop(ae):q.backdrop,{invisible:!0})},container:rt,open:I},ownerState:ae,className:er(X.root,_)}),[Nt,lr]=Jr("paper",{ref:ne,className:X.paper,elementType:XG,externalForwardedProps:ge,shouldForwardComponentProp:!0,additionalProps:{elevation:R,style:ve?void 0:{opacity:0}},ownerState:ae});return Oe.jsx(vt,{...Vt,...!bI(vt)&&{slots:ht,slotProps:ut,disableScrollLock:V},children:Oe.jsx(je,{...et,timeout:ze,children:Oe.jsx(Nt,{...lr,children:m})})})});function Cbe(e){return Gr("MuiMenu",e)}Zr("MuiMenu",["root","paper","list"]);const Tbe={vertical:"top",horizontal:"right"},Abe={vertical:"top",horizontal:"left"},Pbe=e=>{const{classes:t}=e;return Wr({root:["root"],paper:["paper"],list:["list"]},Cbe,t)},Rbe=mt(YG,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),Mbe=mt(XG,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Obe=mt(KG,{name:"MuiMenu",slot:"List"})({outline:0}),aC=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:c,disableAutoFocusItem:o=!1,MenuListProps:g={},onClose:m,open:_,PaperProps:E={},PopoverClasses:R,transitionDuration:O="auto",TransitionProps:{onEntering:I,...B}={},variant:$="selectedMenu",slots:q={},slotProps:j={},...F}=n,N=nv(),G={...n,autoFocus:a,disableAutoFocusItem:o,MenuListProps:g,onEntering:I,PaperProps:E,transitionDuration:O,TransitionProps:B,variant:$},V=Pbe(G),ee=a&&!o&&_,ne=S.useRef(null),ae=(ze,ge)=>{ne.current&&ne.current.adjustStyleForScrollbar(ze,{direction:N?"rtl":"ltr"}),I&&I(ze,ge)},X=ze=>{ze.key==="Tab"&&(ze.preventDefault(),m&&m(ze,"tabKeyDown"))};let te=-1;S.Children.map(l,(ze,ge)=>{S.isValidElement(ze)&&(ze.props.disabled||($==="selectedMenu"&&ze.props.selected||te===-1)&&(te=ge))});const le={slots:q,slotProps:{list:g,transition:B,paper:E,...j}},we=OG({elementType:q.root,externalSlotProps:j.root,ownerState:G,className:[V.root,c]}),[ve,xe]=Jr("paper",{className:V.paper,elementType:Mbe,externalForwardedProps:le,shouldForwardComponentProp:!0,ownerState:G}),[ce,Ce]=Jr("list",{className:er(V.list,g.className),elementType:Obe,shouldForwardComponentProp:!0,externalForwardedProps:le,getSlotProps:ze=>({...ze,onKeyDown:ge=>{var je;X(ge),(je=ze.onKeyDown)==null||je.call(ze,ge)}}),ownerState:G}),Se=typeof le.slotProps.transition=="function"?le.slotProps.transition(G):le.slotProps.transition;return Oe.jsx(Rbe,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?Tbe:Abe,slots:{root:q.root,paper:ve,backdrop:q.backdrop,...q.transition&&{transition:q.transition}},slotProps:{root:we,paper:xe,backdrop:typeof j.backdrop=="function"?j.backdrop(G):j.backdrop,transition:{...Se,onEntering:(...ze)=>{var ge;ae(...ze),(ge=Se==null?void 0:Se.onEntering)==null||ge.call(Se,...ze)}}},open:_,ref:r,transitionDuration:O,ownerState:G,...F,classes:R,children:Oe.jsx(ce,{actions:ne,autoFocus:a&&(te===-1||o),autoFocusItem:ee,variant:$,...Ce,children:l})})});function kbe(e){return Gr("MuiMenuItem",e)}const Q0=Zr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ibe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},Dbe=e=>{const{disabled:t,dense:r,divider:n,disableGutters:a,selected:l,classes:c}=e,g=Wr({root:["root",r&&"dense",t&&"disabled",!a&&"gutters",n&&"divider",l&&"selected"]},kbe,c);return{...c,...g}},zbe=mt(Ep,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ibe})(Ur(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Q0.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:En(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Q0.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:En(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Q0.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:En(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:En(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Q0.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Q0.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Dj.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Dj.inset}`]:{marginLeft:52},[`& .${Ib.root}`]:{marginTop:0,marginBottom:0},[`& .${Ib.inset}`]:{paddingLeft:36},[`& .${$j.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${$j.root} svg`]:{fontSize:"1.25rem"}}}]}))),_p=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiMenuItem"}),{autoFocus:a=!1,component:l="li",dense:c=!1,divider:o=!1,disableGutters:g=!1,focusVisibleClassName:m,role:_="menuitem",tabIndex:E,className:R,...O}=n,I=S.useContext(m1),B=S.useMemo(()=>({dense:c||I.dense||!1,disableGutters:g}),[I.dense,c,g]),$=S.useRef(null);Uu(()=>{a&&$.current&&$.current.focus()},[a]);const q={...n,dense:B.dense,divider:o,disableGutters:g},j=Dbe(n),F=Hi($,r);let N;return n.disabled||(N=E!==void 0?E:-1),Oe.jsx(m1.Provider,{value:B,children:Oe.jsx(zbe,{ref:F,role:_,tabIndex:N,component:l,focusVisibleClassName:er(j.focusVisible,m),className:er(j.root,R),...O,ownerState:q,classes:j})})});function Lbe(e){return Gr("MuiNativeSelect",e)}const Uz=Zr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Bbe=e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:l,error:c}=e,o={select:["select",r,n&&"disabled",a&&"multiple",c&&"error"],icon:["icon",`icon${jt(r)}`,l&&"iconOpen",n&&"disabled"]};return Wr(o,Lbe,t)},QG=mt("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Uz.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Fbe=mt(QG,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ls,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${Uz.multiple}`]:t.multiple}]}})({}),JG=mt("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Uz.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Nbe=mt(JG,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${jt(r.variant)}`],r.open&&t.iconOpen]}})({}),jbe=S.forwardRef(function(t,r){const{className:n,disabled:a,error:l,IconComponent:c,inputRef:o,variant:g="standard",...m}=t,_={...t,disabled:a,variant:g,error:l},E=Bbe(_);return Oe.jsxs(S.Fragment,{children:[Oe.jsx(Fbe,{ownerState:_,className:er(E.select,n),disabled:a,ref:o||r,...m}),t.multiple?null:Oe.jsx(Nbe,{as:c,ownerState:_,className:E.icon})]})});var Gj;const $be=mt("fieldset",{shouldForwardProp:Ls})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Ube=mt("legend",{shouldForwardProp:Ls})(Ur(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function qbe(e){const{children:t,classes:r,className:n,label:a,notched:l,...c}=e,o=a!=null&&a!=="",g={...e,notched:l,withLabel:o};return Oe.jsx($be,{"aria-hidden":!0,className:n,ownerState:g,...c,children:Oe.jsx(Ube,{ownerState:g,children:o?Oe.jsx("span",{children:a}):Gj||(Gj=Oe.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Vbe=e=>{const{classes:t}=e,n=Wr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Cge,t);return{...t,...n}},Hbe=mt(tC,{shouldForwardProp:e=>Ls(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:J2})(Ur(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Wf.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Wf.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Wf.focused} .${Wf.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(li()).map(([r])=>({props:{color:r},style:{[`&.${Wf.focused} .${Wf.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${Wf.error} .${Wf.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Wf.disabled} .${Wf.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),Gbe=mt(qbe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ur(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Zbe=mt(rC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:eC})(Ur(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),qz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiOutlinedInput"}),{components:a={},fullWidth:l=!1,inputComponent:c="input",label:o,multiline:g=!1,notched:m,slots:_={},slotProps:E={},type:R="text",...O}=n,I=Vbe(n),B=_g(),$=N_({props:n,muiFormControl:B,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),q={...n,color:$.color||"primary",disabled:$.disabled,error:$.error,focused:$.focused,formControl:B,fullWidth:l,hiddenLabel:$.hiddenLabel,multiline:g,size:$.size,type:R},j=_.root??a.Root??Hbe,F=_.input??a.Input??Zbe,[N,G]=Jr("notchedOutline",{elementType:Gbe,className:I.notchedOutline,shouldForwardComponentProp:!0,ownerState:q,externalForwardedProps:{slots:_,slotProps:E},additionalProps:{label:o!=null&&o!==""&&$.required?Oe.jsxs(S.Fragment,{children:[o,"","*"]}):o}});return Oe.jsx(nC,{slots:{root:j,input:F},slotProps:E,renderSuffix:V=>Oe.jsx(N,{...G,notched:typeof m<"u"?m:!!(V.startAdornment||V.filled||V.focused)}),fullWidth:l,inputComponent:c,multiline:g,ref:r,type:R,...O,classes:{...I,notchedOutline:null}})});qz.muiName="Input";function Wbe(e){return Gr("MuiPagination",e)}Zr("MuiPagination",["root","ul","outlined","text"]);function Kbe(e={}){const{boundaryCount:t=1,componentName:r="usePagination",count:n=1,defaultPage:a=1,disabled:l=!1,hideNextButton:c=!1,hidePrevButton:o=!1,onChange:g,page:m,showFirstButton:_=!1,showLastButton:E=!1,siblingCount:R=1,...O}=e,[I,B]=d1({controlled:m,default:a,name:r,state:"page"}),$=(ae,X)=>{m||B(X),g&&g(ae,X)},q=(ae,X)=>{const te=X-ae+1;return Array.from({length:te},(le,we)=>ae+we)},j=q(1,Math.min(t,n)),F=q(Math.max(n-t+1,t+1),n),N=Math.max(Math.min(I-R,n-t-R*2-1),t+2),G=Math.min(Math.max(I+R,t+R*2+2),n-t-1),V=[..._?["first"]:[],...o?[]:["previous"],...j,...N>t+2?["start-ellipsis"]:t+1<n-t?[t+1]:[],...q(N,G),...G<n-t-1?["end-ellipsis"]:n-t>t?[n-t]:[],...F,...c?[]:["next"],...E?["last"]:[]],ee=ae=>{switch(ae){case"first":return 1;case"previous":return I-1;case"next":return I+1;case"last":return n;default:return null}};return{items:V.map(ae=>typeof ae=="number"?{onClick:X=>{$(X,ae)},type:"page",page:ae,selected:ae===I,disabled:l,"aria-current":ae===I?"page":void 0}:{onClick:X=>{$(X,ee(ae))},type:ae,page:ee(ae),selected:!1,disabled:l||!ae.includes("ellipsis")&&(ae==="next"||ae==="last"?I>=n:I<=1)}),...O}}function Xbe(e){return Gr("MuiPaginationItem",e)}const wl=Zr("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),eZ=hn(Oe.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),tZ=hn(Oe.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),Ybe=hn(Oe.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Qbe=hn(Oe.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),rZ=(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${jt(r.size)}`],r.variant==="text"&&t[`text${jt(r.color)}`],r.variant==="outlined"&&t[`outlined${jt(r.color)}`],r.shape==="rounded"&&t.rounded,r.type==="page"&&t.page,(r.type==="start-ellipsis"||r.type==="end-ellipsis")&&t.ellipsis,(r.type==="previous"||r.type==="next")&&t.previousNext,(r.type==="first"||r.type==="last")&&t.firstLast]},Jbe=e=>{const{classes:t,color:r,disabled:n,selected:a,size:l,shape:c,type:o,variant:g}=e,m={root:["root",`size${jt(l)}`,g,c,r!=="standard"&&`color${jt(r)}`,r!=="standard"&&`${g}${jt(r)}`,n&&"disabled",a&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[o]],icon:["icon"]};return Wr(m,Xbe,t)},e_e=mt("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:rZ})(Ur(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${wl.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),t_e=mt(Ep,{name:"MuiPaginationItem",slot:"Root",overridesResolver:rZ})(Ur(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${wl.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${wl.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wl.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:En(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${wl.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:En(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${wl.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${wl.selected}`]:{[`&.${wl.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${wl.selected}`]:{[`&.${wl.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(li(["dark","contrastText"])).map(([t])=>({props:{variant:"text",color:t},style:{[`&.${wl.selected}`]:{color:(e.vars||e).palette[t].contrastText,backgroundColor:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:(e.vars||e).palette[t].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t].main}},[`&.${wl.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t].dark},[`&.${wl.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(li(["light"])).map(([t])=>({props:{variant:"outlined",color:t},style:{[`&.${wl.selected}`]:{color:(e.vars||e).palette[t].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.5)`:En(e.palette[t].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:En(e.palette[t].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:En(e.palette[t].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wl.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:En(e.palette[t].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}}}}))]}))),r_e=mt("div",{name:"MuiPaginationItem",slot:"Icon"})(Ur(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),n_e=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiPaginationItem"}),{className:a,color:l="standard",component:c,components:o={},disabled:g=!1,page:m,selected:_=!1,shape:E="circular",size:R="medium",slots:O={},slotProps:I={},type:B="page",variant:$="text",...q}=n,j={...n,color:l,disabled:g,selected:_,shape:E,size:R,type:B,variant:$},F=nv(),N=Jbe(j),G={slots:{previous:O.previous??o.previous,next:O.next??o.next,first:O.first??o.first,last:O.last??o.last},slotProps:I},[V,ee]=Jr("previous",{elementType:Ybe,externalForwardedProps:G,ownerState:j}),[ne,ae]=Jr("next",{elementType:Qbe,externalForwardedProps:G,ownerState:j}),[X,te]=Jr("first",{elementType:eZ,externalForwardedProps:G,ownerState:j}),[le,we]=Jr("last",{elementType:tZ,externalForwardedProps:G,ownerState:j}),ve=F?{previous:"next",next:"previous",first:"last",last:"first"}[B]:B,xe={previous:V,next:ne,first:X,last:le}[ve],ce={previous:ee,next:ae,first:te,last:we}[ve];return B==="start-ellipsis"||B==="end-ellipsis"?Oe.jsx(e_e,{ref:r,ownerState:j,className:er(N.root,a),children:""}):Oe.jsxs(t_e,{ref:r,ownerState:j,component:c,disabled:g,className:er(N.root,a),...q,children:[B==="page"&&m,xe?Oe.jsx(r_e,{...ce,className:N.icon,as:xe}):null]})}),a_e=e=>{const{classes:t,variant:r}=e;return Wr({root:["root",r],ul:["ul"]},Wbe,t)},i_e=mt("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant]]}})({}),o_e=mt("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function s_e(e,t,r){return e==="page"?`${r?"":"Go to "}page ${t}`:`Go to ${e} page`}const l_e=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiPagination"}),{boundaryCount:a=1,className:l,color:c="standard",count:o=1,defaultPage:g=1,disabled:m=!1,getItemAriaLabel:_=s_e,hideNextButton:E=!1,hidePrevButton:R=!1,onChange:O,page:I,renderItem:B=X=>Oe.jsx(n_e,{...X}),shape:$="circular",showFirstButton:q=!1,showLastButton:j=!1,siblingCount:F=1,size:N="medium",variant:G="text",...V}=n,{items:ee}=Kbe({...n,componentName:"Pagination"}),ne={...n,boundaryCount:a,color:c,count:o,defaultPage:g,disabled:m,getItemAriaLabel:_,hideNextButton:E,hidePrevButton:R,renderItem:B,shape:$,showFirstButton:q,showLastButton:j,siblingCount:F,size:N,variant:G},ae=a_e(ne);return Oe.jsx(i_e,{"aria-label":"pagination navigation",className:er(ae.root,l),ownerState:ne,ref:r,...V,children:Oe.jsx(o_e,{className:ae.ul,ownerState:ne,children:ee.map((X,te)=>Oe.jsx("li",{children:B({...X,color:c,"aria-label":_(X.type,X.page,X.selected),shape:$,size:N,variant:G})},te))})})}),c_e={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function nZ(e){return Gr("MuiSelect",e)}const J0=Zr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Zj;const u_e=mt(QG,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${J0.select}`]:t.select},{[`&.${J0.select}`]:t[r.variant]},{[`&.${J0.error}`]:t.error},{[`&.${J0.multiple}`]:t.multiple}]}})({[`&.${J0.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),d_e=mt(JG,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${jt(r.variant)}`],r.open&&t.iconOpen]}})({}),f_e=mt("input",{shouldForwardProp:e=>mG(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Wj(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function h_e(e){return e==null||typeof e=="string"&&!e.trim()}const p_e=e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:l,error:c}=e,o={select:["select",r,n&&"disabled",a&&"multiple",c&&"error"],icon:["icon",`icon${jt(r)}`,l&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Wr(o,nZ,t)},m_e=S.forwardRef(function(t,r){var en;const{"aria-describedby":n,"aria-label":a,autoFocus:l,autoWidth:c,children:o,className:g,defaultOpen:m,defaultValue:_,disabled:E,displayEmpty:R,error:O=!1,IconComponent:I,inputRef:B,labelId:$,MenuProps:q={},multiple:j,name:F,onBlur:N,onChange:G,onClose:V,onFocus:ee,onOpen:ne,open:ae,readOnly:X,renderValue:te,required:le,SelectDisplayProps:we={},tabIndex:ve,type:xe,value:ce,variant:Ce="standard",...Se}=t,[ze,ge]=d1({controlled:ce,default:_,name:"Select"}),[je,et]=d1({controlled:ae,default:m,name:"Select"}),rt=S.useRef(null),vt=S.useRef(null),[ht,ut]=S.useState(null),{current:Vt}=S.useRef(ae!=null),[Nt,lr]=S.useState(),Dt=Hi(r,B),$t=S.useCallback(Ge=>{vt.current=Ge,Ge&&ut(Ge)},[]),tr=ht==null?void 0:ht.parentNode;S.useImperativeHandle(Dt,()=>({focus:()=>{vt.current.focus()},node:rt.current,value:ze}),[ze]),S.useEffect(()=>{m&&je&&ht&&!Vt&&(lr(c?null:tr.clientWidth),vt.current.focus())},[ht,c]),S.useEffect(()=>{l&&vt.current.focus()},[l]),S.useEffect(()=>{if(!$)return;const Ge=al(vt.current).getElementById($);if(Ge){const me=()=>{getSelection().isCollapsed&&vt.current.focus()};return Ge.addEventListener("click",me),()=>{Ge.removeEventListener("click",me)}}},[$]);const ur=(Ge,me)=>{Ge?ne&&ne(me):V&&V(me),Vt||(lr(c?null:tr.clientWidth),et(Ge))},Xt=Ge=>{Ge.button===0&&(Ge.preventDefault(),vt.current.focus(),ur(!0,Ge))},mr=Ge=>{ur(!1,Ge)},Vr=S.Children.toArray(o),br=Ge=>{const me=Vr.find(ye=>ye.props.value===Ge.target.value);me!==void 0&&(ge(me.props.value),G&&G(Ge,me))},nn=Ge=>me=>{let ye;if(me.currentTarget.hasAttribute("tabindex")){if(j){ye=Array.isArray(ze)?ze.slice():[];const Ae=ze.indexOf(Ge.props.value);Ae===-1?ye.push(Ge.props.value):ye.splice(Ae,1)}else ye=Ge.props.value;if(Ge.props.onClick&&Ge.props.onClick(me),ze!==ye&&(ge(ye),G)){const Ae=me.nativeEvent||me,Ne=new Ae.constructor(Ae.type,Ae);Object.defineProperty(Ne,"target",{writable:!0,value:{value:ye,name:F}}),G(Ne,Ge)}j||ur(!1,me)}},Rr=Ge=>{X||[" ","ArrowUp","ArrowDown","Enter"].includes(Ge.key)&&(Ge.preventDefault(),ur(!0,Ge))},Be=ht!==null&&je,Ye=Ge=>{!Be&&N&&(Object.defineProperty(Ge,"target",{writable:!0,value:{value:ze,name:F}}),N(Ge))};delete Se["aria-invalid"];let We,Ut;const qt=[];let Ht=!1;(uE({value:ze})||R)&&(te?We=te(ze):Ht=!0);const gr=Vr.map(Ge=>{if(!S.isValidElement(Ge))return null;let me;if(j){if(!Array.isArray(ze))throw new Error(Sp(2));me=ze.some(ye=>Wj(ye,Ge.props.value)),me&&Ht&&qt.push(Ge.props.children)}else me=Wj(ze,Ge.props.value),me&&Ht&&(Ut=Ge.props.children);return S.cloneElement(Ge,{"aria-selected":me?"true":"false",onClick:nn(Ge),onKeyUp:ye=>{ye.key===" "&&ye.preventDefault(),Ge.props.onKeyUp&&Ge.props.onKeyUp(ye)},role:"option",selected:me,value:void 0,"data-value":Ge.props.value})});Ht&&(j?qt.length===0?We=null:We=qt.reduce((Ge,me,ye)=>(Ge.push(me),ye<qt.length-1&&Ge.push(", "),Ge),[]):We=Ut);let Tr=Nt;!c&&Vt&&ht&&(Tr=tr.clientWidth);let Mr;typeof ve<"u"?Mr=ve:Mr=E?null:0;const Qr=we.id||(F?`mui-component-select-${F}`:void 0),gn={...t,variant:Ce,value:ze,open:Be,error:O},wr=p_e(gn),wn={...q.PaperProps,...(en=q.slotProps)==null?void 0:en.paper},Kr=ig();return Oe.jsxs(S.Fragment,{children:[Oe.jsx(u_e,{as:"div",ref:$t,tabIndex:Mr,role:"combobox","aria-controls":Be?Kr:void 0,"aria-disabled":E?"true":void 0,"aria-expanded":Be?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[$,Qr].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":le?"true":void 0,"aria-invalid":O?"true":void 0,onKeyDown:Rr,onMouseDown:E||X?null:Xt,onBlur:Ye,onFocus:ee,...we,ownerState:gn,className:er(we.className,wr.select,g),id:Qr,children:h_e(We)?Zj||(Zj=Oe.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):We}),Oe.jsx(f_e,{"aria-invalid":O,value:Array.isArray(ze)?ze.join(","):ze,name:F,ref:rt,"aria-hidden":!0,onChange:br,tabIndex:-1,disabled:E,className:wr.nativeInput,autoFocus:l,required:le,...Se,ownerState:gn}),Oe.jsx(d_e,{as:I,className:wr.icon,ownerState:gn}),Oe.jsx(aC,{id:`menu-${F||""}`,anchorEl:tr,open:Be,onClose:mr,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...q,slotProps:{...q.slotProps,list:{"aria-labelledby":$,role:"listbox","aria-multiselectable":j?"true":void 0,disableListWrap:!0,id:Kr,...q.MenuListProps},paper:{...wn,style:{minWidth:Tr,...wn!=null?wn.style:null}}},children:gr})]})}),g_e=e=>{const{classes:t}=e,n=Wr({root:["root"]},nZ,t);return{...t,...n}},Vz={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Ls(e)&&e!=="variant"},y_e=mt(Nz,Vz)(""),v_e=mt(qz,Vz)(""),b_e=mt(Fz,Vz)(""),Hz=S.forwardRef(function(t,r){const n=Yr({name:"MuiSelect",props:t}),{autoWidth:a=!1,children:l,classes:c={},className:o,defaultOpen:g=!1,displayEmpty:m=!1,IconComponent:_=Age,id:E,input:R,inputProps:O,label:I,labelId:B,MenuProps:$,multiple:q=!1,native:j=!1,onClose:F,onOpen:N,open:G,renderValue:V,SelectDisplayProps:ee,variant:ne="outlined",...ae}=n,X=j?jbe:m_e,te=_g(),le=N_({props:n,muiFormControl:te,states:["variant","error"]}),we=le.variant||ne,ve={...n,variant:we,classes:c},xe=g_e(ve),{root:ce,...Ce}=xe,Se=R||{standard:Oe.jsx(y_e,{ownerState:ve}),outlined:Oe.jsx(v_e,{label:I,ownerState:ve}),filled:Oe.jsx(b_e,{ownerState:ve})}[we],ze=Hi(r,bg(Se));return Oe.jsx(S.Fragment,{children:S.cloneElement(Se,{inputComponent:X,inputProps:{children:l,error:le.error,IconComponent:_,variant:we,type:void 0,multiple:q,...j?{id:E}:{autoWidth:a,defaultOpen:g,displayEmpty:m,labelId:B,MenuProps:$,onClose:F,onOpen:N,open:G,renderValue:V,SelectDisplayProps:{id:E,...ee}},...O,classes:O?ko(Ce,O.classes):Ce,...R?R.props.inputProps:{}},...(q&&j||m)&&we==="outlined"?{notched:!0}:{},ref:ze,className:er(Se.props.className,o,xe.root),...!R&&{variant:we},...ae})})});Hz.muiName="Select";function __e(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:a,resumeHideDuration:l}=e,c=Ym();S.useEffect(()=>{if(!a)return;function q(j){j.defaultPrevented||j.key==="Escape"&&(n==null||n(j,"escapeKeyDown"))}return document.addEventListener("keydown",q),()=>{document.removeEventListener("keydown",q)}},[a,n]);const o=ju((q,j)=>{n==null||n(q,j)}),g=ju(q=>{!n||q==null||c.start(q,()=>{o(null,"timeout")})});S.useEffect(()=>(a&&g(t),c.clear),[a,t,g,c]);const m=q=>{n==null||n(q,"clickaway")},_=c.clear,E=S.useCallback(()=>{t!=null&&g(l??t*.5)},[t,l,g]),R=q=>j=>{const F=q.onBlur;F==null||F(j),E()},O=q=>j=>{const F=q.onFocus;F==null||F(j),_()},I=q=>j=>{const F=q.onMouseEnter;F==null||F(j),_()},B=q=>j=>{const F=q.onMouseLeave;F==null||F(j),E()};return S.useEffect(()=>{if(!r&&a)return window.addEventListener("focus",E),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",E),window.removeEventListener("blur",_)}},[r,a,E,_]),{getRootProps:(q={})=>{const j={...sE(e),...sE(q)};return{role:"presentation",...q,...j,onBlur:R(j),onFocus:O(j),onMouseEnter:I(j),onMouseLeave:B(j)}},onClickAway:m}}function x_e(e){return Gr("MuiSnackbarContent",e)}Zr("MuiSnackbarContent",["root","message","action"]);const w_e=e=>{const{classes:t}=e;return Wr({root:["root"],action:["action"],message:["message"]},x_e,t)},S_e=mt(yg,{name:"MuiSnackbarContent",slot:"Root"})(Ur(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(oI(e.palette.background.default,t)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:oI(e.palette.background.default,t),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),E_e=mt("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),C_e=mt("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),T_e=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiSnackbarContent"}),{action:a,className:l,message:c,role:o="alert",...g}=n,m=n,_=w_e(m);return Oe.jsxs(S_e,{role:o,elevation:6,className:er(_.root,l),ownerState:m,ref:r,...g,children:[Oe.jsx(E_e,{className:_.message,ownerState:m,children:c}),a?Oe.jsx(C_e,{className:_.action,ownerState:m,children:a}):null]})});function A_e(e){return Gr("MuiSnackbar",e)}Zr("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const P_e=e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${jt(r.vertical)}${jt(r.horizontal)}`]};return Wr(n,A_e,t)},R_e=mt("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${jt(r.anchorOrigin.vertical)}${jt(r.anchorOrigin.horizontal)}`]]}})(Ur(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),M_e=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiSnackbar"}),a=Wu(),l={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:c,anchorOrigin:{vertical:o,horizontal:g}={vertical:"bottom",horizontal:"left"},autoHideDuration:m=null,children:_,className:E,ClickAwayListenerProps:R,ContentProps:O,disableWindowBlurListener:I=!1,message:B,onBlur:$,onClose:q,onFocus:j,onMouseEnter:F,onMouseLeave:N,open:G,resumeHideDuration:V,slots:ee={},slotProps:ne={},TransitionComponent:ae,transitionDuration:X=l,TransitionProps:{onEnter:te,onExited:le,...we}={},...ve}=n,xe={...n,anchorOrigin:{vertical:o,horizontal:g},autoHideDuration:m,disableWindowBlurListener:I,TransitionComponent:ae,transitionDuration:X},ce=P_e(xe),{getRootProps:Ce,onClickAway:Se}=__e({...xe}),[ze,ge]=S.useState(!0),je=ur=>{ge(!0),le&&le(ur)},et=(ur,Xt)=>{ge(!1),te&&te(ur,Xt)},rt={slots:{transition:ae,...ee},slotProps:{content:O,clickAwayListener:R,transition:we,...ne}},[vt,ht]=Jr("root",{ref:r,className:[ce.root,E],elementType:R_e,getSlotProps:Ce,externalForwardedProps:{...rt,...ve},ownerState:xe}),[ut,{ownerState:Vt,...Nt}]=Jr("clickAwayListener",{elementType:mye,externalForwardedProps:rt,getSlotProps:ur=>({onClickAway:(...Xt)=>{var Vr;const mr=Xt[0];(Vr=ur.onClickAway)==null||Vr.call(ur,...Xt),!(mr!=null&&mr.defaultMuiPrevented)&&Se(...Xt)}}),ownerState:xe}),[lr,Dt]=Jr("content",{elementType:T_e,shouldForwardComponentProp:!0,externalForwardedProps:rt,additionalProps:{message:B,action:c},ownerState:xe}),[$t,tr]=Jr("transition",{elementType:p1,externalForwardedProps:rt,getSlotProps:ur=>({onEnter:(...Xt)=>{var mr;(mr=ur.onEnter)==null||mr.call(ur,...Xt),et(...Xt)},onExited:(...Xt)=>{var mr;(mr=ur.onExited)==null||mr.call(ur,...Xt),je(...Xt)}}),additionalProps:{appear:!0,in:G,timeout:X,direction:o==="top"?"down":"up"},ownerState:xe});return!G&&ze?null:Oe.jsx(ut,{...Nt,...ee.clickAwayListener&&{ownerState:Vt},children:Oe.jsx(vt,{...ht,children:Oe.jsx($t,{...tr,children:_||Oe.jsx(lr,{...Dt})})})})});function O_e(e){return Gr("MuiTooltip",e)}const Ui=Zr("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function k_e(e){return Math.round(e*1e5)/1e5}const I_e=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:a,placement:l}=e,c={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",a&&"touch",`tooltipPlacement${jt(l.split("-")[0])}`],arrow:["arrow"]};return Wr(c,O_e,t)},D_e=mt(IG,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(Ur(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${Ui.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ui.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ui.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Ui.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Ui.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Ui.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Ui.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Ui.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),z_e=mt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${jt(r.placement.split("-")[0])}`]]}})(Ur(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:En(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${Ui.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Ui.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Ui.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Ui.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${k_e(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${Ui.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Ui.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${Ui.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Ui.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${Ui.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Ui.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${Ui.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Ui.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Ui.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Ui.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),L_e=mt("span",{name:"MuiTooltip",slot:"Arrow"})(Ur(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:En(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Qw=!1;const Kj=new X2;let ex={x:0,y:0};function Jw(e,t){return(r,...n)=>{t&&t(r,...n),e(r,...n)}}const xg=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTooltip"}),{arrow:a=!1,children:l,classes:c,components:o={},componentsProps:g={},describeChild:m=!1,disableFocusListener:_=!1,disableHoverListener:E=!1,disableInteractive:R=!1,disableTouchListener:O=!1,enterDelay:I=100,enterNextDelay:B=0,enterTouchDelay:$=700,followCursor:q=!1,id:j,leaveDelay:F=0,leaveTouchDelay:N=1500,onClose:G,onOpen:V,open:ee,placement:ne="bottom",PopperComponent:ae,PopperProps:X={},slotProps:te={},slots:le={},title:we,TransitionComponent:ve,TransitionProps:xe,...ce}=n,Ce=S.isValidElement(l)?l:Oe.jsx("span",{children:l}),Se=Wu(),ze=nv(),[ge,je]=S.useState(),[et,rt]=S.useState(null),vt=S.useRef(!1),ht=R||q,ut=Ym(),Vt=Ym(),Nt=Ym(),lr=Ym(),[Dt,$t]=d1({controlled:ee,default:!1,name:"Tooltip",state:"open"});let tr=Dt;const ur=ig(j),Xt=S.useRef(),mr=ju(()=>{Xt.current!==void 0&&(document.body.style.WebkitUserSelect=Xt.current,Xt.current=void 0),lr.clear()});S.useEffect(()=>mr,[mr]);const Vr=wt=>{Kj.clear(),Qw=!0,$t(!0),V&&!tr&&V(wt)},br=ju(wt=>{Kj.start(800+F,()=>{Qw=!1}),$t(!1),G&&tr&&G(wt),ut.start(Se.transitions.duration.shortest,()=>{vt.current=!1})}),nn=wt=>{vt.current&&wt.type!=="touchstart"||(ge&&ge.removeAttribute("title"),Vt.clear(),Nt.clear(),I||Qw&&B?Vt.start(Qw?B:I,()=>{Vr(wt)}):Vr(wt))},Rr=wt=>{Vt.clear(),Nt.start(F,()=>{br(wt)})},[,Be]=S.useState(!1),Ye=wt=>{m_(wt.target)||(Be(!1),Rr(wt))},We=wt=>{ge||je(wt.currentTarget),m_(wt.target)&&(Be(!0),nn(wt))},Ut=wt=>{vt.current=!0;const Me=Ce.props;Me.onTouchStart&&Me.onTouchStart(wt)},qt=wt=>{Ut(wt),Nt.clear(),ut.clear(),mr(),Xt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",lr.start($,()=>{document.body.style.WebkitUserSelect=Xt.current,nn(wt)})},Ht=wt=>{Ce.props.onTouchEnd&&Ce.props.onTouchEnd(wt),mr(),Nt.start(N,()=>{br(wt)})};S.useEffect(()=>{if(!tr)return;function wt(Me){Me.key==="Escape"&&br(Me)}return document.addEventListener("keydown",wt),()=>{document.removeEventListener("keydown",wt)}},[br,tr]);const gr=Hi(bg(Ce),je,r);!we&&we!==0&&(tr=!1);const Tr=S.useRef(),Mr=wt=>{const Me=Ce.props;Me.onMouseMove&&Me.onMouseMove(wt),ex={x:wt.clientX,y:wt.clientY},Tr.current&&Tr.current.update()},Qr={},gn=typeof we=="string";m?(Qr.title=!tr&&gn&&!E?we:null,Qr["aria-describedby"]=tr?ur:null):(Qr["aria-label"]=gn?we:null,Qr["aria-labelledby"]=tr&&!gn?ur:null);const wr={...Qr,...ce,...Ce.props,className:er(ce.className,Ce.props.className),onTouchStart:Ut,ref:gr,...q?{onMouseMove:Mr}:{}},wn={};O||(wr.onTouchStart=qt,wr.onTouchEnd=Ht),E||(wr.onMouseOver=Jw(nn,wr.onMouseOver),wr.onMouseLeave=Jw(Rr,wr.onMouseLeave),ht||(wn.onMouseOver=nn,wn.onMouseLeave=Rr)),_||(wr.onFocus=Jw(We,wr.onFocus),wr.onBlur=Jw(Ye,wr.onBlur),ht||(wn.onFocus=We,wn.onBlur=Ye));const Kr={...n,isRtl:ze,arrow:a,disableInteractive:ht,placement:ne,PopperComponentProp:ae,touch:vt.current},en=typeof te.popper=="function"?te.popper(Kr):te.popper,Ge=S.useMemo(()=>{var Me,qe;let wt=[{name:"arrow",enabled:!!et,options:{element:et,padding:4}}];return(Me=X.popperOptions)!=null&&Me.modifiers&&(wt=wt.concat(X.popperOptions.modifiers)),(qe=en==null?void 0:en.popperOptions)!=null&&qe.modifiers&&(wt=wt.concat(en.popperOptions.modifiers)),{...X.popperOptions,...en==null?void 0:en.popperOptions,modifiers:wt}},[et,X.popperOptions,en==null?void 0:en.popperOptions]),me=I_e(Kr),ye=typeof te.transition=="function"?te.transition(Kr):te.transition,Ae={slots:{popper:o.Popper,transition:o.Transition??ve,tooltip:o.Tooltip,arrow:o.Arrow,...le},slotProps:{arrow:te.arrow??g.arrow,popper:{...X,...en??g.popper},tooltip:te.tooltip??g.tooltip,transition:{...xe,...ye??g.transition}}},[Ne,Je]=Jr("popper",{elementType:D_e,externalForwardedProps:Ae,ownerState:Kr,className:er(me.popper,X==null?void 0:X.className)}),[Re,gt]=Jr("transition",{elementType:p1,externalForwardedProps:Ae,ownerState:Kr}),[ot,ft]=Jr("tooltip",{elementType:z_e,className:me.tooltip,externalForwardedProps:Ae,ownerState:Kr}),[xt,dt]=Jr("arrow",{elementType:L_e,className:me.arrow,externalForwardedProps:Ae,ownerState:Kr,ref:rt});return Oe.jsxs(S.Fragment,{children:[S.cloneElement(Ce,wr),Oe.jsx(Ne,{as:ae??IG,placement:ne,anchorEl:q?{getBoundingClientRect:()=>({top:ex.y,left:ex.x,right:ex.x,bottom:ex.y,width:0,height:0})}:ge,popperRef:Tr,open:ge?tr:!1,id:ur,transition:!0,...wn,...Je,popperOptions:Ge,children:({TransitionProps:wt})=>Oe.jsx(Re,{timeout:Se.transitions.duration.shorter,...wt,...gt,children:Oe.jsxs(ot,{...ft,children:[we,a?Oe.jsx(xt,{...dt}):null]})})})]})}),B_e=dhe({createStyledComponent:mt("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>Yr({props:e,name:"MuiStack"})});function F_e(e){return Gr("MuiSwitch",e)}const Tl=Zr("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),N_e=e=>{const{classes:t,edge:r,size:n,color:a,checked:l,disabled:c}=e,o={root:["root",r&&`edge${jt(r)}`,`size${jt(n)}`],switchBase:["switchBase",`color${jt(a)}`,l&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},g=Wr(o,F_e,t);return{...t,...g}},j_e=mt("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${jt(r.edge)}`],t[`size${jt(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Tl.thumb}`]:{width:16,height:16},[`& .${Tl.switchBase}`]:{padding:4,[`&.${Tl.checked}`]:{transform:"translateX(16px)"}}}}]}),$_e=mt(jG,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${Tl.input}`]:t.input},r.color!=="default"&&t[`color${jt(r.color)}`]]}})(Ur(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Tl.checked}`]:{transform:"translateX(20px)"},[`&.${Tl.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Tl.checked} + .${Tl.track}`]:{opacity:.5},[`&.${Tl.disabled} + .${Tl.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Tl.input}`]:{left:"-100%",width:"300%"}})),Ur(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(li(["light"])).map(([t])=>({props:{color:t},style:{[`&.${Tl.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:En(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Tl.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?rv(e.palette[t].main,.62):F_(e.palette[t].main,.55)}`}},[`&.${Tl.checked} + .${Tl.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),U_e=mt("span",{name:"MuiSwitch",slot:"Track"})(Ur(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),q_e=mt("span",{name:"MuiSwitch",slot:"Thumb"})(Ur(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),V_e=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiSwitch"}),{className:a,color:l="primary",edge:c=!1,size:o="medium",sx:g,slots:m={},slotProps:_={},...E}=n,R={...n,color:l,edge:c,size:o},O=N_e(R),I={slots:m,slotProps:_},[B,$]=Jr("root",{className:er(O.root,a),elementType:j_e,externalForwardedProps:I,ownerState:R,additionalProps:{sx:g}}),[q,j]=Jr("thumb",{className:O.thumb,elementType:q_e,externalForwardedProps:I,ownerState:R}),F=Oe.jsx(q,{...j}),[N,G]=Jr("track",{className:O.track,elementType:U_e,externalForwardedProps:I,ownerState:R});return Oe.jsxs(B,{...$,children:[Oe.jsx($_e,{type:"checkbox",icon:F,checkedIcon:F,ref:r,ownerState:R,...E,classes:{...O,root:O.switchBase},slots:{...m.switchBase&&{root:m.switchBase},...m.input&&{input:m.input}},slotProps:{..._.switchBase&&{root:typeof _.switchBase=="function"?_.switchBase(R):_.switchBase},..._.input&&{input:typeof _.input=="function"?_.input(R):_.input}}}),Oe.jsx(N,{...G})]})}),aZ=S.createContext();function H_e(e){return Gr("MuiTable",e)}Zr("MuiTable",["root","stickyHeader"]);const G_e=e=>{const{classes:t,stickyHeader:r}=e;return Wr({root:["root",r&&"stickyHeader"]},H_e,t)},Z_e=mt("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(Ur(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),Xj="table",iZ=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTable"}),{className:a,component:l=Xj,padding:c="normal",size:o="medium",stickyHeader:g=!1,...m}=n,_={...n,component:l,padding:c,size:o,stickyHeader:g},E=G_e(_),R=S.useMemo(()=>({padding:c,size:o,stickyHeader:g}),[c,o,g]);return Oe.jsx(aZ.Provider,{value:R,children:Oe.jsx(Z_e,{as:l,role:l===Xj?null:"table",ref:r,className:er(E.root,a),ownerState:_,...m})})}),iC=S.createContext();function W_e(e){return Gr("MuiTableBody",e)}Zr("MuiTableBody",["root"]);const K_e=e=>{const{classes:t}=e;return Wr({root:["root"]},W_e,t)},X_e=mt("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Y_e={variant:"body"},Yj="tbody",oZ=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTableBody"}),{className:a,component:l=Yj,...c}=n,o={...n,component:l},g=K_e(o);return Oe.jsx(iC.Provider,{value:Y_e,children:Oe.jsx(X_e,{className:er(g.root,a),as:l,ref:r,role:l===Yj?null:"rowgroup",ownerState:o,...c})})});function Q_e(e){return Gr("MuiTableCell",e)}const J_e=Zr("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),e0e=e=>{const{classes:t,variant:r,align:n,padding:a,size:l,stickyHeader:c}=e,o={root:["root",r,c&&"stickyHeader",n!=="inherit"&&`align${jt(n)}`,a!=="normal"&&`padding${jt(a)}`,`size${jt(l)}`]};return Wr(o,Q_e,t)},t0e=mt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${jt(r.size)}`],r.padding!=="normal"&&t[`padding${jt(r.padding)}`],r.align!=="inherit"&&t[`align${jt(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(Ur(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?rv(En(e.palette.divider,1),.88):F_(En(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${J_e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),rl=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTableCell"}),{align:a="inherit",className:l,component:c,padding:o,scope:g,size:m,sortDirection:_,variant:E,...R}=n,O=S.useContext(aZ),I=S.useContext(iC),B=I&&I.variant==="head";let $;c?$=c:$=B?"th":"td";let q=g;$==="td"?q=void 0:!q&&B&&(q="col");const j=E||I&&I.variant,F={...n,align:a,component:$,padding:o||(O&&O.padding?O.padding:"normal"),size:m||(O&&O.size?O.size:"medium"),sortDirection:_,stickyHeader:j==="head"&&O&&O.stickyHeader,variant:j},N=e0e(F);let G=null;return _&&(G=_==="asc"?"ascending":"descending"),Oe.jsx(t0e,{as:$,ref:r,className:er(N.root,l),"aria-sort":G,scope:q,ownerState:F,...R})});function r0e(e){return Gr("MuiTableHead",e)}Zr("MuiTableHead",["root"]);const n0e=e=>{const{classes:t}=e;return Wr({root:["root"]},r0e,t)},a0e=mt("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),i0e={variant:"head"},Qj="thead",sZ=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTableHead"}),{className:a,component:l=Qj,...c}=n,o={...n,component:l},g=n0e(o);return Oe.jsx(iC.Provider,{value:i0e,children:Oe.jsx(a0e,{as:l,className:er(g.root,a),ref:r,role:l===Qj?null:"rowgroup",ownerState:o,...c})})});function o0e(e){return Gr("MuiToolbar",e)}Zr("MuiToolbar",["root","gutters","regular","dense"]);const s0e=e=>{const{classes:t,disableGutters:r,variant:n}=e;return Wr({root:["root",!r&&"gutters",n]},o0e,t)},l0e=mt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(Ur(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),W1=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiToolbar"}),{className:a,component:l="div",disableGutters:c=!1,variant:o="regular",...g}=n,m={...n,component:l,disableGutters:c,variant:o},_=s0e(m);return Oe.jsx(l0e,{as:l,className:er(_.root,a),ref:r,ownerState:m,...g})}),c0e=hn(Oe.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),u0e=hn(Oe.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function d0e(e){return Gr("MuiTablePaginationActions",e)}Zr("MuiTablePaginationActions",["root"]);const f0e=e=>{const{classes:t}=e;return Wr({root:["root"]},d0e,t)},h0e=mt("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),p0e=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTablePaginationActions"}),{backIconButtonProps:a,className:l,count:c,disabled:o=!1,getItemAriaLabel:g,nextIconButtonProps:m,onPageChange:_,page:E,rowsPerPage:R,showFirstButton:O,showLastButton:I,slots:B={},slotProps:$={},...q}=n,j=nv(),N=f0e(n),G=ht=>{_(ht,0)},V=ht=>{_(ht,E-1)},ee=ht=>{_(ht,E+1)},ne=ht=>{_(ht,Math.max(0,Math.ceil(c/R)-1))},ae=B.firstButton??Oo,X=B.lastButton??Oo,te=B.nextButton??Oo,le=B.previousButton??Oo,we=B.firstButtonIcon??eZ,ve=B.lastButtonIcon??tZ,xe=B.nextButtonIcon??u0e,ce=B.previousButtonIcon??c0e,Ce=j?X:ae,Se=j?te:le,ze=j?le:te,ge=j?ae:X,je=j?$.lastButton:$.firstButton,et=j?$.nextButton:$.previousButton,rt=j?$.previousButton:$.nextButton,vt=j?$.firstButton:$.lastButton;return Oe.jsxs(h0e,{ref:r,className:er(N.root,l),...q,children:[O&&Oe.jsx(Ce,{onClick:G,disabled:o||E===0,"aria-label":g("first",E),title:g("first",E),...je,children:j?Oe.jsx(ve,{...$.lastButtonIcon}):Oe.jsx(we,{...$.firstButtonIcon})}),Oe.jsx(Se,{onClick:V,disabled:o||E===0,color:"inherit","aria-label":g("previous",E),title:g("previous",E),...et??a,children:j?Oe.jsx(xe,{...$.nextButtonIcon}):Oe.jsx(ce,{...$.previousButtonIcon})}),Oe.jsx(ze,{onClick:ee,disabled:o||(c!==-1?E>=Math.ceil(c/R)-1:!1),color:"inherit","aria-label":g("next",E),title:g("next",E),...rt??m,children:j?Oe.jsx(ce,{...$.previousButtonIcon}):Oe.jsx(xe,{...$.nextButtonIcon})}),I&&Oe.jsx(ge,{onClick:ne,disabled:o||E>=Math.ceil(c/R)-1,"aria-label":g("last",E),title:g("last",E),...vt,children:j?Oe.jsx(we,{...$.firstButtonIcon}):Oe.jsx(ve,{...$.lastButtonIcon})})]})});function m0e(e){return Gr("MuiTablePagination",e)}const Rx=Zr("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Jj;const g0e=mt(rl,{name:"MuiTablePagination",slot:"Root"})(Ur(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),y0e=mt(W1,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${Rx.actions}`]:t.actions,...t.toolbar})})(Ur(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Rx.actions}`]:{flexShrink:0,marginLeft:20}}))),v0e=mt("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),b0e=mt("p",{name:"MuiTablePagination",slot:"SelectLabel"})(Ur(({theme:e})=>({...e.typography.body2,flexShrink:0}))),_0e=mt(Hz,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${Rx.selectIcon}`]:t.selectIcon,[`& .${Rx.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Rx.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),x0e=mt(_p,{name:"MuiTablePagination",slot:"MenuItem"})({}),w0e=mt("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(Ur(({theme:e})=>({...e.typography.body2,flexShrink:0})));function S0e({from:e,to:t,count:r}){return`${e}${t} of ${r!==-1?r:`more than ${t}`}`}function E0e(e){return`Go to ${e} page`}const C0e=e=>{const{classes:t}=e;return Wr({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},m0e,t)},e$=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTablePagination"}),{ActionsComponent:a=p0e,backIconButtonProps:l,colSpan:c,component:o=rl,count:g,disabled:m=!1,getItemAriaLabel:_=E0e,labelDisplayedRows:E=S0e,labelRowsPerPage:R="Rows per page:",nextIconButtonProps:O,onPageChange:I,onRowsPerPageChange:B,page:$,rowsPerPage:q,rowsPerPageOptions:j=[10,25,50,100],SelectProps:F={},showFirstButton:N=!1,showLastButton:G=!1,slotProps:V={},slots:ee={},...ne}=n,ae=n,X=C0e(ae),te=(V==null?void 0:V.select)??F,le=te.native?"option":x0e;let we;(o===rl||o==="td")&&(we=c||1e3);const ve=ig(te.id),xe=ig(te.labelId),ce=()=>g===-1?($+1)*q:q===-1?g:Math.min(g,($+1)*q),Ce={slots:ee,slotProps:V},[Se,ze]=Jr("root",{ref:r,className:X.root,elementType:g0e,externalForwardedProps:{...Ce,component:o,...ne},ownerState:ae,additionalProps:{colSpan:we}}),[ge,je]=Jr("toolbar",{className:X.toolbar,elementType:y0e,externalForwardedProps:Ce,ownerState:ae}),[et,rt]=Jr("spacer",{className:X.spacer,elementType:v0e,externalForwardedProps:Ce,ownerState:ae}),[vt,ht]=Jr("selectLabel",{className:X.selectLabel,elementType:b0e,externalForwardedProps:Ce,ownerState:ae,additionalProps:{id:xe}}),[ut,Vt]=Jr("select",{className:X.select,elementType:_0e,externalForwardedProps:Ce,ownerState:ae}),[Nt,lr]=Jr("menuItem",{className:X.menuItem,elementType:le,externalForwardedProps:Ce,ownerState:ae}),[Dt,$t]=Jr("displayedRows",{className:X.displayedRows,elementType:w0e,externalForwardedProps:Ce,ownerState:ae});return Oe.jsx(Se,{...ze,children:Oe.jsxs(ge,{...je,children:[Oe.jsx(et,{...rt}),j.length>1&&Oe.jsx(vt,{...ht,children:R}),j.length>1&&Oe.jsx(ut,{variant:"standard",...!te.variant&&{input:Jj||(Jj=Oe.jsx(nC,{}))},value:q,onChange:B,id:ve,labelId:xe,...te,classes:{...te.classes,root:er(X.input,X.selectRoot,(te.classes||{}).root),select:er(X.select,(te.classes||{}).select),icon:er(X.selectIcon,(te.classes||{}).icon)},disabled:m,...Vt,children:j.map(tr=>S.createElement(Nt,{...lr,key:tr.label?tr.label:tr,value:tr.value?tr.value:tr},tr.label?tr.label:tr))}),Oe.jsx(Dt,{...$t,children:E({from:g===0?0:$*q+1,to:ce(),count:g===-1?-1:g,page:$})}),Oe.jsx(a,{className:X.actions,backIconButtonProps:l,count:g,nextIconButtonProps:O,onPageChange:I,page:$,rowsPerPage:q,showFirstButton:N,showLastButton:G,slotProps:V.actions,slots:ee.actions,getItemAriaLabel:_,disabled:m})]})})});function T0e(e){return Gr("MuiTableRow",e)}const t$=Zr("MuiTableRow",["root","selected","hover","head","footer"]),A0e=e=>{const{classes:t,selected:r,hover:n,head:a,footer:l}=e;return Wr({root:["root",r&&"selected",n&&"hover",a&&"head",l&&"footer"]},T0e,t)},P0e=mt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(Ur(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${t$.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${t$.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:En(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:En(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),r$="tr",g1=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTableRow"}),{className:a,component:l=r$,hover:c=!1,selected:o=!1,...g}=n,m=S.useContext(iC),_={...n,component:l,hover:c,selected:o,head:m&&m.variant==="head",footer:m&&m.variant==="footer"},E=A0e(_);return Oe.jsx(P0e,{as:l,ref:r,className:er(E.root,a),role:l===r$?null:"row",ownerState:_,...g})}),R0e=hn(Oe.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function M0e(e){return Gr("MuiTableSortLabel",e)}const cM=Zr("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),O0e=e=>{const{classes:t,direction:r,active:n}=e,a={root:["root",n&&"active",`direction${jt(r)}`],icon:["icon",`iconDirection${jt(r)}`]};return Wr(a,M0e,t)},k0e=mt(Ep,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})(Ur(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${cM.icon}`]:{opacity:.5}},[`&.${cM.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${cM.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),I0e=mt("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t[`iconDirection${jt(r.direction)}`]]}})(Ur(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),n$=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTableSortLabel"}),{active:a=!1,children:l,className:c,direction:o="asc",hideSortIcon:g=!1,IconComponent:m=R0e,slots:_={},slotProps:E={},...R}=n,O={...n,active:a,direction:o,hideSortIcon:g,IconComponent:m},I=O0e(O),B={slots:_,slotProps:E},[$,q]=Jr("root",{elementType:k0e,externalForwardedProps:B,ownerState:O,className:er(I.root,c),ref:r}),[j,F]=Jr("icon",{elementType:I0e,externalForwardedProps:B,ownerState:O,className:I.icon});return Oe.jsxs($,{disableRipple:!0,component:"span",...q,...R,children:[l,g&&!a?null:Oe.jsx(j,{as:m,...F})]})});function D0e(e){return Gr("MuiTextField",e)}Zr("MuiTextField",["root"]);const z0e={standard:Nz,filled:Fz,outlined:qz},L0e=e=>{const{classes:t}=e;return Wr({root:["root"]},D0e,t)},B0e=mt(Rve,{name:"MuiTextField",slot:"Root"})({}),Gz=S.forwardRef(function(t,r){const n=Yr({props:t,name:"MuiTextField"}),{autoComplete:a,autoFocus:l=!1,children:c,className:o,color:g="primary",defaultValue:m,disabled:_=!1,error:E=!1,FormHelperTextProps:R,fullWidth:O=!1,helperText:I,id:B,InputLabelProps:$,inputProps:q,InputProps:j,inputRef:F,label:N,maxRows:G,minRows:V,multiline:ee=!1,name:ne,onBlur:ae,onChange:X,onFocus:te,placeholder:le,required:we=!1,rows:ve,select:xe=!1,SelectProps:ce,slots:Ce={},slotProps:Se={},type:ze,value:ge,variant:je="outlined",...et}=n,rt={...n,autoFocus:l,color:g,disabled:_,error:E,fullWidth:O,multiline:ee,required:we,select:xe,variant:je},vt=L0e(rt),ht=ig(B),ut=I&&ht?`${ht}-helper-text`:void 0,Vt=N&&ht?`${ht}-label`:void 0,Nt=z0e[je],lr={slots:Ce,slotProps:{input:j,inputLabel:$,htmlInput:q,formHelperText:R,select:ce,...Se}},Dt={},$t=lr.slotProps.inputLabel;je==="outlined"&&($t&&typeof $t.shrink<"u"&&(Dt.notched=$t.shrink),Dt.label=N),xe&&((!ce||!ce.native)&&(Dt.id=void 0),Dt["aria-describedby"]=void 0);const[tr,ur]=Jr("root",{elementType:B0e,shouldForwardComponentProp:!0,externalForwardedProps:{...lr,...et},ownerState:rt,className:er(vt.root,o),ref:r,additionalProps:{disabled:_,error:E,fullWidth:O,required:we,color:g,variant:je}}),[Xt,mr]=Jr("input",{elementType:Nt,externalForwardedProps:lr,additionalProps:Dt,ownerState:rt}),[Vr,br]=Jr("inputLabel",{elementType:Xve,externalForwardedProps:lr,ownerState:rt}),[nn,Rr]=Jr("htmlInput",{elementType:"input",externalForwardedProps:lr,ownerState:rt}),[Be,Ye]=Jr("formHelperText",{elementType:Ive,externalForwardedProps:lr,ownerState:rt}),[We,Ut]=Jr("select",{elementType:Hz,externalForwardedProps:lr,ownerState:rt}),qt=Oe.jsx(Xt,{"aria-describedby":ut,autoComplete:a,autoFocus:l,defaultValue:m,fullWidth:O,multiline:ee,name:ne,rows:ve,maxRows:G,minRows:V,type:ze,value:ge,id:ht,inputRef:F,onBlur:ae,onChange:X,onFocus:te,placeholder:le,inputProps:Rr,slots:{input:Ce.htmlInput?nn:void 0},...mr});return Oe.jsxs(tr,{...ur,children:[N!=null&&N!==""&&Oe.jsx(Vr,{htmlFor:ht,id:Vt,...br,children:N}),xe?Oe.jsx(We,{"aria-describedby":ut,id:ht,labelId:Vt,value:ge,input:qt,...Ut,children:c}):qt,I&&Oe.jsx(Be,{id:ut,...Ye,children:I})]})}),iu=tG({themeId:Nu});function F0e(e,t){const{disableHysteresis:r=!1,threshold:n=100,target:a}=t,l=e.current;return a&&(e.current=a.pageYOffset!==void 0?a.pageYOffset:a.scrollTop),!r&&l!==void 0&&e.current<l?!1:e.current>n}const N0e=typeof window<"u"?window:null;function lZ(e={}){const{getTrigger:t=F0e,target:r=N0e,...n}=e,a=S.useRef(),[l,c]=S.useState(()=>t(a,n));return S.useEffect(()=>{if(r===null)return c(!1);const o=()=>{c(t(a,{target:r,...n}))};return o(),r.addEventListener("scroll",o,{passive:!0}),()=>{r.removeEventListener("scroll",o,{passive:!0})}},[r,t,JSON.stringify(n)]),l}const Zz=hn(Oe.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}));var Mx=function(){return Mx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Mx.apply(this,arguments)},cZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Sh=function(e){var t=dn({props:e,name:uZ}),r=t.alignIcon,n=r===void 0?"left":r,a=t.children,l=t.className,c=t.disabled,o=t.label,g=t.color,m=g===void 0?"primary":g,_=t.size,E=_===void 0?"small":_,R=t.to,O=cZ(t,["alignIcon","children","className","disabled","label","color","size","to"]),I=on(),B=o?I(o,{_:o}):void 0,$=$0e(R),q=iu(function(j){return j.breakpoints.down("sm")});return q?o&&!c?S.createElement(xg,{title:B},S.createElement(Oo,Mx({"aria-label":B,className:l,color:m,size:"large"},$,O),a)):S.createElement(Oo,Mx({className:l,color:m,disabled:c,size:"large"},$,O),a):S.createElement(j0e,Mx({className:l,color:m,size:E,"aria-label":B,disabled:c,startIcon:n==="left"&&a?a:void 0,endIcon:n==="right"&&a?a:void 0},$,O),B)},uZ="RaButton",j0e=mt(tu,{name:uZ,overridesResolver:function(e,t){return t.root}})({"&.MuiButton-sizeSmall":{lineHeight:1.5}}),$0e=function(e){if(e!=null){if(typeof e=="string")return{to:e};var t=e.redirect,r=e.replace,n=e.state,a=cZ(e,["redirect","replace","state"]);return{to:a,redirect:t,replace:r,state:n}}};const U0e=hn(Oe.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}));var fE=function(){return fE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},fE.apply(this,arguments)},dZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},q0e=function(e){var t=dn({props:e,name:y1}),r=t.className,n=t.icon,a=n===void 0?H0e:n,l=t.label,c=l===void 0?"ra.action.create":l;t.resource;var o=t.scrollToTop,g=o===void 0?!0:o,m=t.variant,_=t.to,E=t.state,R=E===void 0?{}:E,O=dZ(t,["className","icon","label","resource","scrollToTop","variant","to","state"]),I=ia(t);if(!I)throw new Error("<CreateButton> components should be used inside a <Resource> component or provided the resource prop.");var B=Xy({action:"create",resource:I}),$=B.canAccess,q=B.isPending,j=tv(),F=on(),N=iu(function(ee){return ee.breakpoints.down("md")}),G=C3({},V0e.get(String(g)),R),V=W0e(_);return!$||q?null:N?S.createElement(G0e,fE({component:Zy,to:j({resource:I,type:"create"}),state:G,color:"primary",className:er(RI.floating,r),"aria-label":c&&F(c)},O,V),a):S.createElement(Z0e,fE({component:Zy,to:j({resource:I,type:"create"}),state:G,className:er(RI.root,r),label:c,variant:m},O,V),a)},V0e=new Map([["true",{_scrollToTop:!0}],["false",{}]]),H0e=S.createElement(U0e,null),y1="RaCreateButton",RI={root:"".concat(y1,"-root"),floating:"".concat(y1,"-floating")},G0e=mt(wve,{name:y1,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={},t["&.".concat(RI.floating)]={color:(r.vars||r).palette.primary.contrastText,margin:0,top:"auto",right:20,bottom:60,left:"auto",position:"fixed",zIndex:1e3},t}),Z0e=mt(Sh,{name:y1,overridesResolver:function(e,t){return t.root}})({});const fZ=S.memo(q0e,function(e,t){return e.resource===t.resource&&e.label===t.label&&e.translate===t.translate&&e.disabled===t.disabled&&Wd(e.to,t.to)&&Wd(e.state,t.state)});var W0e=function(e){if(e!=null){if(typeof e=="string")return{to:e};var t=e.redirect,r=e.replace,n=e.state,a=dZ(e,["redirect","replace","state"]);return{to:a,redirect:t,replace:r,state:n}}};const hZ=hn(Oe.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}));var MI=function(){return MI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},MI.apply(this,arguments)},K0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},eS,X0e=function(e){var t=dn({props:e,name:Ox}),r=t.className,n=t.icon,a=n===void 0?Q0e:n,l=t.textPrimary,c=l===void 0?"ra.page.access_denied":l,o=t.textSecondary,g=o===void 0?"ra.message.access_denied":o,m=K0e(t,["className","icon","textPrimary","textSecondary"]),_=on();return S.createElement(Y0e,MI({className:er(v1.root,r)},m),S.createElement("div",{className:v1.message},a,S.createElement(Jn,{variant:"h5",sx:{mt:3,color:"text.secondary"}},_(c,{_:c})),S.createElement(Jn,{variant:"body2"},_(g,{_:g}))))},Ox="RaAccessDenied",v1={root:"".concat(Ox,"-root"),icon:"".concat(Ox,"-icon"),message:"".concat(Ox,"-message")},Y0e=mt("div",{name:Ox,overridesResolver:function(e,t){return t.root}})((eS={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},eS["& .".concat(v1.message)]={textAlign:"center",paddingTop:"1em",paddingBottom:"1em",opacity:.5},eS["& .".concat(v1.icon)]={width:"9em",height:"9em"},eS)),Q0e=S.createElement(Zz,{className:v1.icon});const J0e=hn(Oe.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}));var oC=function(){var e=iu(function(t){return t==null?void 0:t.breakpoints.down("sm")},{noSsr:!0});return Qo("sidebar.open",!e)},exe=function(e){var t=dn({props:e,name:hE}),r=on(),n=t.className,a=oC(),l=a[0],c=a[1];return S.createElement(xg,{className:n,title:r(l?"ra.action.close_menu":"ra.action.open_menu",{_:"Open/Close menu"}),enterDelay:500},S.createElement(txe,{color:"inherit",onClick:function(){return c(!l)}},S.createElement(J0e,{classes:{root:l?pE.menuButtonIconOpen:pE.menuButtonIconClosed}})))},hE="RaSidebarToggleButton",pE={menuButtonIconClosed:"".concat(hE,"-menuButtonIconClosed"),menuButtonIconOpen:"".concat(hE,"-menuButtonIconOpen")},txe=mt(Oo,{name:hE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={},t["& .".concat(pE.menuButtonIconClosed)]={transition:r.transitions.create(["transform"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),transform:"rotate(0deg)"},t["& .".concat(pE.menuButtonIconOpen)]={transition:r.transitions.create(["transform"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),transform:"rotate(180deg)"},t}),OI=function(){return OI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},OI.apply(this,arguments)},rxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},tS,uM,nxe=function(e){var t=dn({props:e,name:kx}),r=t.className,n=t.onClick,a=t.sx,l=rxe(t,["className","onClick","sx"]),c=mne(),o=Wu();return S.createElement(axe,{className:r,sx:a},S.createElement(swe,{className:"".concat(qb.loadedIcon," ").concat(c&&qb.loadedLoading),onClick:n}),c&&S.createElement(H1,OI({className:er("app-loader",qb.loader),color:"inherit",size:o.spacing(2),thickness:6},l)))},kx="RaLoadingIndicator",qb={loader:"".concat(kx,"-loader"),loadedLoading:"".concat(kx,"-loadedLoading"),loadedIcon:"".concat(kx,"-loadedIcon")},axe=mt("div",{name:kx,overridesResolver:function(e,t){return t.root}})((tS={position:"relative"},tS["& .".concat(qb.loadedIcon)]=(uM={},uM["&.".concat(qb.loadedLoading)]={opacity:0},uM),tS["& .".concat(qb.loader)]={position:"absolute",top:"30%",left:"30%"},tS));const ixe=hn(Oe.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),oxe=hn(Oe.jsx("path",{d:"M13 3h-2v10h2zm4.83 2.17-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83"}));var kI=function(){return kI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},kI.apply(this,arguments)},sxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},dM,lxe=S.forwardRef(function(t,r){var n=dn({props:t,name:Wz}),a=n.className,l=n.redirectTo,c=n.icon,o=sxe(n,["className","redirectTo","icon"]),g=X3().authenticated,m=iu(function(O){return O.breakpoints.down("sm")}),_=on(),E=z_(),R=S.useCallback(function(){return E(null,l,!1)},[l,E]);return g?S.createElement(cxe,kI({className:er("logout",a),onClick:R,ref:r,component:m?"span":"li"},o),S.createElement(My,{className:pZ.icon},c||S.createElement(oxe,{fontSize:"small"})),S.createElement(Db,null,_("ra.auth.logout",{_:"Logout"}))):null}),Wz="RaLogout",pZ={icon:"".concat(Wz,"-icon")},cxe=mt(_p,{name:Wz,overridesResolver:function(e,t){return t.root}})((dM={},dM["& .".concat(pZ.icon)]={},dM)),uxe=S.createContext(void 0),dxe=function(e){var t=e.children,r=e.value;return S.createElement(uxe.Provider,{value:r},t)},mZ=function(e){var t=dn({props:e,name:mE}),r=S.useState(null),n=r[0],a=r[1],l=on(),c=Ese(),o=c.isPending,g=c.identity,m=au(),_=iu(function(V){return V.breakpoints.up("sm")}),E=t.children,R=E===void 0?m?S.createElement(lxe,null):null:E,O=t.className,I=t.label,B=I===void 0?"ra.auth.user_menu":I,$=t.icon,q=$===void 0?hxe:$,j=function(V){return a(V.currentTarget)},F=S.useCallback(function(){return a(null)},[]),N=S.useMemo(function(){return{onClose:F}},[F]);if(!R)return null;var G=!!n;return S.createElement(fxe,{className:O},_&&!o&&(g!=null&&g.fullName)?S.createElement(tu,{"aria-label":B&&l(B,{_:B}),className:Ix.userButton,color:"inherit",startIcon:g.avatar?S.createElement(_I,{className:Ix.avatar,src:g.avatar,alt:g.fullName}):q,onClick:j,variant:"text"},g.fullName):S.createElement(xg,{title:B&&l(B,{_:"Profile"})},S.createElement(Oo,{"aria-label":B&&l(B,{_:"Profile"}),"aria-owns":G?"menu-appbar":void 0,"aria-haspopup":!0,color:"inherit",onClick:j},!o&&(g!=null&&g.avatar)?S.createElement(_I,{className:Ix.avatar,src:g.avatar,alt:g.fullName}):q)),S.createElement(dxe,{value:N},S.createElement(aC,{id:"menu-appbar",disableScrollLock:!0,anchorEl:n,anchorOrigin:pxe,transformOrigin:mxe,open:G,onClose:F},R)))},mE="RaUserMenu",Ix={userButton:"".concat(mE,"-userButton"),avatar:"".concat(mE,"-avatar")},fxe=mt("div",{name:mE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={},t["& .".concat(Ix.userButton)]={textTransform:"none",marginInlineStart:r.spacing(.5)},t["& .".concat(Ix.avatar)]={width:r.spacing(3),height:r.spacing(3)},t}),hxe=S.createElement(ixe,null),pxe={vertical:"bottom",horizontal:"right"},mxe={vertical:"top",horizontal:"right"},gxe=function(e){var t=e.children,r=e.className,n=lZ();return S.createElement(HG,{appear:!1,direction:"down",in:!n,className:r},t)},II=function(){return II=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},II.apply(this,arguments)},yxe=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},vxe=function(e){return S.createElement(Jn,II({variant:"h6",color:"inherit",id:"react-admin-title"},e,{sx:yxe([{flex:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}],Array.isArray(e.sx)?e.sx:[e.sx],!0)}))},gZ=S.createContext({}),sC=function(e){var t={},r=t.lightTheme,n=t.darkTheme,a=t.defaultTheme,l=S.useContext(gZ);return{lightTheme:r||l.lightTheme,darkTheme:n||l.darkTheme,defaultTheme:a??l.defaultTheme}};const bxe=hn(Oe.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"})),_xe=hn(Oe.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}));var yZ=function(e){var t=sC().darkTheme,r=iu("(prefers-color-scheme: dark)",{noSsr:!0}),n=Qo("theme",e??(r&&t?"dark":"light")),a=n[0],l=n[1];return[t!=null?a:"light",l]},xxe=function(e){var t=e.children,r=sC(),n=r.lightTheme,a=r.darkTheme,l=r.defaultTheme,c=iu("(prefers-color-scheme: dark)",{noSsr:!0}),o=yZ(l||(c&&a?"dark":"light"))[0],g=S.useMemo(function(){try{return u1(o==="dark"?a:n)}catch(m){return console.warn("Failed to reuse custom theme from store",m),u1()}},[o,n,a]);return S.createElement(qhe,{theme:g},t)},vZ={typography:{h6:{fontWeight:400}},sidebar:{width:240,closedWidth:50},components:{MuiAutocomplete:{defaultProps:{fullWidth:!0},variants:[{props:{},style:function(e){var t,r=e.theme;return t={},t[r.breakpoints.down("sm")]={width:"100%"},t}}]},MuiTextField:{defaultProps:{variant:"filled",margin:"dense",size:"small",fullWidth:!0},variants:[{props:{},style:function(e){var t,r=e.theme;return t={},t[r.breakpoints.down("sm")]={width:"100%"},t}}]},MuiFormControl:{defaultProps:{variant:"filled",margin:"dense",size:"small",fullWidth:!0}},MuiTableCell:{styleOverrides:{root:{"&.MuiTableCell-paddingCheckbox":{padding:"0 8px 0 8px"}}}},RaSimpleFormIterator:{defaultProps:{fullWidth:!0}},RaTranslatableInputs:{defaultProps:{fullWidth:!0}}}},wxe=ko(vZ,{palette:{background:{default:"#fafafb"},secondary:{light:"#6ec6ff",main:"#2196f3",dark:"#0069c0",contrastText:"#fff"}},components:{MuiFilledInput:{styleOverrides:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}}}}}),Sxe=ko(vZ,{palette:{mode:"dark",primary:{main:"#90caf9"},background:{default:"#313131"}}}),Exe=function(){var e=on(),t=sC(),r=t.darkTheme,n=t.defaultTheme,a=iu("(prefers-color-scheme: dark)",{noSsr:!0}),l=yZ(n||(a&&r?"dark":"light")),c=l[0],o=l[1],g=function(){o(c==="dark"?"light":"dark")},m=e("ra.action.toggle_theme",{_:"Toggle Theme"});return Cr.createElement(xg,{title:m,enterDelay:300},Cr.createElement(Oo,{color:"inherit",onClick:g,"aria-label":m},c==="dark"?Cr.createElement(_xe,null):Cr.createElement(bxe,null)))},DI=function(){return DI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},DI.apply(this,arguments)},Cxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Txe=S.memo(function(e){var t=dn({props:e,name:zb}),r=t.alwaysOn,n=t.children,a=t.className,l=t.color,c=l===void 0?"secondary":l,o=t.toolbar,g=o===void 0?Pxe:o,m=t.userMenu,_=m===void 0?Rxe:m,E=t.container,R=E===void 0?r?"div":gxe:E,O=Cxe(t,["alwaysOn","children","className","color","toolbar","userMenu","container"]),I=iu(function(B){return B.breakpoints.down("sm")});return S.createElement(R,{className:a},S.createElement(Mxe,DI({className:Oy.appBar,color:c},O),S.createElement(W1,{disableGutters:!0,variant:I?"regular":"dense",className:Oy.toolbar},S.createElement(exe,{className:Oy.menuButton}),S.Children.count(n)===0?S.createElement(vxe,{className:Oy.title}):n,g,typeof _=="boolean"?_===!0?S.createElement(mZ,null):null:_)))}),Axe=function(){var e=W7(),t=sC().darkTheme;return S.createElement(S.Fragment,null,e&&e.length>1?S.createElement(twe,null):null,t&&S.createElement(Exe,null),S.createElement(nxe,null))},Pxe=S.createElement(Axe,null),Rxe=S.createElement(mZ,null),zb="RaAppBar",Oy={appBar:"".concat(zb,"-appBar"),toolbar:"".concat(zb,"-toolbar"),menuButton:"".concat(zb,"-menuButton"),title:"".concat(zb,"-title")},Mxe=mt(Ype,{name:zb,overridesResolver:function(e,t){return t.root}})(function(e){var t,r,n=e.theme;return t={},t["& .".concat(Oy.toolbar)]=(r={padding:"0 ".concat(n.spacing(1))},r[n.breakpoints.down("md")]={minHeight:n.spacing(6)},r),t["& .".concat(Oy.menuButton)]={marginRight:"0.2em"},t["& .".concat(Oy.title)]={},t});const Oxe=hn([Oe.jsx("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),Oe.jsx("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")]);var gE=function(){return gE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gE.apply(this,arguments)},kxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},bZ=function(e){var t=e.title,r=e.defaultTitle,n=e.className,a=kxe(e,["title","defaultTitle","className"]),l=on();return S.createElement("span",{className:n},t?typeof t=="string"?S.createElement("span",gE({},a),l(t,{_:t})):t:S.createElement("span",gE({},a),r))};const Ixe=hn(Oe.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}));var Dxe=function(e){var t=dn({props:e,name:Dx}),r=t.children,n=t.editor,a=t.preferenceKey,l=t.openButtonLabel,c=l===void 0?"ra.configurable.customize":l,o=t.sx,g="preferences.".concat(a),m=Y3(),_=!!m,E=on(),R=m||{},O=R.isEnabled,I=R.setEditor,B=R.preferenceKey,$=R.setPreferenceKey,q=g===B,j=S.useRef(q),F=S.useRef(null),N=S.useState(!1),G=N[0],V=N[1];if(S.useEffect(function(){j.current=q},[q]),S.useEffect(function(){return function(){j.current&&($&&$(null),I&&I(null))}},[I,$]),!_)return r;var ee=function(){if(!I)throw new Error("Configurable must be used inside a PreferencesEditorContextProvider");if(I(S.cloneElement(n,{preferenceKey:g,key:g})),!$)throw new Error("Configurable must be used inside a PreferencesEditorContextProvider");$(g)},ne=function(){V(!0)},ae=function(){V(!1)};return S.createElement(nH,{value:g},S.createElement(zxe,{className:er(mp.root,O&&mp.editMode,q&&mp.editorActive),sx:o,ref:F,onMouseEnter:O?ne:void 0,onMouseLeave:O?ae:void 0},r),S.createElement(YG,{open:!!O&&(G||q),sx:{pointerEvents:"none","& .MuiPaper-root":{pointerEvents:"auto",borderRadius:10,padding:"2px",lineHeight:0,backgroundColor:"warning.light",color:"warning.contrastText","&:hover":{cursor:"pointer"}}},anchorEl:F.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"center"},onClose:ae,PaperProps:{elevation:1,onMouseEnter:ne,onMouseLeave:ae,title:E(c),onClick:ee},disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:!0,disableScrollLock:!0,marginThreshold:8},S.createElement(Ixe,{fontSize:"12px"})))},Dx="RaConfigurable",mp={root:"".concat(Dx,"-root"),editMode:"".concat(Dx,"-editMode"),editorActive:"".concat(Dx,"-editorActive")},zxe=mt("span",{name:Dx,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={position:"relative",display:"inline-block"},t["&.".concat(mp.editMode)]={transition:r.transitions.create("outline"),outline:"color-mix(in srgb, ".concat((r.vars||r).palette.warning.main,", transparent 30%) solid 2px")},t["&.".concat(mp.editMode,":hover ")]={outline:"color-mix(in srgb, ".concat((r.vars||r).palette.warning.main,", transparent 50%) solid 2px")},t["&.".concat(mp.editMode,".").concat(mp.editorActive," , &.").concat(mp.editMode,".").concat(mp.editorActive,":hover ")]={outline:"".concat((r.vars||r).palette.warning.main," solid 2px")},t});const Lxe=hn(Oe.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}));var Bxe=function(e){var t=e.selected,r=e.label,n=e.onToggle,a=e.onMove,l=e.source,c=e.index,o=ia(),g=S.useRef(null),m=S.useRef(null),_=S.useRef(null),E=S.useCallback(function($){m.current=$.clientX,_.current=$.clientY},[]),R=function(){document.addEventListener("dragover",E)},O=function($){var q=$.target;q.classList.add("drag-active");var j=q.closest("ul");if(!(m.current==null||_.current==null)){var F=document.elementFromPoint(m.current,_.current),N=F===null?q:F.closest("li");N&&(N.classList.contains("dragIcon")&&(N=N.parentNode),N!==q&&j===N.parentNode.closest("ul")&&(g.current=N.dataset.index,N===q.nextSibling&&(N=N.nextSibling),j.insertBefore(q,N)))}},I=function($){var q=$.target,j=q.closest("ul"),F=m.current!=null&&_.current!=null?document.elementFromPoint(m.current,_.current):null,N=m.current==null||_.current==null||F===null?q:F.closest("li");if(_.current!==null&&j&&!N){var G=q.closest("ul");G&&_.current>G.getBoundingClientRect().bottom?N=j.lastChild:N=j.firstChild}N&&j===N.closest("ul")?a&&a(q.dataset.index,g.current):($.preventDefault(),$.stopPropagation()),q.classList.remove("drag-active"),document.removeEventListener("dragover",E)},B=function($){$.preventDefault(),$.dataTransfer.dropEffect="move"};return S.createElement(Nxe,{key:l,draggable:a?"true":void 0,onDrag:a?O:void 0,onDragStart:a?R:void 0,onDragEnd:a?I:void 0,onDragOver:a?B:void 0,"data-index":c},S.createElement("label",{htmlFor:"switch_".concat(c)},S.createElement(V_e,{checked:t,onChange:n,name:"".concat(c),id:"switch_".concat(c),size:"small",sx:{mr:.5,ml:-.5}}),S.createElement(Jn,{variant:"body2",component:"span"},S.createElement(a1,{label:r,source:l,resource:o}))),a&&S.createElement(Lxe,{className:"dragIcon",color:"disabled",fontSize:"small"}))},Fxe="RaFieldToggle",Nxe=mt("li",{name:Fxe,overridesResolver:function(e,t){return t.root}})(function(e){var t=e.theme;return{display:"flex",justifyContent:"space-between",paddingLeft:0,"& svg":{cursor:"move"},"&.drag-active":{background:"transparent",color:"transparent",outline:"1px solid ".concat((t.vars||t).palette.action.selected),"& .MuiSwitch-root, & svg":{visibility:"hidden"}}}});const jxe=hn(Oe.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"})),$xe=hn(Oe.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}));var Uxe=function(){var e=on();return zse("ra.configurable.inspector.title",{_:"Inspector"}),S.createElement(Jn,null,e("ra.configurable.inspector.content",{_:"Hover the application UI elements to configure them"}))},_Z=function(){var e=Y3(),t=e.isEnabled,r=e.disable,n=e.title,a=e.titleOptions,l=e.editor,c=e.preferenceKey,o=S.useRef(!1),g=Qoe(c),m=Wu(),_=on(),E=S.useState(0),R=E[0],O=E[1],I=Qo("ra.inspector.position",{x:(document==null?void 0:document.body.clientWidth)-m.breakpoints.values.sm/2-8,y:8}),B=I[0],$=I[1],q=S.useState(),j=q[0],F=q[1],N=function(ee){var ne=document==null?void 0:document.elementFromPoint(ee.clientX,ee.clientY);(ne==null?void 0:ne.id)==="inspector-dialog-title"&&(o.current=!0,ee.dataTransfer.effectAllowed="move",ee.dataTransfer.setData("inspector",""),setTimeout(function(){ee.target.classList.add("hide")},0),F({x:ee.clientX-B.x,y:ee.clientY-B.y}))},G=function(ee){o.current&&j&&($({x:ee.clientX-j.x,y:ee.clientY-j.y}),ee.target.classList.remove("hide"),o.current=!1)};S.useEffect(function(){if(t){var ee=function(ne){ne.dataTransfer.types.includes("inspector")&&ne.preventDefault()};return document==null||document.addEventListener("dragover",ee),function(){document==null||document.removeEventListener("dragover",ee)}}},[t]),S.useEffect(function(){if(t){var ee=function(){window==null||window.requestAnimationFrame(function(){$(function(ne){return{x:Math.min(ne.x,(document==null?void 0:document.body.clientWidth)-m.breakpoints.values.sm/2-8),y:Math.min(ne.y,(window==null?void 0:window.innerHeight)-50)}})})};return ee(),window==null||window.addEventListener("resize",ee),function(){window==null||window.removeEventListener("resize",ee)}}},[t,$,m.breakpoints.values.sm]);var V=function(){g(),O(function(ee){return ee+1})};return t?S.createElement(qxe,{className:zx.modal,elevation:3,draggable:!0,onDragStart:N,onDragEnd:G,sx:{left:B.x,top:B.y}},S.createElement("div",{className:zx.title},S.createElement(Jn,{id:"inspector-dialog-title",variant:"overline",component:"div",sx:{py:1,px:2,flex:"1"}},n&&_(n,a)),S.createElement("span",{id:"inspector-toolbar"}),c&&S.createElement(Oo,{"aria-label":_("ra.action.remove"),onClick:V,size:"small"},S.createElement($xe,{fontSize:"inherit"})),S.createElement(Oo,{"aria-label":_("ra.action.close"),onClick:r,size:"small",sx:{mr:1}},S.createElement(jxe,{fontSize:"inherit"}))),S.createElement("div",{className:zx.content,key:R},S.createElement(nH,{value:c},l||S.createElement(Uxe,null)))):null},PS="RaInspector",zx={modal:"".concat(PS,"-modal"),title:"".concat(PS,"-title"),content:"".concat(PS,"-content")},qxe=mt(yg,{name:PS,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={position:"fixed",zIndex:r.zIndex.modal+1,width:r.breakpoints.values.sm/2,transition:r.transitions.create(["height","width"]),"&.hide":{display:"none"}},t["& .".concat(zx.title)]={display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move"},t["& .".concat(zx.content)]={overflowY:"auto",maxHeight:"75vh",padding:r.spacing(2),paddingTop:0},t});_Z.displayName="Inspector";var Qm=function(){return Qm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qm.apply(this,arguments)},xZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Vxe=function(){var e=Dse("","");return S.createElement("form",null,S.createElement(Gz,Qm({label:"title",variant:"filled",size:"small",fullWidth:!0,sx:{mb:1}},e)))},Hxe=function(e){var t=e.preferenceKey,r=e.title,n=e.defaultTitle,a=xZ(e,["preferenceKey","title","defaultTitle"]),l=Jo().pathname;return S.createElement(Dxe,{editor:S.createElement(Vxe,null),preferenceKey:t||"".concat(l,".title"),sx:{"&.RaConfigurable-editMode":{margin:"2px"}}},S.createElement(Gxe,Qm({title:r,defaultTitle:n},a)))},Gxe=function(e){var t=e.title,r=e.defaultTitle,n=xZ(e,["title","defaultTitle"]),a=aH()[0],l=on(),c=hc();return typeof a=="string"?S.createElement("span",Qm({className:n.className},n),l(a,Qm(Qm({},c),{_:a}))):S.createElement(S.Fragment,null,S.createElement(bZ,Qm({title:t,defaultTitle:r},n)))},yE=function(){return yE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yE.apply(this,arguments)},Zxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},lC=function(e){var t=e.defaultTitle,r=e.title,n=e.preferenceKey,a=Zxe(e,["defaultTitle","title","preferenceKey"]),l=S.useState(function(){return typeof document<"u"?document.getElementById("react-admin-title"):null}),c=l[0],o=l[1];if(S.useEffect(function(){o(function(m){var _=typeof document<"u"&&document.body.contains(m);return m&&_?m:typeof document<"u"?document.getElementById("react-admin-title"):null})},[]),!c)return null;JV(!t&&!r,"Missing title prop in <Title> element");var g=n===!1?S.createElement(bZ,yE({title:r,defaultTitle:t},a)):S.createElement(Hxe,yE({title:r,defaultTitle:t,preferenceKey:n},a));return S.createElement(S.Fragment,null,O1.createPortal(g,c))},zI=function(){return zI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},zI.apply(this,arguments)},Wxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},rS,Kxe=function(e){var t=dn({props:e,name:Lx}),r=t.className,n=t.icon,a=n===void 0?Yxe:n,l=t.textPrimary,c=l===void 0?"ra.page.authentication_error":l,o=t.textSecondary,g=o===void 0?"ra.message.authentication_error":o,m=Wxe(t,["className","icon","textPrimary","textSecondary"]),_=on(),E=H3();return S.createElement(Xxe,zI({className:er(b1.root,r)},m),S.createElement(lC,{defaultTitle:E}),S.createElement("div",{className:b1.message},a,S.createElement(Jn,{variant:"h5",sx:{mt:3,color:"text.secondary"}},_(c,{_:c})),S.createElement(Jn,{variant:"body2"},_(g,{_:g}))))},Lx="RaAuthenticationError",b1={root:"".concat(Lx,"-root"),icon:"".concat(Lx,"-icon"),message:"".concat(Lx,"-message")},Xxe=mt("div",{name:Lx,overridesResolver:function(e,t){return t.root}})((rS={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},rS["& .".concat(b1.message)]={textAlign:"center",paddingTop:"1em",paddingBottom:"1em",opacity:.5},rS["& .".concat(b1.icon)]={width:"9em",height:"9em"},rS)),Yxe=S.createElement(Oxe,{className:b1.icon});const Qxe=hn(Oe.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Jxe=hn(Oe.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}));var Bx=function(){return Bx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Bx.apply(this,arguments)},e1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},t1e=function(e){var t,r=dn({props:e,name:vE}),n=r.className,a=r.isOpen,l=a===void 0?!1:a,c=r.loading,o=r.title,g=r.content,m=r.cancel,_=m===void 0?"ra.action.cancel":m,E=r.confirm,R=E===void 0?"ra.action.confirm":E,O=r.confirmColor,I=O===void 0?"primary":O,B=r.ConfirmIcon,$=B===void 0?Qxe:B,q=r.CancelIcon,j=q===void 0?Jxe:q,F=r.onClose,N=r.onConfirm,G=r.translateOptions,V=G===void 0?{}:G,ee=r.titleTranslateOptions,ne=ee===void 0?V:ee,ae=r.contentTranslateOptions,X=ae===void 0?V:ae,te=e1e(r,["className","isOpen","loading","title","content","cancel","confirm","confirmColor","ConfirmIcon","CancelIcon","onClose","onConfirm","translateOptions","titleTranslateOptions","contentTranslateOptions"]),le=on(),we=S.useCallback(function(xe){xe.stopPropagation(),N(xe)},[N]),ve=S.useCallback(function(xe){xe.stopPropagation()},[]);return S.createElement(r1e,Bx({className:n,open:l,onClose:F,onClick:ve,"aria-labelledby":"alert-dialog-title"},te),S.createElement(Bz,{id:"alert-dialog-title"},typeof o=="string"?le(o,Bx({_:o},ne)):o),S.createElement(Lz,null,typeof g=="string"?S.createElement(VG,null,le(g,Bx({_:g},X))):g),S.createElement(zz,null,S.createElement(tu,{disabled:c,onClick:F,startIcon:S.createElement(j,null)},le(_,{_})),S.createElement(tu,{disabled:c,onClick:we,className:er("ra-confirm",(t={},t[bE.confirmWarning]=I==="warning",t[bE.confirmPrimary]=I==="primary",t)),autoFocus:!0,startIcon:S.createElement($,null)},le(R,{_:R}))))},vE="RaConfirm",bE={confirmPrimary:"".concat(vE,"-confirmPrimary"),confirmWarning:"".concat(vE,"-confirmWarning")},r1e=mt(Dz,{name:vE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={},t["& .".concat(bE.confirmPrimary)]={color:(r.vars||r).palette.primary.main},t["& .".concat(bE.confirmWarning)]={color:(r.vars||r).palette.error.main,"&:hover":{backgroundColor:"color-mix(in srgb, ".concat((r.vars||r).palette.error.main,", transparent 12%)"),"@media (hover: none)":{backgroundColor:"transparent"}}},t});const n1e=hn(Oe.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}));var _1=function(){return _1=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_1.apply(this,arguments)},a1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Kz=S.forwardRef(function(e,t){var r=dn({props:e,name:_E}),n=r.className,a=r.primaryText,l=r.leftIcon,c=r.onClick;r.sidebarIsOpen;var o=r.tooltipProps,g=r.children,m=a1e(r,["className","primaryText","leftIcon","onClick","sidebarIsOpen","tooltipProps","children"]),_=iu(function(N){return N.breakpoints.down("md")}),E=on(),R=Ap(),O=oC(),I=O[0],B=O[1],$=S.useCallback(function(N){_&&B(!1),c&&c(N)},[B,_,c]),q=(typeof r.to=="string"?r.to:r.to.pathname)||"",j=zY({path:q,end:q==="".concat(R,"/")}),F=function(){var N;return Cr.createElement(i1e,_1({className:er(n,(N={},N[Fx.active]=!!j,N)),component:o1e,ref:t,tabIndex:0},m,{onClick:$}),l&&Cr.createElement(My,{className:Fx.icon},l),g||(typeof a=="string"?E(a,{_:a}):a))};return I?F():Cr.createElement(xg,_1({title:typeof a=="string"?E(a,{_:a}):a,placement:"right"},o),F())}),_E="RaMenuItemLink",Fx={active:"".concat(_E,"-active"),icon:"".concat(_E,"-icon")},i1e=mt(_p,{name:_E,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={color:(r.vars||r).palette.text.secondary},t["&.".concat(Fx.active)]={color:(r.vars||r).palette.text.primary},t["& .".concat(Fx.icon)]={minWidth:r.spacing(5)},t[".MuiList-dense > & > .".concat(Fx.icon)]={minWidth:r.spacing(3.5)},t}),o1e=S.forwardRef(function(e,t){return Cr.createElement(Zy,_1({ref:t},e))}),LI=function(){return LI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},LI.apply(this,arguments)},s1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},wZ=function(e){var t=Ap(),r=e.leftIcon,n=r===void 0?Cr.createElement(n1e,null):r,a=e.to,l=a===void 0?"".concat(t,"/"):a,c=e.primaryText,o=c===void 0?"ra.page.dashboard":c,g=s1e(e,["leftIcon","to","primaryText"]);return Cr.createElement(Kz,LI({leftIcon:n,to:l,primaryText:o},g))};const l1e=hn(Oe.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"})),cC=hn(Oe.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),SZ=hn(Oe.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}));var BI=function(){return BI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},BI.apply(this,arguments)},c1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},EZ=function(e){var t=dn({props:e,name:pp}),r=t.error,n=t.errorComponent,a=t.errorInfo,l=t.resetErrorBoundary,c=t.className,o=c1e(t,["error","errorComponent","errorInfo","resetErrorBoundary","className"]),g=on(),m=H3();return tV(l),n?S.createElement(n,{error:r,errorInfo:a,title:m}):S.createElement(S.Fragment,null,m&&S.createElement(lC,{title:m}),S.createElement(u1e,BI({className:c},o),S.createElement("h1",{className:eh.title,role:"alert"},S.createElement(l1e,{className:eh.icon}),g("ra.page.error")),S.createElement("div",null,g("ra.message.error")),!1,S.createElement("div",{className:eh.toolbar},S.createElement(tu,{variant:"contained",startIcon:S.createElement(SZ,null),onClick:d1e},g("ra.action.back")))))},pp="RaError",eh={title:"".concat(pp,"-title"),icon:"".concat(pp,"-icon"),panel:"".concat(pp,"-panel"),panelSummary:"".concat(pp,"-panelSummary"),panelDetails:"".concat(pp,"-panelDetails"),toolbar:"".concat(pp,"-toolbar"),advice:"".concat(pp,"-advice")},u1e=mt("div",{name:pp,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},t[r.breakpoints.down("md")]={padding:"1em"},t.fontFamily="Roboto, sans-serif",t.opacity=.5,t["& .".concat(eh.title)]={display:"flex",alignItems:"center"},t["& .".concat(eh.icon)]={width:"2em",height:"2em",marginRight:"0.5em"},t["& .".concat(eh.panel)]={marginTop:"1em",maxWidth:"60em"},t["& .".concat(eh.panelSummary)]={userSelect:"all"},t["& .".concat(eh.panelDetails)]={whiteSpace:"pre-wrap"},t["& .".concat(eh.toolbar)]={marginTop:"2em"},t["& .".concat(eh.advice)]={marginTop:"2em"},t});function d1e(){window.history.go(-1)}var xE=function(){return xE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xE.apply(this,arguments)},f1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},h1e=function(e){var t=dn({props:e,name:Is}),r=t.appBarAlwaysOn,n=t.children;t.closedSize,t.size;var a=f1e(t,["appBarAlwaysOn","children","closedSize","size"]),l=iu(function(E){return E.breakpoints.down("sm")}),c=oC(),o=c[0],g=c[1];Xte();var m=lZ(),_=function(){return g(!o)};return l?S.createElement(a$,xE({variant:"temporary",open:o,onClose:_,classes:Ds},a),n):S.createElement(a$,xE({variant:"permanent",open:o,onClose:_,classes:Ds,className:er(m&&!r?Ds.appBarCollapsed:"",o?p1e:m1e)},a),S.createElement("div",{className:Ds.fixed},n))},Is="RaSidebar",Ds={docked:"".concat(Is,"-docked"),paper:"".concat(Is,"-paper"),paperAnchorLeft:"".concat(Is,"-paperAnchorLeft"),paperAnchorRight:"".concat(Is,"-paperAnchorRight"),paperAnchorTop:"".concat(Is,"-paperAnchorTop"),paperAnchorBottom:"".concat(Is,"-paperAnchorBottom"),paperAnchorDockedLeft:"".concat(Is,"-paperAnchorDockedLeft"),paperAnchorDockedTop:"".concat(Is,"-paperAnchorDockedTop"),paperAnchorDockedRight:"".concat(Is,"-paperAnchorDockedRight"),paperAnchorDockedBottom:"".concat(Is,"-paperAnchorDockedBottom"),modal:"".concat(Is,"-modal"),fixed:"".concat(Is,"-fixed"),appBarCollapsed:"".concat(Is,"-appBarCollapsed")},p1e="".concat(Is,"-open"),m1e="".concat(Is,"-closed"),a$=mt(vve,{name:Is,slot:"Root",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(){return!0}})(function(e){var t,r,n,a=e.open,l=e.theme;return t={height:"calc(100vh - 3em)",marginTop:0,transition:l.transitions.create("margin",{easing:l.transitions.easing.easeOut,duration:l.transitions.duration.enteringScreen})},t["&.".concat(Ds.appBarCollapsed)]=(r={marginTop:l.spacing(-6)},r[l.breakpoints.down("sm")]={marginTop:l.spacing(-7)},r.transition=l.transitions.create("margin",{easing:l.transitions.easing.sharp,duration:l.transitions.duration.leavingScreen}),r),t["& .".concat(Ds.docked)]={},t["& .".concat(Ds.paper)]={},t["& .".concat(Ds.paperAnchorLeft)]={},t["& .".concat(Ds.paperAnchorRight)]={},t["& .".concat(Ds.paperAnchorTop)]={},t["& .".concat(Ds.paperAnchorBottom)]={},t["& .".concat(Ds.paperAnchorDockedLeft)]={},t["& .".concat(Ds.paperAnchorDockedTop)]={},t["& .".concat(Ds.paperAnchorDockedRight)]={},t["& .".concat(Ds.paperAnchorDockedBottom)]={},t["& .".concat(Ds.modal)]={},t["& .".concat(Ds.fixed)]={position:"fixed",height:"calc(100vh - 3em)",overflowX:"hidden",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}},t["& .MuiPaper-root"]=(n={position:"relative",width:a?_i(l,"sidebar.width",CZ):_i(l,"sidebar.closedWidth",TZ),transition:l.transitions.create("width",{easing:l.transitions.easing.sharp,duration:l.transitions.duration.leavingScreen}),backgroundColor:"transparent",borderRight:"none"},n[l.breakpoints.only("xs")]={marginTop:0,height:"100vh",position:"inherit",backgroundColor:(l.vars||l).palette.background.default},n[l.breakpoints.up("md")]={border:"none"},n.zIndex="inherit",n),t}),CZ=240,TZ=55;const g1e=hn(Oe.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}));var AZ=function(e){var t=e.name,r=D_(),n=Xy({action:"list",resource:t}),a=n.canAccess,l=n.error,c=n.isPending,o=I2(),g=tv();return!r||!r[t]||c||a===!1||l!=null?null:S.createElement(Kz,{to:g({resource:t,type:"list"}),state:{_scrollToTop:!0},primaryText:S.createElement(S.Fragment,null,o(t,2)),leftIcon:r[t].icon?S.createElement(r[t].icon):S.createElement(g1e,null)})},PZ=function(){var e=D_();return S.createElement(S.Fragment,null,Object.keys(e).filter(function(t){return e[t].hasList}).map(function(t){return S.createElement(AZ,{key:t,name:t})}))},FI=function(){return FI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},FI.apply(this,arguments)},y1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},K1=function(e){var t,r=dn({props:e,name:wE}),n=r.children,a=r.className,l=y1e(r,["children","className"]),c=Aoe(),o=oC()[0];return S.createElement(v1e,FI({className:er((t={},t[SE.open]=o,t[SE.closed]=!o,t),a)},l),c&&!n&&S.createElement(wZ,null),n??S.createElement(PZ,null))};K1.Item=Kz;K1.DashboardItem=wZ;K1.ResourceItem=AZ;K1.ResourceItems=PZ;var wE="RaMenu",SE={open:"".concat(wE,"-open"),closed:"".concat(wE,"-closed")},v1e=mt(KG,{name:wE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",flexDirection:"column",justifyContent:"flex-start"},t[r.breakpoints.only("xs")]={marginTop:0},t.transition=r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),t["&.".concat(SE.open)]={width:_i(r,"sidebar.width",CZ)},t["&.".concat(SE.closed)]={width:_i(r,"sidebar.closedWidth",TZ)},t}),NI=function(){return NI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},NI.apply(this,arguments)},b1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},uC=function(e){var t=dn({props:e,name:EE}),r=t.className,n=t.loadingPrimary,a=n===void 0?"ra.page.loading":n,l=t.loadingSecondary,c=l===void 0?"ra.message.loading":l,o=t.timeout,g=o===void 0?1e3:o,m=b1e(t,["className","loadingPrimary","loadingSecondary","timeout"]),_=D3(g),E=on();return _?S.createElement(_1e,NI({className:r},m),S.createElement("div",{className:CE.message},S.createElement(H1,{className:CE.icon}),S.createElement(Jn,{variant:"h5",sx:{mt:3,color:"text.secondary"}},E(a,{_:a})),S.createElement(Jn,{variant:"body2"},E(c,{_:c})))):null},EE="RaLoading",CE={icon:"".concat(EE,"-icon"),message:"".concat(EE,"-message")},_1e=mt("div",{name:EE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},t["& .".concat(CE.message)]={textAlign:"center",fontFamily:"Roboto, sans-serif",color:(r.vars||r).palette.text.disabled,paddingTop:"1em",paddingBottom:"1em"},t["& .".concat(CE.icon)]={width:"9em",height:"9em"},t}),jI=function(){return jI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},jI.apply(this,arguments)},x1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},w1e=function(e){var t=dn({props:e,name:Nx}),r=t.appBar,n=r===void 0?Txe:r,a=t.appBarAlwaysOn,l=t.children,c=t.className,o=t.error,g=t.menu,m=g===void 0?K1:g,_=t.sidebar,E=_===void 0?h1e:_,R=x1e(t,["appBar","appBarAlwaysOn","children","className","error","menu","sidebar"]),O=S.useState(void 0),I=O[0],B=O[1],$=function(q,j){B(j)};return Cr.createElement(S1e,jI({className:er("layout",c)},R),Cr.createElement(fwe,null),Cr.createElement("div",{className:Vb.appFrame},Cr.createElement(n,{alwaysOn:a}),Cr.createElement("main",{className:Vb.contentWithSidebar},Cr.createElement(E,{appBarAlwaysOn:a},Cr.createElement(m,null)),Cr.createElement("div",{id:"main-content",className:Vb.content},Cr.createElement(UV,{onError:$,fallbackRender:function(q){var j=q.error,F=q.resetErrorBoundary;return Cr.createElement(EZ,{error:j,errorComponent:o,errorInfo:I,resetErrorBoundary:F})}},Cr.createElement(S.Suspense,{fallback:Cr.createElement(uC,null)},l)))),Cr.createElement(_Z,null)))},Nx="RaLayout",Vb={appFrame:"".concat(Nx,"-appFrame"),contentWithSidebar:"".concat(Nx,"-contentWithSidebar"),content:"".concat(Nx,"-content")},S1e=mt("div",{name:Nx,overridesResolver:function(e,t){return t.root}})(function(e){var t,r,n,a=e.theme;return t={display:"flex",flexDirection:"column",zIndex:1,minHeight:"100vh",backgroundColor:(a.vars||a).palette.background.default,position:"relative",minWidth:"fit-content",width:"100%"},t["& .".concat(Vb.appFrame)]=(r={display:"flex",flexDirection:"column",flexGrow:1,marginTop:a.spacing(6)},r[a.breakpoints.down("sm")]={marginTop:a.spacing(7)},r),t["& .".concat(Vb.contentWithSidebar)]={display:"flex",flexGrow:1,transition:a.transitions.create("margin",{easing:a.transitions.easing.easeOut,duration:a.transitions.duration.enteringScreen})},t["& .".concat(Vb.content)]=(n={backgroundColor:(a.vars||a).palette.background.default,zIndex:2,display:"flex",flexDirection:"column",flexGrow:1,flexBasis:0,padding:0},n[a.breakpoints.up("xs")]={paddingRight:a.spacing(1),paddingLeft:a.spacing(1)},n),t}),$I=function(){return $I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$I.apply(this,arguments)},E1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},dC=function(e){var t=dn({props:e,name:RZ}),r=t.className,n=t.timeout,a=n===void 0?1e3:n,l=E1e(t,["className","timeout"]),c=D3(a);return c?S.createElement(C1e,$I({className:r},l)):S.createElement(LG,{component:"span",sx:{my:1,height:4,display:"block"}})};dC.displayName="LinearProgress";var RZ="RaLinearProgress",C1e=mt(obe,{name:RZ,overridesResolver:function(e,t){return t.root}})(function(e){var t=e.theme;return{margin:"".concat(t.spacing(1)," 0"),width:t.spacing(20)}}),UI=function(){return UI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},UI.apply(this,arguments)},T1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},A1e=function(e){var t=e.loadingPrimary,r=t===void 0?"ra.page.loading":t,n=e.loadingSecondary,a=n===void 0?"ra.message.loading":n,l=T1e(e,["loadingPrimary","loadingSecondary"]);return S.createElement(uC,UI({loadingPrimary:r,loadingSecondary:a},l))};const P1e=hn([Oe.jsx("circle",{cx:"7",cy:"6",r:"2"},"0"),Oe.jsx("path",{d:"M11.15 12c-.31-.22-.59-.46-.82-.72l-1.4-1.55c-.19-.21-.43-.38-.69-.5-.29-.14-.62-.23-.96-.23h-.03C6.01 9 5 10.01 5 11.25V12H2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8zM7 20H5v-6h2zm4 0H9v-6h2zm4 0h-2v-6h2zm4 0h-2v-6h2zm-.35-14.14-.07-.07c-.57-.62-.82-1.41-.67-2.2L18 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71m-4 0-.07-.07c-.57-.62-.82-1.41-.67-2.2L14 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71"},"1")]);var qI=function(){return qI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},qI.apply(this,arguments)},R1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},M1e=function(e){var t=dn({props:e,name:jx}),r=on(),n=D2().isPending,a=H3();return n?S.createElement(uC,null):S.createElement(k1e,qI({},O1e(t)),S.createElement(lC,{defaultTitle:a}),S.createElement("div",{className:Hb.message},S.createElement(P1e,{className:Hb.icon}),S.createElement("h1",null,r("ra.page.not_found")),S.createElement("div",null,r("ra.message.not_found"),".")),S.createElement("div",{className:Hb.toolbar},S.createElement(tu,{variant:"contained",startIcon:S.createElement(SZ,null),onClick:I1e},r("ra.action.back"))))},O1e=function(e){e.staticContext,e.history,e.location,e.match;var t=R1e(e,["staticContext","history","location","match"]);return t},jx="RaNotFound",Hb={icon:"".concat(jx,"-icon"),message:"".concat(jx,"-message"),toolbar:"".concat(jx,"-toolbar")},k1e=mt("div",{name:jx,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",flexDirection:"column",justifyContent:"center"},t[r.breakpoints.up("md")]={height:"100%"},t[r.breakpoints.down("md")]={height:"100vh",marginTop:"-3em"},t["& .".concat(Hb.icon)]={width:"9em",height:"9em"},t["& .".concat(Hb.message)]={textAlign:"center",fontFamily:"Roboto, sans-serif",opacity:.5,margin:"0 1em"},t["& .".concat(Hb.toolbar)]={textAlign:"center",marginTop:"2em"},t});function I1e(){window.history.go(-1)}var VI=function(){return VI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},VI.apply(this,arguments)},i$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},D1e={vertical:"bottom",horizontal:"center"},z1e=function(e){var t,r=dn({props:e,name:wy}),n=r.className,a=r.type,l=a===void 0?"info":a,c=r.autoHideDuration,o=c===void 0?4e3:c,g=r.multiLine,m=g===void 0?!1:g,_=r.anchorOrigin,E=_===void 0?D1e:_,R=i$(r,["className","type","autoHideDuration","multiLine","anchorOrigin"]),O=D7(),I=O.notifications,B=O.takeNotification,$=doe(),q=S.useState(!1),j=q[0],F=q[1],N=S.useState(void 0),G=N[0],V=N[1],ee=on();S.useEffect(function(){var ge;if(I.length&&!G){var je=B();je&&(V(je),F(!0))}else I.length&&G&&j&&F(!1);var et=function(rt){rt.preventDefault();var vt="";return rt.returnValue=vt,vt};if(!((ge=G==null?void 0:G.notificationOptions)===null||ge===void 0)&&ge.undoable)return window.addEventListener("beforeunload",et),function(){window.removeEventListener("beforeunload",et)}},[I,G,j,B]);var ne=S.useCallback(function(){F(!1)},[F]),ae=S.useCallback(function(){var ge;if(G&&(!((ge=G.notificationOptions)===null||ge===void 0)&&ge.undoable)){var je=$();je?je({isUndo:!1}):rN.emit("end",{isUndo:!1})}V(void 0)},[G,$]),X=S.useCallback(function(){var ge=$();ge?ge({isUndo:!0}):rN.emit("end",{isUndo:!0}),F(!1)},[$]);if(!G)return null;var te=G.message,le=G.type,we=G.notificationOptions,ve=we||{},xe=ve.autoHideDuration,ce=ve.messageArgs,Ce=ve.multiLine,Se=ve.undoable,ze=i$(ve,["autoHideDuration","messageArgs","multiLine","undoable"]);return S.createElement(Rte.Provider,{value:ne},S.createElement(L1e,VI({className:n,open:j,message:te&&typeof te=="string"&&ee(te,ce),autoHideDuration:xe===void 0?o:xe??void 0,disableWindowBlurListener:Se,TransitionProps:{onExited:ae},onClose:ne,ContentProps:{className:er(Nm[le||l],(t={},t[Nm.multiLine]=Ce||m,t))},action:Se?S.createElement(tu,{color:"primary",className:Nm.undo,size:"small",onClick:X},S.createElement(S.Fragment,null,ee("ra.action.undo"))):null,anchorOrigin:E},R,ze),te&&typeof te!="string"&&S.isValidElement(te)?te:void 0))},wy="RaNotification",Nm={success:"".concat(wy,"-success"),error:"".concat(wy,"-error"),warning:"".concat(wy,"-warning"),undo:"".concat(wy,"-undo"),multiLine:"".concat(wy,"-multiLine")},L1e=mt(M_e,{name:wy,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme,n=e.type;return t={},t["& .".concat(Nm.success)]={backgroundColor:r==null?void 0:r.palette.success.main,color:r==null?void 0:r.palette.success.contrastText},t["& .".concat(Nm.error)]={backgroundColor:r==null?void 0:r.palette.error.main,color:r==null?void 0:r.palette.error.contrastText},t["& .".concat(Nm.warning)]={backgroundColor:r==null?void 0:r.palette.warning.main,color:r==null?void 0:r.palette.warning.contrastText},t["& .".concat(Nm.undo)]={color:n==="success"?r==null?void 0:r.palette.success.contrastText:r==null?void 0:r.palette.primary.light},t["& .".concat(Nm.multiLine)]={whiteSpace:"pre-wrap"},t}),HI=function(){return HI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},HI.apply(this,arguments)},B1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},MZ=function(e){var t=dn({props:e,name:OZ}),r=iu(function(n){return n.breakpoints.down("sm")});return S.createElement(F1e,HI({disableGutters:!0,variant:r?"regular":"dense"},N1e(t)))},OZ="RaTopToolbar",F1e=mt(W1,{name:OZ,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",justifyContent:"flex-end",alignItems:"flex-end",gap:r.spacing(1),whiteSpace:"nowrap",flex:"0 1 auto",padding:r.spacing(.5),paddingBottom:r.spacing(1)},t[r.breakpoints.down("md")]={flex:"0 1 100%"},t[r.breakpoints.down("sm")]={backgroundColor:(r.vars||r).palette.background.paper,padding:0,paddingBottom:0},t}),N1e=function(e){e.hasCreate;var t=B1e(e,["hasCreate"]);return t},TE=function(){return TE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},TE.apply(this,arguments)},GI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},j1e=function(e){var t=dn({props:e,name:kZ}),r=t.confirmTitle,n=r===void 0?"ra.message.bulk_delete_title":r,a=t.confirmContent,l=a===void 0?"ra.message.bulk_delete_content":a,c=t.confirmColor,o=c===void 0?"primary":c,g=t.icon,m=g===void 0?q1e:g,_=t.label,E=_===void 0?"ra.action.delete":_,R=t.mutationMode,O=R===void 0?"pessimistic":R,I=t.mutationOptions,B=I===void 0?{}:I,$=t.successMessage,q=t.onClick,j=GI(t,["confirmTitle","confirmContent","confirmColor","icon","label","mutationMode","mutationOptions","successMessage","onClick"]),F=B.meta,N=GI(B,["meta"]),G=pc(),V=G.selectedIds,ee=G.onUnselectItems,ne=S.useState(!1),ae=ne[0],X=ne[1],te=Gu(),le=ia(t),we=M3(),ve=on(),xe=jV(le,{ids:V,meta:F},TE({onSuccess:function(){we(),te($??"resources.".concat(le,".notifications.deleted"),{type:"info",messageArgs:{smart_count:V.length,_:ve("ra.notification.deleted",{smart_count:V.length})},undoable:O==="undoable"}),ee(),X(!1)},onError:function(je){te(typeof je=="string"?je:je.message||"ra.notification.http_error",{type:"error",messageArgs:{_:typeof je=="string"?je:je&&je.message?je.message:void 0}}),X(!1)},mutationMode:O},N)),ce=xe[0],Ce=xe[1].isPending,Se=function(je){X(!0),je.stopPropagation()},ze=function(){X(!1)},ge=function(je){ce(),typeof q=="function"&&q(je)};return S.createElement(S.Fragment,null,S.createElement(U1e,TE({onClick:Se,label:E},$1e(j)),m),S.createElement(t1e,{isOpen:ae,loading:Ce,title:n,content:l,confirmColor:o,titleTranslateOptions:{smart_count:V.length,name:ve("resources.".concat(le,".forcedCaseName"),{smart_count:V.length,_:Qc.humanize(ve("resources.".concat(le,".name"),{smart_count:V.length,_:le?Qc.inflect(le,V.length):void 0}),!0)})},contentTranslateOptions:{smart_count:V.length,name:ve("resources.".concat(le,".forcedCaseName"),{smart_count:V.length,_:Qc.humanize(ve("resources.".concat(le,".name"),{smart_count:V.length,_:le?Qc.inflect(le,V.length):void 0}),!0)})},onConfirm:ge,onClose:ze}))},$1e=function(e){e.classes,e.label;var t=GI(e,["classes","label"]);return t},kZ="RaBulkDeleteWithConfirmButton",U1e=mt(Sh,{name:kZ,overridesResolver:function(e,t){return t.root}})(function(e){var t=e.theme;return{color:(t.vars||t).palette.error.main,"&:hover":{backgroundColor:"color-mix(in srgb, ".concat((t.vars||t).palette.error.main,", transparent 12%)"),"@media (hover: none)":{backgroundColor:"transparent"}}}}),q1e=S.createElement(hZ,null),AE=function(){return AE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},AE.apply(this,arguments)},ZI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},V1e=function(e){var t=dn({props:e,name:IZ}),r=t.label,n=r===void 0?"ra.action.delete":r,a=t.icon,l=a===void 0?H1e:a,c=t.onClick,o=t.mutationOptions,g=o===void 0?{}:o,m=t.successMessage,_=ZI(t,["label","icon","onClick","mutationOptions","successMessage"]),E=g.meta,R=ZI(g,["meta"]),O=pc(),I=O.selectedIds,B=O.onUnselectItems,$=Gu(),q=ia(t),j=M3(),F=on(),N=jV(),G=N[0],V=N[1].isPending,ee=function(ne){G(q,{ids:I,meta:E},AE({onSuccess:function(){$(m??"resources.".concat(q,".notifications.deleted"),{type:"info",messageArgs:{smart_count:I.length,_:F("ra.notification.deleted",{smart_count:I.length})},undoable:!0}),B()},onError:function(ae){$(typeof ae=="string"?ae:ae.message||"ra.notification.http_error",{type:"error",messageArgs:{_:typeof ae=="string"?ae:ae&&ae.message?ae.message:void 0}}),j()},mutationMode:"undoable"},R)),typeof c=="function"&&c(ne)};return S.createElement(Z1e,AE({onClick:ee,label:n,disabled:V},G1e(_)),l)},H1e=S.createElement(hZ,null),G1e=function(e){e.classes,e.label;var t=ZI(e,["classes","label"]);return t},IZ="RaBulkDeleteWithUndoButton",Z1e=mt(Sh,{name:IZ,overridesResolver:function(e,t){return t.root}})(function(e){var t=e.theme;return{color:(t.vars||t).palette.error.main,"&:hover":{backgroundColor:"color-mix(in srgb, ".concat((t.vars||t).palette.error.main,", transparent 12%)"),"@media (hover: none)":{backgroundColor:"transparent"}}}}),PE=function(){return PE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},PE.apply(this,arguments)},W1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},K1e=function(e){var t=e.mutationMode,r=t===void 0?"undoable":t,n=W1e(e,["mutationMode"]),a=ia(n);if(!a)throw new Error("<BulkDeleteButton> components should be used inside a <Resource> component or provided with a resource prop.");var l=Xy({action:"delete",resource:a}),c=l.canAccess,o=l.isPending;return!c||o?null:r==="undoable"?S.createElement(V1e,PE({},n)):S.createElement(j1e,PE({mutationMode:r},n))};const X1e=hn(Oe.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}));var $x=function(){return $x=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$x.apply(this,arguments)},DZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Y1e=function(e){var t=e.maxResults,r=t===void 0?1e3:t,n=e.onClick,a=e.label,l=a===void 0?"ra.action.export":a,c=e.icon,o=c===void 0?Q1e:c,g=e.exporter,m=e.meta,_=DZ(e,["maxResults","onClick","label","icon","exporter","meta"]),E=pc(),R=E.filter,O=E.filterValues,I=E.resource,B=E.sort,$=E.exporter,q=E.total,j=g||$,F=z1(),N=Gu(),G=S.useCallback(function(V){F.getList(I,{sort:B,filter:R?$x($x({},O),R):O,pagination:{page:1,perPage:r},meta:m}).then(function(ee){var ne=ee.data;return j&&j(ne,bae(F),F,I)}).catch(function(ee){console.error(ee),N("ra.notification.http_error",{type:"error"})}),typeof n=="function"&&n(V)},[F,j,R,O,r,N,n,I,B,m]);return S.createElement(Sh,$x({onClick:G,label:l,disabled:q===0},J1e(_)),o)},Q1e=S.createElement(X1e,null),J1e=function(e){e.resource;var t=DZ(e,["resource"]);return t};const ewe=hn(Oe.jsx("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}));var twe=function(e){var t=dn({props:e,name:zZ}),r=t.icon,n=r===void 0?rwe:r,a=t.languages,l=S.useState(null),c=l[0],o=l[1],g=W7({locales:a}),m=Z7(),_=m[0],E=m[1],R=function($){var q=g.find(function(j){return j.locale===$});return q?q.name:""},O=function($){return function(){E($),o(null)}},I=function($){o($.currentTarget)},B=function(){o(null)};return S.createElement(nwe,{component:"span"},S.createElement(tu,{color:"inherit",variant:"text","aria-controls":"simple-menu","aria-label":"","aria-haspopup":"true",onClick:I,startIcon:n,endIcon:S.createElement(cC,{fontSize:"small"})},R(_)),S.createElement(aC,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:!!c,onClose:B},g.map(function($){return S.createElement(_p,{key:$.locale,onClick:O($.locale),selected:$.locale===_},$.name)})))},rwe=S.createElement(ewe,null),zZ="RaLocalesMenuButton",nwe=mt("span",{name:zZ,overridesResolver:function(e,t){return t.root}})({});const awe=hn(Oe.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),iwe=hn(Oe.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}));var WI=function(){return WI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},WI.apply(this,arguments)},owe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},swe=function(e){var t=e.label,r=t===void 0?"ra.action.refresh":t,n=e.icon,a=n===void 0?lwe:n,l=e.onClick,c=e.className,o=owe(e,["label","icon","onClick","className"]),g=M3(),m=on(),_=S.useCallback(function(E){E.preventDefault(),g(),typeof l=="function"&&l(E)},[g,l]);return S.createElement(xg,{title:r&&m(r,{_:"Refresh"})},S.createElement(Oo,WI({"aria-label":r&&m(r,{_:"Refresh"}),className:c,color:"inherit",onClick:_},o),a))},lwe=S.createElement(iwe,null),KI=function(){return KI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},KI.apply(this,arguments)},cwe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},uwe=function(e){var t=dn({props:e,name:LZ}),r=t.label,n=r===void 0?"ra.action.select_all_button":r,a=t.limit,l=a===void 0?250:a,c=t.onClick,o=t.queryOptions,g=cwe(t,["label","limit","onClick","queryOptions"]),m=pc(),_=m.total,E=m.selectedIds,R=m.onSelectAll,O=m.data,I=S.useCallback(function($){R({limit:l,queryOptions:o}),c&&c($)},[c,R,o,l]),B=O&&O.every(function($){return E.includes($.id)});return _===E.length||E.length>=l||!B?null:Cr.createElement(dwe,KI({label:n,onClick:I,type:"button"},g))},LZ="RaSelectAllButton",dwe=mt(Sh,{name:LZ,overridesResolver:function(e,t){return t.root}})(function(e){var t=e.theme;return{"&:hover":{backgroundColor:"color-mix(in srgb, ".concat((t.vars||t).palette.primary.main,", transparent 12%)"),"@media (hover: none)":{backgroundColor:"transparent"}}}}),XI=function(){return XI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},XI.apply(this,arguments)},fwe=function(e){var t=dn({props:e,name:BZ});return Cr.createElement(hwe,XI({onClick:pwe,className:"skip-nav-button",label:"ra.navigation.skip_nav",variant:"contained"},t))},BZ="RaSkipNavigationButton",hwe=mt(Sh,{name:BZ,overridesResolver:function(e,t){return t.root}})(function(e){var t=e.theme;return{position:"fixed",padding:t.spacing(1),backgroundColor:(t.vars||t).palette.background.default,color:(t.vars||t).palette.primary.contrastText,transition:t.transitions.create(["top","opacity"],{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.leavingScreen}),left:t.spacing(2),top:t.spacing(-10),zIndex:5e3,"&:hover":{opacity:.8,backgroundColor:(t.vars||t).palette.background.default},"&:focus":{top:t.spacing(2),transition:t.transitions.create(["top","opacity"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})}}}),pwe=function(){if(!(typeof document>"u")){var e=document.getElementById("main-content");e&&(e.setAttribute("tabIndex","-1"),e.focus(),e.blur(),e.removeAttribute("tabIndex"))}},YI=function(){return YI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},YI.apply(this,arguments)},mwe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},gwe=function(e){var t=dn({props:e,name:Xz}),r=t.className,n=t.title,a=n===void 0?"ra.page.error":n,l=t.message,c=l===void 0?"ra.message.auth_error":l,o=mwe(t,["className","title","message"]),g=on();return S.createElement(ywe,YI({className:r},o),S.createElement("div",{className:FZ.message},S.createElement("h1",null,g(a,{_:a})),S.createElement("div",null,g(c,{_:c})),S.createElement(Sh,{component:Zy,to:"/login",label:"ra.auth.sign_in"},S.createElement(Zz,null))))},Xz="RaAuthError",FZ={message:"".concat(Xz,"-message")},ywe=mt("div",{name:Xz,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",flexDirection:"column",justifyContent:"center"},t[r.breakpoints.up("md")]={height:"100%"},t[r.breakpoints.down("xl")]={height:"100vh",marginTop:"-3em"},t["& .".concat(FZ.message)]={textAlign:"center",fontFamily:"Roboto, sans-serif",opacity:.5,margin:"0 1em"},t}),vwe=function(){var e=Tse().error;return e?S.createElement(gwe,{message:e?e.message:void 0}):S.createElement(uC,null)},bwe=function(e){var t=e.helperText,r=e.error,n=on();return r?S.createElement(Zie,{error:r}):t===!1?null:S.isValidElement(t)?t:typeof t=="string"&&t.length>0?S.createElement(S.Fragment,null,n(t,{_:t})):S.createElement("span",{dangerouslySetInnerHTML:_we})},_we={__html:"&#8203;"},xwe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},wwe=function(e){e.afterSubmit,e.allowNull,e.alwaysOn,e.beforeSubmit,e.component,e.data,e.defaultValue,e.error,e.format,e.formatOnBlur,e.initializeForm,e.input,e.isEqual,e.isRequired,e.label,e.limitChoicesToValue,e.locale,e.meta,e.multiple,e.name,e.options,e.optionText,e.optionValue,e.parse,e.record,e.ref,e.refetch,e.render,e.resource,e.setFilter,e.setPagination,e.setSort,e.shouldUnregister,e.source,e.submitError,e.subscription,e.textAlign,e.translate,e.translateChoice,e.validate,e.validateFields,e.value;var t=xwe(e,["afterSubmit","allowNull","alwaysOn","beforeSubmit","component","data","defaultValue","error","format","formatOnBlur","initializeForm","input","isEqual","isRequired","label","limitChoicesToValue","locale","meta","multiple","name","options","optionText","optionValue","parse","record","ref","refetch","render","resource","setFilter","setPagination","setSort","shouldUnregister","source","submitError","subscription","textAlign","translate","translateChoice","validate","validateFields","value"]);return t};const Swe=hn(Oe.jsx("path",{d:"M7 11v2h10v-2zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}));var fs="RaDatagrid",Wo={table:"".concat(fs,"-table"),tableWrapper:"".concat(fs,"-tableWrapper"),thead:"".concat(fs,"-thead"),tbody:"".concat(fs,"-tbody"),headerRow:"".concat(fs,"-headerRow"),headerCell:"".concat(fs,"-headerCell"),checkbox:"".concat(fs,"-checkbox"),row:"".concat(fs,"-row"),clickableRow:"".concat(fs,"-clickableRow"),rowEven:"".concat(fs,"-rowEven"),rowOdd:"".concat(fs,"-rowOdd"),rowCell:"".concat(fs,"-rowCell"),expandHeader:"".concat(fs,"-expandHeader"),expandIconCell:"".concat(fs,"-expandIconCell"),expandIcon:"".concat(fs,"-expandIcon"),expanded:"".concat(fs,"-expanded"),expandedPanel:"".concat(fs,"-expandedPanel")};mt("div",{name:fs,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={},t["& .".concat(Wo.table)]={tableLayout:"auto"},t["& .".concat(Wo.tableWrapper)]={},t["& .".concat(Wo.thead)]={},t["& .".concat(Wo.tbody)]={},t["& .".concat(Wo.headerRow)]={},t["& .".concat(Wo.headerCell)]={position:"sticky",top:0,zIndex:2,backgroundColor:(r.vars||r).palette.background.paper,"&:first-of-type":{borderTopLeftRadius:r.shape.borderRadius},"&:last-child":{borderTopRightRadius:r.shape.borderRadius}},t["& .".concat(Wo.checkbox)]={},t["& .".concat(Wo.row)]={},t["& .".concat(Wo.clickableRow)]={cursor:"pointer"},t["& .".concat(Wo.rowEven)]={},t["& .".concat(Wo.rowOdd)]={},t["& .".concat(Wo.rowCell)]={},t["& .".concat(Wo.expandHeader)]={padding:0,width:r.spacing(6)},t["& .".concat(Wo.expandIconCell)]={width:r.spacing(6)},t["& .".concat(Wo.expandIcon)]={padding:r.spacing(1),transform:"rotate(-90deg)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shortest})},t["& .".concat(Wo.expandIcon,".").concat(Wo.expanded)]={transform:"rotate(0deg)"},t["& .".concat(Wo.expandedPanel)]={},t});var QI=function(){return QI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},QI.apply(this,arguments)},Ewe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Cwe=function(e){var t=e.expanded,r=e.expandContentId,n=Ewe(e,["expanded","expandContentId"]),a=on();return S.createElement(Oo,QI({"aria-label":a(t?"ra.action.close":"ra.action.expand"),"aria-expanded":t,"aria-controls":r,tabIndex:-1,"aria-hidden":"true",component:"div"},n,{size:"small"}),S.createElement(cC,{fontSize:"inherit"}))};const Twe=S.memo(Cwe);var JI=function(){return JI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},JI.apply(this,arguments)},o$=function(e){var t=dn({props:e,name:NZ});return S.createElement(Awe,JI({},t),"")},NZ="RaPlaceholder",Awe=mt("span",{name:NZ,overridesResolver:function(e,t){return t.root}})(function(e){var t=e.theme;return{backgroundColor:(t.vars||t).palette.grey[300],display:"flex"}}),Pwe=function(e){var t,r=e.ids,n=e.classes,a=n===void 0?Wo:n,l=on(),c=ia(),o=Uae(c||"",r),g=o[0],m=o[1];return c?S.createElement(Oo,{className:er(a.expandIcon,(t={},t[a.expanded]=g,t)),"aria-label":l(g?"ra.action.close":"ra.action.expand"),"aria-expanded":g,tabIndex:-1,"aria-hidden":"true",onClick:m,size:"small"},S.createElement(cC,{fontSize:"inherit"})):null};const Rwe=S.memo(Pwe),Mwe=hn(Oe.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));var eD=function(){return eD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},eD.apply(this,arguments)},Owe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},kwe=S.createElement(uwe,null),Iwe=function(e){var t,r=dn({props:e,name:Lm}),n=r.label,a=n===void 0?"ra.action.bulk_actions":n,l=r.children,c=r.className,o=r.selectAllButton,g=Owe(r,["label","children","className","selectAllButton"]),m=pc(),_=m.selectedIds,E=_===void 0?[]:_,R=m.onUnselectItems,O=on(),I=S.useCallback(function(){R()},[R]);return S.createElement(Dwe,{className:c},S.createElement(W1,eD({"data-test":"bulk-actions-toolbar",className:er(Hd.toolbar,(t={},t[Hd.collapsed]=E.length===0,t))},r1(g)),S.createElement("div",{className:Hd.title},S.createElement(Oo,{className:Hd.icon,"aria-label":O("ra.action.unselect"),title:O("ra.action.unselect"),onClick:I,color:"primary",size:"small"},S.createElement(Mwe,{fontSize:"small"})),S.createElement(Jn,{sx:{color:function(B){return(B.vars||B).palette.text.primary}},variant:"subtitle1"},O(a,{_:a,smart_count:E.length})),o!==!1?S.isValidElement(o)?o:kwe:null),S.createElement(MZ,{className:Hd.topToolbar},l)))},Lm="RaBulkActionsToolbar",Hd={toolbar:"".concat(Lm,"-toolbar"),topToolbar:"".concat(Lm,"-topToolbar"),buttons:"".concat(Lm,"-buttons"),collapsed:"".concat(Lm,"-collapsed"),title:"".concat(Lm,"-title"),icon:"".concat(Lm,"-icon")},Dwe=mt("div",{name:Lm,overridesResolver:function(e,t){return t.root}})(function(e){var t,r,n=e.theme;return t={position:"relative"},t["& .".concat(Hd.toolbar)]={position:"absolute",left:0,right:0,zIndex:3,color:(n.vars||n).palette.primary.contrastText,justifyContent:"space-between",backgroundColor:n.vars?n.vars.palette.bulkActionsToolbarBackgroundColor:n.palette.mode==="light"?rv(n.palette.primary.light,.8):n.palette.primary.dark,minHeight:n.spacing(6),height:n.spacing(6),paddingRight:n.spacing(2),transform:"translateY(".concat(n.spacing(-6),")"),transition:"".concat(n.transitions.create("height"),", ").concat(n.transitions.create("min-height"),", ").concat(n.transitions.create("transform")),borderTopLeftRadius:n.shape.borderRadius,borderTopRightRadius:n.shape.borderRadius},t["& .".concat(Hd.topToolbar)]=(r={padding:n.spacing(.5),minHeight:"auto"},r[n.breakpoints.down("sm")]={backgroundColor:"transparent"},r),t["& .".concat(Hd.buttons)]={},t["& .".concat(Hd.collapsed)]={minHeight:0,height:0,transform:"translateY(0)",overflowY:"hidden"},t["& .".concat(Hd.title)]={display:"flex",flex:"0 0 auto",gap:n.spacing(1)},t["& .".concat(Hd.icon)]={marginLeft:"-0.5em","&:hover":{backgroundColor:"color-mix(in srgb, ".concat((n.vars||n).palette.primary.main,", transparent 12%)")}},t}),zwe=function(){var e=on(),t=ia(),r=R2(),n=r.filterValues,a=r.setFilters,l=I2();if(!t)throw new Error("<ListNoResults> must be used inside a <List> component");return S.createElement(NG,null,S.createElement(Jn,{variant:"body2"},n&&a&&Object.keys(n).length>0?S.createElement(S.Fragment,null,e("ra.navigation.no_filtered_results",{resource:t,name:l(t,0),_:"No results found with the current filters."})," ",S.createElement(Sh,{onClick:function(){return a({},[])},label:e("ra.navigation.clear_filters",{_:"Clear filters"})})):e("ra.navigation.no_results",{resource:t,name:l(t,0),_:"No results found."})))},fC=S.createContext(void 0),Lwe=function(e){var t,r=dn({props:e,name:RE}),n=r.filterElement,a=r.handleHide,l=r.className,c=ia(r),o=on();return S.createElement(Bwe,{"data-source":n.props.source,className:er("filter-field",l)},S.cloneElement(n,{resource:c,record:Fwe,size:(t=n.props.size)!==null&&t!==void 0?t:"small",helperText:!1,defaultValue:void 0}),!n.props.alwaysOn&&S.createElement(Oo,{className:er("hide-filter",ME.hideButton),onClick:a,"data-key":n.props.source,title:o("ra.action.remove_filter"),size:"small"},S.createElement(Swe,null)),S.createElement("div",{className:ME.spacer},""))},RE="RaFilterFormInput",ME={spacer:"".concat(RE,"-spacer"),hideButton:"".concat(RE,"-hideButton")},Bwe=mt("div",{name:RE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",alignItems:"flex-end",pointerEvents:"auto"},t[r.breakpoints.down("sm")]={width:"100%"},t["& .".concat(ME.spacer)]={width:r.spacing(2)},t["& .".concat(ME.hideButton)]={marginBottom:r.spacing(1)},t}),Fwe={},tD=function(){return tD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},tD.apply(this,arguments)},jZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Nwe=function(e){var t=dn({props:e,name:OE}),r=t.filters,n=jZ(t,["filters"]),a=S.useContext(fC)||r;return S.createElement(aoe,tD({formComponent:Uwe},$we(n)),S.createElement(jwe,{filters:a}))},jwe=function(e){var t=e.filters,r=ia(e),n=pc(),a=n.displayedFilters,l=a===void 0?{}:a,c=n.filterValues,o=n.hideFilter;S.useEffect(function(){t&&t.forEach(function(_){if(_.props.alwaysOn&&_.props.defaultValue)throw new Error("Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.")})},[t]);var g=function(){if(!t)return[];var _=c;return t.filter(function(E){var R=_i(_,E.props.source);return E.props.alwaysOn||l[E.props.source]||!$Z(R)})},m=S.useCallback(function(_){return o(_.currentTarget.dataset.key)},[o]);return S.createElement(S.Fragment,null,g().map(function(_){return S.createElement(Lwe,{key:_.key||_.props.source,filterElement:_,handleHide:m,resource:r,className:kE.filterFormInput})}),S.createElement("div",{className:kE.clearFix}))},$we=function(e){e.hasCreate,e.resource;var t=jZ(e,["hasCreate","resource"]);return t},OE="RaFilterForm",kE={clearFix:"".concat(OE,"-clearFix"),filterFormInput:"".concat(OE,"-filterFormInput")},Uwe=mt("form",{name:OE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",flex:"0 1 auto"},t[r.breakpoints.down("sm")]={width:"100%"},t[r.breakpoints.up("sm")]={minHeight:r.spacing(8)},t[r.breakpoints.up("md")]={flex:"0 1 100%"},t.flexWrap="wrap",t.alignItems="flex-end",t.pointerEvents="none",t.padding="0 0 ".concat(r.spacing(.5)," 0"),t["& .MuiFormHelperText-root"]={display:"none"},t["& .".concat(kE.clearFix)]={clear:"right"},t["& .".concat(kE.filterFormInput," .MuiFormControl-root")]={marginTop:"".concat(r.spacing(1))},t}),$Z=function(e){return e===""||e==null?!0:typeof e=="object"?Object.keys(e).every(function(t){return $Z(e[t])}):!1};const IE=hn(Oe.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),qwe=hn(Oe.jsx("path",{d:"M21 7h-2v2h-2V7h-2V5h2V3h2v2h2zm-2 14-7-3-7 3V5c0-1.1.9-2 2-2h7c-.63.84-1 1.87-1 3 0 2.76 2.24 5 5 5 .34 0 .68-.03 1-.1z"})),Vwe=hn(Oe.jsx("path",{d:"M21 7h-6V5h6zm-2 3.9c-.32.07-.66.1-1 .1-2.76 0-5-2.24-5-5 0-1.13.37-2.16 1-3H7c-1.1 0-2 .9-2 2v16l7-3 7 3z"})),Hwe=hn(Oe.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"})),Gwe=hn(Oe.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Zwe=hn(Oe.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),Wwe=hn(Oe.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}));var Kwe=S.forwardRef(function(e,t){var r=e.filter,n=e.onShow,a=e.onHide,l=e.autoFocus,c=e.displayed,o=ia(e),g=S.useCallback(function(){n({source:r.props.source,defaultValue:r.props.defaultValue})},[r.props.defaultValue,r.props.source,n]),m=S.useCallback(function(){a({source:r.props.source})},[r.props.source,a]);return S.createElement(_p,{className:"new-filter-item","data-key":r.props.source,"data-default-value":r.props.defaultValue,key:r.props.source,onClick:c?m:g,autoFocus:l,ref:t,disabled:r.props.disabled,role:"menuitemcheckbox","aria-checked":c},S.createElement(My,null,c?S.createElement(Wwe,{fontSize:"small"}):S.createElement(Zwe,{fontSize:"small"})),S.createElement(Db,null,S.createElement(a1,{label:r.props.label,source:r.props.source,resource:o})))}),Yz=function(e){return Qo("".concat(e,".savedQueries"),[])},Qz=function(e){return Array.isArray(e)?e.filter(function(t){return Xwe(t)}):[]},Xwe=function(e){var t,r;return!!(e.label&&typeof e.label=="string"&&e.value&&typeof Array.isArray(e.value.displayedFilters)&&typeof e.value.perPage=="number"&&typeof((t=e.value.sort)===null||t===void 0?void 0:t.field)=="string"&&typeof((r=e.value.sort)===null||r===void 0?void 0:r.order)=="string"&&typeof e.value.filter=="object")},Ywe=function(e){var t=e.open,r=e.onClose,n=on(),a=pc(),l=a.resource,c=a.filterValues,o=a.displayedFilters,g=a.sort,m=a.perPage,_=Yz(l),E=_[0],R=_[1],O=S.useState(""),I=O[0],B=O[1],$=function(F){B(F.target.value)},q=function(F){F.preventDefault(),j()},j=function(){var F={label:I,value:{filter:c,sort:g,perPage:m,displayedFilters:o}},N=Qz(E);R(N.concat(F)),B(""),r()};return S.createElement(Dz,{open:t,onClose:r,"aria-labelledby":"form-dialog-title"},S.createElement(Bz,{id:"form-dialog-title"},n("ra.saved_queries.new_dialog_title",{_:"Save current query as"})),S.createElement(Lz,null,S.createElement("form",{onSubmit:q},S.createElement(Gz,{autoFocus:!0,margin:"dense",id:"name",label:n("ra.saved_queries.query_name",{_:"Query name"}),fullWidth:!0,value:I,onChange:$}))),S.createElement(zz,null,S.createElement(tu,{onClick:r},n("ra.action.cancel")),S.createElement(tu,{onClick:j,color:"primary"},n("ra.action.save"))))},s$=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},Qwe=function(e){var t=e.open,r=e.onClose,n=on(),a=pc(),l=a.resource,c=a.filterValues,o=a.sort,g=a.perPage,m=a.displayedFilters,_=Yz(l),E=_[0],R=_[1],O=function(){var I={filter:c,sort:o,perPage:g,displayedFilters:m},B=Qz(E),$=B.findIndex(function(q){return Wd(q.value,I)});R(s$(s$([],B.slice(0,$),!0),B.slice($+1),!0)),r()};return S.createElement(Dz,{open:t,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},S.createElement(Bz,{id:"alert-dialog-title"},n("ra.saved_queries.remove_dialog_title",{_:"Remove saved query?"})),S.createElement(Lz,null,S.createElement(VG,null,n("ra.saved_queries.remove_message",{_:"Are you sure you want to remove that item from your list of saved queries?"}))),S.createElement(zz,null,S.createElement(tu,{onClick:r},n("ra.action.cancel")),S.createElement(tu,{onClick:O,color:"primary",autoFocus:!0},n("ra.action.confirm"))))},rD=function(){return rD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},rD.apply(this,arguments)},UZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Jwe=function(e){var t=dn({props:e,name:qZ}),r=t.filters,n=t.className,a=t.disableSaveQuery,l=t.size,c=t.variant,o=UZ(t,["filters","className","disableSaveQuery","size","variant"]),g=S.useContext(fC)||r,m=ia(t),_=on();if(!m&&!a)throw new Error("<FilterButton> must be called inside a ResourceContextProvider, or must provide a resource prop");var E=Yz(m||"")[0],R=ef(),O=pc(),I=O.displayedFilters,B=I===void 0?{}:I,$=O.filterValues,q=O.perPage,j=O.setFilters,F=O.showFilter,N=O.hideFilter,G=O.sort,V=!Wd($,{}),ee=Qz(E),ne=ee.some(function(Nt){return Wd(Nt.value,{filter:$,sort:G,perPage:q,displayedFilters:B})}),ae=S.useState(!1),X=ae[0],te=ae[1],le=S.useRef();if(g===void 0)throw new Error("The <FilterButton> component requires the <List filters> prop to be set");var we=g.filter(function(Nt){return!Nt.props.alwaysOn}),ve=S.useCallback(function(Nt){Nt.preventDefault(),te(!0),le.current=Nt.currentTarget},[le,te]),xe=S.useCallback(function(){te(!1)},[te]),ce=S.useCallback(function(Nt){var lr=Nt.source,Dt=Nt.defaultValue;F(lr,Dt===""?void 0:Dt),setTimeout(function(){var $t=document.querySelector("input[name='".concat(lr,"']"));$t&&$t.focus()},50),te(!1)},[F,te]),Ce=S.useCallback(function(Nt){var lr=Nt.source;N(lr),te(!1)},[N,te]),Se=S.useState(!1),ze=Se[0],ge=Se[1],je=function(){ge(!1)},et=function(){te(!1),ge(!0)},rt=S.useState(!1),vt=rt[0],ht=rt[1],ut=function(){ht(!1)},Vt=function(){te(!1),ht(!0)};return we.length===0&&ee.length===0&&!V?null:S.createElement(tSe,rD({className:n},eSe(o)),S.createElement(Sh,{className:"add-filter",label:"ra.action.add_filter","aria-haspopup":"true",onClick:ve,variant:c,size:l},S.createElement(Gwe,null)),S.createElement(aC,{open:X,anchorEl:le.current,onClose:xe},we.map(function(Nt,lr){return S.createElement(Kwe,{key:Nt.props.source,filter:Nt,displayed:!!B[Nt.props.source],resource:m,onShow:ce,onHide:Ce,autoFocus:lr===0})}),(V||ee.length>0)&&S.createElement(SI,null),ee.map(function(Nt,lr){return Wd(Nt.value,{filter:$,sort:G,perPage:q,displayedFilters:B})?S.createElement(_p,{onClick:Vt,key:lr},S.createElement(My,null,S.createElement(Vwe,{fontSize:"small"})),S.createElement(Db,null,_("ra.saved_queries.remove_label_with_name",{_:'Remove query "%{name}"',name:Nt.label}))):S.createElement(_p,{onClick:function(){var Dt,$t;R({search:T2.stringify({filter:JSON.stringify(Nt.value.filter),sort:(Dt=Nt.value.sort)===null||Dt===void 0?void 0:Dt.field,order:($t=Nt.value.sort)===null||$t===void 0?void 0:$t.order,page:1,perPage:Nt.value.perPage,displayedFilters:JSON.stringify(Nt.value.displayedFilters)})}),te(!1)},key:lr},S.createElement(My,null,S.createElement(Hwe,{fontSize:"small"})),S.createElement(Db,null,Nt.label))}),V&&!ne&&!a&&S.createElement(_p,{onClick:et},S.createElement(My,null,S.createElement(qwe,{fontSize:"small"})),S.createElement(Db,null,_("ra.saved_queries.new_label",{_:"Save current query..."}))),V&&S.createElement(_p,{onClick:function(){j({},{}),te(!1)}},S.createElement(My,null,S.createElement(IE,{fontSize:"small"})),S.createElement(Db,null,_("ra.action.remove_all_filters",{_:"Remove all filters"})))),!a&&S.createElement(S.Fragment,null,S.createElement(Ywe,{open:ze,onClose:je}),S.createElement(Qwe,{open:vt,onClose:ut})))},eSe=function(e){e.displayedFilters,e.filterValues,e.showFilter;var t=UZ(e,["displayedFilters","filterValues","showFilter"]);return t},qZ="RaFilterButton",tSe=mt("div",{name:qZ,overridesResolver:function(e,t){return t.root}})({display:"inline-block"}),nD=function(){return nD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},nD.apply(this,arguments)},VZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},rSe=S.memo(function(e){var t=dn({props:e,name:HZ}),r=t.page,n=t.rowsPerPage,a=t.count,l=t.onPageChange,c=t.size,o=c===void 0?"small":c,g=t.className,m=VZ(t,["page","rowsPerPage","count","onPageChange","size","className"]),_=on(),E=Math.ceil(a/n)||1;if(E===1)return S.createElement(l$,{className:g});var R=function(O,I,B){return O==="page"?B?_("ra.navigation.current_page",{page:I,_:"page ".concat(I)}):_("ra.navigation.page",{page:I,_:"Go to page ".concat(I)}):_("ra.navigation.".concat(O),{_:"Go to ".concat(O," page")})};return S.createElement(l$,{className:g},S.createElement(l_e,nD({size:o,count:E,page:r+1,onChange:function(O,I){return l(O,I-1)}},nSe(m),{getItemAriaLabel:R})))}),HZ="RaPaginationActions",l$=mt("div",{name:HZ,overridesResolver:function(e,t){return t.root}})(function(){return{flexShrink:0,ml:4}}),nSe=function(e){e.nextIconButtonProps,e.backIconButtonProps,e.slotProps;var t=VZ(e,["nextIconButtonProps","backIconButtonProps","slotProps"]);return t},DE=function(){return DE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},DE.apply(this,arguments)},aSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},iSe=S.memo(function(e){var t=e.rowsPerPageOptions,r=t===void 0?oSe:t,n=e.actions;e.limit;var a=aSe(e,["rowsPerPageOptions","actions","limit"]),l=Wae(),c=l.isPending,o=l.hasNextPage,g=l.page,m=l.perPage,_=l.total,E=l.setPage,R=l.setPerPage,O=on(),I=iu(function(G){return G.breakpoints.down("md")}),B=S.useMemo(function(){return _!=null?Math.ceil(_/m):void 0},[m,_]),$=S.useCallback(function(G,V){if(G&&G.stopPropagation(),V<0||B&&V>B-1)throw new Error(O("ra.navigation.page_out_of_boundaries",{page:V+1}));E(V+1)},[B,E,O]),q=S.useCallback(function(G){R(G.target.value)},[R]),j=S.useCallback(function(G){var V=G.from,ee=G.to,ne=G.count;return ne===-1&&o?O("ra.navigation.partial_page_range_info",{offsetBegin:V,offsetEnd:ee,_:"%{from}-%{to} of more than %{to}"}):O("ra.navigation.page_range_info",{offsetBegin:V,offsetEnd:ee,total:ne===-1?ee:ne,_:"%{from}-%{to} of %{count === -1 ? to : count}"})},[O,o]),F=S.useCallback(function(G){return O("ra.navigation.".concat(G),{_:"Go to ".concat(G," page")})},[O]);if(c)return S.createElement(W1,{variant:"dense"});if(_===0||g<1||_!=null&&g>B)return null;if(I)return S.createElement(e$,DE({count:_??-1,rowsPerPage:m,page:g-1,onPageChange:$,rowsPerPageOptions:sSe,component:"span",labelDisplayedRows:j},r1(a)));var N=n||(!c&&_!=null?rSe:void 0);return S.createElement(e$,DE({count:_??-1,rowsPerPage:m,page:g-1,onPageChange:$,onRowsPerPageChange:q,ActionsComponent:N,nextIconButtonProps:{disabled:!o},component:"span",labelRowsPerPage:O("ra.navigation.page_rows_per_page"),labelDisplayedRows:j,getItemAriaLabel:F,rowsPerPageOptions:r},r1(a)))}),oSe=[5,10,25,50],sSe=[];function Jz(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})}function eL(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function GZ(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var zE=function(){return zE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},zE.apply(this,arguments)},c$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},hy,ZZ=S.forwardRef(function(e,t){var r=dn({props:e,name:"MuiTextField"}),n=dn({props:r,name:Sy}),a=n.clearAlwaysVisible,l=n.InputProps,c=n.value,o=n.resettable,g=n.disabled,m=n.readOnly,_=n.variant,E=n.margin,R=n.className,O=c$(n,["clearAlwaysVisible","InputProps","value","resettable","disabled","readOnly","variant","margin","className"]),I=on(),B=n.onChange,$=S.useCallback(function(X){X.preventDefault(),B&&B("")},[B]),q=dh.clearButton,j=dh.clearIcon,F=dh.inputAdornedEnd,N=dh.selectAdornment,G=dh.visibleClearIcon,V=l||{},ee=V.endAdornment,ne=c$(V,["endAdornment"]);if(a&&ee)throw new Error("ResettableTextField cannot display both an endAdornment and a clear button always visible");var ae=function(){var X;return o?c?S.createElement(AS,{position:"end",className:n.select?N:void 0},S.createElement(Oo,{className:q,"aria-label":I("ra.action.clear_input_value"),title:I("ra.action.clear_input_value"),onClick:$,onMouseDown:lSe,disabled:g||m,size:"large"},S.createElement(IE,{className:er(j,(X={},X[G]=a||c,X))}))):a?S.createElement(AS,{position:"end",className:n.select?N:void 0},S.createElement(Oo,{className:q,"aria-label":I("ra.action.clear_input_value"),title:I("ra.action.clear_input_value"),disabled:!0,size:"large"},S.createElement(IE,{className:er(j,G)}))):ee||S.createElement(AS,{position:"end",className:n.select?N:void 0},S.createElement("span",{className:q},"")):ee};return S.createElement(uSe,zE({value:c,InputProps:zE({readOnly:m,classes:n.select&&_==="filled"?{adornedEnd:F}:{},endAdornment:ae()},ne),disabled:g||m,variant:_,margin:E,className:R},O,{inputRef:t}))});ZZ.displayName="ResettableTextField";var lSe=function(e){e.preventDefault()},Sy="RaResettableTextField",dh={clearIcon:"".concat(Sy,"-clearIcon"),visibleClearIcon:"".concat(Sy,"-visibleClearIcon"),clearButton:"".concat(Sy,"-clearButton"),selectAdornment:"".concat(Sy,"-selectAdornment"),inputAdornedEnd:"".concat(Sy,"-inputAdornedEnd")},cSe=(hy={},hy["& .".concat(dh.clearIcon)]={height:16,width:0},hy["& .".concat(dh.visibleClearIcon)]={width:16},hy["& .".concat(dh.clearButton)]={height:24,width:24,padding:0},hy["& .".concat(dh.selectAdornment)]={position:"absolute",right:24},hy["& .".concat(dh.inputAdornedEnd)]={paddingRight:0},hy),uSe=mt(Gz,{name:Sy,overridesResolver:function(e,t){return t.root}})(cSe),LE=function(){return LE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},LE.apply(this,arguments)},dSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},WZ=function(e){var t=e.className,r=e.defaultValue,n=e.label,a=e.format,l=e.helperText,c=e.onBlur,o=e.onChange,g=e.parse,m=e.resource,_=e.source,E=e.validate,R=dSe(e,["className","defaultValue","label","format","helperText","onBlur","onChange","parse","resource","source","validate"]),O=Jie(LE({defaultValue:r,format:a,parse:g,resource:m,source:_,type:"text",validate:E,onBlur:c,onChange:o},R)),I=O.field,B=O.fieldState,$=B.error,q=B.invalid,j=O.id,F=O.isRequired,N=l!==!1||q;return S.createElement(ZZ,LE({id:j},I,{className:er("ra-input","ra-input-".concat(_),t),label:n!==""&&n!==!1?S.createElement(a1,{label:n,source:_,resource:m,isRequired:F}):null,error:q,helperText:N?S.createElement(bwe,{error:$==null?void 0:$.message,helperText:l}):null},wwe(R)))},nf=function(e){var t,r=S.memo(e);return r.displayName=(t=e.displayName)===null||t===void 0?void 0:t.replace("Impl",""),r},KZ=function(e){var t=e.children,r=e.resource,n=e.perPage,a=e.sort,l=e.filter,c=wh(e)||hSe,o=yV({data:c,resource:r,perPage:n,sort:a,filter:l});return S.createElement(L3,{value:o},t)};KZ.displayName="ArrayFieldImpl";var fSe=nf(KZ),hSe=[];const pSe=hn(Oe.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}));var mSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},ru=function(e){e.cellClassName,e.className,e.emptyText,e.fullWidth,e.headerClassName,e.label,e.linkType,e.link,e.locale,e.record,e.refetch,e.resource,e.sortable,e.sortBy,e.sortByOrder,e.source,e.textAlign,e.translateChoice;var t=mSe(e,["cellClassName","className","emptyText","fullWidth","headerClassName","label","linkType","link","locale","record","refetch","resource","sortable","sortBy","sortByOrder","source","textAlign","translateChoice"]);return t},BE=function(){return BE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},BE.apply(this,arguments)},gSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},nS,XZ=function(e){var t=dn({props:e,name:FE}),r=t.className,n=t.emptyText,a=t.valueLabelTrue,l=t.valueLabelFalse,c=t.TrueIcon,o=c===void 0?pSe:c,g=t.FalseIcon,m=g===void 0?IE:g,_=t.looseValue,E=_===void 0?!1:_,R=gSe(t,["className","emptyText","valueLabelTrue","valueLabelFalse","TrueIcon","FalseIcon","looseValue"]),O=on(),I=wh(t),B=I===!0||E&&I,$=I?a:l;return $||($=B?"ra.boolean.true":"ra.boolean.false"),E||I===!1||I===!0?S.createElement(vSe,BE({component:"span",variant:"body2",className:r},ru(R)),S.createElement(xg,{title:O($,{_:$})},B?o?S.createElement(o,{"data-testid":"true",fontSize:"small",className:NE.trueIcon}):S.createElement(S.Fragment,null):m?S.createElement(m,{"data-testid":"false",fontSize:"small",className:NE.falseIcon}):S.createElement(S.Fragment,null))):S.createElement(Jn,BE({component:"span",variant:"body2",className:r},ru(R)),n&&O(n,{_:n}))};XZ.displayName="BooleanFieldImpl";var ySe=nf(XZ),FE="RaBooleanField",NE={trueIcon:"".concat(FE,"-trueIcon"),falseIcon:"".concat(FE,"-falseIcon")},vSe=mt(Jn,{name:FE,overridesResolver:function(e,t){return t.root}})((nS={display:"inline-flex",verticalAlign:"middle",lineHeight:0},nS["& .".concat(NE.trueIcon)]={},nS["& .".concat(NE.falseIcon)]={},nS)),jE=function(){return jE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},jE.apply(this,arguments)},bSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},fM,YZ=function(e){var t=dn({props:e,name:tL}),r=t.className,n=t.emptyText,a=bSe(t,["className","emptyText"]),l=wh(t),c=on();return l?S.createElement(_Se,jE({className:er(QZ.chip,r),label:l},ru(a))):!n||n.length===0?null:S.createElement(Jn,jE({component:"span",variant:"body2",className:r},ru(a)),n&&c(n,{_:n}))};YZ.displayName="ChipFieldImpl";var u$=nf(YZ),tL="RaChipField",QZ={chip:"".concat(tL,"-chip")},_Se=mt(DG,{name:tL,overridesResolver:function(e,t){return t.root}})((fM={},fM["&.".concat(QZ.chip)]={cursor:"inherit"},fM)),$E=function(){return $E=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$E.apply(this,arguments)},xSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},JZ=function(e){var t=e.className,r=e.emptyText,n=e.locales,a=e.options,l=e.showTime,c=l===void 0?!1:l,o=e.showDate,g=o===void 0?!0:o,m=e.transform,_=m===void 0?SSe:m,E=xSe(e,["className","emptyText","locales","options","showTime","showDate","transform"]),R=on();if(!c&&!g)throw new Error("<DateField> cannot have showTime and showDate false at the same time");var O=wh(e);if(O==null||O==="")return r?S.createElement(Jn,$E({component:"span",variant:"body2",className:t},ru(E)),r&&R(r,{_:r})):null;var I=_(O),B="";if(I)if(c&&g)B=hM?I.toLocaleString(n,a):I.toLocaleString();else if(g){var $=a??(typeof O=="string"&&O.length<=10?{timeZone:"UTC"}:void 0);B=hM?I.toLocaleDateString(n,$):I.toLocaleDateString()}else c&&(B=hM?I.toLocaleTimeString(n,a):I.toLocaleTimeString());return S.createElement(Jn,$E({component:"span",variant:"body2",className:t},ru(E)),B)};JZ.displayName="DateFieldImpl";var wSe=nf(JZ),SSe=function(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0},hM=function(){try{new Date().toLocaleString("i")}catch(e){return e instanceof RangeError}return!1}(),UE=function(){return UE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},UE.apply(this,arguments)},ESe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},eW=function(e){var t=e.className,r=e.emptyText,n=ESe(e,["className","emptyText"]),a=wh(e),l=on();return a==null?r?S.createElement(Jn,UE({component:"span",variant:"body2",className:t},ru(n)),r&&l(r,{_:r})):null:S.createElement($z,UE({className:t,href:"mailto:".concat(a),onClick:TSe,variant:"body2"},ru(n)),a)};eW.displayName="EmailFieldImpl";var CSe=nf(eW),TSe=function(e){return e.stopPropagation()},qE=function(){return qE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},qE.apply(this,arguments)},ASe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},tW=function(e){var t=e.className,r=e.emptyText;e.source;var n=e.locales,a=e.options;e.textAlign;var l=e.transform,c=l===void 0?PSe:l,o=ASe(e,["className","emptyText","source","locales","options","textAlign","transform"]),g=on(),m=wh(e);return m==null?r?S.createElement(Jn,qE({component:"span",variant:"body2",className:t},ru(o)),r&&g(r,{_:r})):null:(c&&(m=c(m)),S.createElement(Jn,qE({variant:"body2",component:"span",className:t},ru(o)),RSe&&typeof m=="number"?m.toLocaleString(n,a):m))},PSe=function(e){return e&&typeof e=="string"&&!isNaN(e)?+e:e};tW.displayName="NumberFieldImpl";var rW=nf(tW);rW.textAlign="right";var RSe=!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function"),aD=function(){return aD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},aD.apply(this,arguments)},MSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},nW=function(e){var t=dn({props:e,name:rL}),r=t.to,n=t.children,a=t.className,l=MSe(t,["to","children","className"]);return S.createElement(kSe,aD({component:Zy,to:r,className:er(OSe.link,a)},l),n)},rL="RaLink",OSe={link:"".concat(rL,"-link")},kSe=mt($z)({name:rL,overridesResolver:function(e,t){return t.root}}),iD=function(){return iD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},iD.apply(this,arguments)},ISe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},oD=function(e){var t=dn({props:e,name:nL}),r=t.className,n=t.children,a=t.empty,l=t.linkType,c=l===void 0?"edit":l,o=t.gap,g=o===void 0?1:o,m=t.direction,_=m===void 0?"row":m,E=ISe(t,["className","children","empty","linkType","gap","direction"]),R=R2(t),O=R.data,I=R.total,B=R.isPending,$=ia(t),q=tv();return B===!0?S.createElement(dC,null):O==null||O.length===0||I===0?a||null:S.createElement(DSe,iD({gap:g,direction:_,className:r},r1(E)),O.map(function(j,F){var N,G,V=c?q({resource:$,type:c,id:j.id}):!1;return V?S.createElement(t1,{value:j,key:(N=j.id)!==null&&N!==void 0?N:"row".concat(F)},S.createElement(nW,{className:aW.link,to:V,onClick:zSe},n||S.createElement(d$,{clickable:!0}))):S.createElement(t1,{value:j,key:(G=j.id)!==null&&G!==void 0?G:"row".concat(F)},n||S.createElement(d$,null))}))},nL="RaSingleFieldList",aW={link:"".concat(nL,"-link")},DSe=mt(B_e,{name:nL,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={flexWrap:"wrap"},t["& .".concat(aW.link)]={textDecoration:"none","& > *":{color:(r.vars||r).palette.primary.main}},t}),zSe=function(e){return e.stopPropagation()},d$=function(e){var t=e.clickable;return S.createElement(DG,{sx:{cursor:"inherit"},size:"small",label:S.createElement(tae,null),clickable:t})},sD=function(){return sD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},sD.apply(this,arguments)},LSe=function(e){var t=dn({props:e,name:aL}),r=t.filter,n=t.page,a=n===void 0?1:n,l=t.perPage,c=t.reference;t.resource;var o=t.sort,g=t.source,m=t.queryOptions,_=hc(t),E=Qae({filter:r,page:a,perPage:l,record:_,reference:c,sort:o,source:g,queryOptions:m});return S.createElement(k2,{value:c},S.createElement(L3,{value:E},S.createElement(NSe,sD({},t))))},BSe=function(e){var t=e.children,r=e.pagination,n=e.className,a=e.sx,l=pc(),c=l.isPending,o=l.total;return S.createElement(FSe,{className:n,sx:a},c?S.createElement(dC,{className:iW.progress}):S.createElement("span",null,t||S.createElement(oD,null),r&&o!==void 0?r:null))},aL="RaReferenceArrayField",iW={progress:"".concat(aL,"-progress")},FSe=mt("span",{name:aL,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"block"},t["& .".concat(iW.progress)]={marginTop:r.spacing(2)},t}),NSe=S.memo(BSe),VE=function(){return VE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},VE.apply(this,arguments)},jSe=function(e){var t=dn({props:e,name:HE}),r=t.emptyText,n=on(),a=wh(t);return a==null?r?S.createElement(Jn,{component:"span",variant:"body2"},r&&n(r,{_:r})):null:S.createElement(sae,VE({},t),S.createElement(qSe,VE({},t)))},$Se=function(e){return e.stopPropagation()},USe=function(e){var t=e.children,r=e.className,n=e.emptyText,a=e.reference,l=e.sx,c=nae(),o=c.error,g=c.link,m=c.isLoading,_=c.referenceRecord,E=XV(a),R=on();if(o)return S.createElement("div",null,S.createElement(awe,{role:"presentation",color:"error",fontSize:"small"}),S.createElement("span",{style:c_e},typeof o=="string"?o:o==null?void 0:o.message));if(m)return S.createElement(dC,null);if(!_)return n?S.createElement(Jn,{component:"span",variant:"body2"},n&&R(n,{_:n})):null;var O=t||S.createElement(Jn,{component:"span",variant:"body2"},E(_));return g?S.createElement(f$,{className:er(RS.root,r),sx:l},S.createElement(nW,{to:g,className:RS.link,onClick:$Se,state:{_scrollToTop:!0}},O)):S.createElement(f$,{className:er(RS.root,r),sx:l},O)},qSe=nf(USe),HE="RaReferenceField",RS={root:"".concat(HE,"-root"),link:"".concat(HE,"-link")},f$=mt("span",{name:HE,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={lineHeight:"initial"},t["& .".concat(RS.link)]={"& > *":{color:(r.vars||r).palette.primary.main}},t}),lD=function(){return lD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},lD.apply(this,arguments)},VSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},oW=function(e){var t=e.className,r=e.emptyText,n=VSe(e,["className","emptyText"]),a=on(),l=wh(e);return S.createElement(Jn,lD({component:"span",variant:"body2",className:t},ru(n)),l!=null&&typeof l!="string"?l.toString():l||(r?a(r,{_:r}):null))};oW.displayName="TextFieldImpl";var HSe=nf(oW),GE=function(){return GE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},GE.apply(this,arguments)},GSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},sW=function(e){var t=e.className,r=e.emptyText,n=e.content,a=GSe(e,["className","emptyText","content"]),l=wh(e),c=on();return l==null?S.createElement(Jn,GE({component:"span",variant:"body2",className:t},ru(a)),r&&c(r,{_:r})):S.createElement($z,GE({className:t,href:l,onClick:WSe,variant:"body2"},ru(a)),n??l)};sW.displayName="UrlFieldImpl";var ZSe=nf(sW),WSe=function(e){return e.stopPropagation()};const KSe=hn(Oe.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),XSe=hn(Oe.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}));var cD=function(){return cD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cD.apply(this,arguments)},YSe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},QSe=function(e){var t=e.initiallyVisible,r=t===void 0?!1:t,n=YSe(e,["initiallyVisible"]),a=S.useState(r),l=a[0],c=a[1],o=on(),g=function(){c(!l)};return S.createElement(WZ,cD({type:l?"text":"password",size:"small",InputProps:{endAdornment:S.createElement(AS,{position:"end"},S.createElement(Oo,{"aria-label":o(l?"ra.input.password.toggle_visible":"ra.input.password.toggle_hidden"),onClick:g,size:"small"},l?S.createElement(KSe,{fontSize:"small"}):S.createElement(XSe,{fontSize:"small"})))}},n))},JSe=function(e){var t=dn({props:e,name:Ux}),r=t.redirectTo,n=t.className,a=t.sx,l=t.children,c=S.useState(!1),o=c[0],g=c[1],m=ose(),_=on(),E=Gu(),R=function(O){g(!0),m(O,r).then(function(){g(!1)}).catch(function(I){g(!1),E(typeof I=="string"?I:typeof I>"u"||!I.message?"ra.auth.sign_in_error":I.message,{type:"error",messageArgs:{_:typeof I=="string"?I:I&&I.message?I.message:void 0}})})};return S.createElement(eEe,{onSubmit:R,mode:"onChange",noValidate:!0,className:n,sx:a},S.createElement(NG,{className:Gb.content},l||S.createElement(S.Fragment,null,S.createElement(WZ,{autoFocus:!0,source:"username",label:_("ra.auth.username"),autoComplete:"username",validate:t6()}),S.createElement(QSe,{source:"password",label:_("ra.auth.password"),autoComplete:"current-password",validate:t6()})),S.createElement(tu,{variant:"contained",type:"submit",color:"primary",disabled:o,fullWidth:!0,className:Gb.button},o?S.createElement(H1,{className:Gb.icon,size:19,thickness:3}):_("ra.auth.sign_in"))))},Ux="RaLoginForm",Gb={content:"".concat(Ux,"-content"),button:"".concat(Ux,"-button"),icon:"".concat(Ux,"-icon")},eEe=mt(kie,{name:Ux,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={},t["& .".concat(Gb.content)]={width:300,paddingBottom:"".concat(r.spacing(2),"!important")},t["& .".concat(Gb.button)]={marginTop:r.spacing(2)},t["& .".concat(Gb.icon)]={margin:r.spacing(.3)},t}),uD=function(){return uD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},uD.apply(this,arguments)},tEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},rEe=function(e){var t=dn({props:e,name:qx}),r=t.children,n=r===void 0?nEe:r,a=t.backgroundImage,l=t.avatarIcon,c=l===void 0?aEe:l,o=tEe(t,["children","backgroundImage","avatarIcon"]),g=S.useRef(null),m=!1,_=gse(),E=ef();S.useEffect(function(){_({},!1).then(function(){E("/")}).catch(function(){})},[_,E]);var R=function(){!m&&g.current&&(g.current.style.backgroundImage="url(".concat(a,")"),m=!0)},O=function(){if(a){var I=new Image;I.onload=R,I.src=a}};return S.useEffect(function(){m||O()}),S.createElement(iEe,uD({},o,{ref:g}),S.createElement(FG,{className:Zb.card},S.createElement("div",{className:Zb.avatar},S.createElement(_I,{className:Zb.icon},c)),n))},nEe=S.createElement(JSe,null),aEe=S.createElement(Zz,null),qx="RaLogin",Zb={card:"".concat(qx,"-card"),avatar:"".concat(qx,"-avatar"),icon:"".concat(qx,"-icon")},iEe=mt("div",{name:qx,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)"},t["& .".concat(Zb.card)]={minWidth:300,marginTop:"6em"},t["& .".concat(Zb.avatar)]={margin:"1em",display:"flex",justifyContent:"center"},t["& .".concat(Zb.icon)]={backgroundColor:(r.vars||r).palette.secondary[500]},t}),oEe=function(e){var t=e.children,r=z2(),n=r.storeKey,a=r.defaultHiddenColumns,l=Qo("".concat(n,"_columnRanks")),c=l[0],o=l[1],g=Qo(n,a),m=g[1],_="".concat(n,"-columnsSelector"),E=S.useState(function(){return typeof document<"u"?document.getElementById(_):null}),R=E[0],O=E[1];if(S.useEffect(function(){if(!(R&&typeof document<"u"&&document.body.contains(R))){var $=setInterval(function(){var j=document.getElementById(_);j&&O(j)},100),q=setTimeout(function(){return clearInterval($)},500);return function(){clearInterval($),clearTimeout(q)}}},[_,R]),!R)return null;var I=S.Children.toArray(t),B=sEe(c??[],I.length);return O1.createPortal(S.createElement(S.Fragment,null,B.map(function($,q){return S.createElement(hH.Provider,{value:$,key:q},I[$])}),S.createElement(LG,{component:"li",className:"columns-selector-actions",sx:{textAlign:"center",mt:1}},S.createElement(Sh,{onClick:function(){o(void 0),m(a)}},"Reset"))),R)},sEe=function(e,t){return e.concat(Array.from({length:t-e.length},function(r,n){return e.length+n}))},Kf=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},lEe=function(e){var t=e.source,r=e.label,n=ia(),a=z2(),l=a.storeKey,c=a.defaultHiddenColumns,o=Qo(l,c),g=o[0],m=o[1],_=qse(),E=Qo("".concat(l,"_columnRanks")),R=E[0],O=E[1],I=K3();if(!t&&!r)return null;var B=I({label:typeof r=="string"?r:void 0,resource:n,source:t}),$=g.includes(t),q=function(j,F){var N=R?Math.max(j,F)>R.length-1?h$(R,Math.max(j,F)+1):R:h$([],Math.max(j,F)+1),G=N.findIndex(function(ne){return ne==j}),V=N.findIndex(function(ne){return ne==F});if(!(G===-1||V===-1)){var ee;G>V?ee=Kf(Kf(Kf(Kf([],N.slice(0,V),!0),[N[G]],!1),N.slice(V,G),!0),N.slice(G+1),!0):ee=Kf(Kf(Kf(Kf([],N.slice(0,G),!0),N.slice(G+1,V+1),!0),[N[G]],!1),N.slice(V+1),!0),O(ee)}};return S.createElement(Bxe,{key:_,source:t,label:B,index:String(_),selected:!$,onToggle:function(){return m($?g.filter(function(j){return j!==t}):Kf(Kf([],g,!0),[t],!1))},onMove:q})},h$=function(e,t){return e.concat(Array.from({length:t-e.length},function(r,n){return e.length+n}))},Ji="RaDataTable",un={root:"".concat(Ji,"-root"),table:"".concat(Ji,"-table"),tableWrapper:"".concat(Ji,"-tableWrapper"),thead:"".concat(Ji,"-thead"),tbody:"".concat(Ji,"-tbody"),headerRow:"".concat(Ji,"-headerRow"),headerCell:"".concat(Ji,"-headerCell"),checkbox:"".concat(Ji,"-checkbox"),row:"".concat(Ji,"-row"),clickableRow:"".concat(Ji,"-clickableRow"),rowEven:"".concat(Ji,"-rowEven"),rowOdd:"".concat(Ji,"-rowOdd"),rowCell:"".concat(Ji,"-rowCell"),selectable:"".concat(Ji,"-selectable"),expandHeader:"".concat(Ji,"-expandHeader"),expandIconCell:"".concat(Ji,"-expandIconCell"),expandIcon:"".concat(Ji,"-expandIcon"),expandable:"".concat(Ji,"-expandable"),expanded:"".concat(Ji,"-expanded"),expandRow:"".concat(Ji,"-expandRow")},cEe=mt("div",{name:Ji,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={},t["& .".concat(un.table)]={tableLayout:"auto"},t["& .".concat(un.tableWrapper)]={},t["& .".concat(un.thead)]={},t["& .".concat(un.tbody)]={},t["& .".concat(un.headerRow)]={},t["& .".concat(un.headerCell)]={position:"sticky",top:0,zIndex:2,backgroundColor:(r.vars||r).palette.background.paper,"&:first-of-type":{borderTopLeftRadius:r.shape.borderRadius},"&:last-child":{borderTopRightRadius:r.shape.borderRadius}},t["& .".concat(un.checkbox)]={},t["& .".concat(un.row)]={},t["& .".concat(un.clickableRow)]={cursor:"pointer"},t["& .".concat(un.rowEven)]={},t["& .".concat(un.rowOdd)]={},t["& .".concat(un.rowCell)]={},t["& .".concat(un.expandable," > td")]={borderBottom:"unset"},t["& .".concat(un.expandHeader)]={paddingRight:0,width:r.spacing(4)},t["& .".concat(un.expandIconCell)]={paddingRight:0,width:r.spacing(4)},t["& .".concat(un.expandIcon)]={padding:r.spacing(1),transform:"rotate(-90deg)",transition:r.transitions.create("transform",{duration:r.transitions.duration.short})},t["& .".concat(un.expandIcon,".").concat(un.expanded)]={transform:"rotate(0deg)"},t["& .".concat(un.expandRow)]={},t}),pM=function(e,t){return Array.from({length:e},function(r,n){return t(n)})},uEe=S.memo(function(t){var r=t.className,n=t.expand,a=t.hasBulkActions,l=t.nbChildren,c=t.nbFakeLines,o=c===void 0?5:c,g=t.size,m=D3(1e3);return m?S.createElement("div",{className:un.root},S.createElement(iZ,{className:er(un.table,r),size:g},S.createElement(sZ,null,S.createElement(g1,{className:un.row},n&&S.createElement(rl,{padding:"none",className:un.expandHeader}),a&&S.createElement(rl,{padding:"checkbox",className:un.expandIconCell},S.createElement(dE,{className:"select-all",color:"primary",checked:!1})),pM(l,function(_){return S.createElement(rl,{variant:"head",className:un.headerCell,key:_},S.createElement(o$,null))}))),S.createElement(oZ,null,pM(o,function(_){return S.createElement(g1,{key:_,style:{opacity:1/(_+1)}},n&&S.createElement(rl,{padding:"none",className:un.expandIconCell},S.createElement(Oo,{className:un.expandIcon,component:"div","aria-hidden":"true",size:"large"},S.createElement(cC,null))),a&&S.createElement(rl,{padding:"checkbox",className:un.expandIconCell},S.createElement(dE,{className:"select-all",color:"primary",checked:!1})),pM(l,function(E){return S.createElement(rl,{className:un.rowCell,key:E},S.createElement(o$,null))}))})))):null}),lW=S.memo(function(){var e=F1(),t=e.handleToggleItem,r=e.isRowSelectable,n=uH(),a=on(),l=hc();if(!l)throw new Error("SelectRowTableCell can only be used within a RecordContext");var c=!r||r(l),o=n==null?void 0:n.includes(l.id),g=S.useCallback(function(m){!c||!t||(t(l.id,m),m.stopPropagation())},[l.id,t,c]);return Cr.createElement(dE,{"aria-label":a("ra.action.select_row",{_:"Select this row"}),color:"primary",className:"select-item ".concat(un.checkbox),checked:c&&o,onClick:g,disabled:!c})});lW.displayName="SelectRowTableCell";var dD=function(){return dD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},dD.apply(this,arguments)},dEe=function(e,t,r,n){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function o(_){try{m(n.next(_))}catch(E){c(E)}}function g(_){try{m(n.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(o,g)}m((n=n.apply(e,t||[])).next())})},fEe=function(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(m){return function(_){return g([m,_])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(_){m=[6,_],a=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},hEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},p$=function(e,t,r){return e?1+(r?1:0)+Cr.Children.toArray(t).filter(function(n){return!!n}).length:0},cW="RaDataTableRow",uW=Cr.memo(Cr.forwardRef(function(e,t){var r,n,a=dn({props:e,name:cW}),l=a.children,c=a.className,o=hEe(a,["children","className"]),g=oH(),m=g.expand,_=g.expandSingle,E=g.hasBulkActions,R=E===void 0?!1:E,O=g.hover,I=O===void 0?!0:O,B=F1(),$=B.handleToggleItem,q=B.isRowExpandable,j=B.isRowSelectable,F=B.rowClick,N=hc(a);if(!N)throw new Error("DataTableRow can only be used within a RecordContext or be passed a record prop");var G=ia(a),V=B1(a),ee=V.hasShow||V.hasEdit;if(!G)throw new Error("DataTableRow can only be used within a ResourceContext or be passed a resource prop");var ne=!j||j(N),ae=(!q||q(N))&&m,X=$ae(G,N.id,_),te=X[0],le=X[1],we=S.useState(function(){return p$(ae,l,R)}),ve=we[0],xe=we[1];S.useEffect(function(){var je=p$(ae,l,R);je!==ve&&xe(je)},[ae,ve,l,R]);var ce=ef(),Ce=S.useCallback(function(je){le(),je.stopPropagation()},[le]),Se=S.useCallback(function(je){!ne||!$||($(N.id,je),je.stopPropagation())},[N.id,$,ne]),ze=Bre(),ge=S.useCallback(function(je){return dEe(void 0,void 0,void 0,function(){var et,rt,vt,ht;return fEe(this,function(ut){switch(ut.label){case 0:return je.persist(),et=typeof F=="function"?F(N.id,G,N):F,pEe(et)?[4,et]:[3,2];case 1:return vt=ut.sent(),[3,3];case 2:vt=et,ut.label=3;case 3:return rt=vt,rt==="expand"?(Ce(je),[2]):rt==="toggleSelection"?(Se(je),[2]):[4,ze({record:N,resource:G,link:rt})];case 4:return ht=ut.sent(),ht===!1||ht==null?[2]:(ce(ht,{state:{_scrollToTop:!0}}),[2])}})})},[N,G,F,ce,Ce,Se,ze]);return Cr.createElement(Cr.Fragment,null,Cr.createElement(mEe,dD({ref:t,className:er(c,(r={},r[un.expandable]=ae,r[un.selectable]=ne,r[un.clickableRow]=F??ee,r)),key:N.id,hover:I,onClick:ge},o),m&&Cr.createElement(rl,{padding:"none",className:un.expandIconCell},ae&&Cr.createElement(Twe,{className:er(un.expandIcon,(n={},n[un.expanded]=te,n)),expanded:te,onClick:Ce,expandContentId:"".concat(G,"-").concat(N.id,"-expand")})),R&&$&&Cr.createElement(rl,{padding:"checkbox"},Cr.createElement(lW,null)),l),ae&&Cr.createElement(g1,{key:"".concat(N.id,"-expand"),id:"".concat(G,"-").concat(N.id,"-expand"),className:un.expandRow},Cr.createElement(rl,{style:{paddingBottom:0,paddingTop:0},colSpan:ve},Cr.createElement(fI,{in:te,timeout:"auto",unmountOnExit:!0},S.isValidElement(m)?m:S.createElement(m)))))}));uW.displayName="DataTableRow";var pEe=function(e){return e&&typeof e.then=="function"},mEe=mt(g1,{name:cW,overridesResolver:function(e,t){return t.root}})(function(){return{}}),dW=S.createContext(void 0),gEe=function(){return S.useContext(dW)},fD=function(){return fD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},fD.apply(this,arguments)},yEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},fW="RaDataTableBody",hW=S.memo(S.forwardRef(function(e,t){var r=dn({props:e,name:fW}),n=r.children,a=r.row,l=a===void 0?uW:a,c=r.className,o=yEe(r,["children","row","className"]),g=Q3(),m=gEe();return S.createElement(vEe,fD({ref:t,className:er("datatable-body",c,un.tbody)},o),g==null?void 0:g.map(function(_,E){var R,O;return S.createElement(t1,{value:_,key:(O=_.id)!==null&&O!==void 0?O:"row".concat(E)},S.createElement(l,{className:er(un.row,(R={},R[un.rowEven]=E%2===0,R[un.rowOdd]=E%2!==0,R)),sx:m==null?void 0:m(_,E)},n))}))}));hW.displayName="DataTableBody";var vEe=mt(oZ,{name:fW,overridesResolver:function(e,t){return t.root}})(function(){return{}}),bEe=function(){var e=Q3(),t=F1(),r=t.isRowSelectable,n=t.onSelect,a=uH(),l=on(),c=S.useCallback(function(g){!n||!a||!e||n(g.target.checked?a.concat(e.filter(function(m){return!a.includes(m.id)}).filter(function(m){return r?r(m):!0}).map(function(m){return m.id})):[])},[e,n,r,a]),o=Array.isArray(e)?r?e.filter(function(g){return r(g)}).map(function(g){return g.id}):e.map(function(g){return g.id}):[];return S.createElement(dE,{inputProps:{"aria-label":l("ra.action.select_all",{_:"Select all"})},className:"select-all",color:"primary",checked:a&&a.length>0&&o.length>0&&o.every(function(g){return a.includes(g)}),onChange:c,onClick:function(g){return g.stopPropagation()}})},pW=S.memo(function(e){var t=dn({props:e,name:mW}),r=t.children,n=t.className,a=t.sx,l=oH(),c=l.expand,o=l.expandSingle,g=l.hasBulkActions,m=g===void 0?!1:g,_=Q3(),E=F1().handleToggleItem,R=!!c;return S.createElement(_Ee,{className:er(n,un.thead),sx:a},S.createElement(g1,{className:er(un.row,un.headerRow)},R&&S.createElement(rl,{padding:"none",variant:"head",className:er(un.headerCell,un.expandHeader)},!o&&_?S.createElement(Rwe,{classes:un,ids:_.map(function(O){return O.id})}):null),m&&E&&S.createElement(rl,{padding:"checkbox",variant:"head",className:un.headerCell},S.createElement(bEe,null)),r))});pW.displayName="DataTableHead";var mW="RaDataTableHead",_Ee=mt(sZ,{name:mW,overridesResolver:function(e,t){return t.root}})(function(){return{}}),Vx=function(){return Vx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Vx.apply(this,arguments)},xEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},gW="RaDataTableCell",hD=S.memo(S.forwardRef(function(e,t){var r=dn({props:e,name:gW}),n=r.cellSx,a=r.cellClassName;r.headerClassName;var l=r.children,c=r.className;r.disableSort;var o=r.render,g=r.field,m=r.source;r.sortByOrder,r.label;var _=r.sx,E=xEe(r,["cellSx","cellClassName","headerClassName","children","className","disableSort","render","field","source","sortByOrder","label","sx"]),R=z2(),O=R.storeKey,I=R.defaultHiddenColumns,B=Qo(O,I)[0],$=hc(),q=B.includes(m);if(q)return null;if(!o&&!g&&!l&&!m)throw new Error("Missing at least one of the following props: render, field, children, or source");var j=Vx(Vx({},n&&$?n($):{}),_),F=_i($,m);return S.createElement(wEe,Vx({ref:t,className:er(c,a,"column-".concat(m)),sx:j},E),l??(o?$&&o($):g?S.createElement(g,{source:m}):F!=null?F.toString():null))}));hD.displayName="DataTableCell";var wEe=mt(rl,{name:gW,overridesResolver:function(e,t){return t.root}})(function(){return{}}),pD=function(){return pD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},pD.apply(this,arguments)},SEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},EEe={ASC:"DESC",DESC:"ASC"},yW="RaDataTableHeadCell",vW=S.memo(S.forwardRef(function(e,t){var r=dn({props:e,name:yW});r.cellSx;var n=r.className;r.cellClassName;var a=r.disableSort,l=r.headerClassName;r.field,r.render;var c=r.source,o=r.label,g=r.sortByOrder,m=SEe(r,["cellSx","className","cellClassName","disableSort","headerClassName","field","render","source","label","sortByOrder"]),_=z2(),E=_.storeKey,R=_.defaultHiddenColumns,O=jse(),I=F1().handleSort,B=Qo(E,R)[0],$=ia(),q=on(),j=K3(),F=B.includes(c);if(F)return null;var N=O&&O.field===c?EEe[O.order]:g??"ASC",G=j({label:typeof o=="string"?o:void 0,resource:$,source:c}),V=q("ra.sort.sort_by",{field:G,field_lower_first:typeof G=="string"?G.charAt(0).toLowerCase()+G.slice(1):void 0,order:q("ra.sort.".concat(N)),_:q("ra.action.sort")});return S.createElement(CEe,pD({ref:t,className:er(un.headerCell,n,l,"column-".concat(c)),variant:"head"},m),I&&O&&!a&&c?S.createElement(xg,{title:V,placement:r.align==="right"?"bottom-end":"bottom-start",enterDelay:300},S.createElement(n$,{active:O.field===c,direction:O.order==="ASC"?"asc":"desc","data-field":c,"data-order":g||"ASC",onClick:I},S.createElement(a1,{label:o,source:c,resource:$}))):S.createElement(n$,{disabled:!0},S.createElement(a1,{label:o,source:c,resource:$})))}));vW.displayName="DataTableHeadCell";var CEe=mt(rl,{name:yW,overridesResolver:function(e,t){return t.root}})(function(){return{}}),Lb=function(){return Lb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Lb.apply(this,arguments)},TEe=S.forwardRef(function(e,t){var r=Vse();switch(r){case"columnsSelector":return S.createElement(lEe,Lb({},e));case"header":return S.createElement(vW,Lb({},e,{ref:t}));case"data":return S.createElement(hD,Lb({},e,{ref:t}));case"footer":return S.createElement(hD,Lb({},e,{ref:t}))}}),bW=nf(TEe),mD=function(){return mD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},mD.apply(this,arguments)},AEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},PEe=S.forwardRef(function(e,t){var r=e.source,n=e.options,a=e.locales,l=AEe(e,["source","options","locales"]);return S.createElement(bW,mD({source:r},l,{align:"right",ref:t}),S.createElement(rW,{source:r,options:n,locales:a}))}),REe=nf(PEe),ZE=function(){return ZE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ZE.apply(this,arguments)},_W=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},MEe=S.createElement(zwe,null),OEe=function(e){return null},kEe="RaDataTable",nc=S.forwardRef(function(t,r){var n=dn({props:t,name:kEe}),a=ia(n),l=Xy({resource:a,action:"delete"}).canAccess,c=n.body,o=c===void 0?hW:c,g=n.head,m=g===void 0?pW:g,_=n.foot,E=_===void 0?OEe:_,R=n.children,O=n.className,I=n.empty,B=I===void 0?MEe:I,$=n.expand,q=n.bulkActionsToolbar,j=n.bulkActionButtons,F=j===void 0?l?m$:!1:j,N=n.rowSx,G=n.size,V=G===void 0?"small":G,ee=n.sx,ne=_W(n,["body","head","foot","children","className","empty","expand","bulkActionsToolbar","bulkActionButtons","rowSx","size","sx"]),ae=R2(n).onToggleItem,X=!!F,te=n.storeKey||"".concat(a,".datatable"),le=Qo("".concat(te,"_columnRanks"))[0],we=le?IEe(R,le):R,ve=S.createElement(uEe,{className:O,expand:$,hasBulkActions:X,nbChildren:S.Children.count(R),size:V});return S.createElement($se,ZE({},n,{hasBulkActions:X,loading:ve,empty:B}),S.createElement(dW.Provider,{value:N},S.createElement(cEe,{sx:ee,className:er(un.root,O)},ae&&(q??(F!==!1&&S.createElement(Iwe,null,S.isValidElement(F)?F:m$))),S.createElement("div",{className:un.tableWrapper},S.createElement(iZ,ZE({ref:r,className:un.table,size:V},DEe(ne)),S.createElement(_S.Provider,{value:"header"},S.createElement(m,null,we)),S.createElement(o,null,we),S.createElement(_S.Provider,{value:"footer"},S.createElement(E,null,we)))))),S.createElement(_S.Provider,{value:"columnsSelector"},S.createElement(oEe,null,R)))});nc.Col=bW;nc.NumberCol=REe;nc.displayName="DataTable";var m$=S.createElement(K1e,null),IEe=function(e,t){return S.Children.toArray(e).reduce(function(r,n,a){var l=t.indexOf(a);return l===-1?r[a]=n:r[l]=n,r},[])},DEe=function(e){e.sort,e.data,e.expandSingle,e.hiddenColumns,e.hover,e.isLoading,e.isPending,e.isRowExpandable,e.isRowSelectable,e.onSelect,e.onToggleItem,e.resource,e.rowClick,e.setSort,e.selectedIds,e.storeKey,e.total;var t=_W(e,["sort","data","expandSingle","hiddenColumns","hover","isLoading","isPending","isRowExpandable","isRowSelectable","onSelect","onToggleItem","resource","rowClick","setSort","selectedIds","storeKey","total"]);return t};const zEe=hn(Oe.jsx("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}));var LEe=function(e){var t=dn({props:e,name:Hx}),r=t.className,n=B1(t).hasCreate,a=ia(t),l=on(),c=I2(),o=l("resources.".concat(a,".forcedCaseName"),{smart_count:0,_:a?c(a,0):void 0}),g=l("ra.page.empty",{name:o}),m=l("ra.page.invite");return S.createElement(BEe,{className:r},S.createElement("div",{className:Wb.message},S.createElement(zEe,{className:Wb.icon}),S.createElement(Jn,{variant:"h4",paragraph:!0},l("resources.".concat(a,".empty"),{_:g})),n&&S.createElement(Jn,{variant:"body1"},l("resources.".concat(a,".invite"),{_:m}))),n&&S.createElement("div",{className:Wb.toolbar},S.createElement(fZ,{variant:"contained"})))},Hx="RaEmpty",Wb={message:"".concat(Hx,"-message"),icon:"".concat(Hx,"-icon"),toolbar:"".concat(Hx,"-toolbar")},BEe=mt("span",{name:Hx,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={flex:1},t["& .".concat(Wb.message)]={textAlign:"center",margin:"0 1em",color:(r.vars||r).palette.text.disabled},t["& .".concat(Wb.icon)]={width:"9em",height:"9em"},t["& .".concat(Wb.toolbar)]={textAlign:"center",marginTop:"2em"},t}),Ey=function(){return Ey=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ey.apply(this,arguments)},FEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},NEe=S.memo(function(e){var t=dn({props:e,name:xW}),r=t.filters,n=t.actions,a=t.className,l=FEe(t,["filters","actions","className"]);return Array.isArray(r)?S.createElement(fC.Provider,{value:r},S.createElement(g$,{className:a},S.createElement(Nwe,null),S.createElement("span",null),n)):S.createElement(g$,{className:a},r&&S.cloneElement(r,Ey(Ey({},l),{context:"form"})),S.createElement("span",null),n&&S.cloneElement(n,Ey(Ey(Ey({},l),{filters:r}),n.props)))}),xW="RaListToolbar",g$=mt("div",{name:xW,overridesResolver:function(e,t){return t.root}})(function(e){var t,r=e.theme;return t={display:"flex",position:"relative",justifyContent:"space-between",alignItems:"flex-end",width:"100%"},t[r.breakpoints.down("md")]={flexWrap:"wrap"},t[r.breakpoints.down("sm")]={backgroundColor:(r.vars||r).palette.background.paper,flexWrap:"inherit",flexDirection:"column-reverse"},t}),gD=function(){return gD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gD.apply(this,arguments)},jEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},$Ee=function(e){var t=e.className,r=e.filters;e.hasCreate;var n=jEe(e,["className","filters","hasCreate"]),a=pc(),l=a.displayedFilters,c=a.filterValues,o=a.exporter,g=a.showFilter,m=a.total,_=ia(e),E=B1(e).hasCreate,R=S.useContext(fC)||r;return S.useMemo(function(){return S.createElement(MZ,gD({className:t},r1(n)),r?S.cloneElement(r,{resource:_,showFilter:g,displayedFilters:l,filterValues:c,context:"button"}):R&&S.createElement(Jwe,null),E&&S.createElement(fZ,null),o!==!1&&S.createElement(Y1e,{disabled:m===0,resource:_}))},[_,l,c,r,g,R,m,t,o,E])},yD=function(){return yD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yD.apply(this,arguments)},UEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},qEe=S.createElement($Ee,null),VEe=S.createElement(iSe,null),HEe=S.createElement(LEe,null),GEe=FG,ZEe=function(e){var t=dn({props:e,name:Bb}),r=t.actions,n=r===void 0?qEe:r,a=t.aside,l=t.filters,c=t.emptyWhileLoading,o=t.pagination,g=o===void 0?VEe:o,m=t.children,_=t.className,E=t.component,R=E===void 0?GEe:E,O=t.title,I=t.empty,B=I===void 0?HEe:I,$=UEe(t,["actions","aside","filters","emptyWhileLoading","pagination","children","className","component","title","empty"]),q=pc(),j=q.defaultTitle,F=q.data,N=q.error,G=q.isPending,V=q.filterValues,ee=q.resource,ne=q.total,ae=q.hasNextPage,X=q.hasPreviousPage;if(!m||!F&&G&&c)return null;var te=function(){return S.createElement("div",{className:Jm.main},(l||n)&&S.createElement(NEe,{className:Jm.actions,filters:l,actions:n}),S.createElement(R,{className:Jm.content},m),!N&&g!==!1&&g)},le=function(){return B!==!1&&S.createElement("div",{className:Jm.noResults},B)},we=!N&&!G&&(ne===0||ne==null&&X===!1&&ae===!1&&F.length===0)&&!Object.keys(V).length&&B!==!1;return S.createElement(WEe,yD({className:er("list-page",_)},$),O!==!1&&S.createElement(lC,{title:O,defaultTitle:j,preferenceKey:"".concat(ee,".list.title")}),we?le():te(),a)},Bb="RaList",Jm={main:"".concat(Bb,"-main"),content:"".concat(Bb,"-content"),actions:"".concat(Bb,"-actions"),noResults:"".concat(Bb,"-noResults")},WEe=mt("div",{name:Bb,overridesResolver:function(e,t){return t.root}})(function(e){var t,r,n=e.theme;return t={display:"flex"},t["& .".concat(Jm.main)]={flex:"1 1 auto",display:"flex",flexDirection:"column"},t["& .".concat(Jm.content)]=(r={position:"relative"},r[n.breakpoints.down("sm")]={boxShadow:"none"},r.overflow="inherit",r),t["& .".concat(Jm.actions)]={},t["& .".concat(Jm.noResults)]={flex:1},t}),hs=function(){return hs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},hs.apply(this,arguments)},KEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},y$={table:{component:function(e){return S.createElement(nc,hs({},e))},representation:function(e,t){return`        <DataTable>
`.concat(t.map(function(r){return"            ".concat(r.getRepresentation())}).join(`
`),`
        </DataTable>`)}},array:{component:function(e){var t=e.children,r=KEe(e,["children"]),n=S.Children.toArray(t);return S.createElement(nc.Col,hs({},r),S.createElement(fSe,hs({},r),S.createElement(oD,null,S.createElement(u$,{source:n.length>0&&S.isValidElement(n[0])&&n[0].props.source}))))},representation:function(e,t){return'<DataTable.Col source="'.concat(e.source,`">
                <ArrayField source="`).concat(e.source,`">
                    <SingleFieldList>
                        <ChipField source="`).concat(t.length>0&&t[0].getProps().source,`" />
                    </SingleFieldList>
                </ArrayField>
            </DataTable.Col>`)}},boolean:{component:function(e){return S.createElement(nc.Col,hs({},e),S.createElement(ySe,hs({},e)))},representation:function(e){return'<DataTable.Col source="'.concat(e.source,`">
                <BooleanField source="`).concat(e.source,`" />
            </DataTable.Col>`)}},date:{component:function(e){return S.createElement(nc.Col,hs({},e),S.createElement(wSe,hs({},e)))},representation:function(e){return'<DataTable.Col source="'.concat(e.source,`">
                <DateField source="`).concat(e.source,`" />
            </DataTable.Col>`)}},email:{component:function(e){return S.createElement(nc.Col,hs({},e),S.createElement(CSe,hs({},e)))},representation:function(e){return'<DataTable.Col source="'.concat(e.source,`">
                <EmailField source="`).concat(e.source,`" />
            </DataTable.Col>`)}},id:{component:function(e){return S.createElement(nc.Col,hs({},e))},representation:function(e){return'<DataTable.Col source="'.concat(e.source,'" />')}},number:{component:nc.NumberCol,representation:function(e){return'<DataTable.NumberCol source="'.concat(e.source,'" />')}},reference:{component:function(e){return S.createElement(nc.Col,hs({},e),S.createElement(jSe,hs({},e)))},representation:function(e){return'<DataTable.Col source="'.concat(e.source,`">
                <ReferenceField source="`).concat(e.source,'" reference="').concat(e.reference,`" />
            </DataTable.Col>`)}},referenceChild:{component:function(){return S.createElement(HSe,{source:"id"})},representation:function(){return'<TextField source="id" />'}},referenceArray:{component:function(e){return S.createElement(nc.Col,hs({},e),S.createElement(LSe,hs({},e)))},representation:function(e){return'<DataTable.Col source="'.concat(e.source,`">
                <ReferenceArrayField source="`).concat(e.source,'" reference="').concat(e.reference,`" />
            </DataTable.Col>`)}},referenceArrayChild:{component:function(){return S.createElement(oD,null,S.createElement(u$,{source:"id"}))},representation:function(){return`<SingleFieldList>
                <ChipField source="id" />
            </SingleFieldList>`}},richText:void 0,string:{component:nc.Col,representation:function(e){return'<DataTable.Col source="'.concat(e.source,'" />')}},url:{component:function(e){return S.createElement(nc.Col,hs({},e),S.createElement(ZSe,hs({},e)))},representation:function(e){return'<DataTable.Col source="'.concat(e.source,`">
                <UrlField source="`).concat(e.source,`" />
            </DataTable.Col>`)}}},WE=function(){return WE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},WE.apply(this,arguments)},wW=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},XEe=function(e){var t=e.debounce,r=e.disableAuthentication,n=e.disableSyncWithLocation,a=e.exporter,l=e.filter,c=e.filterDefaultValues,o=e.perPage;e.queryOptions;var g=e.resource,m=e.sort,_=wW(e,["debounce","disableAuthentication","disableSyncWithLocation","exporter","filter","filterDefaultValues","perPage","queryOptions","resource","sort"]);Jo();var E=ia(e),R=_ae(E),O=R===E;return S.createElement(jae,{debounce:t,disableAuthentication:r,disableSyncWithLocation:n,exporter:a,filter:l,filterDefaultValues:c,perPage:o,queryOptions:{placeholderData:function(I){return O?I:void 0}},resource:g,sort:m},S.createElement(YEe,WE({},_)))},YEe=function(e){var t=pc().data,r=ia(),n=S.useState(null),a=n[0],l=n[1],c=e.enableLog,o=c===void 0?!1:c,g=wW(e,["enableLog"]);return S.useEffect(function(){l(null)},[r]),S.useEffect(function(){if(t&&t.length>0&&!a){var m=vue(t,y$),_=new Zo(y$.table,null,m),E=_.getElement(),R=_.getRepresentation();if(!r)throw new Error("Cannot use <ListGuesser> outside of a ResourceContext");if(!E||!R)return;l(E);var O=["List"].concat(Array.from(new Set(Array.from(R.matchAll(/<([^/\s>]+)/g)).map(function(I){return I[1]}).filter(function(I){return I!=="span"})))).filter(function(I){return!I.match(/[A-Za-z]+\.[A-Za-z]+/i)}).sort();o&&console.log(`Guessed List:

import { `.concat(O.join(", "),` } from 'react-admin';

export const `).concat(Qc.capitalize(Qc.singularize(r)),`List = () => (
    <List>
`).concat(_.getRepresentation(),`
    </List>
);`))}},[t,a,r,o]),S.createElement(ZEe,WE({},g),a)},vD=function(){return vD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vD.apply(this,arguments)},QEe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},JEe=function(e){var t=e.accessDenied,r=t===void 0?X0e:t,n=e.authCallbackPage,a=n===void 0?vwe:n,l=e.authenticationError,c=l===void 0?Kxe:l,o=e.catchAll,g=o===void 0?M1e:o,m=e.error,_=m===void 0?EZ:m,E=e.layout,R=E===void 0?w1e:E,O=e.loading,I=O===void 0?A1e:O,B=e.loginPage,$=B===void 0?rEe:B,q=e.notification,j=q===void 0?z1e:q,F=QEe(e,["accessDenied","authCallbackPage","authenticationError","catchAll","error","layout","loading","loginPage","notification"]);return S.createElement(_ye,{enableColorScheme:!0},S.createElement(Boe,vD({accessDenied:r,authCallbackPage:a,authenticationError:c,catchAll:g,error:_,layout:R,loading:I,loginPage:$},F)),S.createElement(j))},bD=function(){return bD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},bD.apply(this,arguments)},e2e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},SW=function(e){var t=e.theme,r=e.lightTheme,n=r===void 0?wxe:r,a=e.darkTheme,l=e.defaultTheme,c=e.children,o=e2e(e,["theme","lightTheme","darkTheme","defaultTheme","children"]);return S.createElement(poe,bD({},o),S.createElement(gZ.Provider,{value:{lightTheme:t||n,darkTheme:t&&!a?void 0:!a&&a!==null?Sxe:a??void 0,defaultTheme:l}},S.createElement(xxe,null,c)))};SW.displayName="AdminContext";var t2e={ra:{action:{add_filter:"Add filter",add:"Add",back:"Go Back",bulk_actions:"1 item selected |||| %{smart_count} items selected",cancel:"Cancel",clear_array_input:"Clear the list",clear_input_value:"Clear value",clone:"Clone",confirm:"Confirm",create:"Create",create_item:"Create %{item}",delete:"Delete",edit:"Edit",export:"Export",list:"List",refresh:"Refresh",remove_filter:"Remove this filter",remove_all_filters:"Remove all filters",remove:"Remove",save:"Save",search:"Search",select_all:"Select all",select_all_button:"Select all",select_row:"Select this row",show:"Show",sort:"Sort",undo:"Undo",unselect:"Unselect",expand:"Expand",close:"Close",open_menu:"Open menu",close_menu:"Close menu",update:"Update",move_up:"Move up",move_down:"Move down",open:"Open",toggle_theme:"Toggle light/dark mode",select_columns:"Columns",update_application:"Reload Application"},boolean:{true:"Yes",false:"No",null:""},page:{create:"Create %{name}",dashboard:"Dashboard",edit:"%{name} %{recordRepresentation}",error:"Something went wrong",list:"%{name}",loading:"Loading",not_found:"Not Found",show:"%{name} %{recordRepresentation}",empty:"No %{name} yet.",invite:"Do you want to add one?",access_denied:"Access denied",authentication_error:"Authentication error"},input:{file:{upload_several:"Drop some files to upload, or click to select one.",upload_single:"Drop a file to upload, or click to select it."},image:{upload_several:"Drop some pictures to upload, or click to select one.",upload_single:"Drop a picture to upload, or click to select it."},references:{all_missing:"Unable to find references data.",many_missing:"At least one of the associated references no longer appears to be available.",single_missing:"Associated reference no longer appears to be available."},password:{toggle_visible:"Hide password",toggle_hidden:"Show password"}},message:{about:"About",access_denied:"You don't have the right permissions to access this page",are_you_sure:"Are you sure?",authentication_error:"The authentication server returned an error and your credentials could not be checked.",auth_error:"An error occurred while validating the authentication token.",bulk_delete_content:"Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?",bulk_delete_title:"Delete %{name} |||| Delete %{smart_count} %{name}",bulk_update_content:"Are you sure you want to update %{name} %{recordRepresentation}? |||| Are you sure you want to update these %{smart_count} items?",bulk_update_title:"Update %{name} %{recordRepresentation} |||| Update %{smart_count} %{name}",clear_array_input:"Are you sure you want to clear the whole list?",delete_content:"Are you sure you want to delete this %{name}?",delete_title:"Delete %{name} %{recordRepresentation}",details:"Details",error:"A client error occurred and your request couldn't be completed.",invalid_form:"The form is not valid. Please check for errors",loading:"Please wait",no:"No",not_found:"Either you typed a wrong URL, or you followed a bad link.",select_all_limit_reached:"There are too many elements to select them all. Only the first %{max} elements were selected.",unsaved_changes:"Some of your changes weren't saved. Are you sure you want to ignore them?",yes:"Yes",placeholder_data_warning:"Network issue: Data refresh failed."},navigation:{clear_filters:"Clear filters",no_filtered_results:"No %{name} found using the current filters.",no_results:"No %{name} found",no_more_results:"The page number %{page} is out of boundaries. Try the previous page.",page_out_of_boundaries:"Page number %{page} out of boundaries",page_out_from_end:"Cannot go after last page",page_out_from_begin:"Cannot go before page 1",page_range_info:"%{offsetBegin}-%{offsetEnd} of %{total}",partial_page_range_info:"%{offsetBegin}-%{offsetEnd} of more than %{offsetEnd}",current_page:"Page %{page}",page:"Go to page %{page}",first:"Go to first page",last:"Go to last page",next:"Go to next page",previous:"Go to previous page",page_rows_per_page:"Rows per page:",skip_nav:"Skip to content"},sort:{sort_by:"Sort by %{field_lower_first} %{order}",ASC:"ascending",DESC:"descending"},auth:{auth_check_error:"Please login to continue",user_menu:"Profile",username:"Username",password:"Password",email:"Email",sign_in:"Sign in",sign_in_error:"Authentication failed, please retry",logout:"Logout"},notification:{updated:"Element updated |||| %{smart_count} elements updated",created:"Element created",deleted:"Element deleted |||| %{smart_count} elements deleted",bad_item:"Incorrect element",item_doesnt_exist:"Element does not exist",http_error:"Server communication error",data_provider_error:"dataProvider error. Check the console for details.",i18n_error:"Cannot load the translations for the specified language",canceled:"Action cancelled",logged_out:"Your session has ended, please reconnect.",not_authorized:"You're not authorized to access this resource.",application_update_available:"A new version is available."},validation:{required:"Required",minLength:"Must be %{min} characters at least",maxLength:"Must be %{max} characters or less",minValue:"Must be at least %{min}",maxValue:"Must be %{max} or less",number:"Must be a number",email:"Must be a valid email",oneOf:"Must be one of: %{options}",regex:"Must match a specific format (regexp): %{pattern}",unique:"Must be unique"},saved_queries:{label:"Saved queries",query_name:"Query name",new_label:"Save current query...",new_dialog_title:"Save current query as",remove_label:"Remove saved query",remove_label_with_name:'Remove query "%{name}"',remove_dialog_title:"Remove saved query?",remove_message:"Are you sure you want to remove that item from your list of saved queries?",help:"Filter the list and save this query for later"},configurable:{customize:"Customize",configureMode:"Configure this page",inspector:{title:"Inspector",content:"Hover the application UI elements to configure them",reset:"Reset Settings",hideAll:"Hide All",showAll:"Show All"},Datagrid:{title:"Datagrid",unlabeled:"Unlabeled column #%{column}"},SimpleForm:{title:"Form",unlabeled:"Unlabeled input #%{input}"},SimpleList:{title:"List",primaryText:"Primary text",secondaryText:"Secondary text",tertiaryText:"Tertiary text"}}}},mM,v$;function EW(){if(v$)return mM;v$=1;var e=Object.prototype.toString;return mM=function(r){var n=e.call(r),a=n==="[object Arguments]";return a||(a=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&e.call(r.callee)==="[object Function]"),a},mM}var gM,b$;function r2e(){if(b$)return gM;b$=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=EW(),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],g=function(R){var O=R.constructor;return O&&O.prototype===R},m={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},_=function(){if(typeof window>"u")return!1;for(var R in window)try{if(!m["$"+R]&&t.call(window,R)&&window[R]!==null&&typeof window[R]=="object")try{g(window[R])}catch{return!0}}catch{return!0}return!1}(),E=function(R){if(typeof window>"u"||!_)return g(R);try{return g(R)}catch{return!1}};e=function(O){var I=O!==null&&typeof O=="object",B=r.call(O)==="[object Function]",$=n(O),q=I&&r.call(O)==="[object String]",j=[];if(!I&&!B&&!$)throw new TypeError("Object.keys called on a non-object");var F=c&&B;if(q&&O.length>0&&!t.call(O,0))for(var N=0;N<O.length;++N)j.push(String(N));if($&&O.length>0)for(var G=0;G<O.length;++G)j.push(String(G));else for(var V in O)!(F&&V==="prototype")&&t.call(O,V)&&j.push(String(V));if(l)for(var ee=E(O),ne=0;ne<o.length;++ne)!(ee&&o[ne]==="constructor")&&t.call(O,o[ne])&&j.push(o[ne]);return j}}return gM=e,gM}var yM,_$;function n2e(){if(_$)return yM;_$=1;var e=Array.prototype.slice,t=EW(),r=Object.keys,n=r?function(c){return r(c)}:r2e(),a=Object.keys;return n.shim=function(){if(Object.keys){var c=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);c||(Object.keys=function(g){return t(g)?a(e.call(g)):a(g)})}else Object.keys=n;return Object.keys||n},yM=n,yM}var vM,x$;function hC(){if(x$)return vM;x$=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return vM=e,vM}var bM,w$;function CW(){return w$||(w$=1,bM=SyntaxError),bM}var _M,S$;function X1(){return S$||(S$=1,_M=TypeError),_M}var xM,E$;function a2e(){return E$||(E$=1,xM=Object.getOwnPropertyDescriptor),xM}var wM,C$;function pC(){if(C$)return wM;C$=1;var e=a2e();if(e)try{e([],"length")}catch{e=null}return wM=e,wM}var SM,T$;function TW(){if(T$)return SM;T$=1;var e=hC(),t=CW(),r=X1(),n=pC();return SM=function(l,c,o){if(!l||typeof l!="object"&&typeof l!="function")throw new r("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var g=arguments.length>3?arguments[3]:null,m=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,R=!!n&&n(l,c);if(e)e(l,c,{configurable:_===null&&R?R.configurable:!_,enumerable:g===null&&R?R.enumerable:!g,value:o,writable:m===null&&R?R.writable:!m});else if(E||!g&&!m&&!_)l[c]=o;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},SM}var EM,A$;function AW(){if(A$)return EM;A$=1;var e=hC(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},EM=t,EM}var CM,P$;function PW(){if(P$)return CM;P$=1;var e=n2e(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,a=TW(),l=function(m){return typeof m=="function"&&r.call(m)==="[object Function]"},c=AW()(),o=function(m,_,E,R){if(_ in m){if(R===!0){if(m[_]===E)return}else if(!l(R)||!R())return}c?a(m,_,E,!0):a(m,_,E)},g=function(m,_){var E=arguments.length>2?arguments[2]:{},R=e(_);t&&(R=n.call(R,Object.getOwnPropertySymbols(_)));for(var O=0;O<R.length;O+=1)o(m,R[O],_[R[O]],E[R[O]])};return g.supportsDescriptors=!!c,CM=g,CM}var TM={exports:{}},AM,R$;function RW(){return R$||(R$=1,AM=Object),AM}var PM,M$;function i2e(){return M$||(M$=1,PM=Error),PM}var RM,O$;function o2e(){return O$||(O$=1,RM=EvalError),RM}var MM,k$;function s2e(){return k$||(k$=1,MM=RangeError),MM}var OM,I$;function l2e(){return I$||(I$=1,OM=ReferenceError),OM}var kM,D$;function c2e(){return D$||(D$=1,kM=URIError),kM}var IM,z$;function u2e(){return z$||(z$=1,IM=Math.abs),IM}var DM,L$;function d2e(){return L$||(L$=1,DM=Math.floor),DM}var zM,B$;function f2e(){return B$||(B$=1,zM=Math.max),zM}var LM,F$;function h2e(){return F$||(F$=1,LM=Math.min),LM}var BM,N$;function p2e(){return N$||(N$=1,BM=Math.pow),BM}var FM,j$;function m2e(){return j$||(j$=1,FM=Math.round),FM}var NM,$$;function g2e(){return $$||($$=1,NM=Number.isNaN||function(t){return t!==t}),NM}var jM,U$;function y2e(){if(U$)return jM;U$=1;var e=g2e();return jM=function(r){return e(r)||r===0?r:r<0?-1:1},jM}var $M,q$;function v2e(){return q$||(q$=1,$M=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(var l in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==a||o.enumerable!==!0)return!1}return!0}),$M}var UM,V$;function b2e(){if(V$)return UM;V$=1;var e=typeof Symbol<"u"&&Symbol,t=v2e();return UM=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},UM}var qM,H$;function MW(){return H$||(H$=1,qM=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),qM}var VM,G$;function OW(){if(G$)return VM;G$=1;var e=RW();return VM=e.getPrototypeOf||null,VM}var HM,Z$;function _2e(){if(Z$)return HM;Z$=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",a=function(g,m){for(var _=[],E=0;E<g.length;E+=1)_[E]=g[E];for(var R=0;R<m.length;R+=1)_[R+g.length]=m[R];return _},l=function(g,m){for(var _=[],E=m,R=0;E<g.length;E+=1,R+=1)_[R]=g[E];return _},c=function(o,g){for(var m="",_=0;_<o.length;_+=1)m+=o[_],_+1<o.length&&(m+=g);return m};return HM=function(g){var m=this;if(typeof m!="function"||t.apply(m)!==n)throw new TypeError(e+m);for(var _=l(arguments,1),E,R=function(){if(this instanceof E){var q=m.apply(this,a(_,arguments));return Object(q)===q?q:this}return m.apply(g,a(_,arguments))},O=r(0,m.length-_.length),I=[],B=0;B<O;B++)I[B]="$"+B;if(E=Function("binder","return function ("+c(I,",")+"){ return binder.apply(this,arguments); }")(R),m.prototype){var $=function(){};$.prototype=m.prototype,E.prototype=new $,$.prototype=null}return E},HM}var GM,W$;function Y1(){if(W$)return GM;W$=1;var e=_2e();return GM=Function.prototype.bind||e,GM}var ZM,K$;function iL(){return K$||(K$=1,ZM=Function.prototype.call),ZM}var WM,X$;function oL(){return X$||(X$=1,WM=Function.prototype.apply),WM}var KM,Y$;function x2e(){return Y$||(Y$=1,KM=typeof Reflect<"u"&&Reflect&&Reflect.apply),KM}var XM,Q$;function kW(){if(Q$)return XM;Q$=1;var e=Y1(),t=oL(),r=iL(),n=x2e();return XM=n||e.call(r,t),XM}var YM,J$;function sL(){if(J$)return YM;J$=1;var e=Y1(),t=X1(),r=iL(),n=kW();return YM=function(l){if(l.length<1||typeof l[0]!="function")throw new t("a function is required");return n(e,r,l)},YM}var QM,e8;function w2e(){if(e8)return QM;e8=1;var e=sL(),t=pC(),r;try{r=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var n=!!r&&t&&t(Object.prototype,"__proto__"),a=Object,l=a.getPrototypeOf;return QM=n&&typeof n.get=="function"?e([n.get]):typeof l=="function"?function(o){return l(o==null?o:a(o))}:!1,QM}var JM,t8;function S2e(){if(t8)return JM;t8=1;var e=MW(),t=OW(),r=w2e();return JM=e?function(a){return e(a)}:t?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return t(a)}:r?function(a){return r(a)}:null,JM}var eO,r8;function IW(){if(r8)return eO;r8=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Y1();return eO=r.call(e,t),eO}var tO,n8;function DW(){if(n8)return tO;n8=1;var e,t=RW(),r=i2e(),n=o2e(),a=s2e(),l=l2e(),c=CW(),o=X1(),g=c2e(),m=u2e(),_=d2e(),E=f2e(),R=h2e(),O=p2e(),I=m2e(),B=y2e(),$=Function,q=function(lr){try{return $('"use strict"; return ('+lr+").constructor;")()}catch{}},j=pC(),F=hC(),N=function(){throw new o},G=j?function(){try{return arguments.callee,N}catch{try{return j(arguments,"callee").get}catch{return N}}}():N,V=b2e()(),ee=S2e(),ne=OW(),ae=MW(),X=oL(),te=iL(),le={},we=typeof Uint8Array>"u"||!ee?e:ee(Uint8Array),ve={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":V&&ee?ee([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":le,"%AsyncGenerator%":le,"%AsyncGeneratorFunction%":le,"%AsyncIteratorPrototype%":le,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":$,"%GeneratorFunction%":le,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&ee?ee(ee([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V||!ee?e:ee(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":j,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":a,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V||!ee?e:ee(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&ee?ee(""[Symbol.iterator]()):e,"%Symbol%":V?Symbol:e,"%SyntaxError%":c,"%ThrowTypeError%":G,"%TypedArray%":we,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":te,"%Function.prototype.apply%":X,"%Object.defineProperty%":F,"%Object.getPrototypeOf%":ne,"%Math.abs%":m,"%Math.floor%":_,"%Math.max%":E,"%Math.min%":R,"%Math.pow%":O,"%Math.round%":I,"%Math.sign%":B,"%Reflect.getPrototypeOf%":ae};if(ee)try{null.error}catch(lr){var xe=ee(ee(lr));ve["%Error.prototype%"]=xe}var ce=function lr(Dt){var $t;if(Dt==="%AsyncFunction%")$t=q("async function () {}");else if(Dt==="%GeneratorFunction%")$t=q("function* () {}");else if(Dt==="%AsyncGeneratorFunction%")$t=q("async function* () {}");else if(Dt==="%AsyncGenerator%"){var tr=lr("%AsyncGeneratorFunction%");tr&&($t=tr.prototype)}else if(Dt==="%AsyncIteratorPrototype%"){var ur=lr("%AsyncGenerator%");ur&&ee&&($t=ee(ur.prototype))}return ve[Dt]=$t,$t},Ce={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Se=Y1(),ze=IW(),ge=Se.call(te,Array.prototype.concat),je=Se.call(X,Array.prototype.splice),et=Se.call(te,String.prototype.replace),rt=Se.call(te,String.prototype.slice),vt=Se.call(te,RegExp.prototype.exec),ht=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ut=/\\(\\)?/g,Vt=function(Dt){var $t=rt(Dt,0,1),tr=rt(Dt,-1);if($t==="%"&&tr!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(tr==="%"&&$t!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var ur=[];return et(Dt,ht,function(Xt,mr,Vr,br){ur[ur.length]=Vr?et(br,ut,"$1"):mr||Xt}),ur},Nt=function(Dt,$t){var tr=Dt,ur;if(ze(Ce,tr)&&(ur=Ce[tr],tr="%"+ur[0]+"%"),ze(ve,tr)){var Xt=ve[tr];if(Xt===le&&(Xt=ce(tr)),typeof Xt>"u"&&!$t)throw new o("intrinsic "+Dt+" exists, but is not available. Please file an issue!");return{alias:ur,name:tr,value:Xt}}throw new c("intrinsic "+Dt+" does not exist!")};return tO=function(Dt,$t){if(typeof Dt!="string"||Dt.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $t!="boolean")throw new o('"allowMissing" argument must be a boolean');if(vt(/^%?[^%]*%?$/,Dt)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var tr=Vt(Dt),ur=tr.length>0?tr[0]:"",Xt=Nt("%"+ur+"%",$t),mr=Xt.name,Vr=Xt.value,br=!1,nn=Xt.alias;nn&&(ur=nn[0],je(tr,ge([0,1],nn)));for(var Rr=1,Be=!0;Rr<tr.length;Rr+=1){var Ye=tr[Rr],We=rt(Ye,0,1),Ut=rt(Ye,-1);if((We==='"'||We==="'"||We==="`"||Ut==='"'||Ut==="'"||Ut==="`")&&We!==Ut)throw new c("property names with quotes must have matching quotes");if((Ye==="constructor"||!Be)&&(br=!0),ur+="."+Ye,mr="%"+ur+"%",ze(ve,mr))Vr=ve[mr];else if(Vr!=null){if(!(Ye in Vr)){if(!$t)throw new o("base intrinsic for "+Dt+" exists, but the property is not available.");return}if(j&&Rr+1>=tr.length){var qt=j(Vr,Ye);Be=!!qt,Be&&"get"in qt&&!("originalValue"in qt.get)?Vr=qt.get:Vr=Vr[Ye]}else Be=ze(Vr,Ye),Vr=Vr[Ye];Be&&!br&&(ve[mr]=Vr)}}return Vr},tO}var rO,a8;function E2e(){if(a8)return rO;a8=1;var e=DW(),t=TW(),r=AW()(),n=pC(),a=X1(),l=e("%Math.floor%");return rO=function(o,g){if(typeof o!="function")throw new a("`fn` is not a function");if(typeof g!="number"||g<0||g>4294967295||l(g)!==g)throw new a("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],_=!0,E=!0;if("length"in o&&n){var R=n(o,"length");R&&!R.configurable&&(_=!1),R&&!R.writable&&(E=!1)}return(_||E||!m)&&(r?t(o,"length",g,!0,!0):t(o,"length",g)),o},rO}var nO,i8;function C2e(){if(i8)return nO;i8=1;var e=Y1(),t=oL(),r=kW();return nO=function(){return r(e,t,arguments)},nO}var o8;function T2e(){return o8||(o8=1,function(e){var t=E2e(),r=hC(),n=sL(),a=C2e();e.exports=function(c){var o=n(arguments),g=c.length-(arguments.length-1);return t(o,1+(g>0?g:0),!0)},r?r(e.exports,"apply",{value:a}):e.exports.apply=a}(TM)),TM.exports}var aO,s8;function A2e(){if(s8)return aO;s8=1;var e=X1();return aO=function(r){if(r==null)throw new e(arguments.length>0&&arguments[1]||"Cannot call method on "+r);return r},aO}var iO,l8;function P2e(){if(l8)return iO;l8=1;var e=DW(),t=sL(),r=t([e("%String.prototype.indexOf%")]);return iO=function(a,l){var c=e(a,!!l);return typeof c=="function"&&r(a,".prototype.")>-1?t([c]):c},iO}var oO,c8;function zW(){if(c8)return oO;c8=1;var e=A2e(),t=P2e(),r=t("Object.prototype.propertyIsEnumerable"),n=t("Array.prototype.push");return oO=function(l){var c=e(l),o=[];for(var g in c)r(c,g)&&n(o,[g,c[g]]);return o},oO}var sO,u8;function LW(){if(u8)return sO;u8=1;var e=zW();return sO=function(){return typeof Object.entries=="function"?Object.entries:e},sO}var lO,d8;function R2e(){if(d8)return lO;d8=1;var e=LW(),t=PW();return lO=function(){var n=e();return t(Object,{entries:n},{entries:function(){return Object.entries!==n}}),n},lO}var cO,f8;function M2e(){if(f8)return cO;f8=1;var e=PW(),t=T2e(),r=zW(),n=LW(),a=R2e(),l=t(n(),Object);return e(l,{getPolyfill:n,implementation:r,shim:a}),cO=l,cO}var uO,h8;function O2e(){if(h8)return uO;h8=1;var e=function(){};return uO=e,uO}var dO,p8;function k2e(){if(p8)return dO;p8=1;var e=M2e(),t=O2e(),r=IW(),n=function(N){t(!1,N)},a=String.prototype.replace,l=String.prototype.split,c="||||",o=function(F){var N=F%100,G=N%10;return N!==11&&G===1?0:2<=G&&G<=4&&!(N>=12&&N<=14)?1:2},g={pluralTypes:{arabic:function(F){if(F<3)return F;var N=F%100;return N>=3&&N<=10?3:N>=11?4:5},bosnian_serbian:o,chinese:function(){return 0},croatian:o,french:function(F){return F>=2?1:0},german:function(F){return F!==1?1:0},russian:o,lithuanian:function(F){return F%10===1&&F%100!==11?0:F%10>=2&&F%10<=9&&(F%100<11||F%100>19)?1:2},czech:function(F){return F===1?0:F>=2&&F<=4?1:2},polish:function(F){if(F===1)return 0;var N=F%10;return 2<=N&&N<=4&&(F%100<10||F%100>=20)?1:2},icelandic:function(F){return F%10!==1||F%100===11?1:0},slovenian:function(F){var N=F%100;return N===1?0:N===2?1:N===3||N===4?2:3},romanian:function(F){if(F===1)return 0;var N=F%100;return F===0||N>=2&&N<=19?1:2},ukrainian:o},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"],ukrainian:["uk","ua"]}};function m(F){for(var N={},G=e(F),V=0;V<G.length;V+=1)for(var ee=G[V][0],ne=G[V][1],ae=0;ae<ne.length;ae+=1)N[ne[ae]]=ee;return N}function _(F,N){var G=m(F.pluralTypeToLanguages);return G[N]||G[l.call(N,/-/,1)[0]]||G.en}function E(F,N,G){return F.pluralTypes[N](G)}function R(){var F={};return function(N,G){var V=F[G];return V&&!N.pluralTypes[V]&&(V=null,F[G]=V),V||(V=_(N,G),V&&(F[G]=V)),V}}function O(F){return F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(F){var N=F&&F.prefix||"%{",G=F&&F.suffix||"}";if(N===c||G===c)throw new RangeError('"'+c+'" token is reserved for pluralization');return new RegExp(O(N)+"(.*?)"+O(G),"g")}var B=R(),$=/%\{(.*?)\}/g;function q(F,N,G,V,ee,ne){if(typeof F!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(N==null)return F;var ae=F,X=V||$,te=ne||a,le=typeof N=="number"?{smart_count:N}:N;if(le.smart_count!=null&&F){var we=ee||g,ve=l.call(F,c),xe=G||"en",ce=B(we,xe),Ce=E(we,ce,le.smart_count);ae=a.call(ve[Ce]||ve[0],/^[^\S]*|[^\S]*$/g,"")}return ae=te.call(ae,X,function(Se,ze){return!r(le,ze)||le[ze]==null?Se:le[ze]}),ae}function j(F){var N=F||{};this.phrases={},this.extend(N.phrases||{}),this.currentLocale=N.locale||"en";var G=N.allowMissing?q:null;this.onMissingKey=typeof N.onMissingKey=="function"?N.onMissingKey:G,this.warn=N.warn||n,this.replaceImplementation=N.replace||a,this.tokenRegex=I(N.interpolation),this.pluralRules=N.pluralRules||g}return j.prototype.locale=function(F){return F&&(this.currentLocale=F),this.currentLocale},j.prototype.extend=function(F,N){for(var G=e(F||{}),V=0;V<G.length;V+=1){var ee=G[V][0],ne=G[V][1],ae=N?N+"."+ee:ee;typeof ne=="object"?this.extend(ne,ae):this.phrases[ae]=ne}},j.prototype.unset=function(F,N){if(typeof F=="string")delete this.phrases[F];else for(var G=e(F||{}),V=0;V<G.length;V+=1){var ee=G[V][0],ne=G[V][1],ae=N?N+"."+ee:ee;typeof ne=="object"?this.unset(ne,ae):delete this.phrases[ae]}},j.prototype.clear=function(){this.phrases={}},j.prototype.replace=function(F){this.clear(),this.extend(F)},j.prototype.t=function(F,N){var G,V,ee=N??{};if(typeof this.phrases[F]=="string")G=this.phrases[F];else if(typeof ee._=="string")G=ee._;else if(this.onMissingKey){var ne=this.onMissingKey;V=ne(F,ee,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+F+'"'),V=F;return typeof G=="string"&&(V=q(G,ee,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),V},j.prototype.has=function(F){return r(this.phrases,F)},j.transformPhrase=function(N,G,V){return q(N,G,V)},dO=j,dO}var I2e=k2e();const m8=zo(I2e);var Fb=function(){return Fb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Fb.apply(this,arguments)};const D2e=function(e,t,r,n){r===void 0&&(r=[{locale:"en",name:"English"}]),n===void 0&&(n={});var a=t,l=e(t);if(l instanceof Promise)throw new Error("The i18nProvider returned a Promise for the messages of the default locale (".concat(t,"). Please update your i18nProvider to return the messages of the default locale in a synchronous way."));var c,o;Array.isArray(r)?(c=r,o=n):(c=[{locale:"en",name:"English"}],o=r);var g=new m8(Fb({locale:a,phrases:Fb({"":""},l)},o)),m=g.t.bind(g);return{translate:function(_,E){return E===void 0&&(E={}),m(_,E)},changeLocale:function(_){return Promise.resolve(e(_)).then(function(E){a=_;var R=new m8(Fb({locale:_,phrases:Fb({"":""},E)},n));m=R.t.bind(R)})},getLocale:function(){return a},getLocales:function(){return c}}};var z2e=D2e(function(){return t2e},"en",[{name:"en",value:"English"}],{allowMissing:!0}),L2e=hee(),B2e=function(e){var t=e.accessDenied,r=e.authCallbackPage,n=e.authenticationError,a=e.authProvider,l=e.basename,c=e.catchAll,o=e.children,g=e.darkTheme,m=e.dashboard,_=e.dataProvider,E=e.defaultTheme,R=e.disableTelemetry,O=e.error,I=e.i18nProvider,B=I===void 0?z2e:I,$=e.layout,q=e.lightTheme,j=e.loading,F=e.loginPage,N=e.notification,G=e.queryClient,V=e.ready,ee=e.requireAuth,ne=e.store,ae=ne===void 0?L2e:ne,X=e.theme,te=e.title,le=te===void 0?"React Admin":te;return S.createElement(SW,{authProvider:a,basename:l,darkTheme:g,dataProvider:_,defaultTheme:E,i18nProvider:B,lightTheme:q,queryClient:G,store:ae,theme:X},S.createElement(JEe,{accessDenied:t,authCallbackPage:r,authenticationError:n,catchAll:c,dashboard:m,disableTelemetry:R,error:O,layout:$,loading:j,loginPage:F,notification:N,ready:V,requireAuth:ee,title:le},o))};const F2e=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){var n;(n=e.httpHandler)==null||n.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),N2e=e=>({httpHandler:e.httpHandler()});var g8;(function(e){e.HEADER="header",e.QUERY="query"})(g8||(g8={}));var y8;(function(e){e.HEADER="header",e.QUERY="query"})(y8||(y8={}));var x1;(function(e){e.HTTP="http",e.HTTPS="https"})(x1||(x1={}));var KE;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(KE||(KE={}));var v8;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(v8||(v8={}));const _D="__smithy_context";var b8;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(b8||(b8={}));var _8;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(_8||(_8={}));class Do{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const r=new Do({...t,headers:{...t.headers}});return r.query&&(r.query=j2e(r.query)),r}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Do.clone(this)}}function j2e(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class x_{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function $2e(e){return t=>async r=>{var a,l;const{request:n}=r;return Do.isInstance(n)&&n.body&&e.runtime==="node"&&((l=(a=e.requestHandler)==null?void 0:a.constructor)==null?void 0:l.name)!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}const U2e={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},q2e=e=>({applyToStack:t=>{t.add($2e(e),U2e)}}),w_={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},V2e=w_.WHEN_SUPPORTED,fO={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},H2e=w_.WHEN_SUPPORTED;var Ka;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(Ka||(Ka={}));var x8;(function(e){e.HEADER="header",e.TRAILER="trailer"})(x8||(x8={}));const xD=Ka.CRC32;var w8;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(w8||(w8={}));function G2e(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}function Po(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}const S8=e=>{var t,r;return x_.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},lL=e=>new Date(Date.now()+e),Z2e=(e,t)=>Math.abs(lL(t).getTime()-e)>=3e5,E8=(e,t)=>{const r=Date.parse(e);return Z2e(r,t)?r-Date.now():t},Gx=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},BW=async e=>{var m,_,E;const t=Gx("context",e.context),r=Gx("config",e.config),n=(E=(_=(m=t.endpointV2)==null?void 0:m.properties)==null?void 0:_.authSchemes)==null?void 0:E[0],l=await Gx("signer",r.signer)(n),c=e==null?void 0:e.signingRegion,o=e==null?void 0:e.signingRegionSet,g=e==null?void 0:e.signingName;return{config:r,signer:l,signingRegion:c,signingRegionSet:o,signingName:g}};class FW{async sign(t,r,n){var E;if(!Do.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const a=await BW(n),{config:l,signer:c}=a;let{signingRegion:o,signingName:g}=a;const m=n.context;if(((E=m==null?void 0:m.authSchemes)==null?void 0:E.length)??!1){const[R,O]=m.authSchemes;(R==null?void 0:R.name)==="sigv4a"&&(O==null?void 0:O.name)==="sigv4"&&(o=(O==null?void 0:O.signingRegion)??o,g=(O==null?void 0:O.signingName)??g)}return await c.sign(t,{signingDate:lL(l.systemClockOffset),signingRegion:o,signingService:g})}errorHandler(t){return r=>{const n=r.ServerTime??S8(r.$response);if(n){const a=Gx("config",t.config),l=a.systemClockOffset;a.systemClockOffset=E8(n,a.systemClockOffset),a.systemClockOffset!==l&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){const n=S8(t);if(n){const a=Gx("config",r.config);a.systemClockOffset=E8(n,a.systemClockOffset)}}}class W2e extends FW{async sign(t,r,n){var R;if(!Do.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:a,signer:l,signingRegion:c,signingRegionSet:o,signingName:g}=await BW(n),_=(await((R=a.sigv4aSigningRegionSet)==null?void 0:R.call(a))??o??[c]).join(",");return await l.sign(t,{signingDate:lL(a.systemClockOffset),signingRegion:_,signingService:g})}}const j_=e=>e[_D]||(e[_D]={}),Kd=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},K2e=(e,t)=>{if(!t||t.length===0)return e;const r=[];for(const n of t)for(const a of e)a.schemeId.split("#")[1]===n&&r.push(a);for(const n of e)r.find(({schemeId:a})=>a===n.schemeId)||r.push(n);return r};function X2e(e){const t=new Map;for(const r of e)t.set(r.schemeId,r);return t}const Y2e=(e,t)=>(r,n)=>async a=>{var E;const l=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,a.input)),c=e.authSchemePreference?await e.authSchemePreference():[],o=K2e(l,c),g=X2e(e.httpAuthSchemes),m=j_(n),_=[];for(const R of o){const O=g.get(R.schemeId);if(!O){_.push(`HttpAuthScheme \`${R.schemeId}\` was not enabled for this service.`);continue}const I=O.identityProvider(await t.identityProviderConfigProvider(e));if(!I){_.push(`HttpAuthScheme \`${R.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:B={},signingProperties:$={}}=((E=R.propertiesExtractor)==null?void 0:E.call(R,e,n))||{};R.identityProperties=Object.assign(R.identityProperties||{},B),R.signingProperties=Object.assign(R.signingProperties||{},$),m.selectedHttpAuthScheme={httpAuthOption:R,identity:await I(R.identityProperties),signer:O.signer};break}if(!m.selectedHttpAuthScheme)throw new Error(_.join(`
`));return r(a)},Q2e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},J2e=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Y2e(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Q2e)}}),eCe=(e,t)=>(r,n)=>async a=>{var c,o,g,m;const{response:l}=await r(a);try{const _=await t(l,e);return{response:l,output:_}}catch(_){if(Object.defineProperty(_,"$response",{value:l}),!("$metadata"in _)){const E="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{_.message+=`
  `+E}catch{!n.logger||((o=(c=n.logger)==null?void 0:c.constructor)==null?void 0:o.name)==="NoOpLogger"?console.warn(E):(m=(g=n.logger)==null?void 0:g.warn)==null||m.call(g,E)}typeof _.$responseBodyText<"u"&&_.$response&&(_.$response.body=_.$responseBodyText);try{if(x_.isInstance(l)){const{headers:R={}}=l,O=Object.entries(R);_.$metadata={httpStatusCode:l.statusCode,requestId:hO(/^x-[\w-]+-request-?id$/,O),extendedRequestId:hO(/^x-[\w-]+-id-2$/,O),cfId:hO(/^x-[\w-]+-cf-id$/,O)}}}catch{}}throw _}},hO=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],tCe=(e,t)=>(r,n)=>async a=>{var g;const l=e,c=(g=n.endpointV2)!=null&&g.url&&l.urlParser?async()=>l.urlParser(n.endpointV2.url):l.endpoint;if(!c)throw new Error("No valid endpoint provider available.");const o=await t(a.input,{...e,endpoint:c});return r({...a,request:o})},rCe={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},cL={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function uL(e,t,r){return{applyToStack:n=>{n.add(eCe(e,r),rCe),n.add(tCe(e,t),cL)}}}cL.name;const nCe=e=>t=>{throw t},aCe=(e,t)=>{},iCe=e=>(t,r)=>async n=>{if(!Do.isInstance(n.request))return t(n);const l=j_(r).selectedHttpAuthScheme;if(!l)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:c={}},identity:o,signer:g}=l,m=await t({...n,request:await g.sign(n.request,o,c)}).catch((g.errorHandler||nCe)(c));return(g.successHandler||aCe)(m.response,c),m},NW={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},oCe=e=>({applyToStack:t=>{t.addRelativeTo(iCe(),NW)}}),Kb=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},sg={},$_=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){const n=String.fromCharCode(e+t);sg[n]=e,$_[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){const n=String.fromCharCode(e+t),a=e+26;sg[n]=a,$_[a]=n}for(let e=0;e<10;e++){sg[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;sg[t]=r,$_[r]=t}sg["+"]=62;$_[62]="+";sg["/"]=63;$_[63]="/";const Xb=6,Zx=8,sCe=63,dL=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let a=0;a<e.length;a+=4){let l=0,c=0;for(let m=a,_=a+3;m<=_;m++)if(e[m]!=="="){if(!(e[m]in sg))throw new TypeError(`Invalid character ${e[m]} in base64 string.`);l|=sg[e[m]]<<(_-m)*Xb,c+=Xb}else l>>=Xb;const o=a/4*3;l>>=c%Zx;const g=Math.floor(c/Zx);for(let m=0;m<g;m++){const _=(g-m-1)*Zx;n.setUint8(o+m,(l&255<<_)>>_)}}return new Uint8Array(r)},Jy=e=>new TextEncoder().encode(e),S_=e=>typeof e=="string"?Jy(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),fL=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function mC(e){let t;typeof e=="string"?t=Jy(e):t=e;const r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let a="";for(let l=0;l<t.length;l+=3){let c=0,o=0;for(let m=l,_=Math.min(l+3,t.length);m<_;m++)c|=t[m]<<(_-m-1)*Zx,o+=Zx;const g=Math.ceil(o/Xb);c<<=g*Xb-o;for(let m=1;m<=g;m++){const _=(g-m)*Xb;a+=$_[(c&sCe<<_)>>_]}a+="==".slice(0,4-g)}return a}function lCe(e,t="utf-8"){return t==="base64"?mC(e):fL(e)}function cCe(e,t){return t==="base64"?qy.mutate(dL(e)):qy.mutate(Jy(e))}class qy extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return cCe(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,qy.prototype),t}transformToString(t="utf-8"){return lCe(this,t)}}const uCe=typeof ReadableStream=="function"?ReadableStream:function(){};class dCe extends uCe{}const wD=e=>{var t;return typeof ReadableStream=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)},fCe=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:a})=>{var g;if(!wD(r))throw new Error(`@smithy/util-stream: unsupported source type ${((g=r==null?void 0:r.constructor)==null?void 0:g.name)??r} in ChecksumStream.`);const l=a??mC;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const c=new TransformStream({start(){},async transform(m,_){t.update(m),_.enqueue(m)},async flush(m){const _=await t.digest(),E=l(_);if(e!==E){const R=new Error(`Checksum mismatch: expected "${e}" but received "${E}" in response header "${n}".`);m.error(R)}else m.terminate()}});r.pipeThrough(c);const o=c.readable;return Object.setPrototypeOf(o,dCe.prototype),o};class hCe{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){const n=this.byteArrays[0];return this.reset(),n}const t=this.allocByteArray(this.byteLength);let r=0;for(let n=0;n<this.byteArrays.length;++n){const a=this.byteArrays[n];t.set(a,r),r+=a.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}}function pCe(e,t,r){const n=e.getReader();let a=!1,l=0;const c=["",new hCe(m=>new Uint8Array(m))];let o=-1;const g=async m=>{const{value:_,done:E}=await n.read(),R=_;if(E){if(o!==-1){const O=pO(c,o);Wx(O)>0&&m.enqueue(O)}m.close()}else{const O=yCe(R,!1);if(o!==O&&(o>=0&&m.enqueue(pO(c,o)),o=O),o===-1){m.enqueue(R);return}const I=Wx(R);l+=I;const B=Wx(c[o]);if(I>=t&&B===0)m.enqueue(R);else{const $=gCe(c,o,R);!a&&l>t*2&&(a=!0,r==null||r.warn(`@smithy/util-stream - stream chunk size ${I} is below threshold of ${t}, automatically buffering.`)),$>=t?m.enqueue(pO(c,o)):await g(m)}}};return new ReadableStream({pull:g})}const mCe=pCe;function gCe(e,t,r){switch(t){case 0:return e[0]+=r,Wx(e[0]);case 1:case 2:return e[t].push(r),Wx(e[t])}}function pO(e,t){switch(t){case 0:const r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Wx(e){return(e==null?void 0:e.byteLength)??(e==null?void 0:e.length)??0}function yCe(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}const vCe=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:a,checksumLocationName:l,streamHasher:c}=t,o=r!==void 0&&n!==void 0&&a!==void 0&&l!==void 0&&c!==void 0,g=o?c(a,e):void 0,m=e.getReader();return new ReadableStream({async pull(_){const{value:E,done:R}=await m.read();if(R){if(_.enqueue(`0\r
`),o){const O=r(await g);_.enqueue(`${l}:${O}\r
`),_.enqueue(`\r
`)}_.close()}else _.enqueue(`${(n(E)||0).toString(16)}\r
${E}\r
`)}})};async function bCe(e,t){let r=0;const n=[],a=e.getReader();let l=!1;for(;!l;){const{done:g,value:m}=await a.read();if(m&&(n.push(m),r+=(m==null?void 0:m.byteLength)??0),r>=t)break;l=g}a.releaseLock();const c=new Uint8Array(Math.min(t,r));let o=0;for(const g of n){if(g.byteLength>c.byteLength-o){c.set(g.subarray(0,c.byteLength-o),o);break}else c.set(g,o);o+=g.length}return c}const Vy=e=>encodeURIComponent(e).replace(/[!'()*]/g,_Ce),_Ce=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function xCe(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=Vy(r),Array.isArray(n))for(let a=0,l=n.length;a<l;a++)t.push(`${r}=${Vy(n[a])}`);else{let a=r;(n||typeof n=="string")&&(a+=`=${Vy(n)}`),t.push(a)}}return t.join("&")}function C8(e,t){return new Request(e,t)}function wCe(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const mO={supported:void 0};class hL{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new hL(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),mO.supported===void 0&&(mO.supported=typeof Request<"u"&&"keepalive"in C8("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r}={}){var q;this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,a=this.config.keepAlive===!0,l=this.config.credentials;if(r!=null&&r.aborted){const j=new Error("Request aborted");return j.name="AbortError",Promise.reject(j)}let c=t.path;const o=xCe(t.query||{});o&&(c+=`?${o}`),t.fragment&&(c+=`#${t.fragment}`);let g="";if(t.username!=null||t.password!=null){const j=t.username??"",F=t.password??"";g=`${j}:${F}@`}const{port:m,method:_}=t,E=`${t.protocol}//${g}${t.hostname}${m?`:${m}`:""}${c}`,R=_==="GET"||_==="HEAD"?void 0:t.body,O={body:R,headers:new Headers(t.headers),method:_,credentials:l};(q=this.config)!=null&&q.cache&&(O.cache=this.config.cache),R&&(O.duplex="half"),typeof AbortController<"u"&&(O.signal=r),mO.supported&&(O.keepalive=a),typeof this.config.requestInit=="function"&&Object.assign(O,this.config.requestInit(t));let I=()=>{};const B=C8(E,O),$=[fetch(B).then(j=>{const F=j.headers,N={};for(const V of F.entries())N[V[0]]=V[1];return j.body!=null?{response:new x_({headers:N,reason:j.statusText,statusCode:j.status,body:j.body})}:j.blob().then(V=>({response:new x_({headers:N,reason:j.statusText,statusCode:j.status,body:V})}))}),wCe(n)];return r&&$.push(new Promise((j,F)=>{const N=()=>{const G=new Error("Request aborted");G.name="AbortError",F(G)};if(typeof r.addEventListener=="function"){const G=r;G.addEventListener("abort",N,{once:!0}),I=()=>G.removeEventListener("abort",N)}else r.onabort=N})),Promise.race($).finally(I)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const jW=async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):SCe(e):ECe(e)};async function SCe(e){const t=await CCe(e),r=dL(t);return new Uint8Array(r)}async function ECe(e){const t=[],r=e.getReader();let n=!1,a=0;for(;!n;){const{done:o,value:g}=await r.read();g&&(t.push(g),a+=g.length),n=o}const l=new Uint8Array(a);let c=0;for(const o of t)l.set(o,c),c+=o.length;return l}function CCe(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const a=n.result??"",l=a.indexOf(","),c=l>-1?l+1:a.length;t(a.substring(c))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const $W={},SD={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),$W[e]=t,SD[t]=e}function UW(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in SD)t[r/2]=SD[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function sc(e){let t="";for(let r=0;r<e.byteLength;r++)t+=$W[e[r]];return t}const T8="The stream has already been transformed.",TCe=e=>{var a,l;if(!A8(e)&&!wD(e)){const c=((l=(a=e==null?void 0:e.__proto__)==null?void 0:a.constructor)==null?void 0:l.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${c}`)}let t=!1;const r=async()=>{if(t)throw new Error(T8);return t=!0,await jW(e)},n=c=>{if(typeof c.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return c.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async c=>{const o=await r();if(c==="base64")return mC(o);if(c==="hex")return sc(o);if(c===void 0||c==="utf8"||c==="utf-8")return fL(o);if(typeof TextDecoder=="function")return new TextDecoder(c).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(T8);if(t=!0,A8(e))return n(e);if(wD(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},A8=e=>typeof Blob=="function"&&e instanceof Blob;async function ACe(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}const qW=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return qy.mutate(e);if(!e)return qy.mutate(new Uint8Array);const r=t.streamCollector(e);return qy.mutate(await r)};function P8(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const gC=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},PCe=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ZW.warn(GW(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},RCe=Math.ceil(2**127*(2-2**-23)),R8=e=>{const t=PCe(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>RCe)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ED=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},M8=e=>pL(e,32),O8=e=>pL(e,16),k8=e=>pL(e,8),pL=(e,t)=>{const r=ED(e);if(r!==void 0&&MCe(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},MCe=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Q1=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},VW=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Ro=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ZW.warn(GW(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},OCe=e=>R8(typeof e=="string"?J1(e):e),kCe=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,J1=e=>{const t=e.match(kCe);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},HW=e=>ED(typeof e=="string"?J1(e):e),I8=e=>M8(typeof e=="string"?J1(e):e),ICe=e=>O8(typeof e=="string"?J1(e):e),DCe=e=>k8(typeof e=="string"?J1(e):e),GW=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ZW={warn:console.warn},zCe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],WW=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function LCe(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),a=e.getUTCDate(),l=e.getUTCHours(),c=e.getUTCMinutes(),o=e.getUTCSeconds(),g=a<10?`0${a}`:`${a}`,m=l<10?`0${l}`:`${l}`,_=c<10?`0${c}`:`${c}`,E=o<10?`0${o}`:`${o}`;return`${zCe[n]}, ${g} ${WW[r]} ${t} ${m}:${_}:${E} GMT`}const BCe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),mL=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=BCe.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,a,l,c,o,g,m,_]=t,E=ICe(KW(n)),R=Kx(a,"month",1,12),O=Kx(l,"day",1,31),I=FCe(E,R,O,{hours:c,minutes:o,seconds:g,fractionalMilliseconds:m});return _.toUpperCase()!="Z"&&I.setTime(I.getTime()-qCe(_)),I},FCe=(e,t,r,n)=>{const a=t-1;return jCe(e,a,r),new Date(Date.UTC(e,a,r,Kx(n.hours,"hour",0,23),Kx(n.minutes,"minute",0,59),Kx(n.seconds,"seconds",0,60),UCe(n.fractionalMilliseconds)))},NCe=[31,28,31,30,31,30,31,31,30,31,30,31],jCe=(e,t,r)=>{let n=NCe[t];if(t===1&&$Ce(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${WW[t]} in ${e}: ${r}`)},$Ce=e=>e%4===0&&(e%100!==0||e%400===0),Kx=(e,t,r,n)=>{const a=DCe(KW(e));if(a<r||a>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return a},UCe=e=>e==null?0:OCe("0."+e)*1e3,qCe=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),a=Number(e.substring(4,6));return r*(n*60+a)*60*1e3},KW=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};function VCe(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}const HCe=(e,t,r,n,a,l)=>{if(t!=null&&t[r]!==void 0){const c=n();if(c.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(a,l?c.split("/").map(o=>P8(o)).join("/"):P8(c))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};function gL(e,t){return new GCe(e,t)}class GCe{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:r="https",port:n,path:a}=await this.context.endpoint();this.path=a;for(const l of this.resolvePathStack)l(this.path);return new Do({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,a){return this.resolvePathStack.push(l=>{this.path=HCe(l,this.input,t,r,n,a)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}function ZCe(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}class WCe{constructor(t){this.authSchemes=new Map;for(const[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}const KCe=e=>t=>XW(t)&&t.expiration.getTime()-Date.now()<e,XCe=3e5,YCe=KCe(XCe),XW=e=>e.expiration!==void 0,QCe=(e,t,r)=>{if(e===void 0)return;const n=typeof e!="function"?async()=>Promise.resolve(e):e;let a,l,c,o=!1;const g=async m=>{l||(l=n(m));try{a=await l,c=!0,o=!1}finally{l=void 0}return a};return t===void 0?async m=>((!c||m!=null&&m.forceRefresh)&&(a=await g(m)),a):async m=>((!c||m!=null&&m.forceRefresh)&&(a=await g(m)),o?a:r(a)?(t(a)&&await g(m),a):(o=!0,a))},JCe=(e,t,r)=>{let n,a,l,c=!1;const o=async()=>{a||(a=e());try{n=await a,l=!0,c=!1}finally{a=void 0}return n};return async g=>((!l||g!=null&&g.forceRefresh)&&(n=await o()),n)},eTe=e=>(e.sigv4aSigningRegionSet=Kb(e.sigv4aSigningRegionSet),e),tTe="X-Amz-Algorithm",rTe="X-Amz-Credential",YW="X-Amz-Date",nTe="X-Amz-SignedHeaders",aTe="X-Amz-Expires",QW="X-Amz-Signature",JW="X-Amz-Security-Token",eK="authorization",tK=YW.toLowerCase(),iTe="date",oTe=[eK,tK,iTe],sTe=QW.toLowerCase(),CD="x-amz-content-sha256",lTe=JW.toLowerCase(),cTe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},uTe=/^proxy-/,dTe=/^sec-/,gO="AWS4-HMAC-SHA256",fTe="AWS4-HMAC-SHA256-PAYLOAD",hTe="UNSIGNED-PAYLOAD",pTe=50,rK="aws4_request",mTe=60*60*24*7,aS={},yO=[],vO=(e,t,r)=>`${e}/${t}/${r}/${rK}`,gTe=async(e,t,r,n,a)=>{const l=await D8(e,t.secretAccessKey,t.accessKeyId),c=`${r}:${n}:${a}:${sc(l)}:${t.sessionToken}`;if(c in aS)return aS[c];for(yO.push(c);yO.length>pTe;)delete aS[yO.shift()];let o=`AWS4${t.secretAccessKey}`;for(const g of[r,n,a,rK])o=await D8(e,o,g);return aS[c]=o},D8=(e,t,r)=>{const n=new e(t);return n.update(S_(r)),n.digest()},z8=({headers:e},t,r)=>{const n={};for(const a of Object.keys(e).sort()){if(e[a]==null)continue;const l=a.toLowerCase();(l in cTe||t!=null&&t.has(l)||uTe.test(l)||dTe.test(l))&&(!r||r&&!r.has(l))||(n[l]=e[a].trim().replace(/\s+/g," "))}return n},nK=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",bO=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===CD)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||nK(t)){const n=new r;return n.update(S_(t)),sc(await n.digest())}return hTe};class yTe{format(t){const r=[];for(const l of Object.keys(t)){const c=Jy(l);r.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(t[l]))}const n=new Uint8Array(r.reduce((l,c)=>l+c.byteLength,0));let a=0;for(const l of r)n.set(l,a),a+=l.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const a=new Uint8Array(9);return a[0]=5,a.set(t.value.bytes,1),a;case"binary":const l=new DataView(new ArrayBuffer(3+t.value.byteLength));l.setUint8(0,6),l.setUint16(1,t.value.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(t.value,3),c;case"string":const o=Jy(t.value),g=new DataView(new ArrayBuffer(3+o.byteLength));g.setUint8(0,7),g.setUint16(1,o.byteLength,!1);const m=new Uint8Array(g.buffer);return m.set(o,3),m;case"timestamp":const _=new Uint8Array(9);return _[0]=8,_.set(bTe.fromNumber(t.value.valueOf()).bytes,1),_;case"uuid":if(!vTe.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const E=new Uint8Array(17);return E[0]=9,E.set(UW(t.value.replace(/\-/g,"")),1),E}}}var L8;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(L8||(L8={}));const vTe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let bTe=class aK{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,a=Math.abs(Math.round(t));n>-1&&a>0;n--,a/=256)r[n]=a;return t<0&&B8(r),new aK(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&B8(t),parseInt(sc(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function B8(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const _Te=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},xTe=(e,t={})=>{var a,l;const{headers:r,query:n={}}=Do.clone(e);for(const c of Object.keys(r)){const o=c.toLowerCase();(o.slice(0,6)==="x-amz-"&&!((a=t.unhoistableHeaders)!=null&&a.has(o))||(l=t.hoistableHeaders)!=null&&l.has(o))&&(n[c]=r[c],delete r[c])}return{...e,headers:r,query:n}},F8=e=>{e=Do.clone(e);for(const t of Object.keys(e.headers))oTe.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},wTe=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e)){if(n.toLowerCase()===sTe)continue;const a=Vy(n);t.push(a);const l=e[n];typeof l=="string"?r[a]=`${a}=${Vy(l)}`:Array.isArray(l)&&(r[a]=l.slice(0).reduce((c,o)=>c.concat([`${a}=${Vy(o)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},STe=e=>ETe(e).toISOString().replace(/\.\d{3}Z$/,"Z"),ETe=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class CTe{constructor({applyChecksum:t,credentials:r,region:n,service:a,sha256:l,uriEscapePath:c=!0}){this.service=a,this.sha256=l,this.uriEscapePath=c,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Kd(n),this.credentialProvider=Kd(r)}createCanonicalRequest(t,r,n){const a=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${wTe(t)}
${a.map(l=>`${l}:${r[l]}`).join(`
`)}

${a.join(";")}
${n}`}async createStringToSign(t,r,n,a){const l=new this.sha256;l.update(S_(n));const c=await l.digest();return`${a}
${t}
${r}
${sc(c)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const l of t.split("/"))(l==null?void 0:l.length)!==0&&l!=="."&&(l===".."?r.pop():r.push(l));const n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Vy(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){const r=STe(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}}class TD extends CTe{constructor({applyChecksum:t,credentials:r,region:n,service:a,sha256:l,uriEscapePath:c=!0}){super({applyChecksum:t,credentials:r,region:n,service:a,sha256:l,uriEscapePath:c}),this.headerFormatter=new yTe}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:a=3600,unsignableHeaders:l,unhoistableHeaders:c,signableHeaders:o,hoistableHeaders:g,signingRegion:m,signingService:_}=r,E=await this.credentialProvider();this.validateResolvedCredentials(E);const R=m??await this.regionProvider(),{longDate:O,shortDate:I}=this.formatDate(n);if(a>mTe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const B=vO(I,R,_??this.service),$=xTe(F8(t),{unhoistableHeaders:c,hoistableHeaders:g});E.sessionToken&&($.query[JW]=E.sessionToken),$.query[tTe]=gO,$.query[rTe]=`${E.accessKeyId}/${B}`,$.query[YW]=O,$.query[aTe]=a.toString(10);const q=z8($,l,o);return $.query[nTe]=this.getCanonicalHeaderList(q),$.query[QW]=await this.getSignature(O,B,this.getSigningKey(E,R,I,_),this.createCanonicalRequest($,q,await bO(t,this.sha256))),$}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:a,signingRegion:l,signingService:c}){const o=l??await this.regionProvider(),{shortDate:g,longDate:m}=this.formatDate(n),_=vO(g,o,c??this.service),E=await bO({headers:{},body:r},this.sha256),R=new this.sha256;R.update(t);const O=sc(await R.digest()),I=[fTe,m,_,a,O,E].join(`
`);return this.signString(I,{signingDate:n,signingRegion:o,signingService:c})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:a}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:a,priorSignature:t.priorSignature}).then(c=>({message:t.message,signature:c}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:a}={}){const l=await this.credentialProvider();this.validateResolvedCredentials(l);const c=n??await this.regionProvider(),{shortDate:o}=this.formatDate(r),g=new this.sha256(await this.getSigningKey(l,c,o,a));return g.update(S_(t)),sc(await g.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:a,signingRegion:l,signingService:c}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const g=l??await this.regionProvider(),m=F8(t),{longDate:_,shortDate:E}=this.formatDate(r),R=vO(E,g,c??this.service);m.headers[tK]=_,o.sessionToken&&(m.headers[lTe]=o.sessionToken);const O=await bO(m,this.sha256);!_Te(CD,m.headers)&&this.applyChecksum&&(m.headers[CD]=O);const I=z8(m,a,n),B=await this.getSignature(_,R,this.getSigningKey(o,g,E,c),this.createCanonicalRequest(m,I,O));return m.headers[eK]=`${gO} Credential=${o.accessKeyId}/${R}, SignedHeaders=${this.getCanonicalHeaderList(I)}, Signature=${B}`,m}async getSignature(t,r,n,a){const l=await this.createStringToSign(t,r,a,gO),c=new this.sha256(await n);return c.update(S_(l)),sc(await c.digest())}getSigningKey(t,r,n,a){return gTe(this.sha256,t,n,r,a||this.service)}}const TTe=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(m){m&&m!==t&&m!==n&&(r=!0),t=m;const _=ATe(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),E=PTe(e,_);r&&!E.attributed?(n=async R=>E(R).then(O=>G2e(O,"CREDENTIALS_CODE","e")),n.memoized=E.memoized,n.configBound=E.configBound,n.attributed=!0):n=E},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;const{signingEscapePath:a=!0,systemClockOffset:l=e.systemClockOffset||0,sha256:c}=e;let o;return e.signer?o=Kb(e.signer):e.regionInfoProvider?o=()=>Kb(e.region)().then(async m=>[await e.regionInfoProvider(m,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},m]).then(([m,_])=>{const{signingRegion:E,signingService:R}=m;e.signingRegion=e.signingRegion||E||_,e.signingName=e.signingName||R||e.serviceId;const O={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:a},I=e.signerConstructor||TD;return new I(O)}):o=async m=>{m=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Kb(e.region)(),properties:{}},m);const _=m.signingRegion,E=m.signingName;e.signingRegion=e.signingRegion||_,e.signingName=e.signingName||E||e.serviceId;const R={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:a},O=e.signerConstructor||TD;return new O(R)},Object.assign(e,{systemClockOffset:l,signingEscapePath:a,signer:o})};function ATe(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t!=null&&t.memoized?n=t:n=QCe(t,YCe,XW):r?n=Kb(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function PTe(e,t){if(t.configBound)return t;const r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}const N8=typeof TextEncoder=="function"?new TextEncoder:null,RTe=e=>{if(typeof e=="string"){if(N8)return N8.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},py=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},Pm=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,XE=()=>{let e=[],t=[],r=!1;const n=new Set,a=E=>E.sort((R,O)=>j8[O.step]-j8[R.step]||$8[O.priority||"normal"]-$8[R.priority||"normal"]),l=E=>{let R=!1;const O=I=>{const B=py(I.name,I.aliases);if(B.includes(E)){R=!0;for(const $ of B)n.delete($);return!1}return!0};return e=e.filter(O),t=t.filter(O),R},c=E=>{let R=!1;const O=I=>{if(I.middleware===E){R=!0;for(const B of py(I.name,I.aliases))n.delete(B);return!1}return!0};return e=e.filter(O),t=t.filter(O),R},o=E=>{var R;return e.forEach(O=>{E.add(O.middleware,{...O})}),t.forEach(O=>{E.addRelativeTo(O.middleware,{...O})}),(R=E.identifyOnResolve)==null||R.call(E,_.identifyOnResolve()),E},g=E=>{const R=[];return E.before.forEach(O=>{O.before.length===0&&O.after.length===0?R.push(O):R.push(...g(O))}),R.push(E),E.after.reverse().forEach(O=>{O.before.length===0&&O.after.length===0?R.push(O):R.push(...g(O))}),R},m=(E=!1)=>{const R=[],O=[],I={};return e.forEach($=>{const q={...$,before:[],after:[]};for(const j of py(q.name,q.aliases))I[j]=q;R.push(q)}),t.forEach($=>{const q={...$,before:[],after:[]};for(const j of py(q.name,q.aliases))I[j]=q;O.push(q)}),O.forEach($=>{if($.toMiddleware){const q=I[$.toMiddleware];if(q===void 0){if(E)return;throw new Error(`${$.toMiddleware} is not found when adding ${Pm($.name,$.aliases)} middleware ${$.relation} ${$.toMiddleware}`)}$.relation==="after"&&q.after.push($),$.relation==="before"&&q.before.push($)}}),a(R).map(g).reduce(($,q)=>($.push(...q),$),[])},_={add:(E,R={})=>{const{name:O,override:I,aliases:B}=R,$={step:"initialize",priority:"normal",middleware:E,...R},q=py(O,B);if(q.length>0){if(q.some(j=>n.has(j))){if(!I)throw new Error(`Duplicate middleware name '${Pm(O,B)}'`);for(const j of q){const F=e.findIndex(G=>{var V;return G.name===j||((V=G.aliases)==null?void 0:V.some(ee=>ee===j))});if(F===-1)continue;const N=e[F];if(N.step!==$.step||$.priority!==N.priority)throw new Error(`"${Pm(N.name,N.aliases)}" middleware with ${N.priority} priority in ${N.step} step cannot be overridden by "${Pm(O,B)}" middleware with ${$.priority} priority in ${$.step} step.`);e.splice(F,1)}}for(const j of q)n.add(j)}e.push($)},addRelativeTo:(E,R)=>{const{name:O,override:I,aliases:B}=R,$={middleware:E,...R},q=py(O,B);if(q.length>0){if(q.some(j=>n.has(j))){if(!I)throw new Error(`Duplicate middleware name '${Pm(O,B)}'`);for(const j of q){const F=t.findIndex(G=>{var V;return G.name===j||((V=G.aliases)==null?void 0:V.some(ee=>ee===j))});if(F===-1)continue;const N=t[F];if(N.toMiddleware!==$.toMiddleware||N.relation!==$.relation)throw new Error(`"${Pm(N.name,N.aliases)}" middleware ${N.relation} "${N.toMiddleware}" middleware cannot be overridden by "${Pm(O,B)}" middleware ${$.relation} "${$.toMiddleware}" middleware.`);t.splice(F,1)}}for(const j of q)n.add(j)}t.push($)},clone:()=>o(XE()),use:E=>{E.applyToStack(_)},remove:E=>typeof E=="string"?l(E):c(E),removeByTag:E=>{let R=!1;const O=I=>{const{tags:B,name:$,aliases:q}=I;if(B&&B.includes(E)){const j=py($,q);for(const F of j)n.delete(F);return R=!0,!1}return!0};return e=e.filter(O),t=t.filter(O),R},concat:E=>{var O;const R=o(XE());return R.use(E),R.identifyOnResolve(r||R.identifyOnResolve()||(((O=E.identifyOnResolve)==null?void 0:O.call(E))??!1)),R},applyToStack:o,identify:()=>m(!0).map(E=>{const R=E.step??E.relation+" "+E.toMiddleware;return Pm(E.name,E.aliases)+" - "+R}),identifyOnResolve(E){return typeof E=="boolean"&&(r=E),r},resolve:(E,R)=>{for(const O of m().map(I=>I.middleware).reverse())E=O(E,R);return r&&console.log(_.identify()),E}};return _},j8={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},$8={high:3,normal:2,low:1};class MTe{constructor(t){this.config=t,this.middlewareStack=XE()}send(t,r,n){const a=typeof r!="function"?r:void 0,l=typeof r=="function"?r:n,c=a===void 0&&this.config.cacheMiddleware===!0;let o;if(c){this.handlers||(this.handlers=new WeakMap);const g=this.handlers;g.has(t.constructor)?o=g.get(t.constructor):(o=t.resolveMiddleware(this.middlewareStack,this.config,a),g.set(t.constructor,o))}else delete this.handlers,o=t.resolveMiddleware(this.middlewareStack,this.config,a);if(l)o(t).then(g=>l(null,g.output),g=>l(g)).catch(()=>{});else return o(t).then(g=>g.output)}destroy(){var t,r,n;(n=(r=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}}class yC{constructor(){this.middlewareStack=XE()}static classBuilder(){return new OTe}resolveMiddlewareWithContext(t,r,n,{middlewareFn:a,clientName:l,commandName:c,inputFilterSensitiveLog:o,outputFilterSensitiveLog:g,smithyContext:m,additionalContext:_,CommandCtor:E}){for(const $ of a.bind(this)(E,t,r,n))this.middlewareStack.use($);const R=t.concat(this.middlewareStack),{logger:O}=r,I={logger:O,clientName:l,commandName:c,inputFilterSensitiveLog:o,outputFilterSensitiveLog:g,[_D]:{commandInstance:this,...m},..._},{requestHandler:B}=r;return R.resolve($=>B.handle($.request,n||{}),I)}}class OTe{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){const t=this;let r;return r=class extends yC{static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,a,l){return this.resolveMiddlewareWithContext(n,a,l,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const Xd="***SensitiveInformation***";class Nb extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;const r=t;return Nb.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;const r=t;return this===Nb?Nb.isInstance(t):Nb.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}}const mc=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,a])=>{(e[n]==null||e[n]==="")&&(e[n]=a)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},kTe=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const a=DTe(e),l=a.httpStatusCode?a.httpStatusCode+"":void 0,c=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||l||"UnknownError",$fault:"client",$metadata:a});throw mc(c,t)},ITe=e=>({output:t,parsedBody:r,errorCode:n})=>{kTe({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},DTe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),zTe=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},LTe=e=>{const t=[];for(const r in KE){const n=KE[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},BTe=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},FTe=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),NTe=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},jTe=e=>Object.assign(LTe(e),FTe(e)),$Te=e=>Object.assign(BTe(e),NTe(e)),AD=e=>Array.isArray(e)?e:[e],iK=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=iK(e[r]));return e},sh=e=>e!=null;class yL{trace(){}debug(){}info(){}warn(){}error(){}}function Mi(e,t,r){let n,a,l;if(typeof t>"u"&&typeof r>"u")n={},l=e;else{if(n=e,typeof t=="function")return a=t,l=r,UTe(n,a,l);l=t}for(const c of Object.keys(l)){if(!Array.isArray(l[c])){n[c]=l[c];continue}qTe(n,null,l,c)}return n}const UTe=(e,t,r)=>Mi(e,Object.entries(r).reduce((n,[a,l])=>(Array.isArray(l)?n[a]=l:typeof l=="function"?n[a]=[t,l()]:n[a]=[t,l],n),{})),qTe=(e,t,r,n)=>{let[a,l]=r[n];if(typeof l=="function"){let c;const o=a===void 0&&(c=l())!=null,g=typeof a=="function"&&!!a(void 0)||typeof a!="function"&&!!a;o?e[n]=c:g&&(e[n]=l())}else{const c=a===void 0&&l!=null,o=typeof a=="function"&&!!a(l)||typeof a!="function"&&!!a;(c||o)&&(e[n]=l)}},VTe=e=>e.toISOString().replace(".000Z","Z"),HTe=(e,t)=>qW(e,t).then(r=>t.utf8Encoder(r));var _O={},xO={},U8;function vL(){return U8||(U8=1,function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",a=new RegExp("^"+n+"$"),l=function(o,g){const m=[];let _=g.exec(o);for(;_;){const E=[];E.startIndex=g.lastIndex-_[0].length;const R=_.length;for(let O=0;O<R;O++)E.push(_[O]);m.push(E),_=g.exec(o)}return m},c=function(o){const g=a.exec(o);return!(g===null||typeof g>"u")};e.isExist=function(o){return typeof o<"u"},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,g,m){if(g){const _=Object.keys(g),E=_.length;for(let R=0;R<E;R++)m==="strict"?o[_[R]]=[g[_[R]]]:o[_[R]]=g[_[R]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=c,e.getAllMatches=l,e.nameRegexp=n}(xO)),xO}var q8;function oK(){if(q8)return _O;q8=1;const e=vL(),t={allowBooleanAttributes:!1,unpairedTags:[]};_O.validate=function(q,j){j=Object.assign({},t,j);const F=[];let N=!1,G=!1;q[0]==="\uFEFF"&&(q=q.substr(1));for(let V=0;V<q.length;V++)if(q[V]==="<"&&q[V+1]==="?"){if(V+=2,V=n(q,V),V.err)return V}else if(q[V]==="<"){let ee=V;if(V++,q[V]==="!"){V=a(q,V);continue}else{let ne=!1;q[V]==="/"&&(ne=!0,V++);let ae="";for(;V<q.length&&q[V]!==">"&&q[V]!==" "&&q[V]!=="	"&&q[V]!==`
`&&q[V]!=="\r";V++)ae+=q[V];if(ae=ae.trim(),ae[ae.length-1]==="/"&&(ae=ae.substring(0,ae.length-1),V--),!I(ae)){let le;return ae.trim().length===0?le="Invalid space after '<'.":le="Tag '"+ae+"' is an invalid name.",R("InvalidTag",le,B(q,V))}const X=o(q,V);if(X===!1)return R("InvalidAttr","Attributes for '"+ae+"' have open quote.",B(q,V));let te=X.value;if(V=X.index,te[te.length-1]==="/"){const le=V-te.length;te=te.substring(0,te.length-1);const we=m(te,j);if(we===!0)N=!0;else return R(we.err.code,we.err.msg,B(q,le+we.err.line))}else if(ne)if(X.tagClosed){if(te.trim().length>0)return R("InvalidTag","Closing tag '"+ae+"' can't have attributes or invalid starting.",B(q,ee));if(F.length===0)return R("InvalidTag","Closing tag '"+ae+"' has not been opened.",B(q,ee));{const le=F.pop();if(ae!==le.tagName){let we=B(q,le.tagStartPos);return R("InvalidTag","Expected closing tag '"+le.tagName+"' (opened in line "+we.line+", col "+we.col+") instead of closing tag '"+ae+"'.",B(q,ee))}F.length==0&&(G=!0)}}else return R("InvalidTag","Closing tag '"+ae+"' doesn't have proper closing.",B(q,V));else{const le=m(te,j);if(le!==!0)return R(le.err.code,le.err.msg,B(q,V-te.length+le.err.line));if(G===!0)return R("InvalidXml","Multiple possible root nodes found.",B(q,V));j.unpairedTags.indexOf(ae)!==-1||F.push({tagName:ae,tagStartPos:ee}),N=!0}for(V++;V<q.length;V++)if(q[V]==="<")if(q[V+1]==="!"){V++,V=a(q,V);continue}else if(q[V+1]==="?"){if(V=n(q,++V),V.err)return V}else break;else if(q[V]==="&"){const le=E(q,V);if(le==-1)return R("InvalidChar","char '&' is not expected.",B(q,V));V=le}else if(G===!0&&!r(q[V]))return R("InvalidXml","Extra text at the end",B(q,V));q[V]==="<"&&V--}}else{if(r(q[V]))continue;return R("InvalidChar","char '"+q[V]+"' is not expected.",B(q,V))}if(N){if(F.length==1)return R("InvalidTag","Unclosed tag '"+F[0].tagName+"'.",B(q,F[0].tagStartPos));if(F.length>0)return R("InvalidXml","Invalid '"+JSON.stringify(F.map(V=>V.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return R("InvalidXml","Start tag expected.",1);return!0};function r(q){return q===" "||q==="	"||q===`
`||q==="\r"}function n(q,j){const F=j;for(;j<q.length;j++)if(q[j]=="?"||q[j]==" "){const N=q.substr(F,j-F);if(j>5&&N==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",B(q,j));if(q[j]=="?"&&q[j+1]==">"){j++;break}else continue}return j}function a(q,j){if(q.length>j+5&&q[j+1]==="-"&&q[j+2]==="-"){for(j+=3;j<q.length;j++)if(q[j]==="-"&&q[j+1]==="-"&&q[j+2]===">"){j+=2;break}}else if(q.length>j+8&&q[j+1]==="D"&&q[j+2]==="O"&&q[j+3]==="C"&&q[j+4]==="T"&&q[j+5]==="Y"&&q[j+6]==="P"&&q[j+7]==="E"){let F=1;for(j+=8;j<q.length;j++)if(q[j]==="<")F++;else if(q[j]===">"&&(F--,F===0))break}else if(q.length>j+9&&q[j+1]==="["&&q[j+2]==="C"&&q[j+3]==="D"&&q[j+4]==="A"&&q[j+5]==="T"&&q[j+6]==="A"&&q[j+7]==="["){for(j+=8;j<q.length;j++)if(q[j]==="]"&&q[j+1]==="]"&&q[j+2]===">"){j+=2;break}}return j}const l='"',c="'";function o(q,j){let F="",N="",G=!1;for(;j<q.length;j++){if(q[j]===l||q[j]===c)N===""?N=q[j]:N!==q[j]||(N="");else if(q[j]===">"&&N===""){G=!0;break}F+=q[j]}return N!==""?!1:{value:F,index:j,tagClosed:G}}const g=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function m(q,j){const F=e.getAllMatches(q,g),N={};for(let G=0;G<F.length;G++){if(F[G][1].length===0)return R("InvalidAttr","Attribute '"+F[G][2]+"' has no space in starting.",$(F[G]));if(F[G][3]!==void 0&&F[G][4]===void 0)return R("InvalidAttr","Attribute '"+F[G][2]+"' is without value.",$(F[G]));if(F[G][3]===void 0&&!j.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+F[G][2]+"' is not allowed.",$(F[G]));const V=F[G][2];if(!O(V))return R("InvalidAttr","Attribute '"+V+"' is an invalid name.",$(F[G]));if(!N.hasOwnProperty(V))N[V]=1;else return R("InvalidAttr","Attribute '"+V+"' is repeated.",$(F[G]))}return!0}function _(q,j){let F=/\d/;for(q[j]==="x"&&(j++,F=/[\da-fA-F]/);j<q.length;j++){if(q[j]===";")return j;if(!q[j].match(F))break}return-1}function E(q,j){if(j++,q[j]===";")return-1;if(q[j]==="#")return j++,_(q,j);let F=0;for(;j<q.length;j++,F++)if(!(q[j].match(/\w/)&&F<20)){if(q[j]===";")break;return-1}return j}function R(q,j,F){return{err:{code:q,msg:j,line:F.line||F,col:F.col}}}function O(q){return e.isName(q)}function I(q){return e.isName(q)}function B(q,j){const F=q.substring(0,j).split(/\r?\n/);return{line:F.length,col:F[F.length-1].length+1}}function $(q){return q.startIndex+q[1].length}return _O}var iS={},V8;function GTe(){if(V8)return iS;V8=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,n){return n},attributeValueProcessor:function(r,n){return n},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,n,a){return r}},t=function(r){return Object.assign({},e,r)};return iS.buildOptions=t,iS.defaultOptions=e,iS}var wO,H8;function ZTe(){if(H8)return wO;H8=1;class e{constructor(r){this.tagname=r,this.child=[],this[":@"]={}}add(r,n){r==="__proto__"&&(r="#__proto__"),this.child.push({[r]:n})}addChild(r){r.tagname==="__proto__"&&(r.tagname="#__proto__"),r[":@"]&&Object.keys(r[":@"]).length>0?this.child.push({[r.tagname]:r.child,":@":r[":@"]}):this.child.push({[r.tagname]:r.child})}}return wO=e,wO}var SO,G8;function WTe(){if(G8)return SO;G8=1;const e=vL();function t(m,_){const E={};if(m[_+3]==="O"&&m[_+4]==="C"&&m[_+5]==="T"&&m[_+6]==="Y"&&m[_+7]==="P"&&m[_+8]==="E"){_=_+9;let R=1,O=!1,I=!1,B="";for(;_<m.length;_++)if(m[_]==="<"&&!I){if(O&&a(m,_))_+=7,[entityName,val,_]=r(m,_+1),val.indexOf("&")===-1&&(E[g(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(O&&l(m,_))_+=8;else if(O&&c(m,_))_+=8;else if(O&&o(m,_))_+=9;else if(n)I=!0;else throw new Error("Invalid DOCTYPE");R++,B=""}else if(m[_]===">"){if(I?m[_-1]==="-"&&m[_-2]==="-"&&(I=!1,R--):R--,R===0)break}else m[_]==="["?O=!0:B+=m[_];if(R!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:E,i:_}}function r(m,_){let E="";for(;_<m.length&&m[_]!=="'"&&m[_]!=='"';_++)E+=m[_];if(E=E.trim(),E.indexOf(" ")!==-1)throw new Error("External entites are not supported");const R=m[_++];let O="";for(;_<m.length&&m[_]!==R;_++)O+=m[_];return[E,O,_]}function n(m,_){return m[_+1]==="!"&&m[_+2]==="-"&&m[_+3]==="-"}function a(m,_){return m[_+1]==="!"&&m[_+2]==="E"&&m[_+3]==="N"&&m[_+4]==="T"&&m[_+5]==="I"&&m[_+6]==="T"&&m[_+7]==="Y"}function l(m,_){return m[_+1]==="!"&&m[_+2]==="E"&&m[_+3]==="L"&&m[_+4]==="E"&&m[_+5]==="M"&&m[_+6]==="E"&&m[_+7]==="N"&&m[_+8]==="T"}function c(m,_){return m[_+1]==="!"&&m[_+2]==="A"&&m[_+3]==="T"&&m[_+4]==="T"&&m[_+5]==="L"&&m[_+6]==="I"&&m[_+7]==="S"&&m[_+8]==="T"}function o(m,_){return m[_+1]==="!"&&m[_+2]==="N"&&m[_+3]==="O"&&m[_+4]==="T"&&m[_+5]==="A"&&m[_+6]==="T"&&m[_+7]==="I"&&m[_+8]==="O"&&m[_+9]==="N"}function g(m){if(e.isName(m))return m;throw new Error(`Invalid entity name ${m}`)}return SO=t,SO}var EO,Z8;function KTe(){if(Z8)return EO;Z8=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,t=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function n(c,o={}){if(o=Object.assign({},r,o),!c||typeof c!="string")return c;let g=c.trim();if(o.skipLike!==void 0&&o.skipLike.test(g))return c;if(c==="0")return 0;if(o.hex&&e.test(g))return l(g,16);if(g.search(/[eE]/)!==-1){const m=g.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(m){if(o.leadingZeros)g=(m[1]||"")+m[3];else if(!(m[2]==="0"&&m[3][0]==="."))return c;return o.eNotation?Number(g):c}else return c}else{const m=t.exec(g);if(m){const _=m[1],E=m[2];let R=a(m[3]);if(!o.leadingZeros&&E.length>0&&_&&g[2]!==".")return c;if(!o.leadingZeros&&E.length>0&&!_&&g[1]!==".")return c;if(o.leadingZeros&&E===c)return 0;{const O=Number(g),I=""+O;return I.search(/[eE]/)!==-1?o.eNotation?O:c:g.indexOf(".")!==-1?I==="0"&&R===""||I===R||_&&I==="-"+R?O:c:E?R===I||_+R===I?O:c:g===I||g===_+I?O:c}}else return c}}function a(c){return c&&c.indexOf(".")!==-1&&(c=c.replace(/0+$/,""),c==="."?c="0":c[0]==="."?c="0"+c:c[c.length-1]==="."&&(c=c.substr(0,c.length-1))),c}function l(c,o){if(parseInt)return parseInt(c,o);if(Number.parseInt)return Number.parseInt(c,o);if(window&&window.parseInt)return window.parseInt(c,o);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return EO=n,EO}var CO,W8;function XTe(){if(W8)return CO;W8=1;const e=vL(),t=ZTe(),r=WTe(),n=KTe();class a{constructor(G){this.options=G,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(V,ee)=>String.fromCharCode(Number.parseInt(ee,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(V,ee)=>String.fromCharCode(Number.parseInt(ee,16))}},this.addExternalEntities=l,this.parseXml=_,this.parseTextData=c,this.resolveNameSpace=o,this.buildAttributesMap=m,this.isItStopNode=I,this.replaceEntitiesValue=R,this.readStopNodeData=j,this.saveTextToParentTag=O,this.addChild=E}}function l(N){const G=Object.keys(N);for(let V=0;V<G.length;V++){const ee=G[V];this.lastEntities[ee]={regex:new RegExp("&"+ee+";","g"),val:N[ee]}}}function c(N,G,V,ee,ne,ae,X){if(N!==void 0&&(this.options.trimValues&&!ee&&(N=N.trim()),N.length>0)){X||(N=this.replaceEntitiesValue(N));const te=this.options.tagValueProcessor(G,N,V,ne,ae);return te==null?N:typeof te!=typeof N||te!==N?te:this.options.trimValues?F(N,this.options.parseTagValue,this.options.numberParseOptions):N.trim()===N?F(N,this.options.parseTagValue,this.options.numberParseOptions):N}}function o(N){if(this.options.removeNSPrefix){const G=N.split(":"),V=N.charAt(0)==="/"?"/":"";if(G[0]==="xmlns")return"";G.length===2&&(N=V+G[1])}return N}const g=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function m(N,G,V){if(!this.options.ignoreAttributes&&typeof N=="string"){const ee=e.getAllMatches(N,g),ne=ee.length,ae={};for(let X=0;X<ne;X++){const te=this.resolveNameSpace(ee[X][1]);let le=ee[X][4],we=this.options.attributeNamePrefix+te;if(te.length)if(this.options.transformAttributeName&&(we=this.options.transformAttributeName(we)),we==="__proto__"&&(we="#__proto__"),le!==void 0){this.options.trimValues&&(le=le.trim()),le=this.replaceEntitiesValue(le);const ve=this.options.attributeValueProcessor(te,le,G);ve==null?ae[we]=le:typeof ve!=typeof le||ve!==le?ae[we]=ve:ae[we]=F(le,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(ae[we]=!0)}if(!Object.keys(ae).length)return;if(this.options.attributesGroupName){const X={};return X[this.options.attributesGroupName]=ae,X}return ae}}const _=function(N){N=N.replace(/\r\n?/g,`
`);const G=new t("!xml");let V=G,ee="",ne="";for(let ae=0;ae<N.length;ae++)if(N[ae]==="<")if(N[ae+1]==="/"){const te=$(N,">",ae,"Closing Tag is not closed.");let le=N.substring(ae+2,te).trim();if(this.options.removeNSPrefix){const xe=le.indexOf(":");xe!==-1&&(le=le.substr(xe+1))}this.options.transformTagName&&(le=this.options.transformTagName(le)),V&&(ee=this.saveTextToParentTag(ee,V,ne));const we=ne.substring(ne.lastIndexOf(".")+1);if(le&&this.options.unpairedTags.indexOf(le)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${le}>`);let ve=0;we&&this.options.unpairedTags.indexOf(we)!==-1?(ve=ne.lastIndexOf(".",ne.lastIndexOf(".")-1),this.tagsNodeStack.pop()):ve=ne.lastIndexOf("."),ne=ne.substring(0,ve),V=this.tagsNodeStack.pop(),ee="",ae=te}else if(N[ae+1]==="?"){let te=q(N,ae,!1,"?>");if(!te)throw new Error("Pi Tag is not closed.");if(ee=this.saveTextToParentTag(ee,V,ne),!(this.options.ignoreDeclaration&&te.tagName==="?xml"||this.options.ignorePiTags)){const le=new t(te.tagName);le.add(this.options.textNodeName,""),te.tagName!==te.tagExp&&te.attrExpPresent&&(le[":@"]=this.buildAttributesMap(te.tagExp,ne,te.tagName)),this.addChild(V,le,ne)}ae=te.closeIndex+1}else if(N.substr(ae+1,3)==="!--"){const te=$(N,"-->",ae+4,"Comment is not closed.");if(this.options.commentPropName){const le=N.substring(ae+4,te-2);ee=this.saveTextToParentTag(ee,V,ne),V.add(this.options.commentPropName,[{[this.options.textNodeName]:le}])}ae=te}else if(N.substr(ae+1,2)==="!D"){const te=r(N,ae);this.docTypeEntities=te.entities,ae=te.i}else if(N.substr(ae+1,2)==="!["){const te=$(N,"]]>",ae,"CDATA is not closed.")-2,le=N.substring(ae+9,te);ee=this.saveTextToParentTag(ee,V,ne);let we=this.parseTextData(le,V.tagname,ne,!0,!1,!0,!0);we==null&&(we=""),this.options.cdataPropName?V.add(this.options.cdataPropName,[{[this.options.textNodeName]:le}]):V.add(this.options.textNodeName,we),ae=te+2}else{let te=q(N,ae,this.options.removeNSPrefix),le=te.tagName;const we=te.rawTagName;let ve=te.tagExp,xe=te.attrExpPresent,ce=te.closeIndex;this.options.transformTagName&&(le=this.options.transformTagName(le)),V&&ee&&V.tagname!=="!xml"&&(ee=this.saveTextToParentTag(ee,V,ne,!1));const Ce=V;if(Ce&&this.options.unpairedTags.indexOf(Ce.tagname)!==-1&&(V=this.tagsNodeStack.pop(),ne=ne.substring(0,ne.lastIndexOf("."))),le!==G.tagname&&(ne+=ne?"."+le:le),this.isItStopNode(this.options.stopNodes,ne,le)){let Se="";if(ve.length>0&&ve.lastIndexOf("/")===ve.length-1)le[le.length-1]==="/"?(le=le.substr(0,le.length-1),ne=ne.substr(0,ne.length-1),ve=le):ve=ve.substr(0,ve.length-1),ae=te.closeIndex;else if(this.options.unpairedTags.indexOf(le)!==-1)ae=te.closeIndex;else{const ge=this.readStopNodeData(N,we,ce+1);if(!ge)throw new Error(`Unexpected end of ${we}`);ae=ge.i,Se=ge.tagContent}const ze=new t(le);le!==ve&&xe&&(ze[":@"]=this.buildAttributesMap(ve,ne,le)),Se&&(Se=this.parseTextData(Se,le,ne,!0,xe,!0,!0)),ne=ne.substr(0,ne.lastIndexOf(".")),ze.add(this.options.textNodeName,Se),this.addChild(V,ze,ne)}else{if(ve.length>0&&ve.lastIndexOf("/")===ve.length-1){le[le.length-1]==="/"?(le=le.substr(0,le.length-1),ne=ne.substr(0,ne.length-1),ve=le):ve=ve.substr(0,ve.length-1),this.options.transformTagName&&(le=this.options.transformTagName(le));const Se=new t(le);le!==ve&&xe&&(Se[":@"]=this.buildAttributesMap(ve,ne,le)),this.addChild(V,Se,ne),ne=ne.substr(0,ne.lastIndexOf("."))}else{const Se=new t(le);this.tagsNodeStack.push(V),le!==ve&&xe&&(Se[":@"]=this.buildAttributesMap(ve,ne,le)),this.addChild(V,Se,ne),V=Se}ee="",ae=ce}}else ee+=N[ae];return G.child};function E(N,G,V){const ee=this.options.updateTag(G.tagname,V,G[":@"]);ee===!1||(typeof ee=="string"&&(G.tagname=ee),N.addChild(G))}const R=function(N){if(this.options.processEntities){for(let G in this.docTypeEntities){const V=this.docTypeEntities[G];N=N.replace(V.regx,V.val)}for(let G in this.lastEntities){const V=this.lastEntities[G];N=N.replace(V.regex,V.val)}if(this.options.htmlEntities)for(let G in this.htmlEntities){const V=this.htmlEntities[G];N=N.replace(V.regex,V.val)}N=N.replace(this.ampEntity.regex,this.ampEntity.val)}return N};function O(N,G,V,ee){return N&&(ee===void 0&&(ee=Object.keys(G.child).length===0),N=this.parseTextData(N,G.tagname,V,!1,G[":@"]?Object.keys(G[":@"]).length!==0:!1,ee),N!==void 0&&N!==""&&G.add(this.options.textNodeName,N),N=""),N}function I(N,G,V){const ee="*."+V;for(const ne in N){const ae=N[ne];if(ee===ae||G===ae)return!0}return!1}function B(N,G,V=">"){let ee,ne="";for(let ae=G;ae<N.length;ae++){let X=N[ae];if(ee)X===ee&&(ee="");else if(X==='"'||X==="'")ee=X;else if(X===V[0])if(V[1]){if(N[ae+1]===V[1])return{data:ne,index:ae}}else return{data:ne,index:ae};else X==="	"&&(X=" ");ne+=X}}function $(N,G,V,ee){const ne=N.indexOf(G,V);if(ne===-1)throw new Error(ee);return ne+G.length-1}function q(N,G,V,ee=">"){const ne=B(N,G+1,ee);if(!ne)return;let ae=ne.data;const X=ne.index,te=ae.search(/\s/);let le=ae,we=!0;te!==-1&&(le=ae.substring(0,te),ae=ae.substring(te+1).trimStart());const ve=le;if(V){const xe=le.indexOf(":");xe!==-1&&(le=le.substr(xe+1),we=le!==ne.data.substr(xe+1))}return{tagName:le,tagExp:ae,closeIndex:X,attrExpPresent:we,rawTagName:ve}}function j(N,G,V){const ee=V;let ne=1;for(;V<N.length;V++)if(N[V]==="<")if(N[V+1]==="/"){const ae=$(N,">",V,`${G} is not closed`);if(N.substring(V+2,ae).trim()===G&&(ne--,ne===0))return{tagContent:N.substring(ee,V),i:ae};V=ae}else if(N[V+1]==="?")V=$(N,"?>",V+1,"StopNode is not closed.");else if(N.substr(V+1,3)==="!--")V=$(N,"-->",V+3,"StopNode is not closed.");else if(N.substr(V+1,2)==="![")V=$(N,"]]>",V,"StopNode is not closed.")-2;else{const ae=q(N,V,">");ae&&((ae&&ae.tagName)===G&&ae.tagExp[ae.tagExp.length-1]!=="/"&&ne++,V=ae.closeIndex)}}function F(N,G,V){if(G&&typeof N=="string"){const ee=N.trim();return ee==="true"?!0:ee==="false"?!1:n(N,V)}else return e.isExist(N)?N:""}return CO=a,CO}var TO={},K8;function YTe(){if(K8)return TO;K8=1;function e(l,c){return t(l,c)}function t(l,c,o){let g;const m={};for(let _=0;_<l.length;_++){const E=l[_],R=r(E);let O="";if(o===void 0?O=R:O=o+"."+R,R===c.textNodeName)g===void 0?g=E[R]:g+=""+E[R];else{if(R===void 0)continue;if(E[R]){let I=t(E[R],c,O);const B=a(I,c);E[":@"]?n(I,E[":@"],O,c):Object.keys(I).length===1&&I[c.textNodeName]!==void 0&&!c.alwaysCreateTextNode?I=I[c.textNodeName]:Object.keys(I).length===0&&(c.alwaysCreateTextNode?I[c.textNodeName]="":I=""),m[R]!==void 0&&m.hasOwnProperty(R)?(Array.isArray(m[R])||(m[R]=[m[R]]),m[R].push(I)):c.isArray(R,O,B)?m[R]=[I]:m[R]=I}}}return typeof g=="string"?g.length>0&&(m[c.textNodeName]=g):g!==void 0&&(m[c.textNodeName]=g),m}function r(l){const c=Object.keys(l);for(let o=0;o<c.length;o++){const g=c[o];if(g!==":@")return g}}function n(l,c,o,g){if(c){const m=Object.keys(c),_=m.length;for(let E=0;E<_;E++){const R=m[E];g.isArray(R,o+"."+R,!0,!0)?l[R]=[c[R]]:l[R]=c[R]}}}function a(l,c){const{textNodeName:o}=c,g=Object.keys(l).length;return!!(g===0||g===1&&(l[o]||typeof l[o]=="boolean"||l[o]===0))}return TO.prettify=e,TO}var AO,X8;function QTe(){if(X8)return AO;X8=1;const{buildOptions:e}=GTe(),t=XTe(),{prettify:r}=YTe(),n=oK();class a{constructor(c){this.externalEntities={},this.options=e(c)}parse(c,o){if(typeof c!="string")if(c.toString)c=c.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(o){o===!0&&(o={});const _=n.validate(c,o);if(_!==!0)throw Error(`${_.err.msg}:${_.err.line}:${_.err.col}`)}const g=new t(this.options);g.addExternalEntities(this.externalEntities);const m=g.parseXml(c);return this.options.preserveOrder||m===void 0?m:r(m,this.options)}addEntity(c,o){if(o.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(c.indexOf("&")!==-1||c.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(o==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[c]=o}}return AO=a,AO}var PO,Y8;function JTe(){if(Y8)return PO;Y8=1;const e=`
`;function t(o,g){let m="";return g.format&&g.indentBy.length>0&&(m=e),r(o,g,"",m)}function r(o,g,m,_){let E="",R=!1;for(let O=0;O<o.length;O++){const I=o[O],B=n(I);if(B===void 0)continue;let $="";if(m.length===0?$=B:$=`${m}.${B}`,B===g.textNodeName){let G=I[B];l($,g)||(G=g.tagValueProcessor(B,G),G=c(G,g)),R&&(E+=_),E+=G,R=!1;continue}else if(B===g.cdataPropName){R&&(E+=_),E+=`<![CDATA[${I[B][0][g.textNodeName]}]]>`,R=!1;continue}else if(B===g.commentPropName){E+=_+`<!--${I[B][0][g.textNodeName]}-->`,R=!0;continue}else if(B[0]==="?"){const G=a(I[":@"],g),V=B==="?xml"?"":_;let ee=I[B][0][g.textNodeName];ee=ee.length!==0?" "+ee:"",E+=V+`<${B}${ee}${G}?>`,R=!0;continue}let q=_;q!==""&&(q+=g.indentBy);const j=a(I[":@"],g),F=_+`<${B}${j}`,N=r(I[B],g,$,q);g.unpairedTags.indexOf(B)!==-1?g.suppressUnpairedNode?E+=F+">":E+=F+"/>":(!N||N.length===0)&&g.suppressEmptyNode?E+=F+"/>":N&&N.endsWith(">")?E+=F+`>${N}${_}</${B}>`:(E+=F+">",N&&_!==""&&(N.includes("/>")||N.includes("</"))?E+=_+g.indentBy+N+_:E+=N,E+=`</${B}>`),R=!0}return E}function n(o){const g=Object.keys(o);for(let m=0;m<g.length;m++){const _=g[m];if(o.hasOwnProperty(_)&&_!==":@")return _}}function a(o,g){let m="";if(o&&!g.ignoreAttributes)for(let _ in o){if(!o.hasOwnProperty(_))continue;let E=g.attributeValueProcessor(_,o[_]);E=c(E,g),E===!0&&g.suppressBooleanAttributes?m+=` ${_.substr(g.attributeNamePrefix.length)}`:m+=` ${_.substr(g.attributeNamePrefix.length)}="${E}"`}return m}function l(o,g){o=o.substr(0,o.length-g.textNodeName.length-1);let m=o.substr(o.lastIndexOf(".")+1);for(let _ in g.stopNodes)if(g.stopNodes[_]===o||g.stopNodes[_]==="*."+m)return!0;return!1}function c(o,g){if(o&&o.length>0&&g.processEntities)for(let m=0;m<g.entities.length;m++){const _=g.entities[m];o=o.replace(_.regex,_.val)}return o}return PO=t,PO}var RO,Q8;function eAe(){if(Q8)return RO;Q8=1;const e=JTe(),t={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(c,o){return o},attributeValueProcessor:function(c,o){return o},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function r(c){this.options=Object.assign({},t,c),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=n,this.options.format?(this.indentate=a,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}r.prototype.build=function(c){return this.options.preserveOrder?e(c,this.options):(Array.isArray(c)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(c={[this.options.arrayNodeName]:c}),this.j2x(c,0).val)},r.prototype.j2x=function(c,o){let g="",m="";for(let _ in c)if(Object.prototype.hasOwnProperty.call(c,_))if(typeof c[_]>"u")this.isAttribute(_)&&(m+="");else if(c[_]===null)this.isAttribute(_)?m+="":_[0]==="?"?m+=this.indentate(o)+"<"+_+"?"+this.tagEndChar:m+=this.indentate(o)+"<"+_+"/"+this.tagEndChar;else if(c[_]instanceof Date)m+=this.buildTextValNode(c[_],_,"",o);else if(typeof c[_]!="object"){const E=this.isAttribute(_);if(E)g+=this.buildAttrPairStr(E,""+c[_]);else if(_===this.options.textNodeName){let R=this.options.tagValueProcessor(_,""+c[_]);m+=this.replaceEntitiesValue(R)}else m+=this.buildTextValNode(c[_],_,"",o)}else if(Array.isArray(c[_])){const E=c[_].length;let R="",O="";for(let I=0;I<E;I++){const B=c[_][I];if(!(typeof B>"u"))if(B===null)_[0]==="?"?m+=this.indentate(o)+"<"+_+"?"+this.tagEndChar:m+=this.indentate(o)+"<"+_+"/"+this.tagEndChar;else if(typeof B=="object")if(this.options.oneListGroup){const $=this.j2x(B,o+1);R+=$.val,this.options.attributesGroupName&&B.hasOwnProperty(this.options.attributesGroupName)&&(O+=$.attrStr)}else R+=this.processTextOrObjNode(B,_,o);else if(this.options.oneListGroup){let $=this.options.tagValueProcessor(_,B);$=this.replaceEntitiesValue($),R+=$}else R+=this.buildTextValNode(B,_,"",o)}this.options.oneListGroup&&(R=this.buildObjectNode(R,_,O,o)),m+=R}else if(this.options.attributesGroupName&&_===this.options.attributesGroupName){const E=Object.keys(c[_]),R=E.length;for(let O=0;O<R;O++)g+=this.buildAttrPairStr(E[O],""+c[_][E[O]])}else m+=this.processTextOrObjNode(c[_],_,o);return{attrStr:g,val:m}},r.prototype.buildAttrPairStr=function(c,o){return o=this.options.attributeValueProcessor(c,""+o),o=this.replaceEntitiesValue(o),this.options.suppressBooleanAttributes&&o==="true"?" "+c:" "+c+'="'+o+'"'};function n(c,o,g){const m=this.j2x(c,g+1);return c[this.options.textNodeName]!==void 0&&Object.keys(c).length===1?this.buildTextValNode(c[this.options.textNodeName],o,m.attrStr,g):this.buildObjectNode(m.val,o,m.attrStr,g)}r.prototype.buildObjectNode=function(c,o,g,m){if(c==="")return o[0]==="?"?this.indentate(m)+"<"+o+g+"?"+this.tagEndChar:this.indentate(m)+"<"+o+g+this.closeTag(o)+this.tagEndChar;{let _="</"+o+this.tagEndChar,E="";return o[0]==="?"&&(E="?",_=""),(g||g==="")&&c.indexOf("<")===-1?this.indentate(m)+"<"+o+g+E+">"+c+_:this.options.commentPropName!==!1&&o===this.options.commentPropName&&E.length===0?this.indentate(m)+`<!--${c}-->`+this.newLine:this.indentate(m)+"<"+o+g+E+this.tagEndChar+c+this.indentate(m)+_}},r.prototype.closeTag=function(c){let o="";return this.options.unpairedTags.indexOf(c)!==-1?this.options.suppressUnpairedNode||(o="/"):this.options.suppressEmptyNode?o="/":o=`></${c}`,o},r.prototype.buildTextValNode=function(c,o,g,m){if(this.options.cdataPropName!==!1&&o===this.options.cdataPropName)return this.indentate(m)+`<![CDATA[${c}]]>`+this.newLine;if(this.options.commentPropName!==!1&&o===this.options.commentPropName)return this.indentate(m)+`<!--${c}-->`+this.newLine;if(o[0]==="?")return this.indentate(m)+"<"+o+g+"?"+this.tagEndChar;{let _=this.options.tagValueProcessor(o,c);return _=this.replaceEntitiesValue(_),_===""?this.indentate(m)+"<"+o+g+this.closeTag(o)+this.tagEndChar:this.indentate(m)+"<"+o+g+">"+_+"</"+o+this.tagEndChar}},r.prototype.replaceEntitiesValue=function(c){if(c&&c.length>0&&this.options.processEntities)for(let o=0;o<this.options.entities.length;o++){const g=this.options.entities[o];c=c.replace(g.regex,g.val)}return c};function a(c){return this.options.indentBy.repeat(c)}function l(c){return c.startsWith(this.options.attributeNamePrefix)&&c!==this.options.textNodeName?c.substr(this.attrPrefixLen):!1}return RO=r,RO}var MO,J8;function tAe(){if(J8)return MO;J8=1;const e=oK(),t=QTe(),r=eAe();return MO={XMLParser:t,XMLValidator:e,XMLBuilder:r},MO}var rAe=tAe();const bL=(e,t)=>HTe(e,t).then(r=>{if(r.length){const n=new rAe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(g,m)=>m.trim()===""&&m.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let a;try{a=n.parse(r,!0)}catch(g){throw g&&typeof g=="object"&&Object.defineProperty(g,"$responseBodyText",{value:r}),g}const l="#text",c=Object.keys(a)[0],o=a[c];return o[l]&&(o[c]=o[l],delete o[l]),iK(o)}return{}}),nAe=async(e,t)=>{const r=await bL(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},aAe=(e,t)=>{var r;if(((r=t==null?void 0:t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},PD=[Ka.CRC32,Ka.CRC32C,Ka.CRC64NVME,Ka.SHA1,Ka.SHA256],iAe=[Ka.SHA256,Ka.SHA1,Ka.CRC32,Ka.CRC32C,Ka.CRC64NVME],oAe=(e,{requestChecksumRequired:t,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===w_.WHEN_SUPPORTED||t?xD:void 0;if(!e[r])return;const a=e[r];if(!PD.includes(a))throw new Error(`The checksum algorithm "${a}" is not supported by the client. Select one of ${PD}.`);return a},_L=e=>e===Ka.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,sAe=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},lAe=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(n.toLowerCase().startsWith(r))return!0;return!1},sK=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!nK(e),cAe=e=>new TextEncoder().encode(e);var uAe=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:cAe;function lg(e){return e instanceof Uint8Array?e:typeof e=="string"?uAe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function w1(e){return typeof e=="string"?e.length===0:e.byteLength===0}function lK(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}function cK(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}var dAe=function(){function e(){this.crc32c=new eU}return e.prototype.update=function(t){w1(t)||this.crc32c.update(lg(t))},e.prototype.digest=function(){return Jz(this,void 0,void 0,function(){return eL(this,function(t){return[2,lK(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new eU},e}(),eU=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var a=GZ(t),l=a.next();!l.done;l=a.next()){var c=l.value;this.checksum=this.checksum>>>8^hAe[(this.checksum^c)&255]}}catch(o){r={error:o}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),fAe=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],hAe=cK(fAe),pAe=function(){function e(){this.crc32=new YE}return e.prototype.update=function(t){w1(t)||this.crc32.update(lg(t))},e.prototype.digest=function(){return Jz(this,void 0,void 0,function(){return eL(this,function(t){return[2,lK(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new YE},e}(),YE=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var a=GZ(t),l=a.next();!l.done;l=a.next()){var c=l.value;this.checksum=this.checksum>>>8^gAe[(this.checksum^c)&255]}}catch(o){r={error:o}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),mAe=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],gAe=cK(mAe);const yAe=()=>pAe,uK=(e,t)=>{switch(e){case Ka.MD5:return t.md5;case Ka.CRC32:return yAe();case Ka.CRC32C:return dAe;case Ka.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case Ka.SHA1:return t.sha1;case Ka.SHA256:return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},dK=(e,t)=>{const r=new e;return r.update(S_(t||"")),r.digest()},vAe={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},bAe=(e,t)=>(r,n)=>async a=>{if(!Do.isInstance(a.request)||lAe("x-amz-checksum-",a.request.headers))return r(a);const{request:l,input:c}=a,{body:o,headers:g}=l,{base64Encoder:m,streamHasher:_}=e,{requestChecksumRequired:E,requestAlgorithmMember:R}=t,O=await e.requestChecksumCalculation(),I=R==null?void 0:R.name,B=R==null?void 0:R.httpHeader;I&&!c[I]&&(O===w_.WHEN_SUPPORTED||E)&&(c[I]=xD,B&&(g[B]=xD));const $=oAe(c,{requestChecksumRequired:E,requestAlgorithmMember:R==null?void 0:R.name,requestChecksumCalculation:O});let q=o,j=g;if($){switch($){case Ka.CRC32:Po(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Ka.CRC32C:Po(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Ka.CRC64NVME:Po(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case Ka.SHA1:Po(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Ka.SHA256:Po(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const N=_L($),G=uK($,e);if(sK(o)){const{getAwsChunkedEncodingStream:V,bodyLengthChecker:ee}=e;q=V(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?mCe(o,e.requestStreamBufferSize,n.logger):o,{base64Encoder:m,bodyLengthChecker:ee,checksumLocationName:N,checksumAlgorithmFn:G,streamHasher:_}),j={...g,"content-encoding":g["content-encoding"]?`${g["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":g["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":N},delete j["content-length"]}else if(!sAe(N,g)){const V=await dK(G,o);j={...g,[N]:m(V)}}}return await r({...a,request:{...l,headers:j,body:q}})},_Ae={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},xAe=(e,t)=>(r,n)=>async a=>{const l=a.input,{requestValidationModeMember:c}=t,o=await e.requestChecksumCalculation(),g=await e.responseChecksumValidation();switch(o){case w_.WHEN_REQUIRED:Po(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case w_.WHEN_SUPPORTED:Po(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(g){case fO.WHEN_REQUIRED:Po(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case fO.WHEN_SUPPORTED:Po(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return c&&!l[c]&&g===fO.WHEN_SUPPORTED&&(l[c]="ENABLED"),r(a)},fK=(e=[])=>{const t=[];for(const r of iAe)!e.includes(r)||!PD.includes(r)||t.push(r);return t},wAe=e=>{const t=e.lastIndexOf("-");if(t!==-1){const r=e.slice(t+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},SAe=async(e,{checksumAlgorithmFn:t,base64Encoder:r})=>r(await dK(t,e)),EAe=async(e,{config:t,responseAlgorithms:r,logger:n})=>{const a=fK(r),{body:l,headers:c}=e;for(const o of a){const g=_L(o),m=c[g];if(m){let _;try{_=uK(o,t)}catch(O){if(o===Ka.CRC64NVME){n==null||n.warn(`Skipping ${Ka.CRC64NVME} checksum validation: ${O.message}`);continue}throw O}const{base64Encoder:E}=t;if(sK(l)){e.body=fCe({expectedChecksum:m,checksumSourceLocation:g,checksum:new _,source:l,base64Encoder:E});return}const R=await SAe(l,{checksumAlgorithmFn:_,base64Encoder:E});if(R===m)break;throw new Error(`Checksum mismatch: expected "${R}" but received "${m}" in response header "${g}".`)}}},CAe={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},TAe=(e,t)=>(r,n)=>async a=>{if(!Do.isInstance(a.request))return r(a);const l=a.input,c=await r(a),o=c.response,{requestValidationModeMember:g,responseAlgorithms:m}=t;if(g&&l[g]==="ENABLED"){const{clientName:_,commandName:E}=n;if(_==="S3Client"&&E==="GetObjectCommand"&&fK(m).every(O=>{const I=_L(O),B=o.headers[I];return!B||wAe(B)}))return c;await EAe(o,{config:e,responseAlgorithms:m,logger:n.logger})}return c},AAe=(e,t)=>({applyToStack:r=>{r.add(bAe(e,t),vAe),r.addRelativeTo(xAe(e,t),_Ae),r.addRelativeTo(TAe(e,t),CAe)}}),PAe=e=>{const{requestChecksumCalculation:t,responseChecksumValidation:r,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:Kd(t??V2e),responseChecksumValidation:Kd(r??H2e),requestStreamBufferSize:Number(n??0)})};const RAe=e=>t=>async r=>{if(!Do.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:a=""}=e.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let l=n.hostname;n.port!=null&&(l+=`:${n.port}`),n.headers.host=l}return t(r)},MAe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},OAe=e=>({applyToStack:t=>{t.add(RAe(e),MAe)}}),kAe=()=>(e,t)=>async r=>{var n,a;try{const l=await e(r),{clientName:c,commandName:o,logger:g,dynamoDbDocumentClientOptions:m={}}=t,{overrideInputFilterSensitiveLog:_,overrideOutputFilterSensitiveLog:E}=m,R=_??t.inputFilterSensitiveLog,O=E??t.outputFilterSensitiveLog,{$metadata:I,...B}=l.output;return(n=g==null?void 0:g.info)==null||n.call(g,{clientName:c,commandName:o,input:R(r.input),output:O(B),metadata:I}),l}catch(l){const{clientName:c,commandName:o,logger:g,dynamoDbDocumentClientOptions:m={}}=t,{overrideInputFilterSensitiveLog:_}=m,E=_??t.inputFilterSensitiveLog;throw(a=g==null?void 0:g.error)==null||a.call(g,{clientName:c,commandName:o,input:E(r.input),error:l,metadata:l.$metadata}),l}},IAe={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},DAe=e=>({applyToStack:t=>{t.add(kAe(),IAe)}});var tU={};const OO="X-Amzn-Trace-Id",zAe="AWS_LAMBDA_FUNCTION_NAME",LAe="_X_AMZN_TRACE_ID",BAe=e=>t=>async r=>{const{request:n}=r;if(!Do.isInstance(n)||e.runtime!=="node")return t(r);const a=Object.keys(n.headers??{}).find(g=>g.toLowerCase()===OO.toLowerCase())??OO;if(n.headers.hasOwnProperty(a))return t(r);const l=tU[zAe],c=tU[LAe],o=g=>typeof g=="string"&&g.length>0;return o(l)&&o(c)&&(n.headers[OO]=c),t({...r,request:n})},FAe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},NAe=e=>({applyToStack:t=>{t.add(BAe(e),FAe)}}),jAe="content-length",$Ae="x-amz-decoded-content-length";function UAe(){return(e,t)=>async r=>{var a;const{request:n}=r;if(Do.isInstance(n)&&!(jAe in n.headers)&&!($Ae in n.headers)){const l="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((a=t==null?void 0:t.logger)==null?void 0:a.warn)=="function"&&!(t.logger instanceof yL)?t.logger.warn(l):console.warn(l)}return e({...r})}}const qAe={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},VAe=e=>({applyToStack:t=>{t.add(UAe(),qAe)}}),HAe=e=>(t,r)=>async n=>{const a=await e.region(),l=e.region;let c=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),c=()=>Object.defineProperty(e,"region",{writable:!0,value:l}));try{const o=await t(n);if(r.__s3RegionRedirect){c();const g=await e.region();if(a!==g)throw new Error("Region was not restored following S3 region redirect.")}return o}catch(o){throw c(),o}},GAe={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function ZAe(e){return(t,r)=>async n=>{var a,l,c;try{return await t(n)}catch(o){if(e.followRegionRedirects&&(((a=o==null?void 0:o.$metadata)==null?void 0:a.httpStatusCode)===301||((l=o==null?void 0:o.$metadata)==null?void 0:l.httpStatusCode)===400&&(o==null?void 0:o.name)==="IllegalLocationConstraintException")){try{const g=o.$response.headers["x-amz-bucket-region"];(c=r.logger)==null||c.debug(`Redirecting from ${await e.region()} to ${g}`),r.__s3RegionRedirect=g}catch(g){throw new Error("Region redirect failed: "+g)}return t(n)}throw o}}}const WAe={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},KAe=e=>({applyToStack:t=>{t.add(ZAe(e),WAe),t.addRelativeTo(HAe(e),GAe)}}),i2=class i2{constructor(t={}){or(this,"data");or(this,"lastPurgeTime",Date.now());this.data=t}get(t){const r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+i2.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const a=await n.identity;a.expiration&&a.expiration.getTime()<t&&delete this.data[r]}}}};or(i2,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4);let RD=i2;class kO{constructor(t,r=!1,n=Date.now()){or(this,"_identity");or(this,"isRefreshing");or(this,"accessed");this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}const o2=class o2{constructor(t,r=new RD){or(this,"createSessionFn");or(this,"cache");this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){const n=r.Bucket,{cache:a}=this,l=a.get(n);return l?l.identity.then(c=>{var m,_;return(((m=c.expiration)==null?void 0:m.getTime())??0)<Date.now()?a.set(n,new kO(this.getIdentity(n))).identity:((((_=c.expiration)==null?void 0:_.getTime())??0)<Date.now()+o2.REFRESH_WINDOW_MS&&!l.isRefreshing&&(l.isRefreshing=!0,this.getIdentity(n).then(E=>{a.set(n,new kO(Promise.resolve(E)))})),c)}):a.set(n,new kO(this.getIdentity(n))).identity}async getIdentity(t){var a,l;await this.cache.purgeExpired().catch(c=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+c)});const r=await this.createSessionFn(t);if(!((a=r.Credentials)!=null&&a.AccessKeyId)||!((l=r.Credentials)!=null&&l.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}};or(o2,"REFRESH_WINDOW_MS",6e4);let MD=o2;var rU;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(rU||(rU={}));const XAe="Directory",YAe="S3Express",QAe="sigv4-s3express",OD="X-Amz-S3session-Token",kD=OD.toLowerCase();class JAe extends TD{async signWithCredentials(t,r,n){const a=nU(r);t.headers[kD]=r.sessionToken;const l=this;return aU(l,a),l.signRequest(t,n??{})}async presignWithCredentials(t,r,n){const a=nU(r);return delete t.headers[kD],t.headers[OD]=r.sessionToken,t.query=t.query??{},t.query[OD]=r.sessionToken,aU(this,a),this.presign(t,n)}}function nU(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function aU(e,t){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,a=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t));e.credentialProvider=a}const ePe=e=>(t,r)=>async n=>{var a,l,c,o,g;if(r.endpointV2){const m=r.endpointV2,_=((c=(l=(a=m.properties)==null?void 0:a.authSchemes)==null?void 0:l[0])==null?void 0:c.name)===QAe;if((((o=m.properties)==null?void 0:o.backend)===YAe||((g=m.properties)==null?void 0:g.bucketType)===XAe)&&(Po(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),_){const R=n.input.Bucket;if(R){const O=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:R});r.s3ExpressIdentity=O,Do.isInstance(n.request)&&O.sessionToken&&(n.request.headers[kD]=O.sessionToken)}}}return t(n)},tPe={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},rPe=e=>({applyToStack:t=>{t.add(ePe(e),tPe)}}),nPe=async(e,t,r,n)=>{const a=await n.signWithCredentials(r,e,{});if(a.headers["X-Amz-Security-Token"]||a.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return a},aPe=e=>t=>{throw t},iPe=(e,t)=>{},oPe=e=>(t,r)=>async n=>{if(!Do.isInstance(n.request))return t(n);const l=j_(r).selectedHttpAuthScheme;if(!l)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:c={}},identity:o,signer:g}=l;let m;r.s3ExpressIdentity?m=await nPe(r.s3ExpressIdentity,c,n.request,await e.signer()):m=await g.sign(n.request,o,c);const _=await t({...n,request:m}).catch((g.errorHandler||aPe)(c));return(g.successHandler||iPe)(_.response,c),_},sPe=e=>({applyToStack:t=>{t.addRelativeTo(oPe(e),NW)}}),lPe=(e,{session:t})=>{const[r,n]=t,{forcePathStyle:a,useAccelerateEndpoint:l,disableMultiregionAccessPoints:c,followRegionRedirects:o,s3ExpressIdentityProvider:g,bucketEndpoint:m}=e;return Object.assign(e,{forcePathStyle:a??!1,useAccelerateEndpoint:l??!1,disableMultiregionAccessPoints:c??!1,followRegionRedirects:o??!1,s3ExpressIdentityProvider:g??new MD(async _=>r().send(new n({Bucket:_}))),bucketEndpoint:m??!1})},cPe={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},uPe=3e3,dPe=e=>(t,r)=>async n=>{const a=await t(n),{response:l}=a;if(!x_.isInstance(l))return a;const{statusCode:c,body:o}=l;if(c<200||c>=300||!(typeof(o==null?void 0:o.stream)=="function"||typeof(o==null?void 0:o.pipe)=="function"||typeof(o==null?void 0:o.tee)=="function"))return a;let m=o,_=o;o&&typeof o=="object"&&!(o instanceof Uint8Array)&&([m,_]=await ACe(o)),l.body=_;const E=await fPe(m,{streamCollector:async O=>bCe(O,uPe)});typeof(m==null?void 0:m.destroy)=="function"&&m.destroy();const R=e.utf8Encoder(E.subarray(E.length-16));if(E.length===0&&cPe[r.commandName]){const O=new Error("S3 aborted request");throw O.name="InternalError",O}return R&&R.endsWith("</Error>")&&(l.statusCode=400),a},fPe=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),hPe={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},xL=e=>({applyToStack:t=>{t.addRelativeTo(dPe(e),hPe)}}),pPe=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function mPe(e){return(t,r)=>async n=>{var a,l,c,o;if(e.bucketEndpoint){const g=r.endpointV2;if(g){const m=n.input.Bucket;if(typeof m=="string")try{const _=new URL(m);r.endpointV2={...g,url:_}}catch(_){const E=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${m} could not be parsed as URL.`;throw((l=(a=r.logger)==null?void 0:a.constructor)==null?void 0:l.name)==="NoOpLogger"?console.warn(E):(o=(c=r.logger)==null?void 0:c.warn)==null||o.call(c,E),_}}}return t(n)}}const gPe={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function yPe({bucketEndpoint:e}){return t=>async r=>{const{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!pPe(n)&&n.indexOf("/")>=0){const a=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw a.name="InvalidBucketName",a}return t({...r})}}const vPe={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},bPe=e=>({applyToStack:t=>{t.add(yPe(e),vPe),t.addRelativeTo(mPe(e),gPe)}}),_Pe=void 0;function xPe(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function wPe(e){const t=Kb(e.userAgentAppId??_Pe),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{var a,l;const n=await t();if(!xPe(n)){const c=((l=(a=e.logger)==null?void 0:a.constructor)==null?void 0:l.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?c==null||c.warn("userAgentAppId must be a string or undefined."):n.length>50&&(c==null||c.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}})}class SPe{constructor({size:t,params:r}){this.data=new Map,this.parameters=[],this.capacity=t??50,r&&(this.parameters=r)}get(t,r){const n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const a=this.data.keys();let l=0;for(;;){const{value:c,done:o}=a.next();if(this.data.delete(c),o||++l>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="";const{parameters:n}=this;if(n.length===0)return!1;for(const a of n){const l=String(t[a]??"");if(l.includes("|;"))return!1;r+=l+"|;"}return r}}const EPe=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hK=e=>EPe.test(e)||e.startsWith("[")&&e.endsWith("]"),CPe=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),wL=(e,t=!1)=>{if(!t)return CPe.test(e);const r=e.split(".");for(const n of r)if(!wL(n))return!1;return!0},QE={},S1="endpoints";function cg(e){return typeof e!="object"||e==null?e:"ref"in e?`$${cg(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(cg).join(", ")})`:JSON.stringify(e,null,2)}class nu extends Error{constructor(t){super(t),this.name="EndpointError"}}const TPe=(e,t)=>e===t,APe=e=>{const t=e.split("."),r=[];for(const n of t){const a=n.indexOf("[");if(a!==-1){if(n.indexOf("]")!==n.length-1)throw new nu(`Path: '${e}' does not end with ']'`);const l=n.slice(a+1,-1);if(Number.isNaN(parseInt(l)))throw new nu(`Invalid array index: '${l}' in path: '${e}'`);a!==0&&r.push(n.slice(0,a)),r.push(l)}else r.push(n)}return r},pK=(e,t)=>APe(t).reduce((r,n)=>{if(typeof r!="object")throw new nu(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),PPe=e=>e!=null,RPe=e=>!e,IO={[x1.HTTP]:80,[x1.HTTPS]:443},MPe=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:R,port:O,protocol:I="",path:B="",query:$={}}=e,q=new URL(`${I}//${R}${O?`:${O}`:""}${B}`);return q.search=Object.entries($).map(([j,F])=>`${j}=${F}`).join("&"),q}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:a,pathname:l,protocol:c,search:o}=t;if(o)return null;const g=c.slice(0,-1);if(!Object.values(x1).includes(g))return null;const m=hK(a),_=r.includes(`${n}:${IO[g]}`)||typeof e=="string"&&e.includes(`${n}:${IO[g]}`),E=`${n}${_?`:${IO[g]}`:""}`;return{scheme:g,authority:E,path:l,normalizedPath:l.endsWith("/")?l:`${l}/`,isIp:m}},OPe=(e,t)=>e===t,kPe=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),IPe=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),DPe={booleanEquals:TPe,getAttr:pK,isSet:PPe,isValidHostLabel:wL,not:RPe,parseURL:MPe,stringEquals:OPe,substring:kPe,uriEncode:IPe},mK=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let a=0;for(;a<e.length;){const l=e.indexOf("{",a);if(l===-1){r.push(e.slice(a));break}r.push(e.slice(a,l));const c=e.indexOf("}",l);if(c===-1){r.push(e.slice(l));break}e[l+1]==="{"&&e[c+1]==="}"&&(r.push(e.slice(l+1,c)),a=c+2);const o=e.substring(l+1,c);if(o.includes("#")){const[g,m]=o.split("#");r.push(pK(n[g],m))}else r.push(n[o]);a=c+1}return r.join("")},zPe=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],vC=(e,t,r)=>{if(typeof e=="string")return mK(e,r);if(e.fn)return gK(e,r);if(e.ref)return zPe(e,r);throw new nu(`'${t}': ${String(e)} is not a string, function or reference.`)},gK=({fn:e,argv:t},r)=>{const n=t.map(l=>["boolean","number"].includes(typeof l)?l:vC(l,"arg",r)),a=e.split(".");return a[0]in QE&&a[1]!=null?QE[a[0]][a[1]](...n):DPe[e](...n)},LPe=({assign:e,...t},r)=>{var a,l;if(e&&e in r.referenceRecord)throw new nu(`'${e}' is already defined in Reference Record.`);const n=gK(t,r);return(l=(a=r.logger)==null?void 0:a.debug)==null||l.call(a,`${S1} evaluateCondition: ${cg(t)} = ${cg(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},SL=(e=[],t)=>{var n,a;const r={};for(const l of e){const{result:c,toAssign:o}=LPe(l,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!c)return{result:c};o&&(r[o.name]=o.value,(a=(n=t.logger)==null?void 0:n.debug)==null||a.call(n,`${S1} assign: ${o.name} := ${cg(o.value)}`))}return{result:!0,referenceRecord:r}},BPe=(e,t)=>Object.entries(e).reduce((r,[n,a])=>({...r,[n]:a.map(l=>{const c=vC(l,"Header value entry",t);if(typeof c!="string")throw new nu(`Header '${n}' value '${c}' is not a string`);return c})}),{}),yK=(e,t)=>{if(Array.isArray(e))return e.map(r=>yK(r,t));switch(typeof e){case"string":return mK(e,t);case"object":if(e===null)throw new nu(`Unexpected endpoint property: ${e}`);return vK(e,t);case"boolean":return e;default:throw new nu(`Unexpected endpoint property type: ${typeof e}`)}},vK=(e,t)=>Object.entries(e).reduce((r,[n,a])=>({...r,[n]:yK(a,t)}),{}),FPe=(e,t)=>{const r=vC(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new nu(`Endpoint URL must be a string, got ${typeof r}`)},NPe=(e,t)=>{var _,E;const{conditions:r,endpoint:n}=e,{result:a,referenceRecord:l}=SL(r,t);if(!a)return;const c={...t,referenceRecord:{...t.referenceRecord,...l}},{url:o,properties:g,headers:m}=n;return(E=(_=t.logger)==null?void 0:_.debug)==null||E.call(_,`${S1} Resolving endpoint from template: ${cg(n)}`),{...m!=null&&{headers:BPe(m,c)},...g!=null&&{properties:vK(g,c)},url:FPe(o,c)}},jPe=(e,t)=>{const{conditions:r,error:n}=e,{result:a,referenceRecord:l}=SL(r,t);if(a)throw new nu(vC(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...l}}))},$Pe=(e,t)=>{const{conditions:r,rules:n}=e,{result:a,referenceRecord:l}=SL(r,t);if(a)return bK(n,{...t,referenceRecord:{...t.referenceRecord,...l}})},bK=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=NPe(r,t);if(n)return n}else if(r.type==="error")jPe(r,t);else if(r.type==="tree"){const n=$Pe(r,t);if(n)return n}else throw new nu(`Unknown endpoint rule: ${r}`);throw new nu("Rules evaluation failed")},UPe=(e,t)=>{var m,_,E,R;const{endpointParams:r,logger:n}=t,{parameters:a,rules:l}=e;(_=(m=t.logger)==null?void 0:m.debug)==null||_.call(m,`${S1} Initial EndpointParams: ${cg(r)}`);const c=Object.entries(a).filter(([,O])=>O.default!=null).map(([O,I])=>[O,I.default]);if(c.length>0)for(const[O,I]of c)r[O]=r[O]??I;const o=Object.entries(a).filter(([,O])=>O.required).map(([O])=>O);for(const O of o)if(r[O]==null)throw new nu(`Missing required parameter: '${O}'`);const g=bK(l,{endpointParams:r,logger:n,referenceRecord:{}});return(R=(E=t.logger)==null?void 0:E.debug)==null||R.call(E,`${S1} Resolved endpoint: ${cg(g)}`),g},_K=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!_K(r))return!1;return!0}return!(!wL(e)||e.length<3||e.length>63||e!==e.toLowerCase()||hK(e))},iU=":",qPe="/",VPe=e=>{const t=e.split(iU);if(t.length<6)return null;const[r,n,a,l,c,...o]=t;if(r!=="arn"||n===""||a===""||o.join(iU)==="")return null;const g=o.map(m=>m.split(qPe)).flat();return{partition:n,service:a,region:l,accountId:c,resourceId:g}},HPe=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],GPe={partitions:HPe};let ZPe=GPe;const WPe=e=>{const{partitions:t}=ZPe;for(const n of t){const{regions:a,outputs:l}=n;for(const[c,o]of Object.entries(a))if(c===e)return{...l,...o}}for(const n of t){const{regionRegex:a,outputs:l}=n;if(new RegExp(a).test(e))return{...l}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},xK={isVirtualHostableS3Bucket:_K,parseArn:VPe,partition:WPe};QE.aws=xK;const KPe=/\d{12}\.ddb/;async function XPe(e,t,r){var l,c,o,g,m,_,E;const n=r.request;if(((l=n==null?void 0:n.headers)==null?void 0:l["smithy-protocol"])==="rpc-v2-cbor"&&Po(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){const R=await t.retryStrategy();typeof R.acquireInitialRetryToken=="function"?(o=(c=R.constructor)==null?void 0:c.name)!=null&&o.includes("Adaptive")?Po(e,"RETRY_MODE_ADAPTIVE","F"):Po(e,"RETRY_MODE_STANDARD","E"):Po(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){const R=e.endpointV2;switch(String((g=R==null?void 0:R.url)==null?void 0:g.hostname).match(KPe)&&Po(e,"ACCOUNT_ID_ENDPOINT","O"),await((m=t.accountIdEndpointMode)==null?void 0:m.call(t))){case"disabled":Po(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Po(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Po(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const a=(E=(_=e.__smithy_context)==null?void 0:_.selectedHttpAuthScheme)==null?void 0:E.identity;if(a!=null&&a.$source){const R=a;R.accountId&&Po(e,"RESOLVED_ACCOUNT_ID","T");for(const[O,I]of Object.entries(R.$source??{}))Po(e,O,I)}}const oU="user-agent",DO="x-amz-user-agent",sU=" ",zO="/",YPe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,QPe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,lU="-",JPe=1024;function eRe(e){let t="";for(const r in e){const n=e[r];if(t.length+n.length+1<=JPe){t.length?t+=","+n:t+=n;continue}break}return t}const tRe=e=>(t,r)=>async n=>{var O,I,B,$;const{request:a}=n;if(!Do.isInstance(a))return t(n);const{headers:l}=a,c=((O=r==null?void 0:r.userAgent)==null?void 0:O.map(oS))||[],o=(await e.defaultUserAgentProvider()).map(oS);await XPe(r,e,n);const g=r;o.push(`m/${eRe(Object.assign({},(I=r.__smithy_context)==null?void 0:I.features,(B=g.__aws_sdk_context)==null?void 0:B.features))}`);const m=(($=e==null?void 0:e.customUserAgent)==null?void 0:$.map(oS))||[],_=await e.userAgentAppId();_&&o.push(oS([`app/${_}`]));const E=[].concat([...o,...c,...m]).join(sU),R=[...o.filter(q=>q.startsWith("aws-sdk-")),...m].join(sU);return e.runtime!=="browser"?(R&&(l[DO]=l[DO]?`${l[oU]} ${R}`:R),l[oU]=E):l[DO]=E,t({...n,request:a})},oS=e=>{var c;const t=e[0].split(zO).map(o=>o.replace(YPe,lU)).join(zO),r=(c=e[1])==null?void 0:c.replace(QPe,lU),n=t.indexOf(zO),a=t.substring(0,n);let l=t.substring(n+1);return a==="api"&&(l=l.toLowerCase()),[a,l,r].filter(o=>o&&o.length>0).reduce((o,g,m)=>{switch(m){case 0:return g;case 1:return`${o}/${g}`;default:return`${o}#${g}`}},"")},rRe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},nRe=e=>({applyToStack:t=>{t.add(tRe(e),rRe)}}),aRe=!1,iRe=!1,wK=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),cU=e=>wK(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,oRe=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return cU(t);const n=await t();return cU(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return wK(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},sRe=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),uU="content-length";function lRe(e){return t=>async r=>{const n=r.request;if(Do.isInstance(n)){const{body:a,headers:l}=n;if(a&&Object.keys(l).map(c=>c.toLowerCase()).indexOf(uU)===-1)try{const c=e(a);n.headers={...n.headers,[uU]:String(c)}}catch{}}return t({...r,request:n})}}const cRe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},uRe=e=>({applyToStack:t=>{t.add(lRe(e.bodyLengthChecker),cRe)}}),dRe=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),gRe(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!mRe(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},fRe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,hRe=/(\d+\.){3}\d+/,pRe=/\.\./,mRe=e=>fRe.test(e)&&!hRe.test(e)&&!pRe.test(e),gRe=e=>{const[t,r,n,,,a]=e.split(":"),l=t==="arn"&&e.split(":").length>=6,c=!!(l&&r&&n&&a);if(l&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return c},yRe=(e,t,r)=>{const n=async()=>{const a=r[e]??r[t];return typeof a=="function"?a():a};return e==="credentialScope"||t==="CredentialScope"?async()=>{const a=typeof r.credentials=="function"?await r.credentials():r.credentials;return(a==null?void 0:a.credentialScope)??(a==null?void 0:a.CredentialScope)}:e==="accountId"||t==="AccountId"?async()=>{const a=typeof r.credentials=="function"?await r.credentials():r.credentials;return(a==null?void 0:a.accountId)??(a==null?void 0:a.AccountId)}:e==="endpoint"||t==="endpoint"?async()=>{const a=await n();if(a&&typeof a=="object"){if("url"in a)return a.url.href;if("hostname"in a){const{protocol:l,hostname:c,port:o,path:g}=a;return`${l}//${c}${o?":"+o:""}${g}`}}return a}:n},SK=async e=>{};function vRe(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,a=null]=r.split("=");n=decodeURIComponent(n),a&&(a=decodeURIComponent(a)),n in t?Array.isArray(t[n])?t[n].push(a):t[n]=[t[n],a]:t[n]=a}return t}const JE=e=>{if(typeof e=="string")return JE(new URL(e));const{hostname:t,pathname:r,port:n,protocol:a,search:l}=e;let c;return l&&(c=vRe(l)),{hostname:t,port:n?parseInt(n):void 0,protocol:a,path:r,query:c}},EK=e=>typeof e=="object"?"url"in e?JE(e.url):e:JE(e),bRe=async(e,t,r,n)=>{if(!r.endpoint){let c;r.serviceConfiguredEndpoint?c=await r.serviceConfiguredEndpoint():c=await SK(r.serviceId),c&&(r.endpoint=()=>Promise.resolve(EK(c)))}const a=await CK(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(a,n)},CK=async(e,t,r)=>{var l;const n={},a=((l=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:l.call(t))||{};for(const[c,o]of Object.entries(a))switch(o.type){case"staticContextParams":n[c]=o.value;break;case"contextParams":n[c]=e[o.name];break;case"clientContextParams":case"builtInParams":n[c]=await yRe(o.name,c,r)();break;case"operationContextParams":n[c]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(a).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await dRe(n),n},_Re=({config:e,instructions:t})=>(r,n)=>async a=>{var o,g,m;e.endpoint&&ZCe(n,"ENDPOINT_OVERRIDE","N");const l=await bRe(a.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=l,n.authSchemes=(o=l.properties)==null?void 0:o.authSchemes;const c=(g=n.authSchemes)==null?void 0:g[0];if(c){n.signing_region=c.signingRegion,n.signing_service=c.signingName;const _=j_(n),E=(m=_==null?void 0:_.selectedHttpAuthScheme)==null?void 0:m.httpAuthOption;E&&(E.signingProperties=Object.assign(E.signingProperties||{},{signing_region:c.signingRegion,signingRegion:c.signingRegion,signing_service:c.signingName,signingName:c.signingName,signingRegionSet:c.signingRegionSet},c.properties))}return r({...a})},xRe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cL.name},EL=(e,t)=>({applyToStack:r=>{r.addRelativeTo(_Re({config:e,instructions:t}),xRe)}}),wRe=e=>{const t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:a}=e,l=r!=null?async()=>EK(await Kd(r)()):void 0,o=Object.assign(e,{endpoint:l,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Kd(n??!1),useFipsEndpoint:Kd(a??!1)});let g;return o.serviceConfiguredEndpoint=async()=>(e.serviceId&&!g&&(g=SK(e.serviceId)),g),o};var E_;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(E_||(E_={}));const e2=3,SRe=E_.STANDARD,ERe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],CRe=["TimeoutError","RequestTimeout","RequestTimeoutException"],TRe=[500,502,503,504],ARe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],PRe=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},RRe=e=>{const t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},TK=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||ERe.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},CL=(e,t=0)=>{var r;return PRe(e)||CRe.includes(e.name)||ARe.includes((e==null?void 0:e.code)||"")||TRe.includes(((r=e.$metadata)==null?void 0:r.httpStatusCode)||0)||RRe(e)||e.cause!==void 0&&t<=10&&CL(e.cause,t+1)},MRe=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!CL(e)}return!1};class bC{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>bC.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),TK(t)){const a=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=a,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(a),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}bC.setTimeoutFn=setTimeout;const ID=100,AK=20*1e3,ORe=500,dU=500,kRe=5,IRe=10,DRe=1,zRe="amz-sdk-invocation-id",LRe="amz-sdk-request",BRe=()=>{let e=ID;return{computeNextBackoffDelay:n=>Math.floor(Math.min(AK,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},fU=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(AK,e),getRetryCost:()=>r});class PK{constructor(t){this.maxAttempts=t,this.mode=E_.STANDARD,this.capacity=dU,this.retryBackoffStrategy=BRe(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return fU({retryDelay:ID,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const a=r.errorType;this.retryBackoffStrategy.setDelayBase(a==="THROTTLING"?ORe:ID);const l=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),c=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,l):l,o=this.getCapacityCost(a);return this.capacity-=o,fU({retryDelay:c,retryCount:t.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(dU,this.capacity+(t.getRetryCost()??DRe))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${e2}`),e2}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?IRe:kRe}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class FRe{constructor(t,r){this.maxAttemptsProvider=t,this.mode=E_.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new bC,this.standardRetryStrategy=new PK(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}let sS;const NRe=new Uint8Array(16);function jRe(){if(!sS&&(sS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sS(NRe)}const Os=[];for(let e=0;e<256;++e)Os.push((e+256).toString(16).slice(1));function $Re(e,t=0){return Os[e[t+0]]+Os[e[t+1]]+Os[e[t+2]]+Os[e[t+3]]+"-"+Os[e[t+4]]+Os[e[t+5]]+"-"+Os[e[t+6]]+Os[e[t+7]]+"-"+Os[e[t+8]]+Os[e[t+9]]+"-"+Os[e[t+10]]+Os[e[t+11]]+Os[e[t+12]]+Os[e[t+13]]+Os[e[t+14]]+Os[e[t+15]]}const URe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hU={randomUUID:URe};function qRe(e,t,r){if(hU.randomUUID&&!e)return hU.randomUUID();e=e||{};const n=e.random||(e.rng||jRe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,$Re(n)}const VRe=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),HRe=e=>{const{retryStrategy:t,retryMode:r,maxAttempts:n}=e,a=Kd(n??e2);return Object.assign(e,{maxAttempts:a,retryStrategy:async()=>t||(await Kd(r)()===E_.ADAPTIVE?new FRe(a):new PK(a))})},GRe=e=>(e==null?void 0:e.body)instanceof ReadableStream,ZRe=e=>(t,r)=>async n=>{var c;let a=await e.retryStrategy();const l=await e.maxAttempts();if(WRe(a)){a=a;let o=await a.acquireInitialRetryToken(r.partition_id),g=new Error,m=0,_=0;const{request:E}=n,R=Do.isInstance(E);for(R&&(E.headers[zRe]=qRe());;)try{R&&(E.headers[LRe]=`attempt=${m+1}; max=${l}`);const{response:O,output:I}=await t(n);return a.recordSuccess(o),I.$metadata.attempts=m+1,I.$metadata.totalRetryDelay=_,{response:O,output:I}}catch(O){const I=KRe(O);if(g=VRe(O),R&&GRe(E))throw(c=r.logger instanceof yL?console:r.logger)==null||c.warn("An error was encountered in a non-retryable streaming request."),g;try{o=await a.refreshRetryTokenForRetry(o,I)}catch{throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=m+1,g.$metadata.totalRetryDelay=_,g}m=o.getRetryCount();const B=o.getRetryDelay();_+=B,await new Promise($=>setTimeout($,B))}}else return a=a,a!=null&&a.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(t,n)},WRe=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",KRe=e=>{const t={error:e,errorType:XRe(e)},r=JRe(e.$response);return r&&(t.retryAfterHint=r),t},XRe=e=>TK(e)?"THROTTLING":CL(e)?"TRANSIENT":MRe(e)?"SERVER_ERROR":"CLIENT_ERROR",YRe={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},QRe=e=>({applyToStack:t=>{t.add(ZRe(e),YRe)}}),JRe=e=>{if(!x_.isInstance(e))return;const t=Object.keys(e.headers).find(l=>l.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};class RK{constructor(t){or(this,"sigv4aSigner");or(this,"sigv4Signer");or(this,"signerOptions");this.sigv4Signer=new JAe(t),this.signerOptions=t}static sigv4aDependency(){return"none"}async sign(t,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(t,r):this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const TL="required",Fe="type",Yt="rules",st="conditions",kt="fn",It="argv",Hr="ref",In="assign",zr="url",Lr="properties",ky="backend",nl="authSchemes",ms="disableDoubleEncoding",gs="signingName",Ol="signingRegion",Br="headers",AL="signingRegionSet",eMe=6,tMe=!1,Xf=!0,Yc="isSet",co="booleanEquals",Dr="error",t2="aws.partition",ra="stringEquals",Pi="getAttr",so="name",Wa="substring",pU="bucketSuffix",PL="parseURL",pr="endpoint",Jt="tree",r2="aws.isVirtualHostableS3Bucket",n2="{url#scheme}://{Bucket}.{url#authority}{url#path}",gh="not",mU="accessPointSuffix",MS="{url#scheme}://{url#authority}{url#path}",MK="hardwareType",OK="regionPrefix",gU="bucketAliasSuffix",DD="outpostId",av="isValidHostLabel",RL="sigv4a",E1="s3-outposts",C_="s3",kK="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",IK="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",yU="https://{Bucket}.s3.{partitionResult#dnsSuffix}",DK="aws.parseArn",zK="bucketArn",LK="arnType",a2="",ML="s3-object-lambda",BK="accesspoint",OL="accessPointName",vU="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",bU="mrapPartition",_U="outpostType",xU="arnPrefix",FK="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",wU="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",SU="https://s3.{partitionResult#dnsSuffix}",xb={[TL]:!1,[Fe]:"String"},wb={[TL]:!0,default:!1,[Fe]:"Boolean"},tx={[TL]:!1,[Fe]:"Boolean"},Iu={[kt]:co,[It]:[{[Hr]:"Accelerate"},!0]},si={[kt]:co,[It]:[{[Hr]:"UseFIPS"},!0]},Ga={[kt]:co,[It]:[{[Hr]:"UseDualStack"},!0]},to={[kt]:Yc,[It]:[{[Hr]:"Endpoint"}]},NK={[kt]:t2,[It]:[{[Hr]:"Region"}],[In]:"partitionResult"},EU={[kt]:ra,[It]:[{[kt]:Pi,[It]:[{[Hr]:"partitionResult"},so]},"aws-cn"]},Xx={[kt]:Yc,[It]:[{[Hr]:"Bucket"}]},Qn={[Hr]:"Bucket"},CU={[st]:[Ga],[Dr]:"S3Express does not support Dual-stack.",[Fe]:Dr},TU={[st]:[Iu],[Dr]:"S3Express does not support S3 Accelerate.",[Fe]:Dr},AU={[st]:[to,{[kt]:PL,[It]:[{[Hr]:"Endpoint"}],[In]:"url"}],[Yt]:[{[st]:[{[kt]:Yc,[It]:[{[Hr]:"DisableS3ExpressSessionAuth"}]},{[kt]:co,[It]:[{[Hr]:"DisableS3ExpressSessionAuth"},!0]}],[Yt]:[{[st]:[{[kt]:co,[It]:[{[kt]:Pi,[It]:[{[Hr]:"url"},"isIp"]},!0]}],[Yt]:[{[st]:[{[kt]:"uriEncode",[It]:[Qn],[In]:"uri_encoded_bucket"}],[Yt]:[{[pr]:{[zr]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Lr]:{[ky]:"S3Express",[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:"s3express",[Ol]:"{Region}"}]},[Br]:{}},[Fe]:pr}],[Fe]:Jt}],[Fe]:Jt},{[st]:[{[kt]:r2,[It]:[Qn,!1]}],[Yt]:[{[pr]:{[zr]:n2,[Lr]:{[ky]:"S3Express",[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:"s3express",[Ol]:"{Region}"}]},[Br]:{}},[Fe]:pr}],[Fe]:Jt},{[Dr]:"S3Express bucket name is not a valid virtual hostable name.",[Fe]:Dr}],[Fe]:Jt},{[st]:[{[kt]:co,[It]:[{[kt]:Pi,[It]:[{[Hr]:"url"},"isIp"]},!0]}],[Yt]:[{[st]:[{[kt]:"uriEncode",[It]:[Qn],[In]:"uri_encoded_bucket"}],[Yt]:[{[pr]:{[zr]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Lr]:{[ky]:"S3Express",[nl]:[{[ms]:!0,[so]:"sigv4-s3express",[gs]:"s3express",[Ol]:"{Region}"}]},[Br]:{}},[Fe]:pr}],[Fe]:Jt}],[Fe]:Jt},{[st]:[{[kt]:r2,[It]:[Qn,!1]}],[Yt]:[{[pr]:{[zr]:n2,[Lr]:{[ky]:"S3Express",[nl]:[{[ms]:!0,[so]:"sigv4-s3express",[gs]:"s3express",[Ol]:"{Region}"}]},[Br]:{}},[Fe]:pr}],[Fe]:Jt},{[Dr]:"S3Express bucket name is not a valid virtual hostable name.",[Fe]:Dr}],[Fe]:Jt},Sl={[kt]:PL,[It]:[{[Hr]:"Endpoint"}],[In]:"url"},LO={[kt]:co,[It]:[{[kt]:Pi,[It]:[{[Hr]:"url"},"isIp"]},!0]},jK={[Hr]:"url"},$K={[kt]:"uriEncode",[It]:[Qn],[In]:"uri_encoded_bucket"},Cy={[ky]:"S3Express",[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:"s3express",[Ol]:"{Region}"}]},Tn={},UK={[kt]:r2,[It]:[Qn,!1]},PU={[Dr]:"S3Express bucket name is not a valid virtual hostable name.",[Fe]:Dr},RU={[kt]:Yc,[It]:[{[Hr]:"UseS3ExpressControlEndpoint"}]},MU={[kt]:co,[It]:[{[Hr]:"UseS3ExpressControlEndpoint"},!0]},An={[kt]:gh,[It]:[to]},lS={[Dr]:"Unrecognized S3Express bucket name format.",[Fe]:Dr},OU={[kt]:gh,[It]:[Xx]},kU={[Hr]:MK},IU={[st]:[An],[Dr]:"Expected a endpoint to be specified but no endpoint was found",[Fe]:Dr},cS={[nl]:[{[ms]:!0,[so]:RL,[gs]:E1,[AL]:["*"]},{[ms]:!0,[so]:"sigv4",[gs]:E1,[Ol]:"{Region}"}]},BO={[kt]:co,[It]:[{[Hr]:"ForcePathStyle"},!1]},rMe={[Hr]:"ForcePathStyle"},To={[kt]:co,[It]:[{[Hr]:"Accelerate"},!1]},Ko={[kt]:ra,[It]:[{[Hr]:"Region"},"aws-global"]},cs={[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:C_,[Ol]:"us-east-1"}]},Wn={[kt]:gh,[It]:[Ko]},us={[kt]:co,[It]:[{[Hr]:"UseGlobalEndpoint"},!0]},DU={[zr]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Lr]:{[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:C_,[Ol]:"{Region}"}]},[Br]:{}},Io={[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:C_,[Ol]:"{Region}"}]},ds={[kt]:co,[It]:[{[Hr]:"UseGlobalEndpoint"},!1]},Gn={[kt]:co,[It]:[{[Hr]:"UseDualStack"},!1]},zU={[zr]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},$n={[kt]:co,[It]:[{[Hr]:"UseFIPS"},!1]},LU={[zr]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},BU={[zr]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},FO={[kt]:co,[It]:[{[kt]:Pi,[It]:[jK,"isIp"]},!1]},NO={[zr]:kK,[Lr]:Io,[Br]:{}},zD={[zr]:n2,[Lr]:Io,[Br]:{}},FU={[pr]:zD,[Fe]:pr},jO={[zr]:IK,[Lr]:Io,[Br]:{}},NU={[zr]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},uS={[Dr]:"Invalid region: region was not a valid DNS name.",[Fe]:Dr},lc={[Hr]:zK},qK={[Hr]:LK},$O={[kt]:Pi,[It]:[lc,"service"]},kL={[Hr]:OL},jU={[st]:[Ga],[Dr]:"S3 Object Lambda does not support Dual-stack",[Fe]:Dr},$U={[st]:[Iu],[Dr]:"S3 Object Lambda does not support S3 Accelerate",[Fe]:Dr},UU={[st]:[{[kt]:Yc,[It]:[{[Hr]:"DisableAccessPoints"}]},{[kt]:co,[It]:[{[Hr]:"DisableAccessPoints"},!0]}],[Dr]:"Access points are not supported for this operation",[Fe]:Dr},UO={[st]:[{[kt]:Yc,[It]:[{[Hr]:"UseArnRegion"}]},{[kt]:co,[It]:[{[Hr]:"UseArnRegion"},!1]},{[kt]:gh,[It]:[{[kt]:ra,[It]:[{[kt]:Pi,[It]:[lc,"region"]},"{Region}"]}]}],[Dr]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[Fe]:Dr},VK={[kt]:Pi,[It]:[{[Hr]:"bucketPartition"},so]},HK={[kt]:Pi,[It]:[lc,"accountId"]},qO={[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:ML,[Ol]:"{bucketArn#region}"}]},qU={[Dr]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[Fe]:Dr},VO={[Dr]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[Fe]:Dr},HO={[Dr]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[Fe]:Dr},GO={[Dr]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[Fe]:Dr},VU={[Dr]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[Fe]:Dr},HU={[Dr]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[Fe]:Dr},rx={[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:C_,[Ol]:"{bucketArn#region}"}]},GU={[nl]:[{[ms]:!0,[so]:RL,[gs]:E1,[AL]:["*"]},{[ms]:!0,[so]:"sigv4",[gs]:E1,[Ol]:"{bucketArn#region}"}]},ZU={[kt]:DK,[It]:[Qn]},WU={[zr]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:Io,[Br]:{}},KU={[zr]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:Io,[Br]:{}},XU={[zr]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:Io,[Br]:{}},ZO={[zr]:FK,[Lr]:Io,[Br]:{}},YU={[zr]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:Io,[Br]:{}},QU={[Hr]:"UseObjectLambdaEndpoint"},WO={[nl]:[{[ms]:!0,[so]:"sigv4",[gs]:ML,[Ol]:"{Region}"}]},JU={[zr]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},eq={[zr]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},tq={[zr]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},KO={[zr]:MS,[Lr]:Io,[Br]:{}},rq={[zr]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Lr]:Io,[Br]:{}},XO=[{[Hr]:"Region"}],nMe=[{[Hr]:"Endpoint"}],aMe=[Qn],nq=[Ga],YO=[Iu],Sb=[to,Sl],aq=[{[kt]:Yc,[It]:[{[Hr]:"DisableS3ExpressSessionAuth"}]},{[kt]:co,[It]:[{[Hr]:"DisableS3ExpressSessionAuth"},!0]}],iMe=[$K],iq=[UK],Ou=[NK],Eb=[si],oq=[{[kt]:Wa,[It]:[Qn,6,14,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,14,16,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],Yf=[{[st]:[si],[pr]:{[zr]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Lr]:Cy,[Br]:{}},[Fe]:pr},{[pr]:{[zr]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Lr]:Cy,[Br]:{}},[Fe]:pr}],sq=[{[kt]:Wa,[It]:[Qn,6,15,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,15,17,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],lq=[{[kt]:Wa,[It]:[Qn,6,19,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,19,21,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],cq=[{[kt]:Wa,[It]:[Qn,6,20,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,20,22,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],uq=[{[kt]:Wa,[It]:[Qn,6,26,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,26,28,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],Qf=[{[st]:[si],[pr]:{[zr]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Lr]:{[ky]:"S3Express",[nl]:[{[ms]:!0,[so]:"sigv4-s3express",[gs]:"s3express",[Ol]:"{Region}"}]},[Br]:{}},[Fe]:pr},{[pr]:{[zr]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Lr]:{[ky]:"S3Express",[nl]:[{[ms]:!0,[so]:"sigv4-s3express",[gs]:"s3express",[Ol]:"{Region}"}]},[Br]:{}},[Fe]:pr}],dq=[Qn,0,7,!0],fq=[{[kt]:Wa,[It]:[Qn,7,15,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,15,17,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],hq=[{[kt]:Wa,[It]:[Qn,7,16,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,16,18,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],pq=[{[kt]:Wa,[It]:[Qn,7,20,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,20,22,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],mq=[{[kt]:Wa,[It]:[Qn,7,21,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,21,23,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],gq=[{[kt]:Wa,[It]:[Qn,7,27,!0],[In]:"s3expressAvailabilityZoneId"},{[kt]:Wa,[It]:[Qn,27,29,!0],[In]:"s3expressAvailabilityZoneDelim"},{[kt]:ra,[It]:[{[Hr]:"s3expressAvailabilityZoneDelim"},"--"]}],oMe=[Xx],yq=[{[kt]:av,[It]:[{[Hr]:DD},!1]}],vq=[{[kt]:ra,[It]:[{[Hr]:OK},"beta"]}],sMe=["*"],bq=[{[kt]:av,[It]:[{[Hr]:"Region"},!1]}],Rm=[{[kt]:ra,[It]:[{[Hr]:"Region"},"us-east-1"]}],QO=[{[kt]:ra,[It]:[qK,BK]}],_q=[{[kt]:Pi,[It]:[lc,"resourceId[1]"],[In]:OL},{[kt]:gh,[It]:[{[kt]:ra,[It]:[kL,a2]}]}],lMe=[lc,"resourceId[1]"],JO=[{[kt]:gh,[It]:[{[kt]:ra,[It]:[{[kt]:Pi,[It]:[lc,"region"]},a2]}]}],xq=[{[kt]:gh,[It]:[{[kt]:Yc,[It]:[{[kt]:Pi,[It]:[lc,"resourceId[2]"]}]}]}],cMe=[lc,"resourceId[2]"],ek=[{[kt]:t2,[It]:[{[kt]:Pi,[It]:[lc,"region"]}],[In]:"bucketPartition"}],wq=[{[kt]:ra,[It]:[VK,{[kt]:Pi,[It]:[{[Hr]:"partitionResult"},so]}]}],tk=[{[kt]:av,[It]:[{[kt]:Pi,[It]:[lc,"region"]},!0]}],rk=[{[kt]:av,[It]:[HK,!1]}],Sq=[{[kt]:av,[It]:[kL,!1]}],Eq=[{[kt]:av,[It]:[{[Hr]:"Region"},!0]}],uMe={parameters:{Bucket:xb,Region:xb,UseFIPS:wb,UseDualStack:wb,Endpoint:xb,ForcePathStyle:wb,Accelerate:wb,UseGlobalEndpoint:wb,UseObjectLambdaEndpoint:tx,Key:xb,Prefix:xb,CopySource:xb,DisableAccessPoints:tx,DisableMultiRegionAccessPoints:wb,UseArnRegion:tx,UseS3ExpressControlEndpoint:tx,DisableS3ExpressSessionAuth:tx},[Yt]:[{[st]:[{[kt]:Yc,[It]:XO}],[Yt]:[{[st]:[Iu,si],error:"Accelerate cannot be used with FIPS",[Fe]:Dr},{[st]:[Ga,to],error:"Cannot set dual-stack in combination with a custom endpoint.",[Fe]:Dr},{[st]:[to,si],error:"A custom endpoint cannot be combined with FIPS",[Fe]:Dr},{[st]:[to,Iu],error:"A custom endpoint cannot be combined with S3 Accelerate",[Fe]:Dr},{[st]:[si,NK,EU],error:"Partition does not support FIPS",[Fe]:Dr},{[st]:[Xx,{[kt]:Wa,[It]:[Qn,0,eMe,Xf],[In]:pU},{[kt]:ra,[It]:[{[Hr]:pU},"--x-s3"]}],[Yt]:[CU,TU,AU,{[st]:[RU,MU],[Yt]:[{[st]:Ou,[Yt]:[{[st]:[$K,An],[Yt]:[{[st]:Eb,endpoint:{[zr]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:Cy,[Br]:Tn},[Fe]:pr},{endpoint:{[zr]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:Cy,[Br]:Tn},[Fe]:pr}],[Fe]:Jt}],[Fe]:Jt}],[Fe]:Jt},{[st]:iq,[Yt]:[{[st]:Ou,[Yt]:[{[st]:aq,[Yt]:[{[st]:oq,[Yt]:Yf,[Fe]:Jt},{[st]:sq,[Yt]:Yf,[Fe]:Jt},{[st]:lq,[Yt]:Yf,[Fe]:Jt},{[st]:cq,[Yt]:Yf,[Fe]:Jt},{[st]:uq,[Yt]:Yf,[Fe]:Jt},lS],[Fe]:Jt},{[st]:oq,[Yt]:Qf,[Fe]:Jt},{[st]:sq,[Yt]:Qf,[Fe]:Jt},{[st]:lq,[Yt]:Qf,[Fe]:Jt},{[st]:cq,[Yt]:Qf,[Fe]:Jt},{[st]:uq,[Yt]:Qf,[Fe]:Jt},lS],[Fe]:Jt}],[Fe]:Jt},PU],[Fe]:Jt},{[st]:[Xx,{[kt]:Wa,[It]:dq,[In]:mU},{[kt]:ra,[It]:[{[Hr]:mU},"--xa-s3"]}],[Yt]:[CU,TU,AU,{[st]:iq,[Yt]:[{[st]:Ou,[Yt]:[{[st]:aq,[Yt]:[{[st]:fq,[Yt]:Yf,[Fe]:Jt},{[st]:hq,[Yt]:Yf,[Fe]:Jt},{[st]:pq,[Yt]:Yf,[Fe]:Jt},{[st]:mq,[Yt]:Yf,[Fe]:Jt},{[st]:gq,[Yt]:Yf,[Fe]:Jt},lS],[Fe]:Jt},{[st]:fq,[Yt]:Qf,[Fe]:Jt},{[st]:hq,[Yt]:Qf,[Fe]:Jt},{[st]:pq,[Yt]:Qf,[Fe]:Jt},{[st]:mq,[Yt]:Qf,[Fe]:Jt},{[st]:gq,[Yt]:Qf,[Fe]:Jt},lS],[Fe]:Jt}],[Fe]:Jt},PU],[Fe]:Jt},{[st]:[OU,RU,MU],[Yt]:[{[st]:Ou,[Yt]:[{[st]:Sb,endpoint:{[zr]:MS,[Lr]:Cy,[Br]:Tn},[Fe]:pr},{[st]:Eb,endpoint:{[zr]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Lr]:Cy,[Br]:Tn},[Fe]:pr},{endpoint:{[zr]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Lr]:Cy,[Br]:Tn},[Fe]:pr}],[Fe]:Jt}],[Fe]:Jt},{[st]:[Xx,{[kt]:Wa,[It]:[Qn,49,50,Xf],[In]:MK},{[kt]:Wa,[It]:[Qn,8,12,Xf],[In]:OK},{[kt]:Wa,[It]:dq,[In]:gU},{[kt]:Wa,[It]:[Qn,32,49,Xf],[In]:DD},{[kt]:t2,[It]:XO,[In]:"regionPartition"},{[kt]:ra,[It]:[{[Hr]:gU},"--op-s3"]}],[Yt]:[{[st]:yq,[Yt]:[{[st]:[{[kt]:ra,[It]:[kU,"e"]}],[Yt]:[{[st]:vq,[Yt]:[IU,{[st]:Sb,endpoint:{[zr]:"https://{Bucket}.ec2.{url#authority}",[Lr]:cS,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},{endpoint:{[zr]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Lr]:cS,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},{[st]:[{[kt]:ra,[It]:[kU,"o"]}],[Yt]:[{[st]:vq,[Yt]:[IU,{[st]:Sb,endpoint:{[zr]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Lr]:cS,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},{endpoint:{[zr]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Lr]:cS,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[Fe]:Dr}],[Fe]:Jt},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[Fe]:Dr}],[Fe]:Jt},{[st]:oMe,[Yt]:[{[st]:[to,{[kt]:gh,[It]:[{[kt]:Yc,[It]:[{[kt]:PL,[It]:nMe}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[Fe]:Dr},{[st]:[BO,UK],[Yt]:[{[st]:Ou,[Yt]:[{[st]:bq,[Yt]:[{[st]:[Iu,EU],error:"S3 Accelerate cannot be used in this region",[Fe]:Dr},{[st]:[Ga,si,To,An,Ko],endpoint:{[zr]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Ga,si,To,An,Wn,us],[Yt]:[{endpoint:DU,[Fe]:pr}],[Fe]:Jt},{[st]:[Ga,si,To,An,Wn,ds],endpoint:DU,[Fe]:pr},{[st]:[Gn,si,To,An,Ko],endpoint:{[zr]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,si,To,An,Wn,us],[Yt]:[{endpoint:zU,[Fe]:pr}],[Fe]:Jt},{[st]:[Gn,si,To,An,Wn,ds],endpoint:zU,[Fe]:pr},{[st]:[Ga,$n,Iu,An,Ko],endpoint:{[zr]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Ga,$n,Iu,An,Wn,us],[Yt]:[{endpoint:LU,[Fe]:pr}],[Fe]:Jt},{[st]:[Ga,$n,Iu,An,Wn,ds],endpoint:LU,[Fe]:pr},{[st]:[Ga,$n,To,An,Ko],endpoint:{[zr]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Ga,$n,To,An,Wn,us],[Yt]:[{endpoint:BU,[Fe]:pr}],[Fe]:Jt},{[st]:[Ga,$n,To,An,Wn,ds],endpoint:BU,[Fe]:pr},{[st]:[Gn,$n,To,to,Sl,LO,Ko],endpoint:{[zr]:kK,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,$n,To,to,Sl,FO,Ko],endpoint:{[zr]:n2,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,$n,To,to,Sl,LO,Wn,us],[Yt]:[{[st]:Rm,endpoint:NO,[Fe]:pr},{endpoint:NO,[Fe]:pr}],[Fe]:Jt},{[st]:[Gn,$n,To,to,Sl,FO,Wn,us],[Yt]:[{[st]:Rm,endpoint:zD,[Fe]:pr},FU],[Fe]:Jt},{[st]:[Gn,$n,To,to,Sl,LO,Wn,ds],endpoint:NO,[Fe]:pr},{[st]:[Gn,$n,To,to,Sl,FO,Wn,ds],endpoint:zD,[Fe]:pr},{[st]:[Gn,$n,Iu,An,Ko],endpoint:{[zr]:IK,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,$n,Iu,An,Wn,us],[Yt]:[{[st]:Rm,endpoint:jO,[Fe]:pr},{endpoint:jO,[Fe]:pr}],[Fe]:Jt},{[st]:[Gn,$n,Iu,An,Wn,ds],endpoint:jO,[Fe]:pr},{[st]:[Gn,$n,To,An,Ko],endpoint:{[zr]:yU,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,$n,To,An,Wn,us],[Yt]:[{[st]:Rm,endpoint:{[zr]:yU,[Lr]:Io,[Br]:Tn},[Fe]:pr},{endpoint:NU,[Fe]:pr}],[Fe]:Jt},{[st]:[Gn,$n,To,An,Wn,ds],endpoint:NU,[Fe]:pr}],[Fe]:Jt},uS],[Fe]:Jt}],[Fe]:Jt},{[st]:[to,Sl,{[kt]:ra,[It]:[{[kt]:Pi,[It]:[jK,"scheme"]},"http"]},{[kt]:r2,[It]:[Qn,Xf]},BO,$n,Gn,To],[Yt]:[{[st]:Ou,[Yt]:[{[st]:bq,[Yt]:[FU],[Fe]:Jt},uS],[Fe]:Jt}],[Fe]:Jt},{[st]:[BO,{[kt]:DK,[It]:aMe,[In]:zK}],[Yt]:[{[st]:[{[kt]:Pi,[It]:[lc,"resourceId[0]"],[In]:LK},{[kt]:gh,[It]:[{[kt]:ra,[It]:[qK,a2]}]}],[Yt]:[{[st]:[{[kt]:ra,[It]:[$O,ML]}],[Yt]:[{[st]:QO,[Yt]:[{[st]:_q,[Yt]:[jU,$U,{[st]:JO,[Yt]:[UU,{[st]:xq,[Yt]:[UO,{[st]:ek,[Yt]:[{[st]:Ou,[Yt]:[{[st]:wq,[Yt]:[{[st]:tk,[Yt]:[{[st]:[{[kt]:ra,[It]:[HK,a2]}],error:"Invalid ARN: Missing account id",[Fe]:Dr},{[st]:rk,[Yt]:[{[st]:Sq,[Yt]:[{[st]:Sb,endpoint:{[zr]:vU,[Lr]:qO,[Br]:Tn},[Fe]:pr},{[st]:Eb,endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Lr]:qO,[Br]:Tn},[Fe]:pr},{endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Lr]:qO,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},qU],[Fe]:Jt},VO],[Fe]:Jt},HO],[Fe]:Jt},GO],[Fe]:Jt}],[Fe]:Jt}],[Fe]:Jt},VU],[Fe]:Jt},{error:"Invalid ARN: bucket ARN is missing a region",[Fe]:Dr}],[Fe]:Jt},HU],[Fe]:Jt},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[Fe]:Dr}],[Fe]:Jt},{[st]:QO,[Yt]:[{[st]:_q,[Yt]:[{[st]:JO,[Yt]:[{[st]:QO,[Yt]:[{[st]:JO,[Yt]:[UU,{[st]:xq,[Yt]:[UO,{[st]:ek,[Yt]:[{[st]:Ou,[Yt]:[{[st]:[{[kt]:ra,[It]:[VK,"{partitionResult#name}"]}],[Yt]:[{[st]:tk,[Yt]:[{[st]:[{[kt]:ra,[It]:[$O,C_]}],[Yt]:[{[st]:rk,[Yt]:[{[st]:Sq,[Yt]:[{[st]:YO,error:"Access Points do not support S3 Accelerate",[Fe]:Dr},{[st]:[si,Ga],endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Lr]:rx,[Br]:Tn},[Fe]:pr},{[st]:[si,Gn],endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Lr]:rx,[Br]:Tn},[Fe]:pr},{[st]:[$n,Ga],endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Lr]:rx,[Br]:Tn},[Fe]:pr},{[st]:[$n,Gn,to,Sl],endpoint:{[zr]:vU,[Lr]:rx,[Br]:Tn},[Fe]:pr},{[st]:[$n,Gn],endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Lr]:rx,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},qU],[Fe]:Jt},VO],[Fe]:Jt},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[Fe]:Dr}],[Fe]:Jt},HO],[Fe]:Jt},GO],[Fe]:Jt}],[Fe]:Jt}],[Fe]:Jt},VU],[Fe]:Jt}],[Fe]:Jt}],[Fe]:Jt},{[st]:[{[kt]:av,[It]:[kL,Xf]}],[Yt]:[{[st]:nq,error:"S3 MRAP does not support dual-stack",[Fe]:Dr},{[st]:Eb,error:"S3 MRAP does not support FIPS",[Fe]:Dr},{[st]:YO,error:"S3 MRAP does not support S3 Accelerate",[Fe]:Dr},{[st]:[{[kt]:co,[It]:[{[Hr]:"DisableMultiRegionAccessPoints"},Xf]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[Fe]:Dr},{[st]:[{[kt]:t2,[It]:XO,[In]:bU}],[Yt]:[{[st]:[{[kt]:ra,[It]:[{[kt]:Pi,[It]:[{[Hr]:bU},so]},{[kt]:Pi,[It]:[lc,"partition"]}]}],[Yt]:[{endpoint:{[zr]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Lr]:{[nl]:[{[ms]:Xf,name:RL,[gs]:C_,[AL]:sMe}]},[Br]:Tn},[Fe]:pr}],[Fe]:Jt},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[Fe]:Dr}],[Fe]:Jt}],[Fe]:Jt},{error:"Invalid Access Point Name",[Fe]:Dr}],[Fe]:Jt},HU],[Fe]:Jt},{[st]:[{[kt]:ra,[It]:[$O,E1]}],[Yt]:[{[st]:nq,error:"S3 Outposts does not support Dual-stack",[Fe]:Dr},{[st]:Eb,error:"S3 Outposts does not support FIPS",[Fe]:Dr},{[st]:YO,error:"S3 Outposts does not support S3 Accelerate",[Fe]:Dr},{[st]:[{[kt]:Yc,[It]:[{[kt]:Pi,[It]:[lc,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[Fe]:Dr},{[st]:[{[kt]:Pi,[It]:lMe,[In]:DD}],[Yt]:[{[st]:yq,[Yt]:[UO,{[st]:ek,[Yt]:[{[st]:Ou,[Yt]:[{[st]:wq,[Yt]:[{[st]:tk,[Yt]:[{[st]:rk,[Yt]:[{[st]:[{[kt]:Pi,[It]:cMe,[In]:_U}],[Yt]:[{[st]:[{[kt]:Pi,[It]:[lc,"resourceId[3]"],[In]:OL}],[Yt]:[{[st]:[{[kt]:ra,[It]:[{[Hr]:_U},BK]}],[Yt]:[{[st]:Sb,endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Lr]:GU,[Br]:Tn},[Fe]:pr},{endpoint:{[zr]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Lr]:GU,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[Fe]:Dr}],[Fe]:Jt},{error:"Invalid ARN: expected an access point name",[Fe]:Dr}],[Fe]:Jt},{error:"Invalid ARN: Expected a 4-component resource",[Fe]:Dr}],[Fe]:Jt},VO],[Fe]:Jt},HO],[Fe]:Jt},GO],[Fe]:Jt}],[Fe]:Jt}],[Fe]:Jt},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[Fe]:Dr}],[Fe]:Jt},{error:"Invalid ARN: The Outpost Id was not set",[Fe]:Dr}],[Fe]:Jt},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[Fe]:Dr}],[Fe]:Jt},{error:"Invalid ARN: No ARN type specified",[Fe]:Dr}],[Fe]:Jt},{[st]:[{[kt]:Wa,[It]:[Qn,0,4,tMe],[In]:xU},{[kt]:ra,[It]:[{[Hr]:xU},"arn:"]},{[kt]:gh,[It]:[{[kt]:Yc,[It]:[ZU]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[Fe]:Dr},{[st]:[{[kt]:co,[It]:[rMe,Xf]},ZU],error:"Path-style addressing cannot be used with ARN buckets",[Fe]:Dr},{[st]:iMe,[Yt]:[{[st]:Ou,[Yt]:[{[st]:[To],[Yt]:[{[st]:[Ga,An,si,Ko],endpoint:{[zr]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Ga,An,si,Wn,us],[Yt]:[{endpoint:WU,[Fe]:pr}],[Fe]:Jt},{[st]:[Ga,An,si,Wn,ds],endpoint:WU,[Fe]:pr},{[st]:[Gn,An,si,Ko],endpoint:{[zr]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,An,si,Wn,us],[Yt]:[{endpoint:KU,[Fe]:pr}],[Fe]:Jt},{[st]:[Gn,An,si,Wn,ds],endpoint:KU,[Fe]:pr},{[st]:[Ga,An,$n,Ko],endpoint:{[zr]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Ga,An,$n,Wn,us],[Yt]:[{endpoint:XU,[Fe]:pr}],[Fe]:Jt},{[st]:[Ga,An,$n,Wn,ds],endpoint:XU,[Fe]:pr},{[st]:[Gn,to,Sl,$n,Ko],endpoint:{[zr]:FK,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,to,Sl,$n,Wn,us],[Yt]:[{[st]:Rm,endpoint:ZO,[Fe]:pr},{endpoint:ZO,[Fe]:pr}],[Fe]:Jt},{[st]:[Gn,to,Sl,$n,Wn,ds],endpoint:ZO,[Fe]:pr},{[st]:[Gn,An,$n,Ko],endpoint:{[zr]:wU,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[Gn,An,$n,Wn,us],[Yt]:[{[st]:Rm,endpoint:{[zr]:wU,[Lr]:Io,[Br]:Tn},[Fe]:pr},{endpoint:YU,[Fe]:pr}],[Fe]:Jt},{[st]:[Gn,An,$n,Wn,ds],endpoint:YU,[Fe]:pr}],[Fe]:Jt},{error:"Path-style addressing cannot be used with S3 Accelerate",[Fe]:Dr}],[Fe]:Jt}],[Fe]:Jt}],[Fe]:Jt},{[st]:[{[kt]:Yc,[It]:[QU]},{[kt]:co,[It]:[QU,Xf]}],[Yt]:[{[st]:Ou,[Yt]:[{[st]:Eq,[Yt]:[jU,$U,{[st]:Sb,endpoint:{[zr]:MS,[Lr]:WO,[Br]:Tn},[Fe]:pr},{[st]:Eb,endpoint:{[zr]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Lr]:WO,[Br]:Tn},[Fe]:pr},{endpoint:{[zr]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Lr]:WO,[Br]:Tn},[Fe]:pr}],[Fe]:Jt},uS],[Fe]:Jt}],[Fe]:Jt},{[st]:[OU],[Yt]:[{[st]:Ou,[Yt]:[{[st]:Eq,[Yt]:[{[st]:[si,Ga,An,Ko],endpoint:{[zr]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[si,Ga,An,Wn,us],[Yt]:[{endpoint:JU,[Fe]:pr}],[Fe]:Jt},{[st]:[si,Ga,An,Wn,ds],endpoint:JU,[Fe]:pr},{[st]:[si,Gn,An,Ko],endpoint:{[zr]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[si,Gn,An,Wn,us],[Yt]:[{endpoint:eq,[Fe]:pr}],[Fe]:Jt},{[st]:[si,Gn,An,Wn,ds],endpoint:eq,[Fe]:pr},{[st]:[$n,Ga,An,Ko],endpoint:{[zr]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[$n,Ga,An,Wn,us],[Yt]:[{endpoint:tq,[Fe]:pr}],[Fe]:Jt},{[st]:[$n,Ga,An,Wn,ds],endpoint:tq,[Fe]:pr},{[st]:[$n,Gn,to,Sl,Ko],endpoint:{[zr]:MS,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[$n,Gn,to,Sl,Wn,us],[Yt]:[{[st]:Rm,endpoint:KO,[Fe]:pr},{endpoint:KO,[Fe]:pr}],[Fe]:Jt},{[st]:[$n,Gn,to,Sl,Wn,ds],endpoint:KO,[Fe]:pr},{[st]:[$n,Gn,An,Ko],endpoint:{[zr]:SU,[Lr]:cs,[Br]:Tn},[Fe]:pr},{[st]:[$n,Gn,An,Wn,us],[Yt]:[{[st]:Rm,endpoint:{[zr]:SU,[Lr]:Io,[Br]:Tn},[Fe]:pr},{endpoint:rq,[Fe]:pr}],[Fe]:Jt},{[st]:[$n,Gn,An,Wn,ds],endpoint:rq,[Fe]:pr}],[Fe]:Jt},uS],[Fe]:Jt}],[Fe]:Jt}],[Fe]:Jt},{error:"A region must be set when sending requests to S3.",[Fe]:Dr}]},dMe=uMe,fMe=new SPe({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),GK=(e,t={})=>fMe.get(e,()=>UPe(dMe,{endpointParams:e,logger:t.logger}));QE.aws=xK;const hMe=e=>async(t,r,n)=>{var o,g,m;if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const a=await e(t,r,n),l=(m=(g=(o=j_(r))==null?void 0:o.commandInstance)==null?void 0:g.constructor)==null?void 0:m.getEndpointParameterInstructions;if(!l)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);const c=await CK(n,{getEndpointParameterInstructions:l},t);return Object.assign(a,c)},pMe=async(e,t,r)=>({operation:j_(t).operation,region:await Kd(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),mMe=hMe(pMe);function ZK(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function WK(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}const gMe=(e,t,r)=>a=>{var g;const c=(g=e(a).properties)==null?void 0:g.authSchemes;if(!c)return t(a);const o=[];for(const m of c){const{name:_,properties:E={},...R}=m,O=_.toLowerCase();_!==O&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${_}\` to \`${O}\``);let I;if(O==="sigv4a"){I="aws.auth#sigv4a";const q=c.find(j=>{const F=j.name.toLowerCase();return F!=="sigv4a"&&F.startsWith("sigv4")});if(RK.sigv4aDependency()==="none"&&q)continue}else if(O.startsWith("sigv4"))I="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${O}\``);const B=r[I];if(!B)throw new Error(`Could not find HttpAuthOption create function for \`${I}\``);const $=B(a);$.schemeId=I,$.signingProperties={...$.signingProperties||{},...R,...E},o.push($)}return o},yMe=e=>{const t=[];switch(e.operation){default:t.push(ZK(e)),t.push(WK(e))}return t},vMe=gMe(GK,yMe,{"aws.auth#sigv4":ZK,"aws.auth#sigv4a":WK}),bMe=e=>{const t=TTe(e),r=eTe(t);return Object.assign(r,{authSchemePreference:Kd(e.authSchemePreference??[])})},_Me=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),IL={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class il extends Nb{constructor(t){super(t),Object.setPrototypeOf(this,il.prototype)}}class DL extends il{constructor(r){super({name:"NoSuchUpload",$fault:"client",...r});or(this,"name","NoSuchUpload");or(this,"$fault","client");Object.setPrototypeOf(this,DL.prototype)}}class zL extends il{constructor(r){super({name:"ObjectNotInActiveTierError",$fault:"client",...r});or(this,"name","ObjectNotInActiveTierError");or(this,"$fault","client");Object.setPrototypeOf(this,zL.prototype)}}class LL extends il{constructor(r){super({name:"BucketAlreadyExists",$fault:"client",...r});or(this,"name","BucketAlreadyExists");or(this,"$fault","client");Object.setPrototypeOf(this,LL.prototype)}}class BL extends il{constructor(r){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...r});or(this,"name","BucketAlreadyOwnedByYou");or(this,"$fault","client");Object.setPrototypeOf(this,BL.prototype)}}class FL extends il{constructor(r){super({name:"NoSuchBucket",$fault:"client",...r});or(this,"name","NoSuchBucket");or(this,"$fault","client");Object.setPrototypeOf(this,FL.prototype)}}var Cq;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Cq||(Cq={}));var Tq;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Tq||(Tq={}));class NL extends il{constructor(r){super({name:"InvalidObjectState",$fault:"client",...r});or(this,"name","InvalidObjectState");or(this,"$fault","client");or(this,"StorageClass");or(this,"AccessTier");Object.setPrototypeOf(this,NL.prototype),this.StorageClass=r.StorageClass,this.AccessTier=r.AccessTier}}class jL extends il{constructor(r){super({name:"NoSuchKey",$fault:"client",...r});or(this,"name","NoSuchKey");or(this,"$fault","client");Object.setPrototypeOf(this,jL.prototype)}}class $L extends il{constructor(r){super({name:"NotFound",$fault:"client",...r});or(this,"name","NotFound");or(this,"$fault","client");Object.setPrototypeOf(this,$L.prototype)}}const xMe=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Xd},...e.SessionToken&&{SessionToken:Xd}}),wMe=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Xd},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xd},...e.Credentials&&{Credentials:xMe(e.Credentials)}}),SMe=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Xd},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xd}});class UL extends il{constructor(r){super({name:"EncryptionTypeMismatch",$fault:"client",...r});or(this,"name","EncryptionTypeMismatch");or(this,"$fault","client");Object.setPrototypeOf(this,UL.prototype)}}class qL extends il{constructor(r){super({name:"InvalidRequest",$fault:"client",...r});or(this,"name","InvalidRequest");or(this,"$fault","client");Object.setPrototypeOf(this,qL.prototype)}}class VL extends il{constructor(r){super({name:"InvalidWriteOffset",$fault:"client",...r});or(this,"name","InvalidWriteOffset");or(this,"$fault","client");Object.setPrototypeOf(this,VL.prototype)}}class HL extends il{constructor(r){super({name:"TooManyParts",$fault:"client",...r});or(this,"name","TooManyParts");or(this,"$fault","client");Object.setPrototypeOf(this,HL.prototype)}}class GL extends il{constructor(r){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...r});or(this,"name","ObjectAlreadyInActiveTierError");or(this,"$fault","client");Object.setPrototypeOf(this,GL.prototype)}}var Aq;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(Aq||(Aq={}));const EMe=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Xd},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xd}}),CMe=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Xd},...e.SSEKMSKeyId&&{SSEKMSKeyId:Xd},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xd}}),TMe=async(e,t)=>{const r=gL(e,t),n=Mi({},sh,{[UOe]:e[gOe],[SC]:e[_C],[EC]:e[wC],[CC]:e[xC],[A_]:[()=>sh(e[T_]),()=>e[T_].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const a=Mi({[NOe]:[,""]});return r.m("GET").h(n).q(a).b(void 0),r.build()},AMe=async(e,t)=>{const r=gL(e,t),n=Mi({},sh,{[fX]:e[rX],[uX]:e[eX],[QOe]:[()=>sh(e[Oq]),()=>(e[Oq]||[]).map(VCe).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const a=Mi({[LOe]:[,"2"],[ROe]:[,e[IS]],[OOe]:[,e[DS]],[BOe]:[()=>e.MaxKeys!==void 0,()=>e[BS].toString()],[FOe]:[,e[Hy]],[POe]:[,e[kS]],[IOe]:[()=>e.FetchOwner!==void 0,()=>e[sOe].toString()],[jOe]:[,e[FS]]});return r.m("GET").h(n).q(a).b(void 0),r.build()},PMe=async(e,t)=>{const r=gL(e,t),n=Mi({},sh,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,g)=>(o[`x-amz-meta-${g.toLowerCase()}`]=e.Metadata[g],o),{}),[AOe]:e[oOe]||"application/octet-stream",[$Oe]:e[eOe],[xOe]:e[tOe],[wOe]:e[rOe],[SOe]:e[nOe],[EOe]:e[aOe],[COe]:[()=>sh(e[Pq]),()=>e[Pq].toString()],[TOe]:e[iOe],[eke]:e[px],[iX]:e[KK],[oX]:e[XK],[sX]:e[YK],[lX]:e[QK],[cX]:e[JK],[MOe]:[()=>sh(e[Rq]),()=>LCe(e[Rq]).toString()],[DOe]:e[fOe],[zOe]:e[hOe],[HOe]:e[lOe],[GOe]:e[cOe],[ZOe]:e[uOe],[WOe]:e[dOe],[ake]:[()=>sh(e[kq]),()=>e[kq].toString()],[SC]:e[_C],[JOe]:e[Gy],[ike]:e[_Oe],[hX]:e[nX],[tke]:e[yOe],[pX]:e[aX],[EC]:e[wC],[CC]:e[xC],[A_]:[()=>sh(e[T_]),()=>e[T_].toString()],[fX]:e[rX],[rke]:e[vOe],[XOe]:e[mOe],[YOe]:[()=>sh(e[Mq]),()=>VTe(e[Mq]).toString()],[KOe]:e[pOe],[uX]:e[eX]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);const a=Mi({[oke]:[,"PutObject"]});let l,c;return e.Body!==void 0&&(c=e.Body,l=c),r.m("PUT").h(n).q(a).b(l),r.build()},RMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ZL(e,t);const r=Mi({$metadata:ol(e),[_C]:[,e.headers[SC]],[wC]:[,e.headers[EC]],[xC]:[,e.headers[CC]],[T_]:[()=>e.headers[A_]!==void 0,()=>gC(e.headers[A_])]}),n=Q1(VW(await bL(e.body,t)),"body");return n[ik]!=null&&(r[ik]=JMe(n[ik])),r},MMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ZL(e,t);const r=Mi({$metadata:ol(e),[tX]:[,e.headers[dX]]}),n=Q1(VW(await bL(e.body,t)),"body");return n.CommonPrefixes===""?r[dS]=[]:n[dS]!=null&&(r[dS]=WMe(AD(n[dS]))),n.Contents===""?r[fS]=[]:n[fS]!=null&&(r[fS]=XMe(AD(n[fS]))),n[kS]!=null&&(r[kS]=Ro(n[kS])),n[IS]!=null&&(r[IS]=Ro(n[IS])),n[DS]!=null&&(r[DS]=Ro(n[DS])),n[ck]!=null&&(r[ck]=gC(n[ck])),n[dk]!=null&&(r[dk]=I8(n[dk])),n[BS]!=null&&(r[BS]=I8(n[BS])),n[hk]!=null&&(r[hk]=Ro(n[hk])),n[pk]!=null&&(r[pk]=Ro(n[pk])),n[Hy]!=null&&(r[Hy]=Ro(n[Hy])),n[FS]!=null&&(r[FS]=Ro(n[FS])),r},OMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ZL(e,t);const r=Mi({$metadata:ol(e),[LS]:[,e.headers[VOe]],[zS]:[,e.headers[kOe]],[KK]:[,e.headers[iX]],[XK]:[,e.headers[oX]],[YK]:[,e.headers[sX]],[QK]:[,e.headers[lX]],[JK]:[,e.headers[cX]],[OS]:[,e.headers[qOe]],[_C]:[,e.headers[SC]],[bOe]:[,e.headers[nke]],[nX]:[,e.headers[hX]],[aX]:[,e.headers[pX]],[wC]:[,e.headers[EC]],[xC]:[,e.headers[CC]],[T_]:[()=>e.headers[A_]!==void 0,()=>gC(e.headers[A_])],[NS]:[()=>e.headers[Iq]!==void 0,()=>HW(e.headers[Iq])],[tX]:[,e.headers[dX]]});return await qW(e.body,t),r},ZL=async(e,t)=>{const r={...e,body:await nAe(e.body,t)},n=aAe(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await $Me(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await VMe(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await IMe(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await DMe(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await NMe(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await LMe(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await jMe(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await UMe(r);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await zMe(r);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await BMe(r);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await FMe(r);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await HMe(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await qMe(r);default:const a=r.body;return kMe({output:e,parsedBody:a,errorCode:n})}},kMe=ITe(il),IMe=async(e,t)=>{const r=Mi({});e.body;const n=new LL({$metadata:ol(e),...r});return mc(n,e.body)},DMe=async(e,t)=>{const r=Mi({});e.body;const n=new BL({$metadata:ol(e),...r});return mc(n,e.body)},zMe=async(e,t)=>{const r=Mi({});e.body;const n=new UL({$metadata:ol(e),...r});return mc(n,e.body)},LMe=async(e,t)=>{const r=Mi({}),n=e.body;n[ak]!=null&&(r[ak]=Ro(n[ak])),n[Gy]!=null&&(r[Gy]=Ro(n[Gy]));const a=new NL({$metadata:ol(e),...r});return mc(a,e.body)},BMe=async(e,t)=>{const r=Mi({});e.body;const n=new qL({$metadata:ol(e),...r});return mc(n,e.body)},FMe=async(e,t)=>{const r=Mi({});e.body;const n=new VL({$metadata:ol(e),...r});return mc(n,e.body)},NMe=async(e,t)=>{const r=Mi({});e.body;const n=new FL({$metadata:ol(e),...r});return mc(n,e.body)},jMe=async(e,t)=>{const r=Mi({});e.body;const n=new jL({$metadata:ol(e),...r});return mc(n,e.body)},$Me=async(e,t)=>{const r=Mi({});e.body;const n=new DL({$metadata:ol(e),...r});return mc(n,e.body)},UMe=async(e,t)=>{const r=Mi({});e.body;const n=new $L({$metadata:ol(e),...r});return mc(n,e.body)},qMe=async(e,t)=>{const r=Mi({});e.body;const n=new GL({$metadata:ol(e),...r});return mc(n,e.body)},VMe=async(e,t)=>{const r=Mi({});e.body;const n=new zL({$metadata:ol(e),...r});return mc(n,e.body)},HMe=async(e,t)=>{const r=Mi({});e.body;const n=new HL({$metadata:ol(e),...r});return mc(n,e.body)},GMe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ro(r)),ZMe=(e,t)=>{const r={};return e[Hy]!=null&&(r[Hy]=Ro(e[Hy])),r},WMe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>ZMe(r)),KMe=(e,t)=>{const r={};return e[uk]!=null&&(r[uk]=Ro(e[uk])),e[fk]!=null&&(r[fk]=Q1(mL(e[fk]))),e[zS]!=null&&(r[zS]=Ro(e[zS])),e.ChecksumAlgorithm===""?r[px]=[]:e[px]!=null&&(r[px]=GMe(AD(e[px]))),e[OS]!=null&&(r[OS]=Ro(e[OS])),e[NS]!=null&&(r[NS]=HW(e[NS])),e[Gy]!=null&&(r[Gy]=Ro(e[Gy])),e[mk]!=null&&(r[mk]=YMe(e[mk])),e[yk]!=null&&(r[yk]=QMe(e[yk])),r},XMe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>KMe(r)),YMe=(e,t)=>{const r={};return e[ok]!=null&&(r[ok]=Ro(e[ok])),e[sk]!=null&&(r[sk]=Ro(e[sk])),r},QMe=(e,t)=>{const r={};return e[lk]!=null&&(r[lk]=gC(e[lk])),e[gk]!=null&&(r[gk]=Q1(mL(e[gk]))),r},JMe=(e,t)=>{const r={};return e[nk]!=null&&(r[nk]=Ro(e[nk])),e[vk]!=null&&(r[vk]=Ro(e[vk])),e[bk]!=null&&(r[bk]=Ro(e[bk])),e[LS]!=null&&(r[LS]=Q1(mL(e[LS]))),r},ol=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),eOe="ACL",nk="AccessKeyId",ak="AccessTier",T_="BucketKeyEnabled",ik="Credentials",px="ChecksumAlgorithm",tOe="CacheControl",KK="ChecksumCRC32",XK="ChecksumCRC32C",YK="ChecksumCRC64NVME",rOe="ContentDisposition",nOe="ContentEncoding",aOe="ContentLanguage",Pq="ContentLength",iOe="ContentMD5",dS="CommonPrefixes",QK="ChecksumSHA1",JK="ChecksumSHA256",OS="ChecksumType",oOe="ContentType",kS="ContinuationToken",fS="Contents",IS="Delimiter",ok="DisplayName",Rq="Expires",eX="ExpectedBucketOwner",DS="EncodingType",zS="ETag",LS="Expiration",sOe="FetchOwner",lOe="GrantFullControl",cOe="GrantRead",uOe="GrantReadACP",dOe="GrantWriteACP",sk="ID",fOe="IfMatch",hOe="IfNoneMatch",lk="IsRestoreInProgress",ck="IsTruncated",uk="Key",dk="KeyCount",fk="LastModified",BS="MaxKeys",hk="Name",pk="NextContinuationToken",mk="Owner",pOe="ObjectLockLegalHoldStatus",mOe="ObjectLockMode",Mq="ObjectLockRetainUntilDate",Oq="OptionalObjectAttributes",Hy="Prefix",tX="RequestCharged",gk="RestoreExpiryDate",rX="RequestPayer",yk="RestoreStatus",FS="StartAfter",vk="SecretAccessKey",Gy="StorageClass",gOe="SessionMode",_C="ServerSideEncryption",nX="SSECustomerAlgorithm",yOe="SSECustomerKey",aX="SSECustomerKeyMD5",xC="SSEKMSEncryptionContext",wC="SSEKMSKeyId",bk="SessionToken",NS="Size",vOe="Tagging",bOe="VersionId",kq="WriteOffsetBytes",_Oe="WebsiteRedirectLocation",xOe="cache-control",wOe="content-disposition",SOe="content-encoding",EOe="content-language",COe="content-length",TOe="content-md5",AOe="content-type",POe="continuation-token",ROe="delimiter",MOe="expires",OOe="encoding-type",kOe="etag",IOe="fetch-owner",DOe="if-match",zOe="if-none-match",LOe="list-type",BOe="max-keys",FOe="prefix",NOe="session",jOe="start-after",$Oe="x-amz-acl",iX="x-amz-checksum-crc32",oX="x-amz-checksum-crc32c",sX="x-amz-checksum-crc64nvme",lX="x-amz-checksum-sha1",cX="x-amz-checksum-sha256",UOe="x-amz-create-session-mode",qOe="x-amz-checksum-type",VOe="x-amz-expiration",uX="x-amz-expected-bucket-owner",HOe="x-amz-grant-full-control",GOe="x-amz-grant-read",ZOe="x-amz-grant-read-acp",WOe="x-amz-grant-write-acp",KOe="x-amz-object-lock-legal-hold",XOe="x-amz-object-lock-mode",YOe="x-amz-object-lock-retain-until-date",QOe="x-amz-optional-object-attributes",Iq="x-amz-object-size",dX="x-amz-request-charged",fX="x-amz-request-payer",JOe="x-amz-storage-class",eke="x-amz-sdk-checksum-algorithm",SC="x-amz-server-side-encryption",EC="x-amz-server-side-encryption-aws-kms-key-id",A_="x-amz-server-side-encryption-bucket-key-enabled",CC="x-amz-server-side-encryption-context",hX="x-amz-server-side-encryption-customer-algorithm",tke="x-amz-server-side-encryption-customer-key",pX="x-amz-server-side-encryption-customer-key-md5",rke="x-amz-tagging",nke="x-amz-version-id",ake="x-amz-write-offset-bytes",ike="x-amz-website-redirect-location",oke="x-id";class ske extends yC.classBuilder().ep({...IL,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,a){return[uL(n,this.serialize,this.deserialize),EL(n,t.getEndpointParameterInstructions()),xL(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(SMe,wMe).ser(TMe).de(RMe).build(){}const lke="3.830.0",cke={version:lke},uke=e=>new TextEncoder().encode(e);function Dq(e){return typeof e=="string"?e.length===0:e.byteLength===0}var mX={name:"SHA-1"},zq={name:"HMAC",hash:mX},dke=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const fke={};function tg(){return typeof window<"u"?window:typeof self<"u"?self:fke}var hke=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){tg().crypto.subtle.importKey("raw",Lq(t),zq,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!Dq(t)){var r=Lq(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return tg().crypto.subtle.sign(zq,r,t.toHash).then(function(n){return new Uint8Array(n)})}):Dq(this.toHash)?Promise.resolve(dke):Promise.resolve().then(function(){return tg().crypto.subtle.digest(mX,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function Lq(e){return typeof e=="string"?uke(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var pke=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function gX(e){if(mke(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return gke(t)}return!1}function mke(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}function gke(e){return e&&pke.every(function(t){return typeof e[t]=="function"})}var yke=function(){function e(t){if(gX(tg()))this.hash=new hke(t);else throw new Error("SHA1 not supported")}return e.prototype.update=function(t,r){this.hash.update(lg(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),yX={name:"SHA-256"},Bq={name:"HMAC",hash:yX},vke=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),bke=function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return e.prototype.update=function(t){if(!w1(t)){var r=lg(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return tg().crypto.subtle.sign(Bq,r,t.toHash).then(function(n){return new Uint8Array(n)})}):w1(this.toHash)?Promise.resolve(vke):Promise.resolve().then(function(){return tg().crypto.subtle.digest(yX,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){tg().crypto.subtle.importKey("raw",lg(t.secret),Bq,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},e}(),Lu=64,_ke=32,xke=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wke=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Ske=Math.pow(2,53)-1,jS=function(){function e(){this.state=Int32Array.from(wke),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>Ske)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===Lu&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%Lu>=Lu-8){for(var a=this.bufferLength;a<Lu;a++)r.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(var a=this.bufferLength;a<Lu-8;a++)r.setUint8(a,0);r.setUint32(Lu-8,Math.floor(t/4294967296),!0),r.setUint32(Lu-4,t),this.hashBuffer(),this.finished=!0}for(var l=new Uint8Array(_ke),a=0;a<8;a++)l[a*4]=this.state[a]>>>24&255,l[a*4+1]=this.state[a]>>>16&255,l[a*4+2]=this.state[a]>>>8&255,l[a*4+3]=this.state[a]>>>0&255;return l},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,a=n[0],l=n[1],c=n[2],o=n[3],g=n[4],m=n[5],_=n[6],E=n[7],R=0;R<Lu;R++){if(R<16)this.temp[R]=(r[R*4]&255)<<24|(r[R*4+1]&255)<<16|(r[R*4+2]&255)<<8|r[R*4+3]&255;else{var O=this.temp[R-2],I=(O>>>17|O<<15)^(O>>>19|O<<13)^O>>>10;O=this.temp[R-15];var B=(O>>>7|O<<25)^(O>>>18|O<<14)^O>>>3;this.temp[R]=(I+this.temp[R-7]|0)+(B+this.temp[R-16]|0)}var $=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&_)|0)+(E+(xke[R]+this.temp[R]|0)|0)|0,q=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&l^a&c^l&c)|0;E=_,_=m,m=g,g=o+$|0,o=c,c=l,l=a,a=$+q|0}n[0]+=a,n[1]+=l,n[2]+=c,n[3]+=o,n[4]+=g,n[5]+=m,n[6]+=_,n[7]+=E},e}(),Eke=function(){function e(t){this.secret=t,this.hash=new jS,this.reset()}return e.prototype.update=function(t){if(!(w1(t)||this.error))try{this.hash.update(lg(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Jz(this,void 0,void 0,function(){return eL(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new jS,this.secret){this.outer=new jS;var t=Cke(this.secret),r=new Uint8Array(Lu);r.set(t);for(var n=0;n<Lu;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e}();function Cke(e){var t=lg(e);if(t.byteLength>Lu){var r=new jS;r.update(t),t=r.digest()}var n=new Uint8Array(Lu);return n.set(t),n}var Tke=function(){function e(t){gX(tg())?this.hash=new bke(t):this.hash=new Eke(t)}return e.prototype.update=function(t,r){this.hash.update(lg(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const Ake={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},vX={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},eo={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},El={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Im={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class cr{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const a=cr.getVersionPrecision(t),l=cr.getVersionPrecision(r);let c=Math.max(a,l),o=0;const g=cr.map([t,r],m=>{const _=c-cr.getVersionPrecision(m),E=m+new Array(_+1).join(".0");return cr.map(E.split("."),R=>new Array(20-R.length).join("0")+R).reverse()});for(n&&(o=c-Math.min(a,l)),c-=1;c>=o;){if(g[0][c]>g[1][c])return 1;if(g[0][c]===g[1][c]){if(c===o)return 0;c-=1}else if(g[0][c]<g[1][c])return-1}}static map(t,r){const n=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(a=0;a<t.length;a+=1)n.push(r(t[a]));return n}static find(t,r){let n,a;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,a=t.length;n<a;n+=1){const l=t[n];if(r(l,n))return l}}static assign(t,...r){const n=t;let a,l;if(Object.assign)return Object.assign(t,...r);for(a=0,l=r.length;a<l;a+=1){const c=r[a];typeof c=="object"&&c!==null&&Object.keys(c).forEach(g=>{n[g]=c[g]})}return t}static getBrowserAlias(t){return Ake[t]}static getBrowserTypeByAlias(t){return vX[t]||""}}const Ha=/version\/(\d+(\.?_?\d+)+)/i,Pke=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=cr.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=cr.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=cr.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=cr.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=cr.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=cr.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=cr.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=cr.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=cr.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=cr.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=cr.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=cr.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=cr.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=cr.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=cr.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=cr.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=cr.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=cr.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=cr.getFirstMatch(Ha,e)||cr.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=cr.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=cr.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=cr.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=cr.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=cr.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=cr.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=cr.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=cr.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=cr.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=cr.getFirstMatch(Ha,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,a=e.search("\\(")!==-1?r:t;return{name:cr.getFirstMatch(a,e),version:cr.getSecondMatch(a,e)}}}],Rke=[{test:[/Roku\/DVP/],describe(e){const t=cr.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:El.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=cr.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:El.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=cr.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=cr.getWindowsVersionName(t);return{name:El.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:El.iOS},r=cr.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=cr.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=cr.getMacOSVersionName(t),n={name:El.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=cr.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:El.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=cr.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=cr.getAndroidVersionName(t),n={name:El.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=cr.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:El.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=cr.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||cr.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||cr.getFirstMatch(/\bbb(\d+)/i,e);return{name:El.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=cr.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:El.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=cr.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:El.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:El.Linux}}},{test:[/CrOS/],describe(){return{name:El.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=cr.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:El.PlayStation4,version:t}}}],Mke=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=cr.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:eo.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:eo.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:eo.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:eo.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:eo.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:eo.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:eo.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=cr.getFirstMatch(/(ipod|iphone)/i,e);return{type:eo.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:eo.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:eo.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:eo.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:eo.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:eo.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:eo.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:eo.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:eo.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:eo.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:eo.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:eo.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:eo.tv}}}],Oke=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Im.Blink};const r=cr.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Im.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:Im.Trident},r=cr.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:Im.Presto},r=cr.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Im.Gecko},r=cr.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Im.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Im.WebKit},r=cr.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Fq{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=cr.find(Pke,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=cr.find(Rke,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=cr.find(Mke,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=cr.find(Oke,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return cr.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const a={};let l=0;if(Object.keys(t).forEach(o=>{const g=t[o];typeof g=="string"?(a[o]=g,l+=1):typeof g=="object"&&(r[o]=g,n+=1)}),n>0){const o=Object.keys(r),g=cr.find(o,_=>this.isOS(_));if(g){const _=this.satisfies(r[g]);if(_!==void 0)return _}const m=cr.find(o,_=>this.isPlatform(_));if(m){const _=this.satisfies(r[m]);if(_!==void 0)return _}}if(l>0){const o=Object.keys(a),g=cr.find(o,m=>this.isBrowser(m,!0));if(g!==void 0)return this.compareVersion(a[g])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const l=cr.getBrowserTypeByAlias(a);return r&&l&&(a=l.toLowerCase()),a===n}compareVersion(t){let r=[0],n=t,a=!1;const l=this.getBrowserVersion();if(typeof l=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(a=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(a=!0,n=t.substr(1)),r.indexOf(cr.compareVersions(l,n,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class bX{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Fq(t,r)}static parse(t){return new Fq(t).getResult()}static get BROWSER_MAP(){return vX}static get ENGINE_MAP(){return Im}static get OS_MAP(){return El}static get PLATFORMS_MAP(){return eo}}const kke=({serviceId:e,clientVersion:t})=>async r=>{var c,o,g,m,_,E;const n=typeof window<"u"&&((c=window==null?void 0:window.navigator)!=null&&c.userAgent)?bX.parse(window.navigator.userAgent):void 0,a=[["aws-sdk-js",t],["ua","2.1"],[`os/${((o=n==null?void 0:n.os)==null?void 0:o.name)||"other"}`,(g=n==null?void 0:n.os)==null?void 0:g.version],["lang/js"],["md/browser",`${((m=n==null?void 0:n.browser)==null?void 0:m.name)??"unknown"}_${((_=n==null?void 0:n.browser)==null?void 0:_.version)??"unknown"}`]];e&&a.push([`api/${e}`,t]);const l=await((E=r==null?void 0:r.userAgentAppId)==null?void 0:E.call(r));return l&&a.push([`app/${l}`]),a};class Yx{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,a=Math.abs(Math.round(t));n>-1&&a>0;n--,a/=256)r[n]=a;return t<0&&Nq(r),new Yx(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&Nq(t),parseInt(sc(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Nq(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class Ike{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const l of Object.keys(t)){const c=this.fromUtf8(l);r.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(t[l]))}const n=new Uint8Array(r.reduce((l,c)=>l+c.byteLength,0));let a=0;for(const l of r)n.set(l,a),a+=l.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const a=new Uint8Array(9);return a[0]=5,a.set(t.value.bytes,1),a;case"binary":const l=new DataView(new ArrayBuffer(3+t.value.byteLength));l.setUint8(0,6),l.setUint16(1,t.value.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(t.value,3),c;case"string":const o=this.fromUtf8(t.value),g=new DataView(new ArrayBuffer(3+o.byteLength));g.setUint8(0,7),g.setUint16(1,o.byteLength,!1);const m=new Uint8Array(g.buffer);return m.set(o,3),m;case"timestamp":const _=new Uint8Array(9);return _[0]=8,_.set(Yx.fromNumber(t.value.valueOf()).bytes,1),_;case"uuid":if(!Uke.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const E=new Uint8Array(17);return E[0]=9,E.set(UW(t.value.replace(/\-/g,"")),1),E}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const a=t.getUint8(n++),l=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a));switch(n+=a,t.getUint8(n++)){case 0:r[l]={type:$q,value:!0};break;case 1:r[l]={type:$q,value:!1};break;case 2:r[l]={type:Dke,value:t.getInt8(n++)};break;case 3:r[l]={type:zke,value:t.getInt16(n,!1)},n+=2;break;case 4:r[l]={type:Lke,value:t.getInt32(n,!1)},n+=4;break;case 5:r[l]={type:Bke,value:new Yx(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const c=t.getUint16(n,!1);n+=2,r[l]={type:Fke,value:new Uint8Array(t.buffer,t.byteOffset+n,c)},n+=c;break;case 7:const o=t.getUint16(n,!1);n+=2,r[l]={type:Nke,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o))},n+=o;break;case 8:r[l]={type:jke,value:new Date(new Yx(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const g=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[l]={type:$ke,value:`${sc(g.subarray(0,4))}-${sc(g.subarray(4,6))}-${sc(g.subarray(6,8))}-${sc(g.subarray(8,10))}-${sc(g.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var jq;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(jq||(jq={}));const $q="boolean",Dke="byte",zke="short",Lke="integer",Bke="long",Fke="binary",Nke="string",jke="timestamp",$ke="uuid",Uke=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,_X=4,Dm=_X*2,yy=4,qke=Dm+yy*2;function Vke({byteLength:e,byteOffset:t,buffer:r}){if(e<qke)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),a=n.getUint32(0,!1);if(e!==a)throw new Error("Reported message length does not match received message length");const l=n.getUint32(_X,!1),c=n.getUint32(Dm,!1),o=n.getUint32(e-yy,!1),g=new YE().update(new Uint8Array(r,t,Dm));if(c!==g.digest())throw new Error(`The prelude checksum specified in the message (${c}) does not match the calculated CRC32 checksum (${g.digest()})`);if(g.update(new Uint8Array(r,t+Dm,e-(Dm+yy))),o!==g.digest())throw new Error(`The message checksum (${g.digest()}) did not match the expected value of ${o}`);return{headers:new DataView(r,t+Dm+yy,l),body:new Uint8Array(r,t+Dm+yy+l,a-l-(Dm+yy+yy))}}class Hke{constructor(t,r){this.headerMarshaller=new Ike(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){const n=this.headerMarshaller.format(t),a=n.byteLength+r.byteLength+16,l=new Uint8Array(a),c=new DataView(l.buffer,l.byteOffset,l.byteLength),o=new YE;return c.setUint32(0,a,!1),c.setUint32(4,n.byteLength,!1),c.setUint32(8,o.update(l.subarray(0,8)).digest(),!1),l.set(n,12),l.set(r,n.byteLength+12),c.setUint32(a-4,o.update(l.subarray(8,a-4)).digest(),!1),l}decode(t){const{headers:r,body:n}=Vke(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}}class Gke{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class Zke{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class Wke{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const r=await this.options.deserializer(t);r!==void 0&&(yield r)}}}class Kke{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}function Xke(e){let t=0,r=0,n=null,a=null;const l=o=>{if(typeof o!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+o);t=o,r=4,n=new Uint8Array(o),new DataView(n.buffer).setUint32(0,o,!1)},c=async function*(){const o=e[Symbol.asyncIterator]();for(;;){const{value:g,done:m}=await o.next();if(m){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}const _=g.length;let E=0;for(;E<_;){if(!n){const O=_-E;a||(a=new Uint8Array(4));const I=Math.min(4-r,O);if(a.set(g.slice(E,E+I),r),r+=I,E+=I,r<4)break;l(new DataView(a.buffer).getUint32(0,!1)),a=null}const R=Math.min(t-r,_-E);n.set(g.slice(E,E+R),r),r+=R,E+=R,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:c}}function Yke(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const a=new Error(r.headers[":error-message"].value||"UnknownError");throw a.name=r.headers[":error-code"].value,a}else if(n==="exception"){const a=r.headers[":exception-type"].value,l={[a]:r},c=await e(l);if(c.$unknown){const o=new Error(t(r.body));throw o.name=a,o}throw c[a]}else if(n==="event"){const a={[r.headers[":event-type"].value]:r},l=await e(a);return l.$unknown?void 0:l}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let Qke=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Hke(t,r),this.utfEncoder=t}deserialize(t,r){const n=Xke(t);return new Wke({messageStream:new Gke({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Yke(r,this.utfEncoder)})}serialize(t,r){return new Zke({messageStream:new Kke({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const Jke=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),eIe=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:a}=await t.next();if(n)return r.close();r.enqueue(a)}})};class tIe{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Qke({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){const n=rIe(t)?Jke(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){const n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?eIe(n):n}}const rIe=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,nIe=e=>new tIe(e);async function aIe(e,t,r=1024*1024){const n=e.size;let a=0;for(;a<n;){const l=e.slice(a,Math.min(n,a+r));t(new Uint8Array(await l.arrayBuffer())),a+=l.size}}const iIe=async function(t,r){const n=new t;return await aIe(r,a=>{n.update(a)}),n.digest()},oIe=e=>()=>Promise.reject(e),Mm=64,sIe=16,lIe=[1732584193,4023233417,2562383102,271733878];class cIe{constructor(){this.reset()}update(t){if(uIe(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=dIe(t);let n=0,{byteLength:a}=r;for(this.bytesHashed+=a;a>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),a--,this.bufferLength===Mm&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:a}=this,l=a*8;if(r.setUint8(this.bufferLength++,128),n%Mm>=Mm-8){for(let c=this.bufferLength;c<Mm;c++)r.setUint8(c,0);this.hashBuffer(),this.bufferLength=0}for(let c=this.bufferLength;c<Mm-8;c++)r.setUint8(c,0);r.setUint32(Mm-8,l>>>0,!0),r.setUint32(Mm-4,Math.floor(l/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(sIe));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let n=r[0],a=r[1],l=r[2],c=r[3];n=Xs(n,a,l,c,t.getUint32(0,!0),7,3614090360),c=Xs(c,n,a,l,t.getUint32(4,!0),12,3905402710),l=Xs(l,c,n,a,t.getUint32(8,!0),17,606105819),a=Xs(a,l,c,n,t.getUint32(12,!0),22,3250441966),n=Xs(n,a,l,c,t.getUint32(16,!0),7,4118548399),c=Xs(c,n,a,l,t.getUint32(20,!0),12,1200080426),l=Xs(l,c,n,a,t.getUint32(24,!0),17,2821735955),a=Xs(a,l,c,n,t.getUint32(28,!0),22,4249261313),n=Xs(n,a,l,c,t.getUint32(32,!0),7,1770035416),c=Xs(c,n,a,l,t.getUint32(36,!0),12,2336552879),l=Xs(l,c,n,a,t.getUint32(40,!0),17,4294925233),a=Xs(a,l,c,n,t.getUint32(44,!0),22,2304563134),n=Xs(n,a,l,c,t.getUint32(48,!0),7,1804603682),c=Xs(c,n,a,l,t.getUint32(52,!0),12,4254626195),l=Xs(l,c,n,a,t.getUint32(56,!0),17,2792965006),a=Xs(a,l,c,n,t.getUint32(60,!0),22,1236535329),n=Ys(n,a,l,c,t.getUint32(4,!0),5,4129170786),c=Ys(c,n,a,l,t.getUint32(24,!0),9,3225465664),l=Ys(l,c,n,a,t.getUint32(44,!0),14,643717713),a=Ys(a,l,c,n,t.getUint32(0,!0),20,3921069994),n=Ys(n,a,l,c,t.getUint32(20,!0),5,3593408605),c=Ys(c,n,a,l,t.getUint32(40,!0),9,38016083),l=Ys(l,c,n,a,t.getUint32(60,!0),14,3634488961),a=Ys(a,l,c,n,t.getUint32(16,!0),20,3889429448),n=Ys(n,a,l,c,t.getUint32(36,!0),5,568446438),c=Ys(c,n,a,l,t.getUint32(56,!0),9,3275163606),l=Ys(l,c,n,a,t.getUint32(12,!0),14,4107603335),a=Ys(a,l,c,n,t.getUint32(32,!0),20,1163531501),n=Ys(n,a,l,c,t.getUint32(52,!0),5,2850285829),c=Ys(c,n,a,l,t.getUint32(8,!0),9,4243563512),l=Ys(l,c,n,a,t.getUint32(28,!0),14,1735328473),a=Ys(a,l,c,n,t.getUint32(48,!0),20,2368359562),n=Qs(n,a,l,c,t.getUint32(20,!0),4,4294588738),c=Qs(c,n,a,l,t.getUint32(32,!0),11,2272392833),l=Qs(l,c,n,a,t.getUint32(44,!0),16,1839030562),a=Qs(a,l,c,n,t.getUint32(56,!0),23,4259657740),n=Qs(n,a,l,c,t.getUint32(4,!0),4,2763975236),c=Qs(c,n,a,l,t.getUint32(16,!0),11,1272893353),l=Qs(l,c,n,a,t.getUint32(28,!0),16,4139469664),a=Qs(a,l,c,n,t.getUint32(40,!0),23,3200236656),n=Qs(n,a,l,c,t.getUint32(52,!0),4,681279174),c=Qs(c,n,a,l,t.getUint32(0,!0),11,3936430074),l=Qs(l,c,n,a,t.getUint32(12,!0),16,3572445317),a=Qs(a,l,c,n,t.getUint32(24,!0),23,76029189),n=Qs(n,a,l,c,t.getUint32(36,!0),4,3654602809),c=Qs(c,n,a,l,t.getUint32(48,!0),11,3873151461),l=Qs(l,c,n,a,t.getUint32(60,!0),16,530742520),a=Qs(a,l,c,n,t.getUint32(8,!0),23,3299628645),n=Js(n,a,l,c,t.getUint32(0,!0),6,4096336452),c=Js(c,n,a,l,t.getUint32(28,!0),10,1126891415),l=Js(l,c,n,a,t.getUint32(56,!0),15,2878612391),a=Js(a,l,c,n,t.getUint32(20,!0),21,4237533241),n=Js(n,a,l,c,t.getUint32(48,!0),6,1700485571),c=Js(c,n,a,l,t.getUint32(12,!0),10,2399980690),l=Js(l,c,n,a,t.getUint32(40,!0),15,4293915773),a=Js(a,l,c,n,t.getUint32(4,!0),21,2240044497),n=Js(n,a,l,c,t.getUint32(32,!0),6,1873313359),c=Js(c,n,a,l,t.getUint32(60,!0),10,4264355552),l=Js(l,c,n,a,t.getUint32(24,!0),15,2734768916),a=Js(a,l,c,n,t.getUint32(52,!0),21,1309151649),n=Js(n,a,l,c,t.getUint32(16,!0),6,4149444226),c=Js(c,n,a,l,t.getUint32(44,!0),10,3174756917),l=Js(l,c,n,a,t.getUint32(8,!0),15,718787259),a=Js(a,l,c,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=a+r[1]&4294967295,r[2]=l+r[2]&4294967295,r[3]=c+r[3]&4294967295}reset(){this.state=Uint32Array.from(lIe),this.buffer=new DataView(new ArrayBuffer(Mm)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function TC(e,t,r,n,a,l){return t=(t+e&4294967295)+(n+l&4294967295)&4294967295,(t<<a|t>>>32-a)+r&4294967295}function Xs(e,t,r,n,a,l,c){return TC(t&r|~t&n,e,t,a,l,c)}function Ys(e,t,r,n,a,l,c){return TC(t&n|r&~n,e,t,a,l,c)}function Qs(e,t,r,n,a,l,c){return TC(t^r^n,e,t,a,l,c)}function Js(e,t,r,n,a,l,c){return TC(r^(t|~n),e,t,a,l,c)}function uIe(e){return typeof e=="string"?e.length===0:e.byteLength===0}function dIe(e){return typeof e=="string"?Jy(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const fIe=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??dL,base64Encoder:(e==null?void 0:e.base64Encoder)??mC,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??GK,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??vCe,httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??vMe,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new FW},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new W2e}],logger:(e==null?void 0:e.logger)??new yL,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??TCe,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??RK,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??JE,useArnRegion:(e==null?void 0:e.useArnRegion)??void 0,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Jy,utf8Encoder:(e==null?void 0:e.utf8Encoder)??fL}),hIe=["in-region","cross-region","mobile","standard","legacy"],pIe=({defaultsMode:e}={})=>JCe(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(mIe()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${hIe.join(", ")}, got ${t}`)}}),mIe=()=>{var r,n;const e=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?bX.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},gIe=e=>{const t=pIe(e),r=()=>t().then(zTe),n=fIe(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??RTe,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(a=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??kke({serviceId:n.serviceId,clientVersion:cke.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??nIe,maxAttempts:(e==null?void 0:e.maxAttempts)??e2,md5:(e==null?void 0:e.md5)??cIe,region:(e==null?void 0:e.region)??oIe("Region is missing"),requestHandler:hL.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await r()).retryMode||SRe),sha1:(e==null?void 0:e.sha1)??yke,sha256:(e==null?void 0:e.sha256)??Tke,streamCollector:(e==null?void 0:e.streamCollector)??jW,streamHasher:(e==null?void 0:e.streamHasher)??iIe,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(aRe)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(iRe))}},yIe=e=>({setRegion(t){e.region=t},region(){return e.region}}),vIe=e=>({region:e.region()}),bIe=e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(a){const l=t.findIndex(c=>c.schemeId===a.schemeId);l===-1?t.push(a):t.splice(l,1,a)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(a){r=a},httpAuthSchemeProvider(){return r},setCredentials(a){n=a},credentials(){return n}}},_Ie=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),xIe=(e,t)=>{const r=Object.assign(yIe(e),jTe(e),F2e(e),bIe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,vIe(r),$Te(r),N2e(r),_Ie(r))};class wIe extends MTe{constructor(...[r]){const n=gIe(r||{});super(n);or(this,"config");this.initConfig=n;const a=_Me(n),l=wPe(a),c=PAe(l),o=HRe(c),g=oRe(o),m=g,_=wRe(m),E=sRe(_),R=bMe(E),O=lPe(R,{session:[()=>this,ske]}),I=xIe(O,(r==null?void 0:r.extensions)||[]);this.config=I,this.middlewareStack.use(nRe(this.config)),this.middlewareStack.use(QRe(this.config)),this.middlewareStack.use(uRe(this.config)),this.middlewareStack.use(OAe(this.config)),this.middlewareStack.use(DAe(this.config)),this.middlewareStack.use(NAe(this.config)),this.middlewareStack.use(J2e(this.config,{httpAuthSchemeParametersProvider:mMe,identityProviderConfigProvider:async B=>new WCe({"aws.auth#sigv4":B.credentials,"aws.auth#sigv4a":B.credentials})})),this.middlewareStack.use(oCe(this.config)),this.middlewareStack.use(bPe(this.config)),this.middlewareStack.use(q2e(this.config)),this.middlewareStack.use(KAe(this.config)),this.middlewareStack.use(rPe(this.config)),this.middlewareStack.use(sPe(this.config))}destroy(){super.destroy()}}function SIe(e){return t=>async r=>{const n={...r.input},a=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const l of a){const c=n[l.target];if(c){let o;typeof c=="string"?TIe(c,e)?o=e.base64Decoder(c):(o=e.utf8Decoder(c),n[l.target]=e.base64Encoder(o)):(o=ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c),n[l.target]=e.base64Encoder(o));const g=new e.md5;g.update(o),n[l.hash]=e.base64Encoder(await g.digest())}}return t({...r,input:n})}}const EIe={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},CIe=e=>({applyToStack:t=>{t.add(SIe(e),EIe)}});function TIe(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}class AIe extends yC.classBuilder().ep({...IL,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,a){return[uL(n,this.serialize,this.deserialize),EL(n,t.getEndpointParameterInstructions()),xL(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(AMe).de(MMe).build(){}class PIe extends yC.classBuilder().ep({...IL,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,a){return[uL(n,this.serialize,this.deserialize),EL(n,t.getEndpointParameterInstructions()),AAe(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),VAe(),xL(n),CIe(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(CMe,EMe).ser(PMe).de(OMe).build(){}var Uq={};const qq=new wIe({region:"us-east-1",credentials:{accessKeyId:Uq.AWS_KEY,secretAccessKey:Uq.AWS_SECRET}});console.log(void 0);const Vq="napkin-ratings",RIe={getList:async e=>{var n;const r=((n=(await qq.send(new AIe({Bucket:Vq,Prefix:`${e}/`}))).Contents)==null?void 0:n.map(a=>({id:a.Key,key:a.Key})))??[];return{data:r,total:r.length}},create:async(e,{data:t})=>{const r=`${e}/${Date.now()}.json`;return await qq.send(new PIe({Bucket:Vq,Key:r,Body:JSON.stringify(t),ContentType:"application/json"})),{data:{id:r,...t}}},getOne:async()=>Promise.reject("Not implemented"),getMany:async()=>Promise.reject("Not implemented"),getManyReference:async()=>Promise.reject("Not implemented"),update:async()=>Promise.reject("Not implemented"),updateMany:async()=>Promise.reject("Not implemented"),delete:async()=>Promise.reject("Not implemented"),deleteMany:async()=>Promise.reject("Not implemented")};function MIe(){return Oe.jsx(B2e,{dataProvider:RIe,basename:"/admin",children:Oe.jsx(Z3,{name:"napkins",list:XEe})})}kX.createRoot(document.getElementById("root")).render(Oe.jsx(S.StrictMode,{children:Oe.jsx(PQ,{children:Oe.jsxs(Ay,{children:[Oe.jsx(Yo,{path:"/",element:Oe.jsxs("div",{className:"app-list",children:[Oe.jsx("h1",{children:"Napkin Ratings"}),Oe.jsx(qQ,{})]})}),Oe.jsx(Yo,{path:"/map",element:Oe.jsx(kJ,{})}),Oe.jsx(Yo,{path:"/admin/*",element:Oe.jsx(MIe,{})})]})})}));
